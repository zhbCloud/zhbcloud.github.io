<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta http-equiv="Cache-Control" content="no-siteapp"><meta http-equiv="Cache-Control" content="no-transform"><meta name="renderer" content="webkit|ie-comp|ie-stand"><meta name="apple-mobile-web-app-capable" content="H多看源码多读书 - 勤于思考善领悟"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="browsermode" content="application"><meta name="screen-orientation" content="portrait"><meta name="theme-version" content="1.3.0"><meta name="root" content="/"><link rel="dns-prefetch" href="http://example.com"><meta name="keywords" content="Windows,WSL2,Linux"><meta name="description" content="一、WSL2安装与卸载1-1、安装WSL一键安装（推荐）1wsl --install

此命令会自动完成：

启用必要的 Windows 功能
安装最新的 Linux 内核
默认安装 Ubunt..."><meta name="robots" content="all"><meta name="google" content="all"><meta name="googlebot" content="all"><meta name="verify" content="all"><title>WSL2安装与使用指南 | H多看源码多读书 - 勤于思考善领悟</title><link rel="alternate" href="/atom.xml" title="H多看源码多读书 - 勤于思考善领悟" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/bootstrap.min.css?rev=1d1bccdabbf21f3604f985399285f5cf"><link rel="stylesheet" href="/css/font-awesome.min.css?rev=17d35b1ddb5a58cc19379d19f22b9fdc"><link rel="stylesheet" href="/css/style.css?rev=1be479d06cbb29d0c56ae25586ad88bc"><div class="hide"><script type="text/javascript">!function(){var t="https:"===document.location.protocol?"https://":"http://",c=document.createElement("script");c.src="https://s95.cnzz.com/z_stat.php?web_id=1272564536",c.async=!0,document.body.appendChild(c);var e=document.createElement("script");e.src=t+"s19.cnzz.com/z_stat.php?id=1263868967&show=pic1",e.async=!0,document.body.appendChild(e)}()</script></div><meta name="generator" content="Hexo 7.3.0"></head><!--[if lte IE 8]><style>
    html{ font-size: 1em }
</style><![endif]--><!--[if lte IE 9]><div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div><![endif]--><body><header class="main-header" style="background-image:url(https://picgo-2024.oss-cn-beijing.aliyuncs.com/img/banner.webp)"><div class="main-header-box"><a class="header-avatar" href="/" title="ZHB"><img src="/img/avatar.webp" alt="logo头像" class="img-responsive center-block"></a><div class="branding"><img src="/img/branding.png" alt="Snippet 博客主题" class="img-responsive center-block"></div></div></header><nav class="main-navigation"><div class="container"><div class="row"><div class="col-sm-12"><div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav"><span class="sr-only"></span><i class="fa fa-bars"></i></span> <a class="navbar-brand" href="http://example.com">H多看源码多读书 - 勤于思考善领悟</a></div><div class="collapse navbar-collapse" id="main-menu"><ul class="menu"><li role="presentation" class="text-center"><a href="/"><i class="fa"></i> 首页</a></li><li role="presentation" class="text-center"><a href="/categories/"><i class="fa"></i> 分类</a></li><li role="presentation" class="text-center"><a href="/tags/"><i class="fa"></i> 标签</a></li><li role="presentation" class="text-center"><a href="/archives/"><i class="fa"></i> 时间轴</a></li><li role="presentation" class="text-center"><a href="/about/"><i class="fa"></i> 关于</a></li></ul></div></div></div></div></nav><section class="content-wrap"><div class="container"><div class="row"><main class="col-md-9 main-content m-post"><p id="process"></p><article class="post"><div class="post-head"><h1 id="WSL2安装与使用指南">WSL2安装与使用指南</h1><div class="post-meta"><span class="categories-meta fa-wrap"><i class="fa fa-folder-open-o"></i> <a class="category-link" href="/categories/%E5%90%8E%E7%AB%AF%E4%B8%8E%E8%BF%90%E7%BB%B4/">后端与运维</a></span><span class="fa-wrap"><i class="fa fa-tags"></i> <span class="tags-meta"><a class="tag-none-link" href="/tags/Linux/" rel="tag">Linux</a> <a class="tag-none-link" href="/tags/WSL2/" rel="tag">WSL2</a> <a class="tag-none-link" href="/tags/Windows/" rel="tag">Windows</a></span></span><span class="fa-wrap"><i class="fa fa-clock-o"></i> <span class="date-meta">2026/02/23</span></span></div></div><div class="post-body post-content"><h3 id="一、WSL2安装与卸载"><a href="#一、WSL2安装与卸载" class="headerlink" title="一、WSL2安装与卸载"></a><strong><font color="red">一、WSL2安装与卸载</font></strong></h3><h4 id="1-1、安装WSL"><a href="#1-1、安装WSL" class="headerlink" title="1-1、安装WSL"></a><strong><font color="#10c300">1-1、安装WSL</font></strong></h4><h5 id="一键安装（推荐）"><a href="#一键安装（推荐）" class="headerlink" title="一键安装（推荐）"></a><strong><font color="cornflowerblue">一键安装（推荐）</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --install</span><br></pre></td></tr></table></figure><p>此命令会自动完成：</p><ul><li>启用必要的 Windows 功能</li><li>安装最新的 Linux 内核</li><li>默认安装 Ubuntu 发行版</li></ul><p><strong>安装完成后需要重启计算机</strong></p><p><img src="https://picgo-2024.oss-cn-beijing.aliyuncs.com/img/image-20260120235112242.png" alt="image-20260120235112242"></p><br><h4 id="1-2、WSL常用命令"><a href="#1-2、WSL常用命令" class="headerlink" title="1-2、WSL常用命令"></a><strong><font color="#10c300">1-2、WSL常用命令</font></strong></h4><table><thead><tr><th align="left">命令</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left"><code>wsl</code></td><td align="left">启动默认发行版</td></tr><tr><td align="left"><code>wsl --list --online</code></td><td align="left">查看可安装的发行版</td></tr><tr><td align="left"><code>wsl --list</code></td><td align="left">查看已安装的发行版名称</td></tr><tr><td align="left"><code>wsl --list --verbose</code></td><td align="left">显示已安装的发行版名称、运行状态和WSL版本</td></tr><tr><td align="left"><code>wsl -d Ubuntu-22.04</code></td><td align="left">启动指定发行版</td></tr><tr><td align="left"><code>wsl --shutdown</code></td><td align="left">关闭所有正在运行的发行版</td></tr><tr><td align="left"><code>wsl --update</code></td><td align="left">更新 WSL</td></tr><tr><td align="left"><code>wsl --version</code></td><td align="left">查看 WSL 版本</td></tr><tr><td align="left"><code>wsl --set-default Ubuntu-22.04</code></td><td align="left">设置默认发行版</td></tr><tr><td align="left"><code>wsl --set-version Ubuntu-22.04 2</code></td><td align="left">转换发行版版本（WSL 1 ↔ WSL 2）</td></tr></tbody></table><br><h4 id="1-3、卸载WSL2"><a href="#1-3、卸载WSL2" class="headerlink" title="1-3、卸载WSL2"></a><strong><font color="#10c300">1-3、卸载WSL2</font></strong></h4><h5 id="方法1：卸载特定-Linux-发行版（推荐）"><a href="#方法1：卸载特定-Linux-发行版（推荐）" class="headerlink" title="方法1：卸载特定 Linux 发行版（推荐）"></a><strong><font color="cornflowerblue">方法1：卸载特定 Linux 发行版（推荐）</font></strong></h5><p>在 **PowerShell（管理员）**中执行：</p><p><strong>1️⃣ 查看已安装的发行版</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wsl <span class="literal">--list</span> <span class="literal">--verbose</span></span><br><span class="line">或</span><br><span class="line">wsl <span class="literal">-l</span> <span class="literal">-v</span>       </span><br></pre></td></tr></table></figure><p><strong>2️⃣ 注销并卸载（特定发行版）</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl <span class="literal">--unregister</span> Ubuntu</span><br></pre></td></tr></table></figure><p>根据你安装的具体发行版名称，例如：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wsl <span class="literal">--unregister</span> Ubuntu<span class="literal">-22</span>.<span class="number">04</span></span><br><span class="line">wsl <span class="literal">--unregister</span> Debian</span><br></pre></td></tr></table></figure><p>⚠️ <strong>注意</strong>：这会删除该发行版的所有数据！</p><br><h5 id="方法2：通过-Windows-设置卸载"><a href="#方法2：通过-Windows-设置卸载" class="headerlink" title="方法2：通过 Windows 设置卸载"></a><strong><font color="cornflowerblue">方法2：通过 Windows 设置卸载</font></strong></h5><p><strong>卸载 Linux 发行版：</strong></p><ol><li>打开 <strong>设置</strong> → <strong>应用</strong> → <strong>应用和功能</strong></li><li>搜索 <code>Ubuntu</code>（或其他发行版名称）</li><li>点击 <strong>卸载</strong></li></ol><p><strong>禁用 WSL 功能：</strong></p><ol><li>打开 <strong>控制面板</strong> → <strong>程序</strong> → <strong>启用或关闭 Windows 功能</strong></li><li>取消勾选：<ul><li>☑ <strong>适用于 Linux 的 Windows 子系统</strong></li><li>☑ <strong>虚拟机平台</strong></li></ul></li><li>点击 <strong>确定</strong></li><li>重启计算机</li></ol><br><h5 id="验证卸载"><a href="#验证卸载" class="headerlink" title="验证卸载"></a><strong><font color="cornflowerblue">验证卸载</font></strong></h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 检查是否还有发行版</span></span><br><span class="line">wsl <span class="literal">--list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看 WSL 版本</span></span><br><span class="line">wsl <span class="literal">--version</span></span><br></pre></td></tr></table></figure><p>如果显示为空或报错，说明卸载成功。</p><br><h4 id="1-4、注意事项"><a href="#1-4、注意事项" class="headerlink" title="1-4、注意事项"></a><strong><font color="#10c300">1-4、注意事项</font></strong></h4><ul><li>安装 WSL 需要管理员权限</li><li>卸载发行版会<strong>完全删除</strong>所有数据，卸载前请备份</li><li>WSL 2 性能更好，推荐使用</li></ul><br><h4 id="1-4、常见问题排查"><a href="#1-4、常见问题排查" class="headerlink" title="1-4、常见问题排查"></a><strong><font color="#10c300">1-4、常见问题排查</font></strong></h4><h5 id="❌-问题1：计算机不支持WSL2"><a href="#❌-问题1：计算机不支持WSL2" class="headerlink" title="❌ 问题1：计算机不支持WSL2"></a><strong><font color="cornflowerblue">❌ 问题1：计算机不支持WSL2</font></strong></h5><p><img src="https://picgo-2024.oss-cn-beijing.aliyuncs.com/img/image-20260123111656607.png" alt="image-20260123111656607"></p><p>在powershell下输入wsl -l -v 也不显示版本</p><p>首先确保Hyper-v和适用于linux的windows子系统以及虚拟机平台是开启的</p><p><img src="https://picgo-2024.oss-cn-beijing.aliyuncs.com/img/image-20260123111934330.png" alt="image-20260123111934330"></p><p>如果这些都没问题，在powershell（管理员模式）下输入如下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bcdedit /enum | findstr -i hypervisorlaunchtype</span><br></pre></td></tr></table></figure><p>应该会显示off，那就说明有问题，那就再输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bcdedit /set hypervisorlaunchtype Auto</span><br></pre></td></tr></table></figure><p>即可解决</p><br><hr><h3 id="二、WSL2基础操作"><a href="#二、WSL2基础操作" class="headerlink" title="二、WSL2基础操作"></a><strong><font color="red">二、WSL2基础操作</font></strong></h3><h4 id="2-1、查看IP地址"><a href="#2-1、查看IP地址" class="headerlink" title="2-1、查看IP地址"></a><strong><font color="#10c300">2-1、查看IP地址</font></strong></h4><h5 id="方法一：使用-ip-命令"><a href="#方法一：使用-ip-命令" class="headerlink" title="方法一：使用 ip 命令"></a><strong><font color="cornflowerblue">方法一：使用 <code>ip</code> 命令</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ip addr show eth0</span><br><span class="line">简写</span><br><span class="line">ip a</span><br></pre></td></tr></table></figure><br><h5 id="方法二：使用-hostname-命令（推荐）"><a href="#方法二：使用-hostname-命令（推荐）" class="headerlink" title="方法二：使用 hostname 命令（推荐）"></a><strong><font color="cornflowerblue">方法二：使用 <code>hostname</code> 命令（推荐）</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostname -I</span><br></pre></td></tr></table></figure><br><h5 id="方法三：使用-ifconfig-命令"><a href="#方法三：使用-ifconfig-命令" class="headerlink" title="方法三：使用 ifconfig 命令"></a><strong><font color="cornflowerblue">方法三：使用 <code>ifconfig</code> 命令</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig eth0</span><br></pre></td></tr></table></figure><p><em>注意：此方法需要先安装 <code>net-tools</code></em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install net-tools</span><br></pre></td></tr></table></figure><p><strong>卸载某个软件包：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 卸载指定软件包，但保留配置文件和数据文件</span></span><br><span class="line"><span class="built_in">sudo</span> apt remove net-tools</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将配置文件一起删除，彻底清除，之后 `ifconfig` 命令就完全不能使用了</span></span><br><span class="line"><span class="built_in">sudo</span> apt purge net-tools</span><br></pre></td></tr></table></figure><br><h5 id="关于-IP-地址说明"><a href="#关于-IP-地址说明" class="headerlink" title="关于 IP 地址说明"></a><strong><font color="cornflowerblue">关于 IP 地址说明</font></strong></h5><ul><li><strong>eth0</strong>: WSL2 虚拟网络接口，通常在 <code>172.x.x.x</code> 段</li><li><strong>lo</strong>: 本地回环地址 <code>127.0.0.1</code></li></ul><p><strong>示例输出：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hostname -I</span><br><span class="line">172.24.240.100</span><br></pre></td></tr></table></figure><p>这个 IP 地址可以用于从 Windows 访问 WSL2 中的服务</p><br><h4 id="2-2、查看用户信息"><a href="#2-2、查看用户信息" class="headerlink" title="2-2、查看用户信息"></a><strong><font color="#10c300">2-2、查看用户信息</font></strong></h4><h5 id="查看用户信息"><a href="#查看用户信息" class="headerlink" title="查看用户信息"></a><strong><font color="cornflowerblue">查看用户信息</font></strong></h5><p><strong>查看当前用户</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">whoami</span></span><br></pre></td></tr></table></figure><p><strong>查看所有用户</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/passwd</span><br></pre></td></tr></table></figure><p><strong>查看所有普通用户（UID &gt;&#x3D; 1000）</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk -F: <span class="string">&#x27;$3 &gt;= 1000 &#123;print $1&#125;&#x27;</span> /etc/passwd</span><br></pre></td></tr></table></figure><p><strong>查看当前登录用户的详细信息</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">id</span></span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line">finger $(<span class="built_in">whoami</span>)  <span class="comment"># 需要安装 finger</span></span><br></pre></td></tr></table></figure><br><h5 id="密码管理"><a href="#密码管理" class="headerlink" title="密码管理"></a><strong><font color="cornflowerblue">密码管理</font></strong></h5><p><strong>⚠️ 重要说明</strong><br><strong>无法直接查看密码</strong>，因为密码是加密存储的，在 <code>/etc/shadow</code> 文件中</p><p><strong>查看密码状态</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> passwd -S username</span><br></pre></td></tr></table></figure><p>会显示状态：</p><ul><li><code>P</code> &#x3D; 已设置密码</li><li><code>NP</code> &#x3D; 未设置密码</li><li><code>L</code> &#x3D; 账户被锁定</li></ul><br><h5 id="设置-修改密码"><a href="#设置-修改密码" class="headerlink" title="设置&#x2F;修改密码"></a><strong><font color="cornflowerblue">设置&#x2F;修改密码</font></strong></h5><p><strong>修改当前用户密码</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure><p><strong>修改其他用户密码（需要 root 权限）</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> passwd username</span><br></pre></td></tr></table></figure><p><strong>从 Windows 重置 WSL 用户密码</strong></p><p>如果忘记了密码，可以在 <strong>PowerShell</strong> 或 <strong>CMD</strong> 中执行：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 以 root 为默认用户</span></span><br><span class="line">wsl <span class="literal">-u</span> root</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 在 WSL 中重置密码</span></span><br><span class="line">passwd your_username</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 退出并恢复默认用户（可选）</span></span><br><span class="line"><span class="comment"># 编辑 /etc/wsl.conf 来使用默认用户</span></span><br><span class="line"><span class="keyword">exit</span></span><br></pre></td></tr></table></figure><p>或者一条命令：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl <span class="literal">-u</span> root passwd your_username</span><br></pre></td></tr></table></figure><br><h5 id="查看-sudo-权限用户"><a href="#查看-sudo-权限用户" class="headerlink" title="查看 sudo 权限用户"></a><strong><font color="cornflowerblue">查看 sudo 权限用户</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 sudo 组成员</span></span><br><span class="line">getent group <span class="built_in">sudo</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line">grep <span class="string">&#x27;^sudo:&#x27;</span> /etc/group</span><br></pre></td></tr></table></figure><br><h5 id="管理用户和权限"><a href="#管理用户和权限" class="headerlink" title="管理用户和权限"></a><strong><font color="cornflowerblue">管理用户和权限</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建新用户</span></span><br><span class="line"><span class="built_in">sudo</span> adduser newuser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除用户</span></span><br><span class="line"><span class="built_in">sudo</span> deluser username</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将用户添加到 sudo 组</span></span><br><span class="line"><span class="built_in">sudo</span> usermod -aG <span class="built_in">sudo</span> username</span><br></pre></td></tr></table></figure><p><strong>提示</strong>：WSL2 首次安装时需要你创建用户和密码，如果忘记需要重置用户账号。</p><br><hr><h3 id="三、使用FinalShell连接WSL2"><a href="#三、使用FinalShell连接WSL2" class="headerlink" title="三、使用FinalShell连接WSL2"></a><strong><font color="red">三、使用FinalShell连接WSL2</font></strong></h3><h4 id="3-1、连接原理"><a href="#3-1、连接原理" class="headerlink" title="3-1、连接原理"></a><strong><font color="#10c300">3-1、连接原理</font></strong></h4><p>WSL2 默认<strong>没有开启 SSH 服务</strong>，需要手动安装和配置。</p><br><h4 id="3-2、安装和配置SSH服务"><a href="#3-2、安装和配置SSH服务" class="headerlink" title="3-2、安装和配置SSH服务"></a><strong><font color="#10c300">3-2、安装和配置SSH服务</font></strong></h4><h5 id="1️⃣-在-WSL2-中安装-SSH-服务"><a href="#1️⃣-在-WSL2-中安装-SSH-服务" class="headerlink" title="1️⃣ 在 WSL2 中安装 SSH 服务"></a><strong><font color="cornflowerblue">1️⃣ 在 WSL2 中安装 SSH 服务</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新软件包列表</span></span><br><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装 OpenSSH 服务器</span></span><br><span class="line"><span class="built_in">sudo</span> apt install openssh-server -y</span><br></pre></td></tr></table></figure><br><h5 id="2️⃣-配置-SSH-服务"><a href="#2️⃣-配置-SSH-服务" class="headerlink" title="2️⃣ 配置 SSH 服务"></a><strong><font color="cornflowerblue">2️⃣ 配置 SSH 服务</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑 SSH 配置文件</span></span><br><span class="line"><span class="built_in">sudo</span> nano /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p><strong>修改以下配置项</strong>（使用 <code>Ctrl+W</code> 搜索）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Port 22                          <span class="comment"># 确认端口</span></span><br><span class="line">PermitRootLogin no               <span class="comment"># 禁止 root 登录（推荐）</span></span><br><span class="line">PasswordAuthentication <span class="built_in">yes</span>       <span class="comment"># 启用密码认证</span></span><br></pre></td></tr></table></figure><p><strong>保存</strong>：<br>按 <code>Ctrl + O</code>(屏幕底部会提示 <code>File Name to Write:</code>)<br>然后按 <strong>Enter</strong> 确认保存。</p><p><strong>退出</strong>：<br>按 <code>Ctrl + X</code>。</p><br><h5 id="3️⃣-启动-SSH-服务"><a href="#3️⃣-启动-SSH-服务" class="headerlink" title="3️⃣ 启动 SSH 服务"></a><strong><font color="cornflowerblue">3️⃣ 启动 SSH 服务</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动 SSH 服务</span></span><br><span class="line"><span class="built_in">sudo</span> service ssh start</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查 SSH 服务状态</span></span><br><span class="line"><span class="built_in">sudo</span> service ssh status</span><br></pre></td></tr></table></figure><p>如果看到以下输出，说明 SSH 服务已成功启动：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Active: active (running) since Sat 2026-01-17 19:50:01 CST; 4s ago</span><br></pre></td></tr></table></figure><p><strong>状态是 <code>active (running)</code></strong>，说明服务正在运行。</p><p>关键信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Server listening on 0.0.0.0 port 22.</span><br><span class="line">Server listening on :: port 22.</span><br></pre></td></tr></table></figure><p><strong>SSH 服务正在监听 22 端口</strong>，可以接受连接了。</p><br><h5 id="4️⃣-设置-SSH-自动启动（可选）"><a href="#4️⃣-设置-SSH-自动启动（可选）" class="headerlink" title="4️⃣ 设置 SSH 自动启动（可选）"></a><strong><font color="cornflowerblue">4️⃣ 设置 SSH 自动启动（可选）</font></strong></h5><p>每次启动 WSL2 时自动启动 SSH：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑或创建 /etc/wsl.conf</span></span><br><span class="line"><span class="built_in">sudo</span> nano /etc/wsl.conf</span><br></pre></td></tr></table></figure><p>添加以下内容：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[boot]</span></span><br><span class="line"><span class="attr">command</span>=<span class="string">&quot;service ssh start&quot;</span></span><br></pre></td></tr></table></figure><br><h5 id="5️⃣-获取-WSL2-的-IP-地址"><a href="#5️⃣-获取-WSL2-的-IP-地址" class="headerlink" title="5️⃣ 获取 WSL2 的 IP 地址"></a><strong><font color="cornflowerblue">5️⃣ 获取 WSL2 的 IP 地址</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostname -I</span><br></pre></td></tr></table></figure><p>记录这个 IP，例如：<code>172.24.240.100</code></p><br><h5 id="6️⃣-在-FinalShell-中创建连接"><a href="#6️⃣-在-FinalShell-中创建连接" class="headerlink" title="6️⃣ 在 FinalShell 中创建连接"></a><strong><font color="cornflowerblue">6️⃣ 在 FinalShell 中创建连接</font></strong></h5><ol><li><p><strong>打开 FinalShell</strong></p></li><li><p><strong>新建连接</strong> → 选择 <strong>SSH</strong></p></li><li><p>填写信息：</p><ul><li><strong>名称</strong>：WSL2-Ubuntu（自定义）</li><li><strong>主机</strong>：<code>172.x.x.x</code>（你的 WSL2 IP）</li><li><strong>端口</strong>：<code>22</code></li><li><strong>认证方式</strong>：密码</li><li><strong>用户名</strong>：你的 WSL2 用户名</li><li><strong>密码</strong>：你的 WSL2 密码</li></ul></li><li><p><strong>保存并连接</strong></p></li></ol><br><h4 id="3-3、常见问题排查"><a href="#3-3、常见问题排查" class="headerlink" title="3-3、常见问题排查"></a><strong><font color="#10c300">3-3、常见问题排查</font></strong></h4><h5 id="❌-问题1：连接超时"><a href="#❌-问题1：连接超时" class="headerlink" title="❌ 问题1：连接超时"></a><strong><font color="cornflowerblue">❌ 问题1：连接超时</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 检查 SSH 是否运行</span></span><br><span class="line"><span class="built_in">sudo</span> service ssh status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果没有运行，启动服务</span></span><br><span class="line"><span class="built_in">sudo</span> service ssh start</span><br></pre></td></tr></table></figure><br><h5 id="❌-问题2：端口被占用"><a href="#❌-问题2：端口被占用" class="headerlink" title="❌ 问题2：端口被占用"></a><strong><font color="cornflowerblue">❌ 问题2：端口被占用</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 检查 22 端口是否占用</span></span><br><span class="line"><span class="built_in">sudo</span> netstat -tlnp | grep :22</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果使用其他端口，如 2222</span></span><br><span class="line"><span class="built_in">sudo</span> nano /etc/ssh/sshd_config</span><br><span class="line"><span class="comment"># 修改 Port 为 2222</span></span><br><span class="line"><span class="built_in">sudo</span> service ssh restart</span><br></pre></td></tr></table></figure><br><h5 id="❌-问题3：防火墙阻拦"><a href="#❌-问题3：防火墙阻拦" class="headerlink" title="❌ 问题3：防火墙阻拦"></a><strong><font color="cornflowerblue">❌ 问题3：防火墙阻拦</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看防火墙状态</span></span><br><span class="line"><span class="built_in">sudo</span> ufw status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果已启用，允许 SSH</span></span><br><span class="line"><span class="built_in">sudo</span> ufw allow 22/tcp</span><br></pre></td></tr></table></figure><br><h5 id="❌-问题4：IP-地址变化"><a href="#❌-问题4：IP-地址变化" class="headerlink" title="❌ 问题4：IP 地址变化"></a><strong><font color="cornflowerblue">❌ 问题4：IP 地址变化</font></strong></h5><p><strong>问题原因：</strong></p><p>WSL2 使用虚拟网络适配器，每次重启 WSL2 或 Windows 时，WSL2 的 IP 地址可能会发生变化（例如从 <code>172.17.114.127</code> 变成 <code>172.24.240.100</code>）。这会导致 FinalShell 中保存的连接配置失效，需要频繁更新 IP 地址。</p><p><strong>解决方案A：使用 localhost + 端口转发（推荐）</strong></p><p>通过 Windows 的端口转发功能，将 Windows 的某个端口映射到 WSL2 的 SSH 端口，这样无论 WSL2 的 IP 如何变化，都可以通过 <code>localhost</code> 连接。</p><p><strong>步骤：</strong></p><ol><li><strong>获取当前 WSL2 的 IP 地址</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在 WSL2 中执行</span></span><br><span class="line">hostname -I</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>在 Windows PowerShell（管理员）中配置端口转发</strong></li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将 Windows 的 2222 端口转发到 WSL2 的 22 端口</span></span><br><span class="line"><span class="comment"># 注意：需要替换 172.x.x.x 为实际的 WSL2 IP</span></span><br><span class="line">netsh interface portproxy add v4tov4 listenport=<span class="number">2222</span> listenaddress=<span class="number">0.0</span>.<span class="number">0.0</span> connectport=<span class="number">22</span> connectaddress=<span class="number">172</span>.x.x.x</span><br></pre></td></tr></table></figure><ol start="3"><li><strong>在 FinalShell 中使用固定地址连接</strong><ul><li><strong>主机</strong>：<code>localhost</code> 或 <code>127.0.0.1</code></li><li><strong>端口</strong>：<code>2222</code></li></ul></li></ol><p>**⚠️ 注意：**每次 WSL2 IP 变化后，需要重新执行端口转发命令。可以创建一个 PowerShell 脚本自动获取 IP 并配置转发。</p><p><strong>解决方案B：使用 Windows Terminal（最简单）</strong></p><p>Windows Terminal 是 Windows 10&#x2F;11 自带的终端工具，可以直接启动 WSL2，无需 SSH 连接。</p><p><strong>优点：</strong></p><ul><li>✅ 无需配置 SSH</li><li>✅ 无需担心 IP 变化</li><li>✅ 启动速度快</li><li>✅ 集成度高</li></ul><p><strong>使用方法：</strong></p><ol><li>打开 <strong>Windows Terminal</strong></li><li>点击下拉箭头，选择 <strong>Ubuntu</strong>（或你的发行版）</li><li>直接使用，就像使用 SSH 客户端一样</li></ol><p><strong>解决方案C：配置静态 IP（高级）</strong></p><p>可以配置 WSL2 使用固定 IP，但需要修改 Windows 和 WSL2 的网络配置，比较复杂，不推荐普通用户使用。</p><br><h5 id="❌-问题5：密码认证失败"><a href="#❌-问题5：密码认证失败" class="headerlink" title="❌ 问题5：密码认证失败"></a><strong><font color="cornflowerblue">❌ 问题5：密码认证失败</font></strong></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 确认密码认证已启用</span></span><br><span class="line">grep <span class="string">&quot;PasswordAuthentication&quot;</span> /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重置密码</span></span><br><span class="line">passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启 SSH 服务</span></span><br><span class="line"><span class="built_in">sudo</span> service ssh restart</span><br></pre></td></tr></table></figure><br><h4 id="3-4、快速测试连接"><a href="#3-4、快速测试连接" class="headerlink" title="3-4、快速测试连接"></a><strong><font color="#10c300">3-4、快速测试连接</font></strong></h4><p>在 <strong>Windows CMD</strong> 或 <strong>PowerShell</strong> 中测试：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh your_username@172.x.x.x</span><br></pre></td></tr></table></figure><p>如果能够连接，说明 SSH 配置正确，FinalShell 也应该能连接。</p><p><strong>SSH 连接格式说明：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh 用户名@IP地址</span><br><span class="line">ssh 用户名@IP地址 -p 端口号</span><br></pre></td></tr></table></figure><p>示例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh zheng_hb@172.17.114.127</span><br><span class="line">ssh zheng_hb@172.17.114.127 -p 22</span><br><span class="line">ssh root@192.168.1.100 -p 2222</span><br></pre></td></tr></table></figure><br><hr><h3 id="四、关于IP地址变化的详细说明"><a href="#四、关于IP地址变化的详细说明" class="headerlink" title="四、关于IP地址变化的详细说明"></a><strong><font color="red">四、关于IP地址变化的详细说明</font></strong></h3><h4 id="4-1、为什么WSL2的IP地址会变化？"><a href="#4-1、为什么WSL2的IP地址会变化？" class="headerlink" title="4-1、为什么WSL2的IP地址会变化？"></a><strong><font color="#10c300">4-1、为什么WSL2的IP地址会变化？</font></strong></h4><p>WSL2 使用虚拟网络适配器（Virtual Network Adapter）来创建独立的网络环境。每次：</p><ul><li>重启 Windows</li><li>重启 WSL2（<code>wsl --shutdown</code> 后重新启动）</li><li>Windows 网络适配器重置</li></ul><p>WSL2 的虚拟网络可能会重新分配 IP 地址，导致 IP 地址发生变化。</p><p><strong>示例：</strong></p><ul><li>第一次启动：<code>172.17.114.127</code></li><li>重启后：<code>172.24.240.100</code></li><li>再次重启：<code>172.18.56.89</code></li></ul><br><h4 id="4-2、IP地址变化的影响"><a href="#4-2、IP地址变化的影响" class="headerlink" title="4-2、IP地址变化的影响"></a><strong><font color="#10c300">4-2、IP地址变化的影响</font></strong></h4><p><strong>影响场景：</strong></p><ul><li>❌ FinalShell 中保存的连接配置失效</li><li>❌ 需要频繁更新 IP 地址</li><li>❌ 如果使用 IP 地址访问 WSL2 中的服务（如 Web 服务器），需要重新配置</li></ul><p><strong>不受影响：</strong></p><ul><li>✅ Windows Terminal 直接启动 WSL2（不依赖 IP）</li><li>✅ 在 Windows 中通过 <code>localhost</code> 访问 WSL2 服务（Windows 会自动处理）</li></ul><br><h4 id="4-3、推荐解决方案对比"><a href="#4-3、推荐解决方案对比" class="headerlink" title="4-3、推荐解决方案对比"></a><strong><font color="#10c300">4-3、推荐解决方案对比</font></strong></h4><table><thead><tr><th align="left">方案</th><th align="left">优点</th><th align="left">缺点</th><th align="left">适用场景</th></tr></thead><tbody><tr><td align="left"><strong>Windows Terminal</strong></td><td align="left">无需配置、稳定可靠、启动快</td><td align="left">界面相对简单</td><td align="left">日常开发使用（最推荐）</td></tr><tr><td align="left"><strong>端口转发</strong></td><td align="left">可以使用 FinalShell 等专业工具</td><td align="left">需要手动配置、IP变化后需重新配置</td><td align="left">需要 FinalShell 的高级功能</td></tr><tr><td align="left"><strong>静态IP</strong></td><td align="left">IP 固定不变</td><td align="left">配置复杂、容易出错</td><td align="left">特殊需求场景</td></tr></tbody></table><br><h4 id="4-4、自动端口转发脚本（可选）"><a href="#4-4、自动端口转发脚本（可选）" class="headerlink" title="4-4、自动端口转发脚本（可选）"></a><strong><font color="#10c300">4-4、自动端口转发脚本（可选）</font></strong></h4><p>如果你坚持使用 FinalShell，可以创建一个 PowerShell 脚本自动配置端口转发：</p><p><strong>创建脚本 <code>wsl-port-forward.ps1</code>：</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取 WSL2 IP 地址</span></span><br><span class="line"><span class="variable">$wslIp</span> = (wsl hostname <span class="literal">-I</span>).Trim()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除旧的端口转发规则</span></span><br><span class="line">netsh interface portproxy delete v4tov4 listenport=<span class="number">2222</span> listenaddress=<span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加新的端口转发规则</span></span><br><span class="line">netsh interface portproxy add v4tov4 listenport=<span class="number">2222</span> listenaddress=<span class="number">0.0</span>.<span class="number">0.0</span> connectport=<span class="number">22</span> connectaddress=<span class="variable">$wslIp</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;端口转发已配置: localhost:2222 -&gt; <span class="variable">$wslIp:22</span>&quot;</span></span><br></pre></td></tr></table></figure><p><strong>使用方法：</strong><br>每次启动 WSL2 后，以管理员身份运行此脚本即可。</p><br><hr><h3 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a><strong><font color="red">五、总结</font></strong></h3><p>本指南涵盖了 WSL2 的安装、卸载、基础操作和远程连接配置，帮助你快速上手使用 WSL2 开发环境。</p><p><strong>主要功能：</strong></p><ul><li>✅ WSL2 安装与卸载</li><li>✅ IP 地址查看</li><li>✅ 用户管理</li><li>✅ SSH 服务配置</li><li>✅ FinalShell 远程连接</li></ul><p><strong>注意事项：</strong></p><ul><li>安装和卸载操作需要管理员权限</li><li>卸载发行版会删除所有数据，请提前备份</li><li><strong>WSL2 的 IP 地址可能会变化</strong>：<ul><li><strong>推荐方案</strong>：直接使用 <strong>Windows Terminal</strong>，无需配置，稳定可靠</li><li><strong>备选方案</strong>：使用端口转发 + FinalShell，但需要处理 IP 变化问题</li></ul></li></ul></div><div class="post-footer"><div>转载声明： 商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">ZHB</a></div><div></div></div></article><div class="article-nav prev-next-wrap clearfix"><a href="/posts/w41d92f5.html" class="pre-post btn btn-default" title="JavaScript 模块化与 Webpack 5：从原理剖析到工程化实战"><i class="fa fa-angle-left fa-fw"></i> <span class="hidden-lg">上一篇</span> <span class="hidden-xs">JavaScript 模块化与 Webpack 5：从原理剖析到工程化实战</span></a> <a href="/posts/hyper-v-install.html" class="next-post btn btn-default" title="Hyper-V虚拟机详细安装教程"><span class="hidden-lg">下一篇</span> <span class="hidden-xs">Hyper-V虚拟机详细安装教程</span><i class="fa fa-angle-right fa-fw"></i></a></div><div id="comments"><div class="utteranc"><script src="https://utteranc.es/client.js" repo="shenliyang/snippet-comment" issue-term="pathname" issue-number="" theme="github-light" label="" crossorigin="anonymous" async></script></div></div></main><aside id="article-toc" role="navigation" class="col-md-3"><div class="widget"><h3 class="title">文章目录</h3><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81WSL2%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD"><span class="toc-text">一、WSL2安装与卸载</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1%E3%80%81%E5%AE%89%E8%A3%85WSL"><span class="toc-text">1-1、安装WSL</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-text">一键安装（推荐）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2%E3%80%81WSL%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">1-2、WSL常用命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3%E3%80%81%E5%8D%B8%E8%BD%BDWSL2"><span class="toc-text">1-3、卸载WSL2</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%951%EF%BC%9A%E5%8D%B8%E8%BD%BD%E7%89%B9%E5%AE%9A-Linux-%E5%8F%91%E8%A1%8C%E7%89%88%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-text">方法1：卸载特定 Linux 发行版（推荐）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%952%EF%BC%9A%E9%80%9A%E8%BF%87-Windows-%E8%AE%BE%E7%BD%AE%E5%8D%B8%E8%BD%BD"><span class="toc-text">方法2：通过 Windows 设置卸载</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E5%8D%B8%E8%BD%BD"><span class="toc-text">验证卸载</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4%E3%80%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">1-4、注意事项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4%E3%80%81%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5"><span class="toc-text">1-4、常见问题排查</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%9D%8C-%E9%97%AE%E9%A2%981%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8D%E6%94%AF%E6%8C%81WSL2"><span class="toc-text">❌ 问题1：计算机不支持WSL2</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81WSL2%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C"><span class="toc-text">二、WSL2基础操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1%E3%80%81%E6%9F%A5%E7%9C%8BIP%E5%9C%B0%E5%9D%80"><span class="toc-text">2-1、查看IP地址</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E4%BD%BF%E7%94%A8-ip-%E5%91%BD%E4%BB%A4"><span class="toc-text">方法一：使用 ip 命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E4%BD%BF%E7%94%A8-hostname-%E5%91%BD%E4%BB%A4%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-text">方法二：使用 hostname 命令（推荐）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%89%EF%BC%9A%E4%BD%BF%E7%94%A8-ifconfig-%E5%91%BD%E4%BB%A4"><span class="toc-text">方法三：使用 ifconfig 命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E-IP-%E5%9C%B0%E5%9D%80%E8%AF%B4%E6%98%8E"><span class="toc-text">关于 IP 地址说明</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2%E3%80%81%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">2-2、查看用户信息</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">查看用户信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86"><span class="toc-text">密码管理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE-%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81"><span class="toc-text">设置&#x2F;修改密码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B-sudo-%E6%9D%83%E9%99%90%E7%94%A8%E6%88%B7"><span class="toc-text">查看 sudo 权限用户</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%A1%E7%90%86%E7%94%A8%E6%88%B7%E5%92%8C%E6%9D%83%E9%99%90"><span class="toc-text">管理用户和权限</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8FinalShell%E8%BF%9E%E6%8E%A5WSL2"><span class="toc-text">三、使用FinalShell连接WSL2</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1%E3%80%81%E8%BF%9E%E6%8E%A5%E5%8E%9F%E7%90%86"><span class="toc-text">3-1、连接原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2%E3%80%81%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AESSH%E6%9C%8D%E5%8A%A1"><span class="toc-text">3-2、安装和配置SSH服务</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%B8%8F%E2%83%A3-%E5%9C%A8-WSL2-%E4%B8%AD%E5%AE%89%E8%A3%85-SSH-%E6%9C%8D%E5%8A%A1"><span class="toc-text">1️⃣ 在 WSL2 中安装 SSH 服务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%B8%8F%E2%83%A3-%E9%85%8D%E7%BD%AE-SSH-%E6%9C%8D%E5%8A%A1"><span class="toc-text">2️⃣ 配置 SSH 服务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%EF%B8%8F%E2%83%A3-%E5%90%AF%E5%8A%A8-SSH-%E6%9C%8D%E5%8A%A1"><span class="toc-text">3️⃣ 启动 SSH 服务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%EF%B8%8F%E2%83%A3-%E8%AE%BE%E7%BD%AE-SSH-%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89"><span class="toc-text">4️⃣ 设置 SSH 自动启动（可选）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%EF%B8%8F%E2%83%A3-%E8%8E%B7%E5%8F%96-WSL2-%E7%9A%84-IP-%E5%9C%B0%E5%9D%80"><span class="toc-text">5️⃣ 获取 WSL2 的 IP 地址</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%EF%B8%8F%E2%83%A3-%E5%9C%A8-FinalShell-%E4%B8%AD%E5%88%9B%E5%BB%BA%E8%BF%9E%E6%8E%A5"><span class="toc-text">6️⃣ 在 FinalShell 中创建连接</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3%E3%80%81%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5"><span class="toc-text">3-3、常见问题排查</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%9D%8C-%E9%97%AE%E9%A2%981%EF%BC%9A%E8%BF%9E%E6%8E%A5%E8%B6%85%E6%97%B6"><span class="toc-text">❌ 问题1：连接超时</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%9D%8C-%E9%97%AE%E9%A2%982%EF%BC%9A%E7%AB%AF%E5%8F%A3%E8%A2%AB%E5%8D%A0%E7%94%A8"><span class="toc-text">❌ 问题2：端口被占用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%9D%8C-%E9%97%AE%E9%A2%983%EF%BC%9A%E9%98%B2%E7%81%AB%E5%A2%99%E9%98%BB%E6%8B%A6"><span class="toc-text">❌ 问题3：防火墙阻拦</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%9D%8C-%E9%97%AE%E9%A2%984%EF%BC%9AIP-%E5%9C%B0%E5%9D%80%E5%8F%98%E5%8C%96"><span class="toc-text">❌ 问题4：IP 地址变化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%9D%8C-%E9%97%AE%E9%A2%985%EF%BC%9A%E5%AF%86%E7%A0%81%E8%AE%A4%E8%AF%81%E5%A4%B1%E8%B4%A5"><span class="toc-text">❌ 问题5：密码认证失败</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4%E3%80%81%E5%BF%AB%E9%80%9F%E6%B5%8B%E8%AF%95%E8%BF%9E%E6%8E%A5"><span class="toc-text">3-4、快速测试连接</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%85%B3%E4%BA%8EIP%E5%9C%B0%E5%9D%80%E5%8F%98%E5%8C%96%E7%9A%84%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E"><span class="toc-text">四、关于IP地址变化的详细说明</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88WSL2%E7%9A%84IP%E5%9C%B0%E5%9D%80%E4%BC%9A%E5%8F%98%E5%8C%96%EF%BC%9F"><span class="toc-text">4-1、为什么WSL2的IP地址会变化？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2%E3%80%81IP%E5%9C%B0%E5%9D%80%E5%8F%98%E5%8C%96%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-text">4-2、IP地址变化的影响</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3%E3%80%81%E6%8E%A8%E8%8D%90%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E5%AF%B9%E6%AF%94"><span class="toc-text">4-3、推荐解决方案对比</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4%E3%80%81%E8%87%AA%E5%8A%A8%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E8%84%9A%E6%9C%AC%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89"><span class="toc-text">4-4、自动端口转发脚本（可选）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-text">五、总结</span></a></li></ol></div></aside></div></div></section><footer class="main-footer"><div class="container"><div class="row"></div></div></footer><a id="back-to-top" class="icon-btn hide"><i class="fa fa-chevron-up"></i></a><div class="copyright"><div class="container"><div class="row"><div class="col-sm-12"><div class="busuanzi"></div></div><div class="col-sm-12"><span>Copyright &copy; 2017</span> | <span>Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a></span> | <span>Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a></span></div></div></div></div><script src="/js/app.js?rev=2f9097f8c1d5adfecd923b78b47be31b"></script></body></html>
<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta http-equiv="Cache-Control" content="no-siteapp"><meta http-equiv="Cache-Control" content="no-transform"><meta name="renderer" content="webkit|ie-comp|ie-stand"><meta name="apple-mobile-web-app-capable" content="Hå¤šçœ‹æºç å¤šè¯»ä¹¦ - å‹¤äºæ€è€ƒå–„é¢†æ‚Ÿ"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="browsermode" content="application"><meta name="screen-orientation" content="portrait"><meta name="theme-version" content="1.3.0"><meta name="root" content="/"><link rel="dns-prefetch" href="http://example.com"><meta name="keywords" content="webpack,javascript,modules"><meta name="description" content="ğŸš€ JavaScript æ¨¡å—åŒ–ä¸ Webpack 5ï¼šä»åŸç†å‰–æåˆ°å·¥ç¨‹åŒ–å®æˆ˜
ğŸ“š æœ¬æ€»ç»“æ·±å…¥å‰–æäº† JavaScript æ¨¡å—åŒ–è§„èŒƒçš„åº•å±‚å·®å¼‚ï¼ˆCommonJS vs ESMï¼‰ï¼Œå¹¶ç»“åˆ W..."><meta name="robots" content="all"><meta name="google" content="all"><meta name="googlebot" content="all"><meta name="verify" content="all"><title>JavaScript æ¨¡å—åŒ–ä¸ Webpack 5ï¼šä»åŸç†å‰–æåˆ°å·¥ç¨‹åŒ–å®æˆ˜ | Hå¤šçœ‹æºç å¤šè¯»ä¹¦ - å‹¤äºæ€è€ƒå–„é¢†æ‚Ÿ</title><link rel="alternate" href="/atom.xml" title="Hå¤šçœ‹æºç å¤šè¯»ä¹¦ - å‹¤äºæ€è€ƒå–„é¢†æ‚Ÿ" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/bootstrap.min.css?rev=1d1bccdabbf21f3604f985399285f5cf"><link rel="stylesheet" href="/css/font-awesome.min.css?rev=17d35b1ddb5a58cc19379d19f22b9fdc"><link rel="stylesheet" href="/css/style.css?rev=1be479d06cbb29d0c56ae25586ad88bc"><div class="hide"><script type="text/javascript">!function(){var t="https:"===document.location.protocol?"https://":"http://",c=document.createElement("script");c.src="https://s95.cnzz.com/z_stat.php?web_id=1272564536",c.async=!0,document.body.appendChild(c);var e=document.createElement("script");e.src=t+"s19.cnzz.com/z_stat.php?id=1263868967&show=pic1",e.async=!0,document.body.appendChild(e)}()</script></div><meta name="generator" content="Hexo 7.3.0"></head><!--[if lte IE 8]><style>
    html{ font-size: 1em }
</style><![endif]--><!--[if lte IE 9]><div style="ie">ä½ ä½¿ç”¨çš„æµè§ˆå™¨ç‰ˆæœ¬è¿‡ä½ï¼Œä¸ºäº†ä½ æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼Œè¯·æ›´æ–°æµè§ˆå™¨çš„ç‰ˆæœ¬æˆ–è€…ä½¿ç”¨å…¶ä»–ç°ä»£æµè§ˆå™¨ï¼Œæ¯”å¦‚Chromeã€Firefoxã€Safariç­‰ã€‚</div><![endif]--><body><header class="main-header" style="background-image:url(https://picgo-2024.oss-cn-beijing.aliyuncs.com/img/banner.webp)"><div class="main-header-box"><a class="header-avatar" href="/" title="ZHB"><img src="/img/avatar.webp" alt="logoå¤´åƒ" class="img-responsive center-block"></a><div class="branding"><img src="/img/branding.png" alt="Snippet åšå®¢ä¸»é¢˜" class="img-responsive center-block"></div></div></header><nav class="main-navigation"><div class="container"><div class="row"><div class="col-sm-12"><div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav"><span class="sr-only"></span><i class="fa fa-bars"></i></span> <a class="navbar-brand" href="http://example.com">Hå¤šçœ‹æºç å¤šè¯»ä¹¦ - å‹¤äºæ€è€ƒå–„é¢†æ‚Ÿ</a></div><div class="collapse navbar-collapse" id="main-menu"><ul class="menu"><li role="presentation" class="text-center"><a href="/"><i class="fa"></i> é¦–é¡µ</a></li><li role="presentation" class="text-center"><a href="/categories/"><i class="fa"></i> åˆ†ç±»</a></li><li role="presentation" class="text-center"><a href="/tags/"><i class="fa"></i> æ ‡ç­¾</a></li><li role="presentation" class="text-center"><a href="/archives/"><i class="fa"></i> æ—¶é—´è½´</a></li><li role="presentation" class="text-center"><a href="/about/"><i class="fa"></i> å…³äº</a></li></ul></div></div></div></div></nav><section class="content-wrap"><div class="container"><div class="row"><main class="col-md-9 main-content m-post"><p id="process"></p><article class="post"><div class="post-head"><h1 id="JavaScript æ¨¡å—åŒ–ä¸ Webpack 5ï¼šä»åŸç†å‰–æåˆ°å·¥ç¨‹åŒ–å®æˆ˜">JavaScript æ¨¡å—åŒ–ä¸ Webpack 5ï¼šä»åŸç†å‰–æåˆ°å·¥ç¨‹åŒ–å®æˆ˜</h1><div class="post-meta"><span class="categories-meta fa-wrap"><i class="fa fa-folder-open-o"></i> <a class="category-link" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">å¼€å‘å·¥å…·</a></span><span class="fa-wrap"><i class="fa fa-tags"></i> <span class="tags-meta"><a class="tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="tag-none-link" href="/tags/modules/" rel="tag">modules</a> <a class="tag-none-link" href="/tags/webpack/" rel="tag">webpack</a></span></span><span class="fa-wrap"><i class="fa fa-clock-o"></i> <span class="date-meta">2026/02/27</span></span></div></div><div class="post-body post-content"><h1 id="ğŸš€-JavaScript-æ¨¡å—åŒ–ä¸-Webpack-5ï¼šä»åŸç†å‰–æåˆ°å·¥ç¨‹åŒ–å®æˆ˜"><a href="#ğŸš€-JavaScript-æ¨¡å—åŒ–ä¸-Webpack-5ï¼šä»åŸç†å‰–æåˆ°å·¥ç¨‹åŒ–å®æˆ˜" class="headerlink" title="ğŸš€ JavaScript æ¨¡å—åŒ–ä¸ Webpack 5ï¼šä»åŸç†å‰–æåˆ°å·¥ç¨‹åŒ–å®æˆ˜"></a>ğŸš€ JavaScript æ¨¡å—åŒ–ä¸ Webpack 5ï¼šä»åŸç†å‰–æåˆ°å·¥ç¨‹åŒ–å®æˆ˜</h1><blockquote><p>ğŸ“š æœ¬æ€»ç»“æ·±å…¥å‰–æäº† JavaScript æ¨¡å—åŒ–è§„èŒƒçš„åº•å±‚å·®å¼‚ï¼ˆCommonJS vs ESMï¼‰ï¼Œå¹¶ç»“åˆ Webpack 5 åŠæœ€æ–°çš„ Webpack CLI 6.x æä¾›äº†è¯¦å°½çš„å®æµ‹éªŒè¯ä¸å·¥ç¨‹åŒ–æœ€ä½³å®è·µã€‚</p></blockquote><hr><h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><ol><li><a href="#%E4%B8%80-javascript-%E6%A8%A1%E5%9D%97%E5%8C%96%E8%A7%84%E8%8C%83%E8%AF%A6%E8%A7%A3">æ¨¡å—åŒ–è§„èŒƒè¯¦è§£</a></li><li><a href="#%E4%BA%8C-es6-modules-vs-commonjs-%E6%A0%B8%E5%BF%83%E5%8C%BA%E5%88%AB%E8%AF%A6%E8%A7%A3">æ ¸å¿ƒåŒºåˆ«ï¼šå¼•ç”¨ vs æ‹·è´</a></li><li><a href="#%E4%B8%89-packagejson-%E4%B8%AD%E7%9A%84-type-%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3">package.json é…ç½®é¡¹</a></li><li><a href="#%E5%9B%9B-webpack-cli-%E7%89%88%E6%9C%AC%E5%BD%B1%E5%93%8D%E5%AE%9E%E6%B5%8B%E7%BB%93%E6%9E%9C">webpack-cli æ™ºèƒ½åŠ è½½</a></li><li><a href="#%E4%BA%94-%E5%AE%9E%E6%B5%8B%E9%AA%8C%E8%AF%81%E8%AE%B0%E5%BD%95">å®æµ‹éªŒè¯è®°å½•</a></li><li><a href="#%E5%85%AD-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E5%BB%BA%E8%AE%AE%E5%9F%BA%E4%BA%8E%E5%AE%9E%E6%B5%8B">æœ€ä½³å®è·µå»ºè®®</a></li><li><a href="#%E4%B8%83-%E9%85%8D%E7%BD%AE%E9%80%89%E6%8B%A9%E6%B5%81%E7%A8%8B%E5%9B%BE">é…ç½®é€‰æ‹©æµç¨‹å›¾</a></li><li><a href="#%E5%85%AB-%E5%85%B3%E9%94%AE%E8%A6%81%E7%82%B9%E6%80%BB%E7%BB%93">å…³é”®é¡¹æ€»ç»“</a></li><li><a href="#%E4%B9%9D-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98-faq">å¸¸è§é—®é¢˜ FAQ</a></li><li><a href="#%E5%8D%81-%E6%80%BB%E7%BB%93">æ ¸å¿ƒç»“è®ºæ€»ç»“</a></li></ol><br><h2 id="ä¸€ã€-JavaScript-æ¨¡å—åŒ–è§„èŒƒè¯¦è§£"><a href="#ä¸€ã€-JavaScript-æ¨¡å—åŒ–è§„èŒƒè¯¦è§£" class="headerlink" title="ä¸€ã€ JavaScript æ¨¡å—åŒ–è§„èŒƒè¯¦è§£"></a><strong>ä¸€ã€ JavaScript æ¨¡å—åŒ–è§„èŒƒè¯¦è§£</strong></h2><h3 id="1-1-CommonJS-CJS"><a href="#1-1-CommonJS-CJS" class="headerlink" title="1.1 CommonJS (CJS)"></a><strong><font color="red">1.1 CommonJS (CJS)</font></strong></h3><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šNode.js æœåŠ¡ç«¯</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>åŒæ­¥åŠ è½½æ¨¡å—</li><li>è¿è¡Œæ—¶åŠ è½½ï¼ˆå€¼çš„æ‹·è´ï¼‰</li><li>æ¯ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªæ¨¡å—</li></ul><p><strong>è¯­æ³•</strong>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å‡º</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123; <span class="attr">add</span>: <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b &#125;;</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">count</span> = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥</span></span><br><span class="line"><span class="keyword">const</span> math = <span class="built_in">require</span>(<span class="string">&quot;./math&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; add &#125; = <span class="built_in">require</span>(<span class="string">&quot;./math&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="1-2-AMD-Asynchronous-Module-Definition"><a href="#1-2-AMD-Asynchronous-Module-Definition" class="headerlink" title="1.2 AMD (Asynchronous Module Definition)"></a><strong><font color="red">1.2 AMD (Asynchronous Module Definition)</font></strong></h3><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šæµè§ˆå™¨ç«¯</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>å¼‚æ­¥åŠ è½½æ¨¡å—</li><li>ä¾èµ–å‰ç½®ï¼Œæå‰æ‰§è¡Œ</li><li>ä»£è¡¨åº“ï¼šRequireJS</li></ul><p><strong>è¯­æ³•</strong>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ¨¡å—</span></span><br><span class="line"><span class="title function_">define</span>([<span class="string">&quot;jquery&quot;</span>, <span class="string">&quot;underscore&quot;</span>], <span class="keyword">function</span> (<span class="params">$, _</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ¨¡å—</span></span><br><span class="line"><span class="built_in">require</span>([<span class="string">&quot;module1&quot;</span>, <span class="string">&quot;module2&quot;</span>], <span class="keyword">function</span> (<span class="params">m1, m2</span>) &#123;</span><br><span class="line">  m1.<span class="title function_">method</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="1-3-UMD-Universal-Module-Definition"><a href="#1-3-UMD-Universal-Module-Definition" class="headerlink" title="1.3 UMD (Universal Module Definition)"></a><strong><font color="red">1.3 UMD (Universal Module Definition)</font></strong></h3><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šé€šç”¨ç¯å¢ƒï¼ˆæµè§ˆå™¨ + Node.jsï¼‰</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>å…¼å®¹ CommonJS å’Œ AMD</li><li>å¯ä»¥åœ¨å¤šç§ç¯å¢ƒä¸‹è¿è¡Œ</li><li>é€šå¸¸ç”¨äºç¬¬ä¸‰æ–¹åº“</li></ul><p><strong>è¯­æ³•</strong>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params">root, factory</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">&quot;function&quot;</span> &amp;&amp; define.<span class="property">amd</span>) &#123;</span><br><span class="line">    <span class="comment">// AMD</span></span><br><span class="line">    <span class="title function_">define</span>([], factory);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">module</span> === <span class="string">&quot;object&quot;</span> &amp;&amp; <span class="variable language_">module</span>.<span class="property">exports</span>) &#123;</span><br><span class="line">    <span class="comment">// CommonJS</span></span><br><span class="line">    <span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">factory</span>();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// æµè§ˆå™¨å…¨å±€å˜é‡</span></span><br><span class="line">    root.<span class="property">myModule</span> = <span class="title function_">factory</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)(<span class="variable language_">this</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">method</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125; &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="1-4-ES6-Modules-ESM-â­-æ¨è"><a href="#1-4-ES6-Modules-ESM-â­-æ¨è" class="headerlink" title="1.4 ES6 Modules (ESM) â­ æ¨è"></a><strong><font color="red">1.4 ES6 Modules (ESM) â­ æ¨è</font></strong></h3><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šç°ä»£æµè§ˆå™¨å’Œ Node.js</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>JavaScript å®˜æ–¹æ ‡å‡†</li><li>é™æ€å¯¼å…¥ï¼Œç¼–è¯‘æ—¶åŠ è½½</li><li>æ”¯æŒ Tree Shakingï¼ˆæ‘‡æ ‘ä¼˜åŒ–ï¼‰</li><li>å€¼çš„å¼•ç”¨ï¼ˆè€Œéæ‹·è´ï¼‰</li></ul><p><strong>è¯­æ³•</strong>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å‡º</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">&quot;value&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> &#123; name, add &#125; <span class="keyword">from</span> <span class="string">&quot;./module.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> defaultExport <span class="keyword">from</span> <span class="string">&quot;./module.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="variable language_">module</span> <span class="keyword">from</span> <span class="string">&quot;./module.js&quot;</span>;</span><br></pre></td></tr></table></figure><h3 id="1-5-CMD-Common-Module-Definition"><a href="#1-5-CMD-Common-Module-Definition" class="headerlink" title="1.5 CMD (Common Module Definition)"></a><strong><font color="red">1.5 CMD (Common Module Definition)</font></strong></h3><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šæµè§ˆå™¨ç«¯ï¼ˆå·²æ·˜æ±°ï¼‰</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>SeaJS æ¨å¹¿çš„è§„èŒƒ</li><li>ä¾èµ–å°±è¿‘ï¼Œå»¶è¿Ÿæ‰§è¡Œ</li><li>ç°åœ¨åŸºæœ¬ä¸å†ä½¿ç”¨</li></ul><hr><br><h2 id="äºŒã€-ES6-Modules-vs-CommonJS-æ ¸å¿ƒåŒºåˆ«è¯¦è§£"><a href="#äºŒã€-ES6-Modules-vs-CommonJS-æ ¸å¿ƒåŒºåˆ«è¯¦è§£" class="headerlink" title="äºŒã€ ES6 Modules vs CommonJS æ ¸å¿ƒåŒºåˆ«è¯¦è§£"></a><strong>äºŒã€ ES6 Modules vs CommonJS æ ¸å¿ƒåŒºåˆ«è¯¦è§£</strong></h2><h3 id="2-1-å€¼çš„å¼•ç”¨-vs-å€¼çš„æ‹·è´"><a href="#2-1-å€¼çš„å¼•ç”¨-vs-å€¼çš„æ‹·è´" class="headerlink" title="2.1 å€¼çš„å¼•ç”¨ vs å€¼çš„æ‹·è´"></a><strong><font color="red">2.1 å€¼çš„å¼•ç”¨ vs å€¼çš„æ‹·è´</font></strong></h3><p>è¿™æ˜¯ <strong>ES6 Modules</strong> å’Œ <strong>CommonJS</strong> çš„ä¸€ä¸ªå…³é”®åŒºåˆ«ã€‚</p><h4 id="1ï¼‰æ ¸å¿ƒåŒºåˆ«"><a href="#1ï¼‰æ ¸å¿ƒåŒºåˆ«" class="headerlink" title="1ï¼‰æ ¸å¿ƒåŒºåˆ«"></a><strong><font color="#10c300">1ï¼‰æ ¸å¿ƒåŒºåˆ«</font></strong></h4><table><thead><tr><th>æ¨¡å—ç³»ç»Ÿ</th><th>å¯¼å‡ºæœºåˆ¶</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>CommonJS</strong></td><td>å€¼çš„æ‹·è´ ğŸ“¸</td><td>å¯¼å‡ºæ—¶å¤åˆ¶ä¸€ä»½å€¼ï¼Œäº’ä¸å½±å“</td></tr><tr><td><strong>ES6 Modules</strong></td><td>å€¼çš„å¼•ç”¨ï¼ˆç»‘å®šï¼‰ğŸ“¹</td><td>å¯¼å‡ºçš„æ˜¯å¼•ç”¨ï¼ŒæŒ‡å‘åŒä¸€ä¸ªå€¼</td></tr></tbody></table><h4 id="2ï¼‰CommonJS-å€¼çš„æ‹·è´ï¼ˆæ‹ç…§ç‰‡ï¼‰"><a href="#2ï¼‰CommonJS-å€¼çš„æ‹·è´ï¼ˆæ‹ç…§ç‰‡ï¼‰" class="headerlink" title="2ï¼‰CommonJS - å€¼çš„æ‹·è´ï¼ˆæ‹ç…§ç‰‡ï¼‰"></a><strong><font color="#10c300">2ï¼‰CommonJS - å€¼çš„æ‹·è´ï¼ˆæ‹ç…§ç‰‡ï¼‰</font></strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// counter.js (CommonJS)</span></span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">  count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCount</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  count, <span class="comment">// å¯¼å‡ºçš„æ˜¯ count çš„æ‹·è´</span></span><br><span class="line">  increment,</span><br><span class="line">  getCount,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">const</span> counter = <span class="built_in">require</span>(<span class="string">&quot;./counter.js&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter.<span class="property">count</span>); <span class="comment">// 0</span></span><br><span class="line">counter.<span class="title function_">increment</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter.<span class="property">count</span>); <span class="comment">// è¿˜æ˜¯ 0 âŒï¼ˆå› ä¸ºæ˜¯æ‹·è´ï¼Œä¸ä¼šæ›´æ–°ï¼‰</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter.<span class="title function_">getCount</span>()); <span class="comment">// 1 âœ…ï¼ˆé€šè¿‡å‡½æ•°è®¿é—®åˆ°æœ€æ–°å€¼ï¼‰</span></span><br></pre></td></tr></table></figure><p><strong>è¯´æ˜</strong>ï¼š</p><ul><li><code>counter.count</code> æ˜¯å¯¼å‡ºæ—¶çš„<strong>æ‹·è´å€¼</strong></li><li>å†…éƒ¨ <code>count</code> å˜åŒ–äº†ï¼Œä½†å¯¼å‡ºçš„æ‹·è´<strong>ä¸ä¼šæ›´æ–°</strong></li><li>å°±åƒå¤å°äº†ä¸€ä»½æ–‡ä»¶ï¼ŒåŸä»¶æ”¹äº†ï¼Œå¤å°ä»¶ä¸ä¼šå˜</li></ul><h4 id="3ï¼‰ES6-Modules-å€¼çš„å¼•ç”¨ï¼ˆè§†é¢‘ç›´æ’­ï¼‰"><a href="#3ï¼‰ES6-Modules-å€¼çš„å¼•ç”¨ï¼ˆè§†é¢‘ç›´æ’­ï¼‰" class="headerlink" title="3ï¼‰ES6 Modules - å€¼çš„å¼•ç”¨ï¼ˆè§†é¢‘ç›´æ’­ï¼‰"></a><strong><font color="#10c300">3ï¼‰ES6 Modules - å€¼çš„å¼•ç”¨ï¼ˆè§†é¢‘ç›´æ’­ï¼‰</font></strong></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// counter.js (ES6)</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">  count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getCount</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; count, increment, getCount &#125; <span class="keyword">from</span> <span class="string">&quot;./counter.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(count); <span class="comment">// 0</span></span><br><span class="line"><span class="title function_">increment</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(count); <span class="comment">// 1 âœ…ï¼ˆå®æ—¶æ›´æ–°ï¼ï¼‰</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getCount</span>()); <span class="comment">// 1 âœ…</span></span><br></pre></td></tr></table></figure><p><strong>è¯´æ˜</strong>ï¼š</p><ul><li><code>count</code> æ˜¯ä¸€ä¸ª<strong>å®æ—¶ç»‘å®š</strong>ï¼ˆå¼•ç”¨ï¼‰</li><li>å†…éƒ¨ <code>count</code> å˜åŒ–ï¼Œå¤–éƒ¨<strong>ç«‹å³çœ‹åˆ°å˜åŒ–</strong></li><li>å°±åƒä¸€ä¸ª<strong>æŒ‡é’ˆ</strong>ï¼Œå§‹ç»ˆæŒ‡å‘åŒä¸€ä¸ªå€¼</li></ul><h4 id="4ï¼‰å½¢è±¡æ¯”å–»"><a href="#4ï¼‰å½¢è±¡æ¯”å–»" class="headerlink" title="4ï¼‰å½¢è±¡æ¯”å–»"></a><strong><font color="#10c300">4ï¼‰å½¢è±¡æ¯”å–»</font></strong></h4><p><strong>CommonJS - æ‹ç…§ç‰‡ ğŸ“¸</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">åŸå§‹æ–‡ä»¶ï¼ˆcounter.jsï¼‰ï¼š</span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚ count:0 â”‚  â†’ å¯¼å‡ºæ—¶ â†’ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” ç…§ç‰‡ï¼ˆmain.jsï¼‰</span><br><span class="line">â”‚ â†“       â”‚             â”‚ count:0 â”‚</span><br><span class="line">â”‚ count:1 â”‚             â”‚         â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">                        ç…§ç‰‡ä¸ä¼šè‡ªåŠ¨æ›´æ–°ï¼</span><br></pre></td></tr></table></figure><p><strong>ES6 Modules - è§†é¢‘ç›´æ’­ ğŸ“¹</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">åŸå§‹æ–‡ä»¶ï¼ˆcounter.jsï¼‰ï¼š</span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚ count:0 â”‚  â†â•â•â•â•â•â•â• å®æ—¶è¿æ¥ â•â•â•â•â•â•â•â”</span><br><span class="line">â”‚ â†“       â”‚                         â”‚</span><br><span class="line">â”‚ count:1 â”‚  â†â•â•â•â•â•â•â• åŒæ­¥æ›´æ–° â•â•â•â•â•â•â•â•â•â”¤ main.js</span><br><span class="line">â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚</span><br><span class="line">                                    çœ‹åˆ°å®æ—¶å€¼ï¼</span><br></pre></td></tr></table></figure><h4 id="5ï¼‰ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ"><a href="#5ï¼‰ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ" class="headerlink" title="5ï¼‰ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ"></a><strong><font color="#10c300">5ï¼‰ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ</font></strong></h4><p><strong>1. çŠ¶æ€ç®¡ç†æ›´ç›´è§‚</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// store.js (ES6)</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> state = &#123; <span class="attr">count</span>: <span class="number">0</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">updateState</span>(<span class="params">newState</span>) &#123;</span><br><span class="line">  state = newState;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; state &#125; <span class="keyword">from</span> <span class="string">&quot;./store.js&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(state); <span class="comment">// âœ… å§‹ç»ˆæ˜¯æœ€æ–°çš„ state</span></span><br></pre></td></tr></table></figure><p><strong>2. é¿å…å¸¸è§é™·é˜±</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âŒ CommonJS çš„å¸¸è§é”™è¯¯</span></span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">&quot;./config&quot;</span>);</span><br><span class="line">config.<span class="title function_">setDebug</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(config.<span class="property">isDebug</span>); <span class="comment">// è¿˜æ˜¯ false âŒï¼ˆæ‹·è´ä¸æ›´æ–°ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… ES6 çš„æ­£ç¡®è¡Œä¸º</span></span><br><span class="line"><span class="keyword">import</span> &#123; isDebug &#125; <span class="keyword">from</span> <span class="string">&quot;./config.js&quot;</span>;</span><br><span class="line"><span class="title function_">setDebug</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(isDebug); <span class="comment">// true âœ…ï¼ˆå¼•ç”¨è‡ªåŠ¨æ›´æ–°ï¼‰</span></span><br></pre></td></tr></table></figure><p><strong>3. æ³¨æ„ï¼šES6 æ¨¡å—å¯¼å…¥çš„å€¼æ˜¯åªè¯»çš„</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// counter.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; count &#125; <span class="keyword">from</span> <span class="string">&quot;./counter.js&quot;</span>;</span><br><span class="line">count = <span class="number">10</span>; <span class="comment">// âŒ TypeError: Assignment to constant variable</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡®åšæ³•ï¼šé€šè¿‡å¯¼å‡ºçš„å‡½æ•°ä¿®æ”¹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">setCount</span>(<span class="params">value</span>) &#123;</span><br><span class="line">  count = value; <span class="comment">// âœ… åœ¨æ¨¡å—å†…éƒ¨å¯ä»¥ä¿®æ”¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6ï¼‰æ€»ç»“å¯¹æ¯”"><a href="#6ï¼‰æ€»ç»“å¯¹æ¯”" class="headerlink" title="6ï¼‰æ€»ç»“å¯¹æ¯”"></a><strong><font color="#10c300">6ï¼‰æ€»ç»“å¯¹æ¯”</font></strong></h4><table><thead><tr><th>ç‰¹æ€§</th><th>CommonJS</th><th>ES6 Modules</th></tr></thead><tbody><tr><td><strong>å¯¼å‡ºæœºåˆ¶</strong></td><td>å€¼çš„æ‹·è´ ğŸ“¸</td><td>å€¼çš„å¼•ç”¨ ğŸ“¹</td></tr><tr><td><strong>æ›´æ–°æœºåˆ¶</strong></td><td>ä¸ä¼šè‡ªåŠ¨æ›´æ–°</td><td>å®æ—¶åŒæ­¥</td></tr><tr><td><strong>å¤–éƒ¨ä¿®æ”¹</strong></td><td>å¯ä»¥ä¿®æ”¹å¯¼å…¥çš„å¯¹è±¡</td><td>åªè¯»ï¼Œä¸èƒ½ä¿®æ”¹</td></tr><tr><td><strong>é€‚åˆåœºæ™¯</strong></td><td>æœåŠ¡ç«¯åŒæ­¥åŠ è½½</td><td>ç°ä»£åº”ç”¨ï¼Œé™æ€åˆ†æ</td></tr></tbody></table><hr><h3 id="2-2-Tree-Shakingï¼ˆæ‘‡æ ‘ä¼˜åŒ–ï¼‰è¯¦è§£"><a href="#2-2-Tree-Shakingï¼ˆæ‘‡æ ‘ä¼˜åŒ–ï¼‰è¯¦è§£" class="headerlink" title="2.2 Tree Shakingï¼ˆæ‘‡æ ‘ä¼˜åŒ–ï¼‰è¯¦è§£"></a><strong><font color="red">2.2 Tree Shakingï¼ˆæ‘‡æ ‘ä¼˜åŒ–ï¼‰è¯¦è§£</font></strong></h3><h4 id="1ï¼‰ä»€ä¹ˆæ˜¯-Tree-Shakingï¼Ÿ"><a href="#1ï¼‰ä»€ä¹ˆæ˜¯-Tree-Shakingï¼Ÿ" class="headerlink" title="1ï¼‰ä»€ä¹ˆæ˜¯ Tree Shakingï¼Ÿ"></a><strong><font color="#10c300">1ï¼‰ä»€ä¹ˆæ˜¯ Tree Shakingï¼Ÿ</font></strong></h4><p><strong>Tree Shaking</strong> æ˜¯ä¸€ä¸ªæœ¯è¯­ï¼Œé€šå¸¸ç”¨äºæè¿°<strong>ç§»é™¤ JavaScript ä»£ç ä¸­æœªä½¿ç”¨ï¼ˆdead codeï¼‰çš„è¿‡ç¨‹</strong>ã€‚</p><p><strong>å½¢è±¡æ¯”å–»</strong>ï¼š</p><ul><li>ğŸŒ³ <strong>æ ‘</strong> &#x3D; ä½ çš„æ•´ä¸ªä»£ç åº“</li><li>ğŸƒ <strong>ç»¿å¶</strong> &#x3D; å®é™…ä½¿ç”¨çš„ä»£ç ï¼ˆæ´»ä»£ç ï¼‰</li><li>ğŸ‚ <strong>æ¯å¶</strong> &#x3D; æœªä½¿ç”¨çš„ä»£ç ï¼ˆæ­»ä»£ç ï¼‰</li></ul><p><strong>æ‘‡æ ‘ï¼ˆShakingï¼‰</strong> &#x3D; æ‘‡åŠ¨è¿™æ£µæ ‘ï¼Œè®©<strong>æ¯å¶ï¼ˆæœªä½¿ç”¨çš„ä»£ç ï¼‰æ‰è½</strong>ï¼Œåªä¿ç•™<strong>ç»¿å¶ï¼ˆä½¿ç”¨çš„ä»£ç ï¼‰</strong></p><h4 id="2ï¼‰Tree-Shaking-çš„ä½œç”¨"><a href="#2ï¼‰Tree-Shaking-çš„ä½œç”¨" class="headerlink" title="2ï¼‰Tree Shaking çš„ä½œç”¨"></a><strong><font color="#10c300">2ï¼‰Tree Shaking çš„ä½œç”¨</font></strong></h4><p><strong>ä¼˜åŒ–å‰ï¼ˆæ²¡æœ‰ Tree Shakingï¼‰</strong>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// math.js - å¯¼å‡ºå¤šä¸ªå‡½æ•°</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">subtract</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">multiply</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">divide</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a / b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js - åªä½¿ç”¨äº† add</span></span><br><span class="line"><span class="keyword">import</span> &#123; add &#125; <span class="keyword">from</span> <span class="string">&quot;./math.js&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>));</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js - åŒ…å«æ‰€æœ‰å‡½æ•°ï¼ˆæµªè´¹ï¼‰</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">subtract</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a - b;</span><br><span class="line">&#125; <span class="comment">// âŒ æœªä½¿ç”¨ä½†è¢«æ‰“åŒ…</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">multiply</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a * b;</span><br><span class="line">&#125; <span class="comment">// âŒ æœªä½¿ç”¨ä½†è¢«æ‰“åŒ…</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">divide</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a / b;</span><br><span class="line">&#125; <span class="comment">// âŒ æœªä½¿ç”¨ä½†è¢«æ‰“åŒ…</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>));</span><br></pre></td></tr></table></figure><p><strong>ä¼˜åŒ–åï¼ˆæœ‰ Tree Shakingï¼‰</strong>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bundle.js - åªåŒ…å«ä½¿ç”¨çš„å‡½æ•°ï¼ˆä¼˜åŒ–ï¼‰</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125; <span class="comment">// âœ… ä½¿ç”¨äº†ï¼Œä¿ç•™</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>));</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœ</strong>ï¼š</p><ul><li>ğŸ“¦ å‡å°æ‰“åŒ…ä½“ç§¯ï¼ˆå¯èƒ½å‡å°‘ 50%+ çš„ä»£ç ï¼‰</li><li>âš¡ åŠ å¿«åŠ è½½é€Ÿåº¦</li><li>ğŸš€ æå‡æ€§èƒ½</li></ul><h4 id="3ï¼‰Tree-Shaking-çš„å·¥ä½œåŸç†"><a href="#3ï¼‰Tree-Shaking-çš„å·¥ä½œåŸç†" class="headerlink" title="3ï¼‰Tree Shaking çš„å·¥ä½œåŸç†"></a><strong><font color="#10c300">3ï¼‰Tree Shaking çš„å·¥ä½œåŸç†</font></strong></h4><p><strong>1. ä¾èµ– ES6 Modulesï¼ˆESMï¼‰</strong></p><p>Tree Shaking <strong>åªå¯¹ ES6 æ¨¡å—ï¼ˆimport&#x2F;exportï¼‰æœ‰æ•ˆ</strong>ï¼Œå¯¹ CommonJSï¼ˆrequire&#x2F;module.exportsï¼‰<strong>æ— æ•ˆ</strong>ã€‚</p><p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong></p><table><thead><tr><th>ç‰¹æ€§</th><th>ES6 Modules</th><th>CommonJS</th></tr></thead><tbody><tr><td><strong>åŠ è½½æ—¶æœº</strong></td><td>ç¼–è¯‘æ—¶ï¼ˆé™æ€ï¼‰</td><td>è¿è¡Œæ—¶ï¼ˆåŠ¨æ€ï¼‰</td></tr><tr><td><strong>ç»“æ„</strong></td><td>é™æ€ç»“æ„ï¼Œå¯åˆ†æ</td><td>åŠ¨æ€ç»“æ„ï¼Œä¸å¯é¢„æµ‹</td></tr><tr><td><strong>Tree Shaking</strong></td><td>âœ… æ”¯æŒ</td><td>âŒ ä¸æ”¯æŒ</td></tr></tbody></table><p><strong>2. é™æ€åˆ†æ</strong></p><p>Webpack åœ¨<strong>ç¼–è¯‘é˜¶æ®µ</strong>ä¼šåˆ†æä»£ç çš„å¯¼å…¥å¯¼å‡ºå…³ç³»ï¼Œæ ‡è®°å“ªäº›å¯¼å‡ºè¢«ä½¿ç”¨äº†ï¼Œå¹¶åˆ é™¤æœªä½¿ç”¨çš„å¯¼å‡ºã€‚</p><h4 id="4ï¼‰å¦‚ä½•å¯ç”¨-Tree-Shaking"><a href="#4ï¼‰å¦‚ä½•å¯ç”¨-Tree-Shaking" class="headerlink" title="4ï¼‰å¦‚ä½•å¯ç”¨ Tree Shaking"></a><strong><font color="#10c300">4ï¼‰å¦‚ä½•å¯ç”¨ Tree Shaking</font></strong></h4><p><strong>åœ¨ webpack 5 ä¸­ï¼ˆè‡ªåŠ¨å¯ç”¨ï¼‰</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>, <span class="comment">// ç”Ÿäº§æ¨¡å¼è‡ªåŠ¨å¯ç”¨ Tree Shaking</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>package.json é…ç½®ï¼ˆå¯é€‰ï¼‰</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;my-project&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sideEffects&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="5ï¼‰sideEffects-é…ç½®çš„å½±å“å¯¹æ¯”"><a href="#5ï¼‰sideEffects-é…ç½®çš„å½±å“å¯¹æ¯”" class="headerlink" title="5ï¼‰sideEffects é…ç½®çš„å½±å“å¯¹æ¯”"></a><strong><font color="#10c300">5ï¼‰sideEffects é…ç½®çš„å½±å“å¯¹æ¯”</font></strong></h4><table><thead><tr><th>é…ç½®</th><th>Tree Shaking ç²’åº¦</th><th>åˆ é™¤èŒƒå›´</th></tr></thead><tbody><tr><td><strong>æœªè®¾ç½® sideEffects: false</strong></td><td>æˆå‘˜çº§åˆ«</td><td>åªåˆ é™¤æ–‡ä»¶å†…æœªä½¿ç”¨çš„å¯¼å‡º</td></tr><tr><td><strong>è®¾ç½® sideEffects: false</strong></td><td>æ–‡ä»¶çº§åˆ« + æˆå‘˜çº§åˆ«</td><td>å¯åˆ é™¤æ•´ä¸ªæœªä½¿ç”¨çš„æ–‡ä»¶</td></tr></tbody></table><h4 id="6ï¼‰Tree-Shaking-çš„é™åˆ¶ä¸æœ€ä½³å®è·µ"><a href="#6ï¼‰Tree-Shaking-çš„é™åˆ¶ä¸æœ€ä½³å®è·µ" class="headerlink" title="6ï¼‰Tree Shaking çš„é™åˆ¶ä¸æœ€ä½³å®è·µ"></a><strong><font color="#10c300">6ï¼‰Tree Shaking çš„é™åˆ¶ä¸æœ€ä½³å®è·µ</font></strong></h4><p>âœ… <strong>æ¨èåšæ³•</strong>ï¼šä½¿ç”¨ ES6 æ¨¡å—ã€ç”Ÿäº§æ¨¡å¼æ„å»ºã€é¿å…å‰¯ä½œç”¨ä»£ç ã€ä½¿ç”¨æ”¯æŒ Tree Shaking çš„åº“ã€‚<br>âŒ <strong>é¿å…</strong>ï¼šæ··ç”¨ CommonJS å’Œ ESMã€é¡¶å±‚å‰¯ä½œç”¨ä»£ç ã€é»˜è®¤å¯¼å‡ºæ•´ä¸ªå¤§å¯¹è±¡ã€‚</p><h4 id="7ï¼‰å¸¸è§è¯¯åŒºï¼šä¸-â€œtypeâ€-â€œmoduleâ€-çš„å…³ç³»"><a href="#7ï¼‰å¸¸è§è¯¯åŒºï¼šä¸-â€œtypeâ€-â€œmoduleâ€-çš„å…³ç³»" class="headerlink" title="7ï¼‰å¸¸è§è¯¯åŒºï¼šä¸ â€œtypeâ€: â€œmoduleâ€ çš„å…³ç³»"></a><strong><font color="#10c300">7ï¼‰å¸¸è§è¯¯åŒºï¼šä¸ â€œtypeâ€: â€œmoduleâ€ çš„å…³ç³»</font></strong></h4><p><strong>çœŸç›¸</strong>ï¼šTree Shaking ä¸ package.json çš„ <code>&quot;type&quot;</code> æ— å…³ã€‚å®ƒåªå–å†³äºæºä»£ç æ˜¯å¦ä½¿ç”¨äº† <code>import/export</code> è¯­æ³•ã€‚</p><hr><br><h2 id="ä¸‰ã€-package-json-ä¸­çš„-â€œtypeâ€-é…ç½®è¯¦è§£"><a href="#ä¸‰ã€-package-json-ä¸­çš„-â€œtypeâ€-é…ç½®è¯¦è§£" class="headerlink" title="ä¸‰ã€ package.json ä¸­çš„ â€œtypeâ€ é…ç½®è¯¦è§£"></a><strong>ä¸‰ã€ package.json ä¸­çš„ â€œtypeâ€ é…ç½®è¯¦è§£</strong></h2><h3 id="3-1-åˆå§‹åŒ–é¡¹ç›®ä¸ç›®å½•ç»“æ„"><a href="#3-1-åˆå§‹åŒ–é¡¹ç›®ä¸ç›®å½•ç»“æ„" class="headerlink" title="3.1 åˆå§‹åŒ–é¡¹ç›®ä¸ç›®å½•ç»“æ„"></a><strong><font color="red">3.1 åˆå§‹åŒ–é¡¹ç›®ä¸ç›®å½•ç»“æ„</font></strong></h3><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ–é¡¹ç›®å¹¶å®‰è£… Webpack ç›¸å…³ä¾èµ–ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br><span class="line">npm i webpack webpack-cli -D</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–åçš„æ¨èå·¥ç¨‹ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">webpack_code</span><br><span class="line">â”œâ”€â”€ src # æºä»£ç ç›®å½•</span><br><span class="line">â”‚   â”œâ”€â”€ js # JS æ–‡ä»¶å¤¹</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ count.js</span><br><span class="line">â”‚   â”‚   â””â”€â”€ sum.js</span><br><span class="line">â”‚   â””â”€â”€ main.js # é¡¹ç›®ä¸»å…¥å£æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ package.json # é¡¹ç›®é…ç½®æ–‡ä»¶</span><br><span class="line">â””â”€â”€ webpack.config.js # Webpack é…ç½®æ–‡ä»¶</span><br></pre></td></tr></table></figure><p><strong><code>webpack.config.js</code></strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// å…¥å£</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="comment">// è¾“å‡º</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="comment">// __dirname nodejsçš„å˜é‡ï¼Œè¡¨ç¤ºå½“å‰æ–‡ä»¶çš„ç›®å½•</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>), <span class="comment">// ç»å¯¹è·¯å¾„</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;js/main.js&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// åŠ è½½å™¨</span></span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">// loaderçš„é…ç½®(æ‰§è¡Œé¡ºåºæ˜¯ ä»ä¸‹å¾€ä¸Š æˆ– ä»å³åˆ°å·¦)</span></span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// æ’ä»¶</span></span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong><code>è¿è¡Œ</code></strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack</span><br></pre></td></tr></table></figure><h3 id="3-2-npx-ä¸-xxx-cli-çš„å…³ç³»è§£æ"><a href="#3-2-npx-ä¸-xxx-cli-çš„å…³ç³»è§£æ" class="headerlink" title="3.2 npx ä¸ xxx-cli çš„å…³ç³»è§£æ"></a><strong><font color="red">3.2 npx ä¸ xxx-cli çš„å…³ç³»è§£æ</font></strong></h3><p>åœ¨ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–ä¸­ï¼Œ<code>npx</code> å’Œ <code>xxx-cli</code>ï¼ˆå¦‚ <code>webpack-cli</code>ï¼‰æ˜¯ç›¸è¾…ç›¸æˆçš„åä½œå…³ç³»ï¼š</p><ul><li><strong><code>xxx-cli</code> (å·¥å…·ç®±)</strong>ï¼šæ˜¯åŠŸèƒ½çš„å®ä½“ã€‚ä¾‹å¦‚ <code>webpack-cli</code> åŒ…å«äº†è§£æå‘½ä»¤è¡Œå‚æ•°ã€è¯»å–é…ç½®æ–‡ä»¶ã€è°ƒç”¨ Webpack å†…æ ¸çš„æ ¸å¿ƒä»£ç ã€‚æ²¡æœ‰å®ƒï¼ŒWebpack å°±æ— æ³•é€šè¿‡å‘½ä»¤è¡Œè¿è¡Œã€‚</li><li><strong><code>npx</code> (é€šè¡Œè¯)</strong>ï¼šæ˜¯å‘½ä»¤çš„æ‰§è¡Œè€…ã€‚å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯<strong>è‡ªåŠ¨å¯»æ‰¾å¹¶æ‰§è¡Œ</strong>å®‰è£…åœ¨é¡¹ç›®æœ¬åœ°ï¼ˆ<code>node_modules/.bin</code>ï¼‰çš„äºŒè¿›åˆ¶å‘½ä»¤ã€‚</li></ul><p><strong>åä½œé€»è¾‘</strong>ï¼š</p><ol><li><strong>å®‰è£…</strong>ï¼šæˆ‘ä»¬å°† <code>webpack-cli</code> å®‰è£…ä¸ºé¡¹ç›®çš„æœ¬åœ° <code>devDependencies</code>ï¼ˆéå…¨å±€å®‰è£…ï¼‰ã€‚</li><li><strong>å¯»æ‰¾</strong>ï¼šå½“ä½ è¾“å…¥ <code>npx webpack</code> æ—¶ï¼Œ<code>npx</code> ä¼šåœ¨å½“å‰é¡¹ç›®çš„ <code>node_modules</code> ä¸­ç²¾å‡†å®šä½åˆ° <code>webpack-cli</code> çš„æ‰§è¡Œå…¥å£ã€‚</li><li><strong>æ‰§è¡Œ</strong>ï¼š<code>npx</code> å”¤èµ· <code>webpack-cli</code>ï¼Œåè€…å¼€å§‹è¯»å–é…ç½®å¹¶å®Œæˆæ‰“åŒ…ä»»åŠ¡ã€‚</li></ol><p><strong>ä¼˜åŠ¿</strong>ï¼šè¿™ç§æ¨¡å¼é¿å…äº†å…¨å±€å®‰è£…å¸¦æ¥çš„ç‰ˆæœ¬å†²çªï¼Œç¡®ä¿æ¯ä¸ªé¡¹ç›®ä½¿ç”¨çš„éƒ½æ˜¯è‡ªå·± package.json ä¸­æŒ‡å®šçš„ç‰¹å®šç‰ˆæœ¬å·¥å…·ã€‚<br><br></p><h3 id="3-3-é…ç½®é€‰é¡¹ä¸€è§ˆ"><a href="#3-3-é…ç½®é€‰é¡¹ä¸€è§ˆ" class="headerlink" title="3.3 é…ç½®é€‰é¡¹ä¸€è§ˆ"></a><strong><font color="red">3.3 é…ç½®é€‰é¡¹ä¸€è§ˆ</font></strong></h3><table><thead><tr><th>type é…ç½®å€¼</th><th>.js å¤„ç†æ–¹å¼</th><th>.mjs æ–‡ä»¶</th><th>.cjs æ–‡ä»¶</th></tr></thead><tbody><tr><td><strong>ä¸è®¾ç½®</strong></td><td><strong>CommonJS</strong></td><td>ESM</td><td>CommonJS</td></tr><tr><td><strong>â€œcommonjsâ€</strong></td><td>CommonJSï¼ˆå¼ºåˆ¶ï¼‰</td><td>ESM</td><td>CommonJS</td></tr><tr><td><strong>â€œmoduleâ€</strong></td><td>ESMï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰</td><td>ESM</td><td>CommonJS</td></tr></tbody></table><h3 id="3-4-ä¸‰ç§æ¨¡å¼è¯¦è§£"><a href="#3-4-ä¸‰ç§æ¨¡å¼è¯¦è§£" class="headerlink" title="3.4 ä¸‰ç§æ¨¡å¼è¯¦è§£"></a><strong><font color="red">3.4 ä¸‰ç§æ¨¡å¼è¯¦è§£</font></strong></h3><h4 id="1ï¼‰ä¸è®¾ç½®-typeï¼ˆé»˜è®¤è¡Œä¸ºï¼‰â­â­â­â­â­"><a href="#1ï¼‰ä¸è®¾ç½®-typeï¼ˆé»˜è®¤è¡Œä¸ºï¼‰â­â­â­â­â­" class="headerlink" title="1ï¼‰ä¸è®¾ç½® typeï¼ˆé»˜è®¤è¡Œä¸ºï¼‰â­â­â­â­â­"></a><strong><font color="#10c300">1ï¼‰ä¸è®¾ç½® typeï¼ˆé»˜è®¤è¡Œä¸ºï¼‰â­â­â­â­â­</font></strong></h4><p>è¿™æ˜¯æœ€æ¨èçš„é…ç½®ã€‚<code>.js</code> æ–‡ä»¶é»˜è®¤ä¸º CommonJSï¼Œä½†ç”±äºæœ€æ–°çš„ <strong>webpack-cli 6.x</strong> æ™ºèƒ½åŠ è½½æœºåˆ¶ï¼Œé…ç½®æ–‡ä»¶ä¾ç„¶å¯ä»¥ä½¿ç”¨ <code>export default</code>ã€‚</p><h4 id="2ï¼‰è®¾ç½®-â€œtypeâ€-â€œcommonjsâ€"><a href="#2ï¼‰è®¾ç½®-â€œtypeâ€-â€œcommonjsâ€" class="headerlink" title="2ï¼‰è®¾ç½® â€œtypeâ€: â€œcommonjsâ€"></a><strong><font color="#10c300">2ï¼‰è®¾ç½® â€œtypeâ€: â€œcommonjsâ€</font></strong></h4><p>å¼ºåˆ¶ <code>.js</code> æ–‡ä»¶ä¸º CommonJSã€‚åœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œ<code>webpack.config.js</code> <strong>ä¸èƒ½</strong>ä½¿ç”¨ ESM è¯­æ³•ã€‚</p><h4 id="3ï¼‰è®¾ç½®-â€œtypeâ€-â€œmoduleâ€"><a href="#3ï¼‰è®¾ç½®-â€œtypeâ€-â€œmoduleâ€" class="headerlink" title="3ï¼‰è®¾ç½® â€œtypeâ€: â€œmoduleâ€"></a><strong><font color="#10c300">3ï¼‰è®¾ç½® â€œtypeâ€: â€œmoduleâ€</font></strong></h4><p>æ‰€æœ‰ <code>.js</code> æ–‡ä»¶éµå¾ª ESM ä¸¥æ ¼æ¨¡å¼ã€‚<strong>æ³¨æ„</strong>ï¼šåœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œ<code>import</code> å¿…é¡»æºå¸¦å®Œæ•´çš„æ–‡ä»¶æ‰©å±•åï¼ˆå¦‚ <code>.js</code>ï¼‰ã€‚</p><hr><br><h2 id="å››ã€-webpack-cli-ç‰ˆæœ¬å½±å“ï¼ˆå®æµ‹ç»“æœï¼‰"><a href="#å››ã€-webpack-cli-ç‰ˆæœ¬å½±å“ï¼ˆå®æµ‹ç»“æœï¼‰" class="headerlink" title="å››ã€ webpack-cli ç‰ˆæœ¬å½±å“ï¼ˆå®æµ‹ç»“æœï¼‰"></a><strong>å››ã€ webpack-cli ç‰ˆæœ¬å½±å“ï¼ˆå®æµ‹ç»“æœï¼‰</strong></h2><h3 id="4-1-webpack-cli-6-x-æ™ºèƒ½åŠ è½½æœºåˆ¶-ğŸ‰"><a href="#4-1-webpack-cli-6-x-æ™ºèƒ½åŠ è½½æœºåˆ¶-ğŸ‰" class="headerlink" title="4.1 webpack-cli 6.x æ™ºèƒ½åŠ è½½æœºåˆ¶ ğŸ‰"></a><strong><font color="red">4.1 webpack-cli 6.x æ™ºèƒ½åŠ è½½æœºåˆ¶ ğŸ‰</font></strong></h3><table><thead><tr><th>package.json é…ç½®</th><th>config å¯ç”¨è¯­æ³•</th><th>æºä»£ç  import</th><th>å®æµ‹ç»“æœ</th></tr></thead><tbody><tr><td><strong>ä¸è®¾ç½® type</strong> â­</td><td><strong>CJS âœ… &#x2F; ESM âœ…</strong></td><td>ä¸éœ€è¦ .js âœ…</td><td>âœ… é€šè¿‡</td></tr><tr><td><strong>â€œtypeâ€: â€œcommonjsâ€</strong></td><td>CJS âœ… &#x2F; ESM âŒ</td><td>ä¸éœ€è¦ .js âœ…</td><td>âš ï¸ ESM æŠ¥é”™</td></tr><tr><td><strong>â€œtypeâ€: â€œmoduleâ€</strong></td><td>CJS âŒ &#x2F; ESM âœ…</td><td><strong>å¿…é¡»åŠ  .js</strong> âš ï¸</td><td>âš ï¸ import å—é™</td></tr></tbody></table><h3 id="4-2-æ™ºèƒ½åŠ è½½åŸç†è§£æ"><a href="#4-2-æ™ºèƒ½åŠ è½½åŸç†è§£æ" class="headerlink" title="4.2 æ™ºèƒ½åŠ è½½åŸç†è§£æ"></a><strong><font color="red">4.2 æ™ºèƒ½åŠ è½½åŸç†è§£æ</font></strong></h3><p>webpack-cli 6.x ä¼šå…ˆå°è¯• <code>require</code> é…ç½®æ–‡ä»¶ï¼Œå¦‚æœé‡åˆ° ESM è¯­æ³•æŠ›å‡ºçš„æŠ¥é”™ï¼Œåˆ™ä¼šè‡ªåŠ¨æ•è·å¹¶æ”¹ç”¨åŠ¨æ€ <code>import()</code> åŠ è½½ã€‚è¿™ä¸€ç‰¹æ€§è®©â€œä¸è®¾ç½® typeâ€æˆä¸ºäº†çµæ´»æ€§æœ€é«˜çš„é€‰æ‹©ã€‚</p><hr><br><h2 id="äº”ã€-å®æµ‹éªŒè¯è®°å½•"><a href="#äº”ã€-å®æµ‹éªŒè¯è®°å½•" class="headerlink" title="äº”ã€ å®æµ‹éªŒè¯è®°å½•"></a><strong>äº”ã€ å®æµ‹éªŒè¯è®°å½•</strong></h2><h3 id="5-1-æµ‹è¯•-1ï¼šä¸è®¾ç½®-type-export-default-âœ…"><a href="#5-1-æµ‹è¯•-1ï¼šä¸è®¾ç½®-type-export-default-âœ…" class="headerlink" title="5.1 æµ‹è¯• 1ï¼šä¸è®¾ç½® type + export default âœ…"></a><strong><font color="red">5.1 æµ‹è¯• 1ï¼šä¸è®¾ç½® type + export default âœ…</font></strong></h3><p>Node.js ç¯å¢ƒä¸‹æˆåŠŸç¼–è¯‘ã€‚è¯´æ˜ webpack-cli 6.x æˆåŠŸå…¼å®¹äº†ä¸è®¾ type æ—¶çš„ ESM é…ç½®ã€‚</p><h3 id="5-2-æµ‹è¯•-2ï¼štype-â€œcommonjsâ€-export-default-âŒ"><a href="#5-2-æµ‹è¯•-2ï¼štype-â€œcommonjsâ€-export-default-âŒ" class="headerlink" title="5.2 æµ‹è¯• 2ï¼štype: â€œcommonjsâ€ + export default âŒ"></a><strong><font color="red">5.2 æµ‹è¯• 2ï¼štype: â€œcommonjsâ€ + export default âŒ</font></strong></h3><p>æŠ›å‡º <code>SyntaxError: Unexpected token &#39;export&#39;</code>ã€‚å› ä¸ºæ˜¾å¼å£°æ˜ä¸º CJS åï¼Œå°è¯•ä½¿ç”¨ ESM è¯­æ³•ä¼šè¢«æ•è·ä¸ºéæ³•ã€‚</p><h3 id="5-3-æµ‹è¯•-3ï¼štype-â€œmoduleâ€-export-default-âš ï¸"><a href="#5-3-æµ‹è¯•-3ï¼štype-â€œmoduleâ€-export-default-âš ï¸" class="headerlink" title="5.3 æµ‹è¯• 3ï¼štype: â€œmoduleâ€ + export default âš ï¸"></a><strong><font color="red">5.3 æµ‹è¯• 3ï¼štype: â€œmoduleâ€ + export default âš ï¸</font></strong></h3><p>è™½ç„¶é…ç½®æ–‡ä»¶é€šè¿‡ï¼Œä½†æºä»£ç ä¸­çš„ <code>import</code> å› ä¸ºæ²¡æœ‰å†™ <code>.js</code> åç¼€è€Œå¯¼è‡´è·¯å¾„è§£æå¤±è´¥ã€‚</p><hr><br><h2 id="å…­ã€-æœ€ä½³å®è·µå»ºè®®ï¼ˆåŸºäºå®æµ‹ï¼‰"><a href="#å…­ã€-æœ€ä½³å®è·µå»ºè®®ï¼ˆåŸºäºå®æµ‹ï¼‰" class="headerlink" title="å…­ã€ æœ€ä½³å®è·µå»ºè®®ï¼ˆåŸºäºå®æµ‹ï¼‰"></a><strong>å…­ã€ æœ€ä½³å®è·µå»ºè®®ï¼ˆåŸºäºå®æµ‹ï¼‰</strong></h2><h3 id="6-1-æ¨èé…ç½®ï¼šäº”æ˜Ÿçº§æ–¹æ¡ˆ-â­â­â­â­â­"><a href="#6-1-æ¨èé…ç½®ï¼šäº”æ˜Ÿçº§æ–¹æ¡ˆ-â­â­â­â­â­" class="headerlink" title="6.1 æ¨èé…ç½®ï¼šäº”æ˜Ÿçº§æ–¹æ¡ˆ â­â­â­â­â­"></a><strong><font color="red">6.1 æ¨èé…ç½®ï¼šäº”æ˜Ÿçº§æ–¹æ¡ˆ â­â­â­â­â­</font></strong></h3><ol><li><strong>package.json</strong>: ä¸è®¾ç½® <code>type</code>ã€‚</li><li><strong>webpack.config.js</strong>: ä½¿ç”¨ ESM è¯­æ³•ï¼ˆ<code>import path from &#39;path&#39;</code> å’Œ <code>export default</code>ï¼‰ã€‚</li><li><strong>æºä»£ç </strong>: ä½¿ç”¨æ ‡å‡†çš„ ES6 æ¨¡å—ï¼ˆ<code>import count from &quot;./js/count&quot;</code>ï¼‰ï¼Œäº«å—æ— éœ€åç¼€çš„ç®€æ´æ„Ÿã€‚</li></ol><hr><br><h2 id="ä¸ƒã€-é…ç½®é€‰æ‹©æµç¨‹å›¾"><a href="#ä¸ƒã€-é…ç½®é€‰æ‹©æµç¨‹å›¾" class="headerlink" title="ä¸ƒã€ é…ç½®é€‰æ‹©æµç¨‹å›¾"></a><strong>ä¸ƒã€ é…ç½®é€‰æ‹©æµç¨‹å›¾</strong></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">éœ€è¦é…ç½® package.json çš„ type å—ï¼Ÿ</span><br><span class="line">    â”‚</span><br><span class="line">    â”œâ”€â†’ æ˜¯å¦ä½¿ç”¨ webpack-cli 6.xï¼Ÿ</span><br><span class="line">    â”‚   â”œâ”€â†’ æ˜¯ â†’ æ¨èä¸è®¾ç½® type â­â­â­â­â­ (çµæ´»ã€ç®€æ´)</span><br><span class="line">    â”‚   â””â”€â†’ å¦ â†’ é…ç½®æ–‡ä»¶å¿…é¡»ç”¨ CommonJS</span><br><span class="line">    â”‚</span><br><span class="line">    â”œâ”€â†’ æ˜¯å¦çº¯ ESM é¡¹ç›®ï¼ˆNode.js åŸç”Ÿï¼‰ï¼Ÿ</span><br><span class="line">    â”‚   â”œâ”€â†’ æ˜¯ â†’ &quot;type&quot;: &quot;module&quot; (é¡»åŠ  .js åç¼€)</span><br><span class="line">    â”‚   â””â”€â†’ å¦ â†’ ä¸è®¾ç½® type â­ æœ€æ¨è</span><br></pre></td></tr></table></figure><hr><br><h2 id="å…«ã€-å…³é”®è¦ç‚¹æ€»ç»“"><a href="#å…«ã€-å…³é”®è¦ç‚¹æ€»ç»“" class="headerlink" title="å…«ã€ å…³é”®è¦ç‚¹æ€»ç»“"></a><strong>å…«ã€ å…³é”®è¦ç‚¹æ€»ç»“</strong></h2><ol><li><strong>é»˜è®¤æœ€å¼º</strong>ï¼šä¸è®¾ç½® <code>type</code> æ˜¯ç›®å‰æœ€çµæ´»ã€å…¼å®¹æ€§æœ€å¥½çš„æ–¹æ¡ˆã€‚</li><li><strong>åç¼€è§„åˆ™</strong>ï¼š<code>.mjs</code> å§‹ç»ˆä¸º ESMï¼Œ<code>.cjs</code> å§‹ç»ˆä¸º CommonJSã€‚</li><li><strong>æ™ºèƒ½ cli</strong>ï¼šwebpack-cli 6.x çš„è‡ªåŠ¨åˆ‡æ¢æœºåˆ¶æ˜¯ç®€åŒ–å·¥ç¨‹é…ç½®çš„å…³é”®ã€‚</li><li><strong>Tree Shaking</strong>ï¼šåªçœ‹ä»£ç è¯­æ³•ï¼Œä¸çœ‹ <code>package.json</code> é…ç½®ã€‚</li></ol><hr><br><h2 id="ä¹ã€-å¸¸è§é—®é¢˜-FAQ"><a href="#ä¹ã€-å¸¸è§é—®é¢˜-FAQ" class="headerlink" title="ä¹ã€ å¸¸è§é—®é¢˜ FAQ"></a><strong>ä¹ã€ å¸¸è§é—®é¢˜ FAQ</strong></h2><h3 id="Q1-ä¸è®¾ç½®-type-èƒ½ä½¿ç”¨-Tree-Shaking-å—ï¼Ÿ"><a href="#Q1-ä¸è®¾ç½®-type-èƒ½ä½¿ç”¨-Tree-Shaking-å—ï¼Ÿ" class="headerlink" title="Q1: ä¸è®¾ç½® type èƒ½ä½¿ç”¨ Tree Shaking å—ï¼Ÿ"></a><strong><font color="red">Q1: ä¸è®¾ç½® type èƒ½ä½¿ç”¨ Tree Shaking å—ï¼Ÿ</font></strong></h3><p><strong>âœ… å®Œå…¨å¯ä»¥ï¼</strong> è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„è®¤çŸ¥è¯¯åŒºã€‚Tree Shaking å–å†³äºä½ çš„æºä»£ç æ˜¯å¦ä½¿ç”¨äº† <code>import/export</code> é™æ€åˆ†æï¼Œåªè¦ä»£ç æ˜¯ ESM é£æ ¼ä¸”å¼€å¯äº† <code>production</code> æ¨¡å¼ï¼Œæ‰“åŒ…å™¨å°±èƒ½è¿›è¡Œä¼˜åŒ–ã€‚</p><hr><br><h2 id="åã€-æ€»ç»“"><a href="#åã€-æ€»ç»“" class="headerlink" title="åã€ æ€»ç»“"></a><strong>åã€ æ€»ç»“</strong></h2><h3 id="10-1-æ ¸å¿ƒç»“è®º"><a href="#10-1-æ ¸å¿ƒç»“è®º" class="headerlink" title="10.1 æ ¸å¿ƒç»“è®º"></a><strong><font color="red">10.1 æ ¸å¿ƒç»“è®º</font></strong></h3><p>åœ¨è¿™åœºæ¨¡å—åŒ–æ¼”è¿›ä¸­ï¼Œ<strong>webpack-cli 6.x</strong> é€šè¿‡æ™ºèƒ½åŠ è½½å¼¥åˆäº† CJS ä¸ ESM çš„é…ç½®é¸¿æ²Ÿã€‚<strong>â€œä¸è®¾ç½® type + æºä»£ç ä½¿ç”¨ ESMâ€</strong> æ—¢äº«å—äº†ç°ä»£åŒ–çš„å¼€å‘ä½“éªŒï¼Œåˆé¿å…äº†åŸç”Ÿ ESM ä¸¥æ ¼çš„åç¼€é™åˆ¶ã€‚</p><p><strong>è¿™å°±æ˜¯ Webpack 5 çš„ç»ˆæå·¥ç¨‹åŒ–å®è·µï¼</strong> ğŸ¯</p></div><div class="post-footer"><div>è½¬è½½å£°æ˜ï¼š å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒ,éå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ Â© <a href="" target="_blank">ZHB</a></div><div></div></div></article><div class="article-nav prev-next-wrap clearfix"><a href="/posts/b41c92e1.html" class="pre-post btn btn-default" title="Babel 7 ä»å…¥é—¨åˆ°è¿›é˜¶çš„å…¨åœºæ™¯æŒ‡å—"><i class="fa fa-angle-left fa-fw"></i> <span class="hidden-lg">ä¸Šä¸€ç¯‡</span> <span class="hidden-xs">Babel 7 ä»å…¥é—¨åˆ°è¿›é˜¶çš„å…¨åœºæ™¯æŒ‡å—</span></a> <a href="/posts/wsl2534guide6.html" class="next-post btn btn-default" title="WSL2å®‰è£…ä¸ä½¿ç”¨æŒ‡å—"><span class="hidden-lg">ä¸‹ä¸€ç¯‡</span> <span class="hidden-xs">WSL2å®‰è£…ä¸ä½¿ç”¨æŒ‡å—</span><i class="fa fa-angle-right fa-fw"></i></a></div><div id="comments"><div class="utteranc"><script src="https://utteranc.es/client.js" repo="shenliyang/snippet-comment" issue-term="pathname" issue-number="" theme="github-light" label="" crossorigin="anonymous" async></script></div></div></main><aside id="article-toc" role="navigation" class="col-md-3"><div class="widget"><h3 class="title">æ–‡ç« ç›®å½•</h3><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%9A%80-JavaScript-%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%8E-Webpack-5%EF%BC%9A%E4%BB%8E%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90%E5%88%B0%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%AE%9E%E6%88%98"><span class="toc-text">ğŸš€ JavaScript æ¨¡å—åŒ–ä¸ Webpack 5ï¼šä»åŸç†å‰–æåˆ°å·¥ç¨‹åŒ–å®æˆ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="toc-text">ç›®å½•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81-JavaScript-%E6%A8%A1%E5%9D%97%E5%8C%96%E8%A7%84%E8%8C%83%E8%AF%A6%E8%A7%A3"><span class="toc-text">ä¸€ã€ JavaScript æ¨¡å—åŒ–è§„èŒƒè¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-CommonJS-CJS"><span class="toc-text">1.1 CommonJS (CJS)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-AMD-Asynchronous-Module-Definition"><span class="toc-text">1.2 AMD (Asynchronous Module Definition)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-UMD-Universal-Module-Definition"><span class="toc-text">1.3 UMD (Universal Module Definition)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-ES6-Modules-ESM-%E2%AD%90-%E6%8E%A8%E8%8D%90"><span class="toc-text">1.4 ES6 Modules (ESM) â­ æ¨è</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-CMD-Common-Module-Definition"><span class="toc-text">1.5 CMD (Common Module Definition)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81-ES6-Modules-vs-CommonJS-%E6%A0%B8%E5%BF%83%E5%8C%BA%E5%88%AB%E8%AF%A6%E8%A7%A3"><span class="toc-text">äºŒã€ ES6 Modules vs CommonJS æ ¸å¿ƒåŒºåˆ«è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%80%BC%E7%9A%84%E5%BC%95%E7%94%A8-vs-%E5%80%BC%E7%9A%84%E6%8B%B7%E8%B4%9D"><span class="toc-text">2.1 å€¼çš„å¼•ç”¨ vs å€¼çš„æ‹·è´</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E6%A0%B8%E5%BF%83%E5%8C%BA%E5%88%AB"><span class="toc-text">1ï¼‰æ ¸å¿ƒåŒºåˆ«</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89CommonJS-%E5%80%BC%E7%9A%84%E6%8B%B7%E8%B4%9D%EF%BC%88%E6%8B%8D%E7%85%A7%E7%89%87%EF%BC%89"><span class="toc-text">2ï¼‰CommonJS - å€¼çš„æ‹·è´ï¼ˆæ‹ç…§ç‰‡ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89ES6-Modules-%E5%80%BC%E7%9A%84%E5%BC%95%E7%94%A8%EF%BC%88%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%EF%BC%89"><span class="toc-text">3ï¼‰ES6 Modules - å€¼çš„å¼•ç”¨ï¼ˆè§†é¢‘ç›´æ’­ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%EF%BC%89%E5%BD%A2%E8%B1%A1%E6%AF%94%E5%96%BB"><span class="toc-text">4ï¼‰å½¢è±¡æ¯”å–»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%EF%BC%89%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%99%E5%BE%88%E9%87%8D%E8%A6%81%EF%BC%9F"><span class="toc-text">5ï¼‰ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%EF%BC%89%E6%80%BB%E7%BB%93%E5%AF%B9%E6%AF%94"><span class="toc-text">6ï¼‰æ€»ç»“å¯¹æ¯”</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-Tree-Shaking%EF%BC%88%E6%91%87%E6%A0%91%E4%BC%98%E5%8C%96%EF%BC%89%E8%AF%A6%E8%A7%A3"><span class="toc-text">2.2 Tree Shakingï¼ˆæ‘‡æ ‘ä¼˜åŒ–ï¼‰è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E4%BB%80%E4%B9%88%E6%98%AF-Tree-Shaking%EF%BC%9F"><span class="toc-text">1ï¼‰ä»€ä¹ˆæ˜¯ Tree Shakingï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89Tree-Shaking-%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">2ï¼‰Tree Shaking çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89Tree-Shaking-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-text">3ï¼‰Tree Shaking çš„å·¥ä½œåŸç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%EF%BC%89%E5%A6%82%E4%BD%95%E5%90%AF%E7%94%A8-Tree-Shaking"><span class="toc-text">4ï¼‰å¦‚ä½•å¯ç”¨ Tree Shaking</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%EF%BC%89sideEffects-%E9%85%8D%E7%BD%AE%E7%9A%84%E5%BD%B1%E5%93%8D%E5%AF%B9%E6%AF%94"><span class="toc-text">5ï¼‰sideEffects é…ç½®çš„å½±å“å¯¹æ¯”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%EF%BC%89Tree-Shaking-%E7%9A%84%E9%99%90%E5%88%B6%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-text">6ï¼‰Tree Shaking çš„é™åˆ¶ä¸æœ€ä½³å®è·µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7%EF%BC%89%E5%B8%B8%E8%A7%81%E8%AF%AF%E5%8C%BA%EF%BC%9A%E4%B8%8E-%E2%80%9Ctype%E2%80%9D-%E2%80%9Cmodule%E2%80%9D-%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">7ï¼‰å¸¸è§è¯¯åŒºï¼šä¸ â€œtypeâ€: â€œmoduleâ€ çš„å…³ç³»</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81-package-json-%E4%B8%AD%E7%9A%84-%E2%80%9Ctype%E2%80%9D-%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3"><span class="toc-text">ä¸‰ã€ package.json ä¸­çš„ â€œtypeâ€ é…ç½®è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE%E4%B8%8E%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-text">3.1 åˆå§‹åŒ–é¡¹ç›®ä¸ç›®å½•ç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-npx-%E4%B8%8E-xxx-cli-%E7%9A%84%E5%85%B3%E7%B3%BB%E8%A7%A3%E6%9E%90"><span class="toc-text">3.2 npx ä¸ xxx-cli çš„å…³ç³»è§£æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9%E4%B8%80%E8%A7%88"><span class="toc-text">3.3 é…ç½®é€‰é¡¹ä¸€è§ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F%E8%AF%A6%E8%A7%A3"><span class="toc-text">3.4 ä¸‰ç§æ¨¡å¼è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E4%B8%8D%E8%AE%BE%E7%BD%AE-type%EF%BC%88%E9%BB%98%E8%AE%A4%E8%A1%8C%E4%B8%BA%EF%BC%89%E2%AD%90%E2%AD%90%E2%AD%90%E2%AD%90%E2%AD%90"><span class="toc-text">1ï¼‰ä¸è®¾ç½® typeï¼ˆé»˜è®¤è¡Œä¸ºï¼‰â­â­â­â­â­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E8%AE%BE%E7%BD%AE-%E2%80%9Ctype%E2%80%9D-%E2%80%9Ccommonjs%E2%80%9D"><span class="toc-text">2ï¼‰è®¾ç½® â€œtypeâ€: â€œcommonjsâ€</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89%E8%AE%BE%E7%BD%AE-%E2%80%9Ctype%E2%80%9D-%E2%80%9Cmodule%E2%80%9D"><span class="toc-text">3ï¼‰è®¾ç½® â€œtypeâ€: â€œmoduleâ€</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81-webpack-cli-%E7%89%88%E6%9C%AC%E5%BD%B1%E5%93%8D%EF%BC%88%E5%AE%9E%E6%B5%8B%E7%BB%93%E6%9E%9C%EF%BC%89"><span class="toc-text">å››ã€ webpack-cli ç‰ˆæœ¬å½±å“ï¼ˆå®æµ‹ç»“æœï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-webpack-cli-6-x-%E6%99%BA%E8%83%BD%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6-%F0%9F%8E%89"><span class="toc-text">4.1 webpack-cli 6.x æ™ºèƒ½åŠ è½½æœºåˆ¶ ğŸ‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E6%99%BA%E8%83%BD%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90"><span class="toc-text">4.2 æ™ºèƒ½åŠ è½½åŸç†è§£æ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81-%E5%AE%9E%E6%B5%8B%E9%AA%8C%E8%AF%81%E8%AE%B0%E5%BD%95"><span class="toc-text">äº”ã€ å®æµ‹éªŒè¯è®°å½•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E6%B5%8B%E8%AF%95-1%EF%BC%9A%E4%B8%8D%E8%AE%BE%E7%BD%AE-type-export-default-%E2%9C%85"><span class="toc-text">5.1 æµ‹è¯• 1ï¼šä¸è®¾ç½® type + export default âœ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E6%B5%8B%E8%AF%95-2%EF%BC%9Atype-%E2%80%9Ccommonjs%E2%80%9D-export-default-%E2%9D%8C"><span class="toc-text">5.2 æµ‹è¯• 2ï¼štype: â€œcommonjsâ€ + export default âŒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E6%B5%8B%E8%AF%95-3%EF%BC%9Atype-%E2%80%9Cmodule%E2%80%9D-export-default-%E2%9A%A0%EF%B8%8F"><span class="toc-text">5.3 æµ‹è¯• 3ï¼štype: â€œmoduleâ€ + export default âš ï¸</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E5%BB%BA%E8%AE%AE%EF%BC%88%E5%9F%BA%E4%BA%8E%E5%AE%9E%E6%B5%8B%EF%BC%89"><span class="toc-text">å…­ã€ æœ€ä½³å®è·µå»ºè®®ï¼ˆåŸºäºå®æµ‹ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E6%8E%A8%E8%8D%90%E9%85%8D%E7%BD%AE%EF%BC%9A%E4%BA%94%E6%98%9F%E7%BA%A7%E6%96%B9%E6%A1%88-%E2%AD%90%E2%AD%90%E2%AD%90%E2%AD%90%E2%AD%90"><span class="toc-text">6.1 æ¨èé…ç½®ï¼šäº”æ˜Ÿçº§æ–¹æ¡ˆ â­â­â­â­â­</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81-%E9%85%8D%E7%BD%AE%E9%80%89%E6%8B%A9%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-text">ä¸ƒã€ é…ç½®é€‰æ‹©æµç¨‹å›¾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81-%E5%85%B3%E9%94%AE%E8%A6%81%E7%82%B9%E6%80%BB%E7%BB%93"><span class="toc-text">å…«ã€ å…³é”®è¦ç‚¹æ€»ç»“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98-FAQ"><span class="toc-text">ä¹ã€ å¸¸è§é—®é¢˜ FAQ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Q1-%E4%B8%8D%E8%AE%BE%E7%BD%AE-type-%E8%83%BD%E4%BD%BF%E7%94%A8-Tree-Shaking-%E5%90%97%EF%BC%9F"><span class="toc-text">Q1: ä¸è®¾ç½® type èƒ½ä½¿ç”¨ Tree Shaking å—ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81-%E6%80%BB%E7%BB%93"><span class="toc-text">åã€ æ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-%E6%A0%B8%E5%BF%83%E7%BB%93%E8%AE%BA"><span class="toc-text">10.1 æ ¸å¿ƒç»“è®º</span></a></li></ol></li></ol></li></ol></div></aside></div></div></section><footer class="main-footer"><div class="container"><div class="row"></div></div></footer><a id="back-to-top" class="icon-btn hide"><i class="fa fa-chevron-up"></i></a><div class="copyright"><div class="container"><div class="row"><div class="col-sm-12"><div class="busuanzi"></div></div><div class="col-sm-12"><span>Copyright &copy; 2017</span> | <span>Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a></span> | <span>Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a></span></div></div></div></div><script src="/js/app.js?rev=2f9097f8c1d5adfecd923b78b47be31b"></script></body></html>
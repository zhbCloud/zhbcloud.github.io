{"meta":{"title":"Hå¤šçœ‹æºç å¤šè¯»ä¹¦ - å‹¤äºæ€è€ƒå–„é¢†æ‚Ÿ","subtitle":"","description":"","author":"ZHB","url":"http://example.com","root":"/"},"pages":[{"title":"å…³äºæˆ‘","date":"2025-10-28T16:03:32.000Z","updated":"2026-03-01T16:07:38.354Z","comments":true,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":"æ¬¢è¿è®¿é—®æˆ‘çš„åšå®¢è¿™é‡Œæ˜¯æˆ‘çš„ä¸ªäººåšå®¢ï¼Œä¸»è¦åˆ†äº«å‰ç«¯å·¥å…·ç›¸å…³çš„æŠ€æœ¯æ–‡ç« ã€‚ å…³äºåšä¸» çƒ­çˆ±ç¼–ç¨‹å’ŒæŠ€æœ¯åˆ†äº« ä¸»è¦å…³æ³¨å‰ç«¯å¼€å‘ å–œæ¬¢æ¢ç´¢å„ç§å¼€å‘å·¥å…·å’ŒæŠ€æœ¯æ ˆ~ è”ç³»æ–¹å¼ GitHub: é‚®ç®±: æ„Ÿè°¢æ‚¨çš„è®¿é—®ï¼"},{"title":"åˆ†ç±»","date":"2025-10-28T16:15:28.000Z","updated":"2026-03-01T16:07:38.354Z","comments":true,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2025-10-28T16:15:28.000Z","updated":"2026-03-01T16:07:38.363Z","comments":true,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"ã€ç½®é¡¶ã€‘è¶…çº§æœ‰ç”¨çš„html/css/js/vueç­‰æŠ€å·§ æŒç»­æ›´æ–°ä¸­","slug":"100-ã€ç½®é¡¶ã€‘å‰ç«¯è¶…çº§æœ‰ç”¨çš„æŠ€å·§ æŒç»­æ›´æ–°ä¸­","date":"2030-08-22T11:22:13.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/8e2e021e.html","permalink":"http://example.com/posts/8e2e021e.html","excerpt":"","text":"ä¸€ã€HTMLæš‚æ—  äºŒã€CSS1ã€æ¸…é™¤æµ®åŠ¨12345678910111213// æ¸…é™¤æµ®åŠ¨ï¼ˆåŒä¼ªå…ƒç´ ï¼‰.clearfix:before,.clearfix:after &#123; content: &#x27;&#x27;; display: table;&#125;.clearfix:after &#123; clear: both;&#125;// ie6 7 ä¸“é—¨æ¸…é™¤æµ®åŠ¨çš„æ ·å¼.clearfix &#123; *zoom: 1;&#125; æ¸…é™¤æµ®åŠ¨çš„åŸç† clear:bothæ¸…é™¤æµ®åŠ¨çš„å…³é”® clearæ˜¯CSSä¸­çš„å®šä½å±æ€§ï¼Œè§„å®šå…ƒç´ çš„å“ªä¸€ä¾§ä¸å…è®¸å…¶ä»–æµ®åŠ¨å…ƒç´ ã€‚é‚£ä¹ˆclear:bothå°±æ˜¯è§„å®šåœ¨å·¦å³ä¸¤ä¾§å‡ä¸å…è®¸æµ®åŠ¨å…ƒç´ ã€‚ clearå±æ€§åªèƒ½åœ¨å—çº§å…ƒç´ ä¸Šå…¶ä½œç”¨ï¼Œè¿™å°±æ˜¯æ¸…é™¤æµ®åŠ¨æ ·å¼ä¸­display:tableçš„ä½œç”¨ã€‚ ä¸‰ã€JavaScript1ã€åŸºäºURLSearchParamsæˆ–URLè·å–queryStringçš„å€¼æµ‹è¯•é“¾æ¥ï¼š https://cf.cmpay.com/mpl/credit_orderResult.html?orderNo=50620520605&amp;orderDate=2052 URLSearchParams 1234567// location.search å–åˆ°çš„æ˜¯&quot;?orderNo=50620520605&amp;orderDate=2052&quot;const urlSP = new URLSearchParams(location.search);function getQueryString(key) &#123; return urlSP.get(key)&#125;getQueryString(&#x27;orderNo&#x27;) // 50620520605 URL 12345const urlObj = new URL(location.href);function getQueryString(key) &#123; return urlObj.searchParams.get(key)&#125;getQueryString(&#x27;orderNo&#x27;) // 50620520605 2ã€åŸºäºatobå’Œbtoaçš„base64ç¼–ç å’Œè§£ç æµè§ˆå™¨å†…ç½®äº†base64ç¼–ç å’Œè§£ç çš„èƒ½åŠ› 123456789101112131415# encodeURIComponent() å‡½æ•°å¯æŠŠå­—ç¬¦ä¸²ä½œä¸º URI ç»„ä»¶è¿›è¡Œç¼–ç # unescape() å‡½æ•°å¯å¯¹é€šè¿‡ escape() ç¼–ç çš„å­—ç¬¦ä¸²è¿›è¡Œè§£ç # btoa() æ–¹æ³•ç”¨äºåˆ›å»ºä¸€ä¸ª base-64 ç¼–ç çš„å­—ç¬¦ä¸²# atob() æ–¹æ³•ç”¨äºè§£ç ä½¿ç”¨ base-64 ç¼–ç çš„å­—ç¬¦ä¸²function utf8_to_b64( str ) &#123; return window.btoa(unescape(encodeURIComponent( str )));&#125;function b64_to_utf8( str ) &#123; return decodeURIComponent(escape(window.atob( str )));&#125;utf8_to_b64(&#x27;âœ“ Ã  la mode&#x27;); // &quot;4pyTIMOgIGxhIG1vZGU=&quot;b64_to_utf8(&#x27;4pyTIMOgIGxhIG1vZGU=&#x27;); // &quot;âœ“ Ã  la mode&quot; 3ã€ç›¸å¯¹åœ°å€è½¬æ¢ä¸ºç»å¯¹åœ°å€12345678function realativeToAbs(href) &#123; let aEl = document.createElement(&quot;a&quot;); aEl.href = href; const result = aEl.href; aEl = null; return result;&#125;realativeToAbs(&quot;../a/b/b/index.html&quot;) // http://127.0.0.1:5500/a/b/b/index.html 4 ã€ç¦æ­¢å›¾ç‰‡æ‹–æ‹½ã€ç¦æ­¢å³é”®ã€ç¦æ­¢é€‰æ‹©ã€ç¦æ­¢å¤åˆ¶123456[&#x27;dragstart&#x27;,&#x27;contextmenu&#x27;, &#x27;selectstart&#x27;, &#x27;copy&#x27;].forEach(function (ev) &#123; document.addEventListener(ev, function (ev) &#123; ev.preventDefault(); ev.returnValue = false; &#125;)&#125;); 5ã€es6çš„è§£æ„èµ‹å€¼1234567891011121314151617181920212223242526272829const obj = &#123; a:1, b:2, c:3, d:4, e:5,&#125;#åæ§½ï¼šconst a = obj.a;const b = obj.b;const c = obj.c;const d = obj.d;const e = obj.e;#æ”¹è¿›ï¼šconst &#123;a,b,c,d,e&#125; = obj;#å…¶ä»–ï¼š// å±æ€§åå’Œå˜é‡åä¸ä¸€æ ·æ—¶let &#123; a: f, b: l &#125; = obj;f // 1l // 2// æŒ‡å®šé»˜è®¤å€¼let &#123; x = 11 &#125; = &#123;&#125;;let [a = 66] = [];x // 11a // 66 æ³¨æ„è§£æ„çš„å¯¹è±¡ä¸èƒ½ä¸ºundefinedã€nullã€‚å¦åˆ™ä¼šæŠ¥é”™ï¼Œæ•…è¦ç»™è¢«è§£æ„çš„å¯¹è±¡ä¸€ä¸ªé»˜è®¤å€¼ã€‚ const {a,b,c,d,e} &#x3D; obj || {}; 6ã€åˆå¹¶æ•°æ®12345678910111213141516171819#åæ§½ï¼šconst a = [1,2,3];const b = [1,5,6];const c = a.concat(b);//[1,2,3,1,5,6]const obj1 = &#123; a: 1, b: 33 &#125;const obj2 = &#123; b: 2, c: 66 &#125;const obj = Object.assign(&#123;&#125;, obj1, obj2) //&#123;a: 1, b: 2, c: 66&#125; å±æ€§åç›¸åŒæœ€åå¯¹è±¡è¦†ç›–å‰é¢å¯¹è±¡#æ”¹è¿›ï¼šconst a = [1, 2, 3];const b = [1, 5, 6];const c = [...a, ...b] //[1,2,3,1,5,6] ä¸å»é‡const c = [...new Set([...a, ...b])] //[1,2,3,5,6] å»é‡const obj1 = &#123; a: 1, b: 33 &#125;const obj2 = &#123; b: 2, c: 66 &#125;console.log(&#123;...obj1, ...obj2&#125;); //&#123;a: 1, b: 2, c: 66&#125; 7ã€å…³äºæ‹¼æ¥å­—ç¬¦ä¸²12345678910111213const name = &#x27;å°æ˜&#x27;;const score = 59;#åæ§½ï¼šlet result = &#x27;&#x27;;if(score &gt; 60)&#123; result = `$&#123;name&#125;çš„è€ƒè¯•æˆç»©åŠæ ¼`; &#125;else&#123; result = `$&#123;name&#125;çš„è€ƒè¯•æˆç»©ä¸åŠæ ¼`; &#125;#æ”¹è¿›ï¼šconst result = `$&#123;name&#125;$&#123;score &gt; 60?&#x27;çš„è€ƒè¯•æˆç»©åŠæ ¼&#x27;:&#x27;çš„è€ƒè¯•æˆç»©ä¸åŠæ ¼&#x27;&#125;`; // å°æ˜çš„è€ƒè¯•æˆç»©ä¸åŠæ ¼ 8ã€æ‰å¹³åŒ–æ•°ç»„1234567891011121314151617181920const deps = &#123; &#x27;é‡‡è´­éƒ¨&#x27;:[1,2,3], &#x27;äººäº‹éƒ¨&#x27;:[5,8,12], &#x27;è¡Œæ”¿éƒ¨&#x27;:[5,14,79], &#x27;è¿è¾“éƒ¨&#x27;:[3,64,105],&#125;#åæ§½ï¼šlet member = [];for (let item in deps)&#123; const value = deps[item]; if(Array.isArray(value))&#123; member = [...member,...value] &#125;&#125;member = [...new Set(member)] // [1, 2, 3, 5, 8, 12, 14, 79, 64, 105]#æ”¹è¿›ï¼šlet member = Object.values(deps).flat(Infinity); // [1, 2, 3, 5, 8, 12, 14, 79, 64, 105] 9ã€æ·»åŠ å¯¹è±¡å±æ€§12345678910#åæ§½ï¼šlet obj = &#123;&#125;;let index = 1;let key = `topic$&#123;index&#125;`;obj[key] = &#x27;è¯é¢˜å†…å®¹&#x27;;#æ”¹è¿›ï¼šes6let obj = &#123;&#125;;let index = 1;obj[`topic$&#123;index&#125;`] = &#x27;è¯é¢˜å†…å®¹&#x27;; 10ã€éç©ºçš„åˆ¤æ–­ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ??ï¼‰ åªæœ‰å½“å·¦ä¾§ä¸ºnullå’Œundefinedæ—¶ï¼Œæ‰ä¼šè¿”å›å³ä¾§çš„å€¼ 123if(a === null || a === undefined) &#123; doSomething()&#125; ä¹Ÿå°±æ˜¯å¦‚æœéœ€è¦éªŒè¯ä¸€ä¸ªå€¼æ˜¯å¦ç­‰äºnullæˆ–è€…undefinedï¼Œå¯ä»¥ä½¿ç”¨nullåˆå¹¶æ“ä½œç¬¦æ¥ç®€åŒ–ä¸Šé¢çš„ä»£ç ã€‚ 1a ?? doSomething() è¿™æ ·ï¼Œä»…å½“ a æœªå®šä¹‰æˆ–ä¸ºç©ºæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œæ§åˆ¶åˆå¹¶è¿ç®—ç¬¦ä¹‹åçš„ä»£ç ã€‚ç©ºåˆå¹¶è¿ç®—ç¬¦ ??æ˜¯ä¸€ä¸ªé€»è¾‘è¿ç®—ç¬¦ï¼Œå½“å·¦ä¾§æ“ä½œæ•°ä¸º null æˆ–æœªå®šä¹‰æ—¶è¿”å›å…¶å³ä¾§æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦ä¾§æ“ä½œæ•°ã€‚ ä¾‹å­ï¼š 1234567891011const nullValue = null;const emptyText = &quot;&quot;; // ç©ºå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ªå‡å€¼ï¼ŒBoolean(&quot;&quot;) === falseconst someNumber = 42;const valA = nullValue ?? &quot;valA çš„é»˜è®¤å€¼&quot;;const valB = emptyText ?? &quot;valB çš„é»˜è®¤å€¼&quot;;const valC = someNumber ?? 0;console.log(valA); // &quot;valA çš„é»˜è®¤å€¼&quot;console.log(valB); // &quot;&quot;ï¼ˆç©ºå­—ç¬¦ä¸²è™½ç„¶æ˜¯å‡å€¼ï¼Œä½†ä¸æ˜¯ null æˆ–è€… undefinedï¼‰console.log(valC); // 42 11ã€è·å–å¯¹è±¡å±æ€§å€¼å¯é€‰é“¾æ“ä½œç¬¦ ï¼ˆ?.ï¼‰ 12345#åæ§½ï¼šconst name = obj &amp;&amp; obj.name;#æ”¹è¿›ï¼šes6const name = obj?.name; 12ã€htmlç¼–ç å’Œè§£ç 12345678910111213141516171819202122232425#1.ç”¨æµè§ˆå™¨å†…éƒ¨è½¬æ¢å™¨å®ç°htmlç¼–ç ï¼ˆè½¬ä¹‰ï¼‰htmlEncode: function (html) &#123; //1.é¦–å…ˆåŠ¨æ€åˆ›å»ºä¸€ä¸ªå®¹å™¨æ ‡ç­¾å…ƒç´ ï¼Œå¦‚DIV var temp = document.createElement(&quot;div&quot;); //2.ç„¶åå°†è¦è½¬æ¢çš„å­—ç¬¦ä¸²è®¾ç½®ä¸ºè¿™ä¸ªå…ƒç´ çš„innerTextæˆ–è€…textContent (temp.textContent != undefined) ? (temp.textContent = html) : (temp.innerText = html); //3.æœ€åè¿”å›è¿™ä¸ªå…ƒç´ çš„innerHTMLï¼Œå³å¾—åˆ°ç»è¿‡HTMLç¼–ç è½¬æ¢çš„å­—ç¬¦ä¸²äº† var output = temp.innerHTML; temp = null; return output;&#125;console.log(htmlEncode(&quot;&lt;div class=&#x27;demo&#x27;&gt;æµ‹è¯•&lt;/div&gt;&quot;));#2.ç”¨æµè§ˆå™¨å†…éƒ¨è½¬æ¢å™¨å®ç°htmlè§£ç ï¼ˆåè½¬ä¹‰ï¼‰htmlDecode: function (text) &#123; //1.é¦–å…ˆåŠ¨æ€åˆ›å»ºä¸€ä¸ªå®¹å™¨æ ‡ç­¾å…ƒç´ ï¼Œå¦‚DIV var temp = document.createElement(&quot;div&quot;); //2.ç„¶åå°†è¦è½¬æ¢çš„å­—ç¬¦ä¸²è®¾ç½®ä¸ºè¿™ä¸ªå…ƒç´ çš„innerHTML(ieï¼Œç«ç‹ï¼Œgoogleéƒ½æ”¯æŒ) temp.innerHTML = text; //3.æœ€åè¿”å›è¿™ä¸ªå…ƒç´ çš„innerTextæˆ–è€…textContentï¼Œå³å¾—åˆ°ç»è¿‡HTMLè§£ç çš„å­—ç¬¦ä¸²äº†ã€‚ var output = temp.innerText || temp.textContent; temp = null; return output;&#125;console.log(htmlDecode(&quot;&amp;lt;div class=&#x27;demo&#x27;&amp;gt;æµ‹è¯•&amp;lt;/div&amp;gt;&quot;)); 13ã€ç®­å¤´å‡½æ•°var func &#x3D; () &#x3D;&gt; ({ foo: 1 }); è¿”å›çš„æ˜¯æ‹¬å·é‡Œé¢çš„å¯¹è±¡ 1234let age = prompt(&quot;What is your age?&quot;, 18);let welcome = (age &lt; 18) ? () =&gt; alert(&#x27;Hello&#x27;) : () =&gt; alert(&quot;Greetings!&quot;);welcome(); é‡è¦ç‰¹æ€§ 1ï¼‰æ²¡æœ‰arguments 1234567891011121314# 1ã€æ™®é€šå‡½æ•°ä¸­çš„argumentsæ­£ç¡®ä½¿ç”¨ï¼šfunction foo(n) &#123; // arguments[0] è¡¨ç¤ºä¼ ç»™fooå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå°±æ˜¯n var f = () =&gt; arguments[0] + n; return f();&#125;foo(1); // 2foo(3); // 6foo(3, 2);//6# 2ã€ç®­å¤´å‡½æ•°ä¸­æ— æ³•ä½¿ç”¨arguments// ReferenceError: arguments is not definedvar func = (a, b) =&gt; &#123;return arguments[0];&#125; 2ï¼‰æ²¡æœ‰prototypeå±æ€§ 12var Foo = () =&gt; &#123;&#125;;console.log(Foo.prototype); // undefined 3ï¼‰ä¸èƒ½ä½¿ç”¨new ç®­å¤´å‡½æ•°æ²¡æœ‰thisï¼Œä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ— æ³•ä½¿ç”¨ new 12var Foo = () =&gt; &#123;&#125;;var foo = new Foo(); // TypeError: Foo is not a constructor 14ã€åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„å¦‚æœä½ æƒ³åˆå§‹åŒ–ä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„ä¸€ç»´æ•°ç»„å¹¶æŒ‡å®šé»˜è®¤å€¼ï¼Œä½ å¯ä»¥è¿™æ ·åšã€‚ 12const array = Array(6).fill(&#x27;&#x27;); // [&#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;] å¦‚æœä½ æƒ³åˆå§‹åŒ–ä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„äºŒç»´æ•°ç»„å¹¶æŒ‡å®šé»˜è®¤å€¼ï¼Œä½ å¯ä»¥è¿™æ ·åšã€‚ 123456789const matrix = Array(6).fill(0).map(() =&gt; Array(5).fill(0)); // [// [0, 0, 0, 0, 0],// [0, 0, 0, 0, 0],// [0, 0, 0, 0, 0],// [0, 0, 0, 0, 0],// [0, 0, 0, 0, 0],// [0, 0, 0, 0, 0],// ] 15ã€æ•°ç»„æ±‚å’Œ&#x2F;æœ€å¤§å€¼&#x2F;æœ€å°å€¼1const array = [5,4,7,8,9,2]; 1ï¼‰æ±‚å’Œ 1array.reduce((a,b) =&gt; a+b); 2ï¼‰å¯»æ‰¾æœ€å¤§å€¼ 1array.reduce((a,b) =&gt; a &gt; b ? a : b); Math.max(...array) 2ï¼‰å¯»æ‰¾æœ€å°å€¼ 1array.reduce((a,b) =&gt; a &lt; b ? a : b); Math.min(...array) è¯·è®°ä½ï¼šæ•°ç»„çš„reduceæ–¹æ³•å¯ä»¥ç”¨æ¥è§£å†³å¾ˆå¤šæ•°ç»„æ±‚å€¼é—®é¢˜ã€‚ 16ã€æ»¤é”™è¯¯å€¼å¦‚æœè¦è¿‡æ»¤æ•°ç»„ä¸­çš„å€¼ï¼Œä¾‹å¦‚ falseã€0ã€nullã€undefined ç­‰ï¼Œå¯ä»¥è¿™æ ·åšã€‚ 123const array = [1, 0, undefined, 6, 7, &#x27;&#x27;, false];array.filter(Boolean);// [1, 6, 7] 17ã€ç©ºæ•°ç»„å¦‚æœè¦æ¸…ç©ºæ•°ç»„ï¼Œå¯ä»¥å°†æ•°ç»„çš„é•¿åº¦è®¾ç½®ä¸º 0ã€‚ 123let array = [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;]array.length = 0 console.log(array) // [] 18ã€è®¡ç®—æ€§èƒ½ä»¥ä¸‹æ“ä½œå¯ç”¨äºè®¡ç®—ä»£ç çš„æ€§èƒ½ã€‚ 1234567const startTime = performance.now(); for(let i = 0; i &lt; 1000; i++) &#123; console.log(i)&#125;const endTime = performance.now();const totaltime = endTime - startTime;console.log(totaltime); // 10.3333333 19ã€å°†æ•°ç»„å…ƒç´ è½¬æ¢ä¸ºæ•°å­—å¦‚æœæœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸”ä½ æƒ³å°†æ•°ç»„çš„å…ƒç´ è½¬æ¢ä¸ºæ•°å­—ï¼Œä½ å¯ä»¥ä½¿ç”¨ map æ–¹æ³•æ¥å®Œæˆã€‚ 12const array = [&#x27;12&#x27;, &#x27;1&#x27;, &#x27;3.1415&#x27;, &#x27;-10.01&#x27;];array.map(Number); // [12, 1, 3.1415, -10.01] è¿™æ ·ï¼Œmap å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œ Number æ„é€ å‡½æ•°ï¼Œå¹¶åœ¨éå†æ•°ç»„æ—¶è¿”å›ç»“æœã€‚ 20ã€å°†ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•å°†ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„ã€‚ 1Array.prototype.slice.call(arguments); æ­¤å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦æ¥å®ç°ã€‚ 1[...arguments] 21ã€å¯¹è±¡å±æ€§çš„åŠ¨æ€å£°æ˜å¦‚æœä½ æƒ³åŠ¨æ€åœ°ä¸ºä¸€ä¸ªå¯¹è±¡å£°æ˜å±æ€§ï¼Œä½ å¯ä»¥è¿™æ ·åšã€‚ 123456const dynamic = &#x27;color&#x27;;var item = &#123; brand: &#x27;Ford&#x27;, [dynamic]: &#x27;Blue&#x27;&#125;console.log(item); // &#123; brand: &quot;Ford&quot;, color: &quot;Blue&quot; &#125; 22ã€ç¼©çŸ­console.log()æ¯æ¬¡debugéƒ½è¦å†™å¾ˆå¤šconsole.log()ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å½¢å¼æ¥ç®€åŒ–è¿™æ®µä»£ç ã€‚ 123const c = console.log.bind(document) c(222) c(&quot;hello world&quot;) è¿™å°†æ¯æ¬¡åªæ‰§è¡Œ c æ–¹æ³•ã€‚ 23ã€åˆ é™¤æ•°ç»„å…ƒç´ å¦‚æœæˆ‘ä»¬æƒ³åˆ é™¤ä¸€ä¸ªæ•°ç»„çš„å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨deleteæ¥å®Œæˆï¼Œä½†æ˜¯åˆ é™¤åå…ƒç´ ä¼šå˜æˆundefinedï¼Œä¸ä¼šæ¶ˆå¤±ï¼Œè€Œä¸”æ‰§è¡Œä¼šæ¶ˆè€—å¾ˆå¤šæ—¶é—´ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸ä¼šæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°ç»„çš„ slice() æ–¹æ³•æ¥åˆ é™¤æ•°ç»„çš„å…ƒç´ ã€‚ 1234const array = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]const arrayRemoveed = array.splice(0, 2)console.log(array) // [&quot;c&quot;, &quot;d&quot;]console.log(arrayRemoveed) // [&quot;a&quot;, &quot;b&quot;] 24ã€æ£€æŸ¥å¯¹è±¡æ˜¯å¦ä¸ºç©ºå¦‚æœæˆ‘ä»¬æƒ³æ£€æŸ¥å¯¹è±¡æ˜¯å¦ä¸ºç©ºï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å†…å®¹ã€‚ 12Object.keys(&#123;&#125;).length // 0Object.keys(&#123;key: 1&#125;).length // 1 Object.keys() æ–¹æ³•ç”¨äºè·å–å¯¹è±¡çš„é”®ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªåŒ…å«è¿™äº›é”®å€¼çš„æ•°ç»„ã€‚å¦‚æœè¿”å›æ•°ç»„çš„é•¿åº¦ä¸º 0ï¼Œåˆ™è¯¥å¯¹è±¡å¿…é¡»ä¸ºç©ºã€‚ 25ã€è·å–æ•°ç»„ä¸­çš„æœ€åä¸€é¡¹1const arr = [1, 2, 3, 4, 5]; 1ã€å¦‚æœè¦è·å–æ•°ç»„ä¸­çš„æœ€åä¸€é¡¹ï¼Œé€šå¸¸ä¼šè¿™æ ·ç¼–å†™ä»£ç ã€‚ 1arr[arr.length - 1] // 5 2ã€æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„çš„ slice æ–¹æ³•æ¥è·å–æœ€åä¸€ä¸ªå…ƒç´ ã€‚ 1arr.slice(-1) // 5 å½“æˆ‘ä»¬å°† slice æ–¹æ³•çš„å‚æ•°è®¾ç½®ä¸ºè´Ÿå€¼æ—¶ï¼Œå®ƒä¼šä»æ•°ç»„åé¢å¼€å§‹æˆªå–æ•°ç»„å€¼ï¼Œå¦‚æœè¦æˆªå–æœ€åä¸¤ä¸ªå€¼ï¼Œåˆ™ä¼ å…¥å‚æ•°-2ã€‚ 3ã€ä½¿ç”¨â€œatæ–¹æ³•â€è¯»å– 12array.at(-1) // 5array.at(0) // 1 26ã€æ•°ç»„å…ƒç´ çš„éšæœºæ’åº12345const arr = [2,3,6,9,7,4,11,99,7,1,6,5,7,]const newArr = arr.map(val =&gt; (&#123; v: val, r: Math.random() &#125;));newArr.sort((a, b) =&gt; a.r - b.r);const showList = newArr.map(val =&gt; val.v).slice(0, 6); // æˆªå–é•¿åº¦æœª6çš„éšæœºæ•°ç»„console.log(showList) å››ã€Vue1ã€computedä¸­ä½¿ç”¨thisï¼Ÿæˆ‘ä»¬é€šè¿‡thisèƒ½è®¿é—®åˆ°çš„æ•°æ®ï¼Œåœ¨computedçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸Šéƒ½èƒ½ç»“æ„å‡ºæ¥ 12345678910111213export default &#123; data() &#123; return &#123; address: &#x27;é»„å±±&#x27;, &#125; &#125;, computed: &#123; haha(&#123; address, $attrs, $route, $store, $listeners, $ref &#125;) &#123; console.log(address) // é»„å±± return 111 &#125; &#125;&#125; 2ã€é¿å…v-ifå’Œv-forä¸€èµ·ä½¿ç”¨åœ¨vueçš„æºç ä¸­æœ‰ä¸€æ®µä»£ç æ˜¯å¯¹æŒ‡ä»¤çš„ä¼˜å…ˆçº§çš„å¤„ç† ä¸å¥½çš„ 12345678910#åæ§½ï¼š# è¿™æ®µä»£ç æ˜¯å…ˆå¤„ç†v-forå†å¤„ç†v-ifçš„// æ¯”å¦‚è¿™ä¸ªåˆ—è¡¨æœ‰ä¸€ç™¾æ¡æ•°æ®ï¼Œå†æŸç§æƒ…å†µä¸‹ï¼Œå®ƒä»¬éƒ½ä¸éœ€è¦æ˜¾ç¤ºï¼Œå½“vueè¿˜æ˜¯ä¼šå¾ªç¯è¿™ä¸ª100æ¡æ•°æ®æ˜¾ç¤ºï¼Œå†å»åˆ¤æ–­v-ifï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åº”è¯¥é¿å…è¿™ç§æƒ…å†µçš„å‡ºç°ã€‚&lt;h3 v-if=&quot;status&quot; v-for=&quot;item in 100&quot; :key=&quot;item&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/h3&gt;#ä¼˜åŒ–&lt;template v-if=&quot;status&quot; &gt; &lt;h3 v-for=&quot;item in 100&quot; :key=&quot;item&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/h3&gt;&lt;/template&gt; 3ã€ä¿®é¥°ç¬¦syncvue ä¿®é¥°ç¬¦syncçš„åŠŸèƒ½æ˜¯ï¼šå½“ä¸€ä¸ªå­ç»„ä»¶æ”¹å˜äº†ä¸€ä¸ª prop çš„å€¼æ—¶ï¼Œè¿™ä¸ªå˜åŒ–ä¹Ÿä¼šåŒæ­¥åˆ°çˆ¶ç»„ä»¶ä¸­æ‰€ç»‘å®š 12345678910111213141516171819202122232425262728293031323334353637383940414243// çˆ¶ç»„ä»¶template&gt; &lt;div&gt; &lt;Toggle :show.sync = &#x27;isShow&#x27;&gt;&lt;/Toggle&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; data () &#123; return &#123; isShow: true &#125; &#125; &#125;&lt;script&gt; # ç­‰åŒäºä¸Šé¢çš„å†™æ³•// çˆ¶ç»„ä»¶template&gt; &lt;div&gt; &lt;Toggle :show = &#x27;isShow&#x27; @update:show=&quot;change&quot;&gt;&lt;/Toggle&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; props:&#123; isShow: &#123; type: Boolean &#125; &#125;, data () &#123; return &#123; isShow: true &#125; &#125;, method: &#123; change(val) &#123; // å­ç»„ä»¶ä¼ æ¥çš„false this.isShow = val &#125; &#125; &#125;&lt;script&gt; 1234567891011121314151617181920// å­ç»„ä»¶&lt;template&gt; &lt;div&gt; &lt;div v-if=&quot;show&quot;&gt; å±•ç¤ºå’Œéšè—ç»„ä»¶ &lt;/div&gt; &lt;button @click=&quot;test&quot;&gt;éšè—ç»„ä»¶&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; props:[&#x27;show&#x27;], methods: &#123; test()&#123; this.$emit(&#x27;update:show&#x27;,false) //è§¦å‘ input äº‹ä»¶ï¼Œå¹¶ä¼ å…¥æ–°å€¼ &#125; &#125;&#125;&lt;/script&gt; äº”ã€IOSå’Œå®‰å“è¸©å‘1ã€IOSæ»‘åŠ¨ä¸æµç•…è¡¨ç° ä¸Šä¸‹æ»‘åŠ¨é¡µé¢ä¼šäº§ç”Ÿå¡é¡¿ï¼Œæ‰‹æŒ‡ç¦»å¼€é¡µé¢ï¼Œé¡µé¢ç«‹å³åœæ­¢è¿åŠ¨ã€‚æ•´ä½“è¡¨ç°å°±æ˜¯æ»‘åŠ¨ä¸æµç•…ï¼Œæ²¡æœ‰æ»‘åŠ¨æƒ¯æ€§ã€‚ ä¸ºä»€ä¹ˆ iOS çš„ webview ä¸­ æ»‘åŠ¨ä¸æµç•…ï¼Œå®ƒæ˜¯å¦‚ä½•å®šä¹‰çš„ï¼Ÿ åŸæ¥åœ¨ iOS 5.0 ä»¥åŠä¹‹åçš„ç‰ˆæœ¬ï¼Œæ»‘åŠ¨ -webkit-overflow-scrolling æœ‰å®šä¹‰æœ‰ä¸¤ä¸ªå€¼ auto å’Œ touchï¼Œé»˜è®¤å€¼ä¸º auto 123-webkit-overflow-scrolling: touch; /* å½“æ‰‹æŒ‡ä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œä¼šä¿æŒä¸€æ®µæ—¶é—´çš„æ»šåŠ¨ */-webkit-overflow-scrolling: auto; /* å½“æ‰‹æŒ‡ä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œæ»šåŠ¨ä¼šç«‹å³åœæ­¢ */ è§£å†³æ–¹æ¡ˆ 1ï¼‰åœ¨ æ»šåŠ¨å®¹å™¨ä¸Š å¢åŠ æ»šåŠ¨ touch æ–¹æ³• å°†-webkit-overflow-scrolling å€¼è®¾ç½®ä¸º touch 123.wrapper &#123; -webkit-overflow-scrolling: touch;&#125; è®¾ç½®æ»šåŠ¨æ¡éšè—ï¼š .container ::-webkit-scrollbar &#123;display: none;&#125; å¯èƒ½ä¼šå¯¼è‡´ä½¿ç”¨position:fixed; å›ºå®šå®šä½çš„å…ƒç´ ï¼Œéšç€é¡µé¢ä¸€èµ·æ»šåŠ¨ 2ï¼‰è®¾ç½® overflow è®¾ç½®å¤–éƒ¨ overflow ä¸º hidden,è®¾ç½®å†…å®¹å…ƒç´  overflow ä¸º autoã€‚å†…éƒ¨å…ƒç´ è¶…å‡º body å³äº§ç”Ÿæ»šåŠ¨ï¼Œè¶…å‡ºçš„éƒ¨åˆ† body éšè—ã€‚ 123456body &#123; overflow-y: hidden;&#125;.wrapper &#123; overflow-y: auto;&#125; ä¸¤è€…ç»“åˆä½¿ç”¨æ›´ä½³ï¼ 2ã€click ç‚¹å‡»äº‹ä»¶å»¶æ—¶ä¸ç©¿é€è¡¨ç° ç›‘å¬å…ƒç´  click äº‹ä»¶ï¼Œç‚¹å‡»å…ƒç´ è§¦å‘æ—¶é—´å»¶è¿Ÿçº¦ 300msã€‚ç‚¹å‡»è’™å±‚ï¼Œè’™å±‚æ¶ˆå¤±åï¼Œä¸‹å±‚å…ƒç´ ç‚¹å‡»è§¦å‘ã€‚ ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿ click å»¶æ—¶ï¼Ÿ iOS ä¸­çš„ safariï¼Œä¸ºäº†å®ç°åŒå‡»ç¼©æ”¾æ“ä½œï¼Œåœ¨å•å‡» 300ms ä¹‹åï¼Œå¦‚æœæœªè¿›è¡Œç¬¬äºŒæ¬¡ç‚¹å‡»ï¼Œåˆ™æ‰§è¡Œ click å•å‡»æ“ä½œã€‚ä¹Ÿå°±æ˜¯è¯´æ¥åˆ¤æ–­ç”¨æˆ·è¡Œä¸ºæ˜¯å¦ä¸ºåŒå‡»äº§ç”Ÿçš„ã€‚ä½†æ˜¯ï¼Œåœ¨ App ä¸­ï¼Œæ— è®ºæ˜¯å¦éœ€è¦åŒå‡»ç¼©æ”¾è¿™ç§è¡Œä¸ºï¼Œclick å•å‡»éƒ½ä¼šäº§ç”Ÿ 300ms å»¶è¿Ÿã€‚ ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿ click ç‚¹å‡»ç©¿é€ï¼Ÿ åŒå±‚å…ƒç´ å åŠ æ—¶ï¼Œåœ¨ä¸Šå±‚å…ƒç´ ä¸Šç»‘å®š touch äº‹ä»¶ï¼Œä¸‹å±‚å…ƒç´ ç»‘å®š click äº‹ä»¶ã€‚ç”±äº click å‘ç”Ÿåœ¨ touch ä¹‹åï¼Œç‚¹å‡»ä¸Šå±‚å…ƒç´ ï¼Œå…ƒç´ æ¶ˆå¤±ï¼Œä¸‹å±‚å…ƒç´ ä¼šè§¦å‘ click äº‹ä»¶ï¼Œç”±æ­¤äº§ç”Ÿäº†ç‚¹å‡»ç©¿é€çš„æ•ˆæœ åŸç†ä¸è§£å†³æ–¹æ¡ˆ 1ï¼‰ä½¿ç”¨ touchstart æ›¿æ¢ click ç§»åŠ¨è®¾å¤‡ä¸ä»…æ”¯æŒç‚¹å‡»è¿˜æ”¯æŒè§¦æ‘¸äº‹ä»¶ã€‚é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨åŸºæœ¬æ€è·¯å°±æ˜¯ç”¨ touch äº‹ä»¶ä»£æ›¿click äº‹ä»¶ã€‚ å°† click æ›¿æ¢æˆ touchstart ä¸ä»…è§£å†³äº† click äº‹ä»¶å»¶æ—¶é—®é¢˜ï¼Œè¿˜è§£å†³äº†ç©¿é€é—®é¢˜ã€‚å› ä¸ºç©¿é€é—®é¢˜æ˜¯åœ¨ touch å’Œ click æ··ç”¨æ—¶äº§ç”Ÿã€‚ åœ¨åŸç”Ÿä¸­ä½¿ç”¨ 1el.addEventListener(&quot;touchstart&quot;, () =&gt; &#123; console.log(&quot;ok&quot;); &#125;, false); åœ¨ vue ä¸­ä½¿ç”¨ 1&lt;button @touchstart=&quot;handleTouchstart()&quot;&gt;ç‚¹å‡»&lt;/button&gt; å¼€æºè§£å†³æ–¹æ¡ˆä¸­ï¼Œä¹Ÿæ˜¯æ—¢æä¾›äº† click äº‹ä»¶ï¼Œåˆæä¾›äº†touchstart äº‹ä»¶ã€‚å¦‚ vant ä¸­çš„ button ç»„ä»¶ 2ï¼‰ä½¿ç”¨ fastclick åº“ ä½¿ç”¨ npm/yarn å®‰è£…åä½¿ç”¨ 123import FastClick from &#x27;fastclick&#x27;;FastClick.attach(document.body, options); åŒæ ·ï¼Œä½¿ç”¨fastclickåº“åï¼Œclick å»¶æ—¶å’Œç©¿é€é—®é¢˜éƒ½æ²¡äº† 3ã€è½¯é”®ç›˜å°†é¡µé¢é¡¶èµ·æ¥ã€æ”¶èµ·æœªå›è½é—®é¢˜è¡¨ç° Android æ‰‹æœºä¸­ï¼Œç‚¹å‡» input æ¡†æ—¶ï¼Œé”®ç›˜å¼¹å‡ºï¼Œå°†é¡µé¢é¡¶èµ·æ¥ï¼Œå¯¼è‡´é¡µé¢æ ·å¼é”™ä¹±ã€‚ ç§»å¼€ç„¦ç‚¹æ—¶ï¼Œé”®ç›˜æ”¶èµ·ï¼Œé”®ç›˜åŒºåŸŸç©ºç™½ï¼Œæœªå›è½ã€‚ äº§ç”ŸåŸå›  æˆ‘ä»¬åœ¨app å¸ƒå±€ä¸­ä¼šæœ‰ä¸ªå›ºå®šçš„åº•éƒ¨ã€‚å®‰å“ä¸€äº›ç‰ˆæœ¬ä¸­ï¼Œè¾“å…¥å¼¹çª—å‡ºæ¥ï¼Œä¼šå°†è§£å‹ absolute å’Œ fixed å®šä½çš„å…ƒç´ ã€‚å¯¼è‡´å¯è§†åŒºåŸŸå˜å°ï¼Œå¸ƒå±€é”™ä¹±ã€‚ åŸç†ä¸è§£å†³æ–¹æ¡ˆ è½¯é”®ç›˜å°†é¡µé¢é¡¶èµ·æ¥çš„è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦æ˜¯é€šè¿‡ç›‘å¬é¡µé¢é«˜åº¦å˜åŒ–ï¼Œå¼ºåˆ¶æ¢å¤æˆå¼¹å‡ºå‰çš„é«˜åº¦ã€‚ 1234567891011// è®°å½•åŸæœ‰çš„è§†å£é«˜åº¦const originalHeight = document.body.clientHeight || document.documentElement.clientHeight;window.onresize = function()&#123; var resizeHeight = document.documentElement.clientHeight || document.body.clientHeight; if(resizeHeight &lt; originalHeight )&#123; // æ¢å¤å†…å®¹åŒºåŸŸé«˜åº¦ // const container = document.getElementById(&quot;container&quot;) // ä¾‹å¦‚ container.style.height = originalHeight; &#125;&#125; é”®ç›˜ä¸èƒ½å›è½é—®é¢˜å‡ºç°åœ¨ iOS 12+ å’Œ wechat 6.7.4+ ä¸­ï¼Œè€Œåœ¨å¾®ä¿¡ H5 å¼€å‘ä¸­æ˜¯æ¯”è¾ƒå¸¸è§çš„ Bugã€‚ å…¼å®¹åŸç†ï¼Œ1.åˆ¤æ–­ç‰ˆæœ¬ç±»å‹ 2.æ›´æ”¹æ»šåŠ¨çš„å¯è§†åŒºåŸŸ 123456789const isWechat = window.navigator.userAgent.match(/MicroMessenger\\/([\\d\\.]+)/i);if (!isWechat) return;const wechatVersion = wechatInfo[1];const version = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/); // å¦‚æœè®¾å¤‡ç±»å‹ä¸ºiOS 12+ å’Œwechat 6.7.4+ï¼Œæ¢å¤æˆåŸæ¥çš„è§†å£if (+wechatVersion.replace(/\\./g, &#x27;&#x27;) &gt;= 674 &amp;&amp; +version[1] &gt;= 12) &#123; window.scrollTo(0, Math.max(document.body.clientHeight, document.documentElement.clientHeight));&#125; window.scrollTo(x-coord, y-coord)ï¼Œå…¶ä¸­window.scrollTo(0, clientHeight)æ¢å¤æˆåŸæ¥çš„è§†å£","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"http://example.com/categories/%E5%85%B6%E4%BB%96/"}],"tags":[{"name":"css","slug":"css","permalink":"http://example.com/tags/css/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://example.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"},{"name":"vue","slug":"vue","permalink":"http://example.com/tags/vue/"},{"name":"vue3","slug":"vue3","permalink":"http://example.com/tags/vue3/"},{"name":"html","slug":"html","permalink":"http://example.com/tags/html/"}]},{"title":"Sentryé›†æˆä¸hidden-source-mapæºç æº¯æºæŒ‡å—","slug":"57-Sentryé›†æˆä¸hidden-source-mapæºç æº¯æºæŒ‡å—","date":"2026-03-01T23:50:00.000Z","updated":"2026-03-01T16:07:38.354Z","comments":true,"path":"posts/f8a2c3d9xr.html","permalink":"http://example.com/posts/f8a2c3d9xr.html","excerpt":"","text":"Sentryé›†æˆä¸hidden-source-mapæºç æº¯æºæŒ‡å— ğŸ“š æœ¬æ–¹æ¡ˆå°†æŒ‡å¯¼ä½ å¦‚ä½•åœ¨ Webpack 5 é¡¹ç›®ä¸­é›†æˆ Sentryï¼Œå®ç°ç”Ÿäº§ç¯å¢ƒçš„è‡ªåŠ¨é”™è¯¯æ•è·å’Œæºç è¿˜åŸã€‚ ä¸€ã€èƒŒæ™¯çŸ¥è¯†1.1ã€ä»€ä¹ˆæ˜¯ SourceMapï¼ŸSourceMapï¼ˆæºä»£ç æ˜ å°„ï¼‰æ˜¯ä¸€ä¸ªç”¨æ¥ç”Ÿæˆæºä»£ç ä¸æ„å»ºåä»£ç ä¸€ä¸€æ˜ å°„çš„æ–‡ä»¶çš„æ–¹æ¡ˆã€‚ å®ƒä¼šç”Ÿæˆä¸€ä¸ª xxx.map æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«æºä»£ç å’Œæ„å»ºåä»£ç æ¯ä¸€è¡Œã€æ¯ä¸€åˆ—çš„æ˜ å°„å…³ç³»ã€‚å½“æ„å»ºåä»£ç å‡ºé”™äº†ï¼Œä¼šé€šè¿‡ xxx.map æ–‡ä»¶ï¼Œä»æ„å»ºåä»£ç å‡ºé”™ä½ç½®æ‰¾åˆ°æ˜ å°„åæºä»£ç å‡ºé”™ä½ç½®ï¼Œä»è€Œè®©æµè§ˆå™¨æç¤ºæºä»£ç æ–‡ä»¶å‡ºé”™ä½ç½®ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å¿«çš„æ‰¾åˆ°é”™è¯¯æ ¹æºã€‚ 1.2ã€å¼€å‘ç¯å¢ƒçš„ SourceMap é…ç½®å¼€å‘ç¯å¢ƒæ¨èä½¿ç”¨ cheap-module-source-mapï¼š 12345// webpack.dev.jsmodule.exports = &#123; mode: &quot;development&quot;, devtool: &quot;cheap-module-source-map&quot;,&#125;; ç‰¹ç‚¹ è¯´æ˜ âœ… ä¼˜ç‚¹ æ‰“åŒ…ç¼–è¯‘é€Ÿåº¦å¿«ï¼ŒåªåŒ…å«è¡Œæ˜ å°„ï¼Œå¯ç›´æ¥æŸ¥çœ‹æºç  âŒ ç¼ºç‚¹ æ²¡æœ‰åˆ—æ˜ å°„ï¼ˆä¸å½±å“å¼€å‘è°ƒè¯•ï¼‰ 1.3ã€ç”Ÿäº§ç¯å¢ƒçš„ SourceMap é…ç½®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæ˜¯å¦é…ç½® SourceMap å–å†³äºå…¬å¸å¯¹æ€§èƒ½ã€å®‰å…¨å’Œè°ƒè¯•ä¾¿åˆ©æ€§çš„æƒè¡¡ã€‚ç›®å‰ä¸»æµçš„åšæ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š æ–¹æ¡ˆä¸€ï¼šé…ç½® source-mapï¼ˆæœ€å¸¸è§ï¼‰å¤§å¤šæ•°ä¸­å¤§å‹é¡¹ç›®çš„ webpack.prod.js éƒ½ä¼šé…ç½®æ­¤é€‰é¡¹ã€‚ 12345// webpack.prod.jsmodule.exports = &#123; mode: &quot;production&quot;, devtool: &quot;source-map&quot;,&#125;; ç‰¹ç‚¹ï¼š æ‰“åŒ…åä¼šç”Ÿæˆä¸» JS æ–‡ä»¶ï¼ˆå¦‚ main.jsï¼‰å’Œä¸€ä¸ªå¯¹åº”çš„ .map æ–‡ä»¶ æ‰“åŒ…æ–‡ä»¶æœ«å°¾ä¼šæ·»åŠ  //# sourceMappingURL=xxx.js.map æ³¨é‡Š ä¼˜ç‚¹ ç¼ºç‚¹ âœ… é”™è¯¯æº¯æºæ–¹ä¾¿ï¼Œç›‘æ§ç³»ç»Ÿå¯åˆ©ç”¨ .map æ–‡ä»¶è¿˜åŸæºç è¡Œæ•° âŒ æ‰“åŒ…ç¼–è¯‘é€Ÿåº¦æ…¢ âœ… ä¸»åŒ…ä½“ç§¯ä¸å—å½±å“ï¼Œ.map æ–‡ä»¶ç‹¬ç«‹ï¼Œç”¨æˆ·è®¿é—®æ—¶ä¸ä¼šä¸‹è½½ âŒ æºç æš´éœ²é£é™©ï¼Œæ‡‚è¡Œçš„ç”¨æˆ·å¯é€šè¿‡æ§åˆ¶å°æŸ¥çœ‹æºç  //# sourceMappingURL çš„æ ¸å¿ƒä½œç”¨ï¼šå‘Šè¯‰æµè§ˆå™¨å»å“ªé‡Œä¸‹è½½å¯¹åº”çš„ SourceMap æ–‡ä»¶ï¼Œä»è€Œå®ç°ç”Ÿäº§ä»£ç åˆ°å¼€å‘æºç çš„ç²¾å‡†æ˜ å°„ã€‚ æ–¹æ¡ˆäºŒï¼šé…ç½® hidden-source-mapï¼ˆæ¨è + Sentryï¼‰å¦‚æœä½ æ—¢æƒ³åœ¨åå°ç›‘æ§é”™è¯¯ï¼Œåˆä¸å¸Œæœ›ç”¨æˆ·åœ¨æµè§ˆå™¨æ§åˆ¶å°çœ‹åˆ°æºç ï¼Œè¿™æ˜¯æœ€ä½³æ–¹æ¡ˆã€‚ 12345// webpack.prod.jsmodule.exports = &#123; mode: &quot;production&quot;, devtool: &quot;hidden-source-map&quot;,&#125;; ç‰¹ç‚¹ï¼š âœ… ä¼šç”Ÿæˆ .map æ–‡ä»¶ âŒ æ‰“åŒ…åçš„ JS æ–‡ä»¶ç»“å°¾ä¸ä¼šäº§ç”Ÿ //# sourceMappingURL=... çš„å¼•ç”¨æ³¨é‡Š ğŸ”’ æµè§ˆå™¨æ§åˆ¶å°ä¸ä¼šè‡ªåŠ¨å…³è”æºç ï¼ŒæŠ¥é”™åªæ˜¾ç¤ºå‹ç¼©åçš„è¡Œæ•° ğŸ“¤ å¯å°† .map æ–‡ä»¶ä¸Šä¼ åˆ° Sentry ç­‰ç§æœ‰ç›‘æ§å¹³å°ï¼Œå®ç°å†…éƒ¨è°ƒè¯• ä¼˜åŠ¿ è¯´æ˜ ğŸ”’ å®‰å…¨æ€§ ç”Ÿæˆçš„ .map æ–‡ä»¶ä¸ä¼šåœ¨ä»£ç ä¸­å¼•ç”¨ï¼Œç”¨æˆ·æ— æ³•åœ¨æµè§ˆå™¨æ§åˆ¶å°ç›´æ¥æŸ¥çœ‹æºç  ğŸ” éšç§æ€§ é˜²æ­¢æºç é€šè¿‡æµè§ˆå™¨å¼€å‘è€…å·¥å…·è¢«è½»æ˜“è·å–ï¼Œä¿æŠ¤ä¸šåŠ¡é€»è¾‘ ğŸ¯ ç²¾å‡†å®šä½ Sentry æœåŠ¡å™¨æŒæœ‰ SourceMapï¼Œå¯ä»¥ç²¾å‡†è¿˜åŸé”™è¯¯ä½ç½® âš–ï¸ å¹³è¡¡æ€§ æ—¢ä¿è¯äº†çº¿ä¸Šä»£ç çš„å®‰å…¨æ€§ï¼Œåˆèƒ½åœ¨ Sentry åå°çœ‹åˆ°è¯¦ç»†çš„é”™è¯¯å †æ ˆ æ–¹æ¡ˆä¸‰ï¼šä¸é…ç½® SourceMapï¼ˆæè‡´å®‰å…¨ï¼‰å¦‚æœé¡¹ç›®éå¸¸æ•æ„Ÿï¼ˆæ¯”å¦‚é‡‘èã€ä¿å¯†é¡¹ç›®ï¼‰ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªæç®€çš„å°é¡¹ç›®ï¼Œå¯ä»¥é€‰æ‹©å®Œå…¨ä¸é…ç½®ã€‚ 12345// webpack.prod.jsmodule.exports = &#123; mode: &quot;production&quot;, devtool: false, // æˆ–ä¸å†™æ­¤é…ç½®&#125;; ç‰¹ç‚¹ï¼š âŒ ä¸ç”Ÿæˆä»»ä½•æ˜ å°„æ–‡ä»¶ âŒ å‹ç¼©åçš„ä»£ç å®Œå…¨æ— æ³•è°ƒè¯• âš ï¸ çº¿ä¸Šå‡º bug åªèƒ½é€šè¿‡â€ç›²çŒœâ€æˆ–åœ¨æœ¬åœ°æ¨¡æ‹Ÿæ•°æ®æ¥å¤ç° 1.4ã€ç”Ÿäº§ç¯å¢ƒé…ç½®æ€»ç»“ é¡¹ç›®ç±»å‹ æ¨èé…ç½® è¯´æ˜ ä¸­å°å‹é¡¹ç›®&#x2F;åå°ç®¡ç†ç³»ç»Ÿ source-map è°ƒè¯•æ•ˆç‡ç¬¬ä¸€ å¤§å‹äº’è”ç½‘äº§å“&#x2F;Cç«¯åº”ç”¨ hidden-source-map + SentrySentry&#x2F;ç§æœ‰ç›‘æ§ å…¼é¡¾å®‰å…¨ä¸è°ƒè¯• é‡‘è&#x2F;ä¿å¯†é¡¹ç›® ä¸é…ç½® æè‡´å®‰å…¨ ä¸ªäººç»ƒä¹ é¡¹ç›® source-map æ–¹ä¾¿å­¦ä¹ è°ƒè¯• 1.5ã€hidden-source-map + Sentry å·¥ä½œåŸç†12345678910111213141516171819202122232425â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ æ„å»ºé˜¶æ®µ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ æºç  (main.js) â”€â”€ç¼–è¯‘å‹ç¼©â”€â”€&gt; bundle.js + bundle.js.map â”‚ â”‚ hidden-source-map æ¨¡å¼ï¼š â”‚ âœ… ç”Ÿæˆ bundle.js.map æ–‡ä»¶ â”‚ âŒ ä¸åœ¨ bundle.js æœ«å°¾æ·»åŠ  sourceMappingURL æ³¨é‡Š â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â–¼â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ éƒ¨ç½²é˜¶æ®µ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ bundle.js â”€â”€ä¸Šä¼ åˆ°æœåŠ¡å™¨â”€â”€&gt; ç”¨æˆ·è®¿é—®ï¼ˆæ— æºç æš´éœ²ï¼‰ â”‚ bundle.js.map â”€â”€ä¸Šä¼ åˆ° Sentryâ”€â”€&gt; é”™è¯¯è¿½è¸ªæ—¶è¿˜åŸæºç  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â–¼â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ é”™è¯¯å‘ç”Ÿæ—¶ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ ç”¨æˆ·æµè§ˆå™¨ï¼šåªèƒ½çœ‹åˆ° bundle.js:1:23456 â”‚ Sentry åå°ï¼šé€šè¿‡ .map æ–‡ä»¶è¿˜åŸä¸º main.js:42:15 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ äºŒã€å‡†å¤‡å·¥ä½œ2.1ã€æ³¨å†Œ Sentry è´¦å·è®¿é—® Sentry.io æ³¨å†Œè´¦å· 2.2ã€åˆ›å»ºé¡¹ç›®ï¼ˆProjectï¼‰é€‰æ‹© Browser JavaScriptï¼ˆæ ¹æ®è‡ªå·±é¡¹ç›®æ¥ï¼‰ 2.3ã€è®¾ç½® Sentry SDK 2.4ã€è·å– DSNæ ¼å¼ç±»ä¼¼ https://xxxxxx@sentry.io/12345ã€‚ æˆ–è€…é€‰æ‹©é¡¹ç›®åï¼Œå†é¼ æ ‡æ”¾ç½®è®¾ç½®å›¾æ ‡ä¸Šï¼š ä¸‰ã€å®‰è£…ä¾èµ–åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼š 12npm install @sentry/browsernpm install @sentry/webpack-plugin --save-dev å››ã€ä»£ç é›†æˆ4.1ã€SDK åˆå§‹åŒ–åœ¨å…¥å£æ–‡ä»¶ï¼ˆå¦‚ src/main.jsï¼‰çš„é¡¶éƒ¨å¼•å…¥å¹¶åˆå§‹åŒ–ï¼š main.js 1234567891011121314import * as Sentry from &quot;@sentry/browser&quot;;Sentry.init(&#123; dsn: &quot;https://5fef42a12263056007b7df042b39a53b@o4510962147393536.ingest.de.sentry.io/4510962153619536&quot;, integrations: [ Sentry.browserTracingIntegration(), Sentry.replayIntegration(), ], // æ€§èƒ½ç›‘æ§é‡‡æ ·ç‡ tracesSampleRate: 1.0, // Session Replay é‡‡æ ·ç‡ replaysSessionSampleRate: 0.1, replaysOnErrorSampleRate: 1.0,&#125;); äº”ã€Webpack é…ç½®è‡ªåŠ¨ä¸Šä¼  SourceMapè¿™æ˜¯ç”Ÿäº§ç¯å¢ƒæœ€é‡è¦çš„æ­¥éª¤ï¼Œç¡®ä¿ Sentry èƒ½æ ¹æ®æ··æ·†ä»£ç è¿˜åŸæºç ã€‚ webpack.prod.js 123456789101112131415161718const &#123; sentryWebpackPlugin &#125; = require(&quot;@sentry/webpack-plugin&quot;);module.exports = &#123; mode: &quot;production&quot;, devtool: &quot;hidden-source-map&quot;, // âœ¨ å®‰å…¨æ¨èï¼šç”Ÿæˆ map ä½†ä¸æ·»åŠ å…³è”æ³¨é‡Šï¼Œé˜²æ­¢æµè§ˆå™¨æ§åˆ¶å°æ³„éœ²æºç  plugins: [ // ... å…¶ä»–æ’ä»¶ sentryWebpackPlugin(&#123; authToken: &quot;ä½ çš„ Sentry Token&quot;, org: &quot;ä½ çš„ç»„ç»‡å&quot;, project: &quot;ä½ çš„é¡¹ç›®å&quot;, sourcemaps: &#123; assets: [&quot;./dist/**&quot;], ignore: [&quot;node_modules&quot;, &quot;config&quot;], &#125;, &#125;), ],&#125;; 5.1ã€authToken1. æ¨èä½¿ç”¨ï¼šPersonal Tokensï¼ˆä¸ªäººä»¤ç‰Œï¼‰ è¿™æ˜¯æœ€é€šç”¨çš„é€‰æ‹©ï¼Œä¹Ÿæ˜¯ Sentry å¼•å¯¼é¡µé¢é€šå¸¸æ¨èçš„æ–¹å¼ã€‚ ä¼˜ç‚¹ï¼šé…ç½®æœ€ç®€å•ã€‚åœ¨ sentryWebpackPlugin é…ç½®ä¸­ï¼Œä½ åªéœ€è¦æä¾›ä¸€ä¸ª authToken å³å¯ã€‚å®ƒä»£è¡¨çš„æ˜¯â€ä½ â€è¿™ä¸ªå¼€å‘è€…åœ¨ Sentry é‡Œçš„æƒé™ã€‚ æƒé™è¦æ±‚ï¼šåˆ›å»ºæ—¶è‡³å°‘å‹¾é€‰ project:writeã€project:releases å’Œ org:readã€‚ 2. ä¼ä¸šçº§é€‰æ‹©ï¼šOrganization Tokensï¼ˆç»„ç»‡ä»¤ç‰Œï¼‰ è¿™é€šå¸¸ç”¨äºå…¬å¸å±‚é¢çš„ CI&#x2F;CD è‡ªåŠ¨åŒ–æµæ°´çº¿ã€‚ ä¼˜ç‚¹ï¼šä¸å…·ä½“çš„ä¸ªäººè´¦å·è§£è€¦ã€‚å³ä½¿æŸä¸ªå‘˜å·¥ç¦»èŒäº†ï¼Œåªè¦ç»„ç»‡ä»¤ç‰Œè¿˜åœ¨ï¼Œè‡ªåŠ¨åŒ–éƒ¨ç½²å°±ä¸ä¼šæŒ‚æ‰ã€‚ é…ç½®å·®å¼‚ï¼šä½¿ç”¨ç»„ç»‡ä»¤ç‰Œæ—¶ï¼Œæœ‰æ—¶åœ¨è¾ƒè€çš„æ’ä»¶ç‰ˆæœ¬ä¸­éœ€è¦æ˜ç¡®æŒ‡å®šç»„ç»‡èŒƒå›´ï¼Œä½†åœ¨æœ€æ–°çš„ sentryWebpackPlugin (v2&#x2F;v5) ä¸­ï¼Œå®ƒçš„ä½¿ç”¨æ–¹å¼å’Œ Personal Token åŸºæœ¬ä¸€è‡´ã€‚ 5.2ã€org ç»„ç»‡å 5.3ã€project é¡¹ç›®å å…­ã€éªŒè¯åœ¨ä»£ç ä¸­æ‰‹åŠ¨æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼š 1234const sum = (...args) =&gt; &#123; return args.reduce((pre, cur) =&gt; pre + cur, 0)();&#125;;console.log(sum(1, 2, 3, 4, 5)); æ‰§è¡Œ npm run build æ‰“åŒ…å¹¶è¿è¡Œä»£ç ã€‚ç‰‡åˆ»åï¼Œä½ å°†åœ¨ Sentry åå°çœ‹åˆ°è¿™ä¸ªé”™è¯¯ï¼Œå¹¶ä¸”å®ƒèƒ½ç²¾å‡†å®šä½åˆ° main.js çš„å…·ä½“è¡Œæ•°ã€‚ é…ç½® devtool: &quot;hidden-source-map&quot; åï¼Œæµè§ˆå™¨æ§åˆ¶å°å®šä½ä¸åˆ°æ˜¯å“ªä¸ªæ–‡ä»¶å“ªä¸€è¡ŒæŠ¥é”™çš„ã€‚ Sentry ä¸­åˆ™å¯ä»¥è¯¦ç»†çœ‹åˆ°é‚£ä¸ªæ–‡ä»¶ã€é‚£ä¸€è¡ŒæŠ¥é”™ï¼š","categories":[{"name":"å·¥ç¨‹åŒ–ä¸è´¨é‡","slug":"å·¥ç¨‹åŒ–ä¸è´¨é‡","permalink":"http://example.com/categories/%E5%B7%A5%E7%A8%8B%E5%8C%96%E4%B8%8E%E8%B4%A8%E9%87%8F/"}],"tags":[{"name":"Webpack","slug":"Webpack","permalink":"http://example.com/tags/Webpack/"},{"name":"Sentry","slug":"Sentry","permalink":"http://example.com/tags/Sentry/"},{"name":"SourceMap","slug":"SourceMap","permalink":"http://example.com/tags/SourceMap/"}]},{"title":"Babel 7 ä»å…¥é—¨åˆ°è¿›é˜¶çš„å…¨åœºæ™¯æŒ‡å—","slug":"56-Babel7ä»å…¥é—¨åˆ°è¿›é˜¶","date":"2026-02-27T22:30:00.000Z","updated":"2026-03-01T16:07:38.354Z","comments":true,"path":"posts/b41c92e1.html","permalink":"http://example.com/posts/b41c92e1.html","excerpt":"","text":"ğŸš€ å½»åº•ææ‡‚ Babelï¼šä»å…¥é—¨åˆ°è¿›é˜¶çš„å…¨åœºæ™¯æŒ‡å— ğŸ“š æœ¬æŒ‡å—æ—¨åœ¨å¸®åŠ©å¼€å‘è€…å½»åº•æŒæ¡ Babel 7+ çš„å·¥ä½œæœºåˆ¶ã€é…ç½®æŠ€å·§åŠæ ¸å¿ƒæ’ä»¶ç³»ç»Ÿçš„ä½¿ç”¨ã€‚ ç›®å½• Babel ç®€ä»‹ å·¥ä½œæ–¹å¼ å¿«é€Ÿä¸Šæ‰‹ æ ¸å¿ƒæ¦‚å¿µ Polyfill å®æˆ˜ Runtime ä¼˜åŒ– ç”Ÿæ€é›†æˆ æ‰“åŒ…æ„å»º é«˜çº§åŸç† æ’ä»¶å¼€å‘ é…ç½®æ¨¡æ¿ ä¸€ã€ Babel ç®€ä»‹1.1 Babel æ˜¯ä»€ä¹ˆï¼Ÿè§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿä¸€å¥è¯ï¼šBabel æ˜¯ä¸€ä¸ª JavaScript ç¼–è¯‘å™¨ï¼ˆCompiler &#x2F; Transpilerï¼‰ï¼ŒæŠŠâ€œä½ å†™çš„ç°ä»£ JS&#x2F;TS&#x2F;JSXâ€ç­‰ä»£ç ï¼Œè½¬æ¢æˆâ€œç›®æ ‡ç¯å¢ƒï¼ˆè€ç‰ˆæµè§ˆå™¨&#x2F;Nodeï¼‰èƒ½å¹³ç¨³è¿è¡Œçš„ä»£ç â€ã€‚ ä½ ä¼šåœ¨è¿™äº›åœºæ™¯ç”¨åˆ° Babelï¼š é™çº§æ–°è¯­æ³•ï¼šæŠŠ ES202x æ–°è¯­æ³•è½¬æˆæ—§è¯­æ³•ï¼ˆæ¯”å¦‚å¯é€‰é“¾ ?.ã€ç©ºå€¼åˆå¹¶ ??ã€class ç§æœ‰å­—æ®µç­‰ï¼‰ã€‚ ç¼–è¯‘ JSXï¼šæŠŠ React æˆ– Vue çš„ JSX è½¬æˆ React.createElement æˆ– jsx-runtime çš„åŸç”Ÿå‡½æ•°è°ƒç”¨å½¢å¼ã€‚ æ“¦é™¤ TypeScriptï¼šæŠŠ TypeScript é‡Œçš„ç±»å‹å£°æ˜ç›´æ¥å»æ‰ï¼ˆæ³¨æ„ï¼šBabel ä¸åšä»»ä½•ç±»å‹æ£€æŸ¥ï¼‰ã€‚ åšä»£ç å®šåˆ¶åŒ–å˜æ¢ï¼šæ¯”å¦‚è‡ªåŠ¨æ³¨å…¥æ—¥å¿—ã€ç§»é™¤ console.logã€æŒ‰éœ€å¼•å…¥ç»„ä»¶åº“æ ·å¼ã€ç”šè‡³å¼€å‘è‡ªå·±çš„å®ï¼ˆMacrosï¼‰ï¼Œè¿™äº›é€šå¸¸é  Babel æ’ä»¶å®Œæˆã€‚ äºŒã€ 5 åˆ†é’Ÿææ‡‚ Babel çš„å·¥ä½œæ–¹å¼2.1 ç¼–è¯‘æµæ°´çº¿Babel ç¼–è¯‘å…¶å®å°±æ˜¯ä¸€æ¡ 3 æ­¥èµ°çš„æµæ°´çº¿ï¼š Parseï¼ˆè§£æï¼‰ï¼šæºç å­—ç¬¦ä¸² â†’ ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰ Transformï¼ˆè½¬æ¢ï¼‰ï¼šå¯¹ AST èŠ‚ç‚¹åšå„ç§å¢åˆ æ”¹æ“ä½œï¼ˆBabel æ’ä»¶å…¨åœ¨è¿™é‡Œå·¥ä½œï¼‰ Generateï¼ˆç”Ÿæˆï¼‰ï¼šä¿®æ”¹åçš„ AST â†’ æ–°ä»£ç å­—ç¬¦ä¸²ï¼ˆä»¥åŠå¯¹åº”çš„ SourceMapï¼‰ ğŸ’¡ æ ¸å¿ƒç»“è®ºï¼š Babel è‡ªå·±çš„â€œæœ¬èƒ½â€å…¶å®å¾ˆå¼±ï¼Œæ‰€æœ‰çš„å®é™…èƒ½åŠ›éƒ½æ¥è‡ª æ’ä»¶ï¼ˆPluginsï¼‰ã€‚ ä½†ä½ ä¸å¯èƒ½ä¸ºäº†ç¼–è¯‘ä¸€ä¸ªé¡¹ç›®ä¸€ä¸ªä¸ªå»æ‰‹å†™æˆ–å®‰è£…å‡ åä¸ªæ’ä»¶ï¼Œæ‰€ä»¥å®˜æ–¹æä¾›äº† é¢„è®¾ï¼ˆPresetsï¼‰ï¼ˆå³ä¸€ç»„æ‰“åŒ…å¥½çš„æ’ä»¶é›†åˆï¼‰ã€‚ ä¸‰ã€ æœ€å°å¯è¿è¡Œç¤ºä¾‹ âš ï¸ é¿å‘æŒ‡å—ï¼šBabel 7 å¼€å§‹ï¼Œæ‰€æœ‰å®˜æ–¹åŒ…éƒ½ç§»å…¥äº† @babel/ ä½œç”¨åŸŸå‘½åç©ºé—´ã€‚å¦‚æœä½ åœ¨ç½‘ä¸ŠæŸ¥æ•™ç¨‹ï¼Œçœ‹åˆ° babel-coreã€babel-preset-envï¼ˆæ²¡æœ‰ @ å¼€å¤´çš„ï¼‰ï¼Œè¯·ç›´æ¥å…³é—­ç½‘é¡µï¼Œé‚£æ˜¯è€æ—§çš„ Babel 6 é»‘å†å²ï¼ 3.1 å®‰è£…æ ¸å¿ƒåŒ…1npm i -D @babel/core @babel/cli 3.2 å†™ä¸€ä¸ªæœ€ç®€å•çš„é…ç½®åˆ›å»º babel.config.jsonï¼ˆBabel 7 æ¨èï¼Œæ”¾ç½®åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼‰ï¼š 123&#123; &quot;presets&quot;: []&#125; 3.3 å°è¯•ç¼–è¯‘1npx babel src --out-dir dist ä½ ä¼šå‘ç°ï¼šä¸åŠ ä»»ä½• preset æˆ– plugin æ—¶ï¼ŒBabel è¾“å‡ºçš„ä»£ç å’Œæºç ä¸€æ¨¡ä¸€æ ·ã€‚å› ä¸ºå®ƒâ€œæ²¡æœ‰è¢«çŒè¾“ä»»ä½•å˜æ¢è§„åˆ™â€ã€‚ å››ã€ å¿…é¡»å¼„æ‡‚çš„ 4 ä¸ªæ ¸å¿ƒæ¦‚å¿µ4.1 @babel&#x2F;core æ˜¯ä»€ä¹ˆï¼ŸBabel æ ¸å¿ƒç¼–è¯‘å¼•æ“ï¼Œè´Ÿè´£è§£æä»£ç ã€è°ƒåº¦æ‰§è¡Œé…ç½®å¥½çš„æ’ä»¶ã€ç”Ÿæˆæœ€ç»ˆä»£ç ã€‚ä½†å…¶å®å®ƒè‡ªå·±ä»€ä¹ˆè¯­æ³•éƒ½ä¸ä¼šè½¬ã€‚ 4.2 Pluginï¼ˆæ’ä»¶ï¼‰æ˜¯ä»€ä¹ˆï¼Ÿæ’ä»¶å°±æ˜¯ä¸€ä¸ª JS æ¨¡å—ï¼Œè´Ÿè´£å‘Šè¯‰ Babelï¼šé‡åˆ°æŸç§ç‰¹å®šçš„ AST èŠ‚ç‚¹æ—¶ï¼Œè¯¥æ€ä¹ˆæ”¹ã€‚ä¾‹å¦‚ï¼šé‡åˆ°â€œç®­å¤´å‡½æ•°â€ï¼Œå°±æŠŠå®ƒè½¬æˆ function () &#123;&#125;ï¼›é‡åˆ° ?.ï¼Œå°±æ”¹æˆå®‰å…¨çš„å…¼å®¹åˆ¤æ–­ã€‚ 4.3 Presetï¼ˆé¢„è®¾ï¼‰æ˜¯ä»€ä¹ˆï¼Ÿé¢„è®¾è§£å†³çš„æ˜¯â€œæ‡’äººä¸ç”¨æŒ‘æ’ä»¶â€çš„é—®é¢˜ã€‚ç°ä»£é¡¹ç›®æœ€å¸¸ç”¨çš„è€ä¸‰æ ·ï¼š @babel/preset-envï¼šæ™ºèƒ½é¢„è®¾ï¼Œæ ¹æ®ä½ é…ç½®çš„ç›®æ ‡æµè§ˆå™¨ï¼Œè‡ªåŠ¨å†³å®šéœ€è¦è½¬å“ªäº› JS è¯­æ³•ã€‚ @babel/preset-reactï¼šä¸“é—¨ç”¨æ¥ç¼–è¯‘ JSXã€‚ @babel/preset-typescriptï¼šè´Ÿè´£æŠŠ TS ç±»å‹ä»£ç æ“¦é™¤æˆæ™®é€šçš„ JSï¼ˆä¸åšç±»å‹æ£€æŸ¥ï¼‰ã€‚ 4.4 é…ç½®æ–‡ä»¶æ€ä¹ˆé€‰ï¼Ÿ babel.config.jsonï¼ˆBabel 7+ å¼ºçƒˆæ¨èï¼‰ï¼šä½œç”¨äºæ•´ä¸ªé¡¹ç›®ï¼ˆç”šè‡³è·¨å±‚çº§çš„ monorepoï¼‰ï¼Œä¸€åŠ³æ°¸é€¸ã€‚ .babelrc &#x2F; .babelrc.jsonï¼šåªé’ˆå¯¹å½“å‰æ–‡ä»¶å¤¹ç›®å½•ç”Ÿæ•ˆï¼ˆå±€éƒ¨é…ç½®ï¼‰ï¼Œåœ¨å¤æ‚çš„ monorepo å·¥ç¨‹ä¸­éå¸¸å®¹æ˜“å‡ºç°é…ç½®è¦†ç›–å’Œå¤±æ•ˆçš„æ·±å‘ã€‚ äº”ã€ @babel&#x2F;preset-env + core-jsè¿™ä¸€ç« æ˜¯ Babel å­¦ä¹ çš„åˆ†æ°´å²­ï¼šå¤§å®¶ç»å¸¸æŠŠ è¯­æ³•è½¬æ¢ ä¸ API è¡¥é½ï¼ˆPolyfillï¼‰ æ··ä¸ºä¸€è°ˆã€‚ 5.1 è¯­æ³•è½¬æ¢ â‰  API è¡¥é½ Babelï¼ˆå‡†ç¡®è¯´æ˜¯ preset-env è‡ªèº«ï¼‰ä¸»è¦è´Ÿè´£è¯­æ³•ï¼šæ¯”å¦‚ const æ”¹æˆ varã€å»æ‰ç®­å¤´å‡½æ•°ç­‰ã€‚ ä½†æ˜¯å¯¹äºæ–°çš„ API æˆ–å†…ç½®å¯¹è±¡ï¼šæ¯”å¦‚ Promiseã€Array.fromã€Object.assignã€[].includesï¼Œè€æµè§ˆå™¨é‡Œæ ¹æœ¬æ²¡æœ‰è¿™äº›å…¨å±€å¯¹è±¡å’ŒåŸå‹æ–¹æ³•ã€‚Babel è½¬æ¢åè¿˜æ˜¯ Promise å­—æ¯ï¼Œå¿…å®šåœ¨æ—§æµè§ˆå™¨æŠ¥é”™ã€‚æˆ‘ä»¬éœ€è¦ Polyfill ç»™ç¯å¢ƒæ‰“è¡¥ä¸ã€‚ âš ï¸ åºŸå¼ƒæé†’ï¼šä»¥å‰å¤§å®¶å¸¸è£…ä¸€ä¸ªä¸‡é‡‘æ²¹åŒ…å« @babel/polyfillã€‚ä» Babel 7.4 èµ·è¿™ä¸ªåŒ…å·²è¢«åºŸå¼ƒï¼ ç°åœ¨çš„æ ‡å‡†åšæ³•æ˜¯ç›´æ¥ä½¿ç”¨ core-jsï¼Œé  preset-env å»è‡ªåŠ¨å¼•å…¥ã€‚ 5.2 æ­£ç¡®çš„é…ç½®å§¿åŠ¿ï¼ˆæŒ‰éœ€æ³¨å…¥ Polyfillï¼‰é¦–å…ˆå®‰è£… core-jsï¼ˆç”Ÿäº§ä¾èµ–ï¼‰ï¼š 123npm i core-js# æ³¨æ„ï¼Œpreset ä»ç„¶æ”¾å¼€å‘ä¾èµ–npm i -D @babel/preset-env é…ç½® babel.config.jsonï¼š 12345678910111213&#123; &quot;presets&quot;: [ [ &quot;@babel/preset-env&quot;, &#123; &quot;targets&quot;: &quot;&gt; 0.2%, not dead&quot;, &quot;useBuiltIns&quot;: &quot;usage&quot;, &quot;corejs&quot;: &quot;3.38&quot;, &quot;modules&quot;: false &#125; ] ]&#125; 1ï¼‰å¿…æ‡‚å‚æ•°è§£æ targetsï¼šä½ çš„ç›®æ ‡ç¯å¢ƒã€‚å»ºè®®å°†å…¶æ”¾åˆ° package.json çš„ browserslist å­—æ®µä¸­ç»Ÿä¸€å®šä¹‰ï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥ä¸å†™ã€‚ useBuiltIns: &quot;usage&quot;ï¼šçœŸæ­£çš„ç¥çº§é…ç½®ï¼Œé‡ç‚¹æ³¨æ„ï¼ è¿™æ˜¯æŒ‰éœ€åŠ è½½æ¨¡å¼ã€‚è¿™æ„å‘³ç€åœ¨ä½ é¡¹ç›®çš„æºç æ–‡ä»¶ä¸­ï¼Œç»å¯¹ä¸éœ€è¦æ‰‹åŠ¨å†™ import &#39;core-js&#39;ã€‚Babel ä¼šé™æ€åˆ†æä½ çš„ä»£ç ï¼Œæ¯”å¦‚ä½ ç”¨åˆ°äº† Promiseï¼Œå®ƒå°±åœ¨ç¼–è¯‘åçš„è¯¥æ–‡ä»¶é¡¶éƒ¨ï¼Œè‡ªåŠ¨å¸®ä½ é»˜é»˜å¡å…¥ä¸€å¥ import &quot;core-js/modules/es.promise.js&quot;ã€‚è¿™å°±å«æŒ‰éœ€è¡¥é½ï¼Œä½“ç§¯æœ€å°ï¼ ï¼ˆè¡¥å……ï¼šå¦‚æœè¿™é‡Œé…ç½®æˆ &quot;entry&quot;ï¼Œé‚£ä½ æ‰éœ€è¦åœ¨é¡¹ç›®å…¥å£æ–‡ä»¶å¦‚ main.js çš„ç¬¬ä¸€è¡Œæ‰‹åŠ¨å†™ä¸Šä¸€å¥ import &quot;core-js&quot;ï¼Œæ­¤æ¨¡å¼ä¼šæŠŠæµè§ˆå™¨ç¼ºå¤±çš„ API å…¨é‡æ‰“è¿›æ¥ï¼Œå®¹æ˜“å¯¼è‡´åŒ…ä½“ç§¯è¿‡å¤§ï¼Œä¸æ¨èã€‚ï¼‰ corejsï¼šæŒ‡å®š core-js çš„ä¸»ç‰ˆæœ¬å·ï¼ˆç›®å‰æ ‡é…ä½¿ç”¨çš„æ˜¯ 3.x ï¼‰ã€‚ modules: falseï¼šè®© Babel åˆ«ç®¡ ES6 Module çš„ import/exportï¼ŒæŠŠæ¨¡å—åŒ–çš„ä¿ç•™æƒäº¤ç»™ Webpack&#x2F;Vite è¿™ç§æ‰“åŒ…å·¥å…·ï¼Œä»¥ä¾¿å®ƒä»¬åšæ— ç”¨ä»£ç ä¿®å‰ªï¼ˆTree-shakingï¼‰ã€‚ å…­ã€ Runtime ä¸ Polyfill çš„åŒºåˆ«å¾ˆå¤šäººåˆ°æ­»éƒ½æ²¡ææ¸…æ¥š core-js å’Œ @babel/runtime ä¸ºä»€ä¹ˆåŒæ—¶å‡ºç°ã€‚ 6.1 ä¸ºä»€ä¹ˆéœ€è¦ runtime æ’ä»¶ï¼ŸBabel åœ¨è½¬è¯‘åƒ classã€async/await è¿™ç§å¤æ‚æ–°ç‰¹æ€§æ—¶ï¼Œä¼šåœ¨æ–‡ä»¶é‡Œæ³¨å…¥ä¸€äº›è¾…åŠ©å‡½æ•°ï¼ˆHelpersï¼‰ã€‚æ¯”å¦‚ï¼š_classCallCheckã€‚å¦‚æœé¡¹ç›®é‡Œæœ‰ 100 ä¸ªæ–‡ä»¶ç”¨äº† classï¼Œè¿™æ®µå†—é•¿çš„ helper å‡½æ•°å°±ä¼šè¢«å†…è” 100 æ¬¡ï¼ŒåŒ…ä½“ç§¯ä¼šå˜å¾—æé€Ÿè†¨èƒ€ã€‚ 6.2 transform-runtime çš„ä½œç”¨å®‰è£…é…å¥—ï¼š 12npm i -D @babel/plugin-transform-runtimenpm i @babel/runtime é…ç½®ï¼ˆè¿™é€šå¸¸å†™åœ¨ä½ çš„ babel.config.json æˆ–å¯¹åº” Babel é…ç½®æ–‡ä»¶ä¸­ï¼‰ï¼š ğŸ’¡ æå…¶å®¹æ˜“å›°æƒ‘çš„åŸºç¡€çŸ¥è¯†ï¼šåœ¨ Babel é…ç½®æ–‡ä»¶ä¸­ï¼Œpresetsï¼ˆé¢„è®¾æ•°ç»„ï¼‰ å’Œ pluginsï¼ˆæ’ä»¶æ•°ç»„ï¼‰ æ˜¯å®Œå…¨åŒçº§å¹¶åˆ—çš„ã€‚ 12345678910111213141516171819&#123; &quot;presets&quot;: [ // è¿™é‡Œæ”¾ Babel çš„ç¯å¢ƒé¢„è®¾ã€React é¢„è®¾ç­‰ ], &quot;plugins&quot;: [ [ &quot;@babel/plugin-transform-runtime&quot;, &#123; // æ ¸å¿ƒå‚æ•°ï¼šå‘Šè¯‰ Babel å¸®æˆ‘æŠŠå†…è”çš„è¾…åŠ©å‡½æ•°ï¼ˆHelpersï¼‰æ›¿æ¢ä¸ºä»¥ module å½¢å¼å¼•å…¥ @babel/runtime ç›¸å…³æ–¹æ³• &quot;helpers&quot;: true, // æ˜¯å¦å¼€å¯ generator ç›¸å…³çš„ polyfill æŠ½ç¦»ï¼Œé¿å…å…¨å±€æ±¡æŸ“å…¨å±€å˜é‡ &quot;regenerator&quot;: true // (å¯é€‰) å¦‚æœä½ æ˜¯å¼€å‘ npm åŒ…åº“ï¼Œä¸æƒ³å…¨å±€å¼•å…¥ Promise ç­‰ API // ä½ å¯ä»¥æŠŠè¿™é‡Œçš„ corejs è®¾ä¸º 3ï¼Œè®© Babel ä» runtime å¸®ä½ è¿›è¡Œå±€éƒ¨çš„å®‰å…¨ polyfill åŠ è½½ // &quot;corejs&quot;: 3 &#125; ] ]&#125; 1ï¼‰æ ¸å¿ƒç»“è®ºtransform-runtime è¢«å¬å”¤å‡ºæ¥å°±æ˜¯ä¸ºäº† é¿å…æ¯ä¸ªæ–‡ä»¶é‡å¤å£°æ˜ Babel Helperã€‚å®ƒä¼šæŠŠé‚£äº›æ³¨å…¥çš„è¾…åŠ©å‡½æ•°ï¼Œç»Ÿç»Ÿå˜æˆ require(&quot;@babel/runtime/helpers/xxx&quot;) è¿™ä¸ªåŒ…é‡Œçš„å¼•ç”¨ã€‚åŒ…ä½“ç§¯ç¬é—´è¢«æ‹¯æ•‘ã€‚ ğŸ’¡ é¡¹ç›®é€‰æ‹©å»ºè®®ï¼š åšä¸šåŠ¡é¡¹ç›®ï¼ˆWeb Appï¼‰ï¼šç”¨ @babel/preset-env é…ä¸Š core-js (useBuiltIns) åšå…¨å±€ Polyfillã€‚ å¼€å‘åŸºç¡€ç»„ä»¶åº“&#x2F;NPM åŒ…ï¼šå°½é‡ä¸è¦ç”¨ useBuiltIns å»æ±¡æŸ“å…¨å±€åŸå‹ï¼Œè€Œæ˜¯å®Œå…¨ä¾èµ– @babel/plugin-transform-runtime åšå±€éƒ¨æ²™ç›’ç‰ˆçš„ api éš”ç¦»é™çº§ï¼ˆé…ç½®å®ƒçš„ corejs é€‰é¡¹ï¼‰ã€‚ ä¸ƒã€ Babel ä¸ TS &#x2F; React ç»“åˆ7.1 Reactï¼šè‡ªåŠ¨å¼•å…¥ JSX è¿è¡Œæ—¶é…ç½®ï¼š 123&#123; &quot;presets&quot;: [[&quot;@babel/preset-react&quot;, &#123; &quot;runtime&quot;: &quot;automatic&quot; &#125;]]&#125; runtime: &quot;automatic&quot;ï¼ˆReact 17+ ç‰¹æ€§ï¼‰æ„å‘³ç€ä½ å†ä¹Ÿä¸ç”¨åœ¨ç»„ä»¶ç¬¬ä¸€è¡Œæ‰‹åŠ¨å†™ import React from &quot;react&quot; äº†ã€‚ 7.2 TypeScriptï¼šç¼–è¯‘ TS è¿™ç‚¹å‘é…ç½®ï¼š 123&#123; &quot;presets&quot;: [&quot;@babel/preset-typescript&quot;]&#125; 1ï¼‰å…³é”®æ³¨æ„äº‹é¡¹ Babel å‰¥ç¦» TS æå¿«ï¼Œä½†ä¸è´Ÿè´£ç±»å‹æ£€æŸ¥ã€‚æƒ³è¦ç±»å‹æ£€æŸ¥æŠ¥é”™ï¼Œå¾—åŠ ä¸Š tsc --noEmit å‘½ä»¤é…åˆã€‚ å…·ä½“æ“ä½œï¼šä½ åº”è¯¥åœ¨æ ¹ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª tsconfig.json æ–‡ä»¶ã€‚ç„¶ååœ¨é¡¹ç›®çš„ package.json çš„ scripts ä¸­æ·»åŠ ä¸€æ¡è„šæœ¬ï¼Œä¾‹å¦‚ &quot;type-check&quot;: &quot;tsc --noEmit&quot;ã€‚åœ¨æ¯æ¬¡æ‰“åŒ…ï¼ˆå¦‚ npm run buildï¼‰æˆ–è€…æäº¤ä»£ç ï¼ˆé…åˆ husky + lint-stagedï¼‰ä¹‹å‰ï¼Œå…ˆè¿è¡Œè¿™æ¡å‘½ä»¤ï¼Œä»¥ä¾¿æŠŠä»»ä½•ç±»å‹é”™è¯¯æ‰¼æ€åœ¨æ‘‡ç¯®é‡Œã€‚è¿™é‡Œ --noEmit çš„æ„æ€æ˜¯ï¼štsc ç¼–è¯‘å™¨åªè´Ÿè´£æŠ¥é”™ï¼Œåšå†³ä¸è¾“å‡ºä»»ä½•ç¼–è¯‘åçš„ js æ–‡ä»¶ï¼ˆå› ä¸ºè¾“å‡ºæ‰“åŒ…çš„å·¥ä½œå·²ç»å…¨æƒäº¤ç»™ Babel &#x2F; Webpack &#x2F; Vite äº†ï¼‰ã€‚ è¸©å‘é¢„è­¦ï¼šå¦‚æœä½ ç›´æ¥ç”¨ @babel/cli å»ç¼–è¯‘ä¸€ä¸ªå¸¦æœ‰ TS æ–‡ä»¶çš„é¡¹ç›®ï¼Œå®ƒé»˜è®¤æ˜¯ä¼šå¿½ç•¥ .ts æ‰©å±•åçš„ï¼å¿…é¡»é€šè¿‡ CLI æŒ‡å®šæ‰©å±•åæ‰èƒ½ç”Ÿæ•ˆï¼šnpx babel src --out-dir dist --extensions &quot;.ts,.tsx&quot; å…«ã€ Babel åœ¨ Webpack å’Œ Vite ä¸­çš„ç”Ÿæ€å®šä½ Webpackï¼ˆæ­é… babel-loaderï¼‰ï¼šåœ¨ Webpack ä¸­ï¼Œä¸€åˆ‡éƒ½é  loader æ¥å…¥ã€‚å½“ Webpack é‡åˆ° .js/.ts/.jsx æ—¶ï¼Œä¼šäº¤ç»™ babel-loader å”¤é†’ Babel ç¼–è¯‘ï¼Œç¼–è¯‘åçš„å­—ç¬¦ä¸²å†åå›ç»™ Webpack æ‰“åŒ…ã€‚ Viteï¼ˆåŸºäº ESBuildï¼‰ï¼šVite åœ¨å¼€å‘ç¯å¢ƒä¸‹ä¸»è¦ä½¿ç”¨ go è¯­è¨€å†™çš„ ESBuild æé€Ÿè½¬è¯‘ä»£ç ï¼Œé»˜è®¤ä¸å¯ç”¨ Babelã€‚ä½†åœ¨ä¸€äº›ä¾èµ– Babel ç”Ÿæ€çš„åœºæ™¯ä¸‹ï¼ˆä¾‹å¦‚ React çš„ Fast Refresh çƒ­æ›´æ–°ã€CSS in JS å®ã€æ—§ç‰ˆæœ¬æµè§ˆå™¨å…¼å®¹ã€æŒ‰éœ€ç»„ä»¶å¯¼å…¥ç­‰ï¼‰ï¼ŒVite ä¾ç„¶ä¼šå€ŸåŠ©è‡ªèº«çš„æ’ä»¶åº•å±‚è°ƒç”¨ Babel è¾…åŠ©æ„å»ºã€‚ ä¹ã€ ASTã€éå†ä¸ç¼–è¯‘åŸç†é€Ÿé€šä½ ä¸éœ€è¦æˆä¸ºç¼–è¯‘åŸç†ä¸“å®¶ï¼Œä½†è¦è®°ä½è¿™ 3 ä¸ªè¯ï¼š 9.1 ASTï¼ˆAbstract Syntax Treeï¼ŒæŠ½è±¡è¯­æ³•æ ‘ï¼‰ç®€å•æ¥è¯´ï¼šAST å°±æ˜¯æŠŠä½ å†™çš„â€œæºä»£ç å­—ç¬¦ä¸²â€ï¼Œè½¬æ¢æˆäº†è®¡ç®—æœºï¼ˆç¼–è¯‘å™¨ï¼‰æ›´å®¹æ˜“ç†è§£å’Œæ“ä½œçš„â€œæ ‘çŠ¶æ•°æ®ç»“æ„â€ã€‚ ä¸ºä»€ä¹ˆéœ€è¦ ASTï¼Ÿå¯¹äºè®¡ç®—æœºæ¥è¯´ï¼Œä»£ç åªæ˜¯ä¸€ä¸²å­—ç¬¦åºåˆ—ï¼Œæƒ³è¦ä¿®æ”¹ã€ç¿»è¯‘æˆ–è€…æ£€æŸ¥ä»£ç ï¼ˆæ¯”å¦‚å¤„ç†å¤æ‚çš„åµŒå¥—å’Œä½œç”¨åŸŸï¼‰ï¼Œç›´æ¥æ“ä½œå­—ç¬¦ä¸²æå…¶å›°éš¾ã€‚æ‰€ä»¥éœ€è¦æŠŠä¸€ç»´å­—ç¬¦ä¸²è§£ææˆç»“æ„åŒ–çš„æ ‘çŠ¶æ•°æ®ï¼ˆé€šå¸¸æ˜¯ JSON æ ¼å¼ï¼‰ã€‚ ä»£ç æ˜¯æ€ä¹ˆå˜æˆ AST çš„ï¼Ÿè¿™ä¸ªè¿‡ç¨‹å«åšè§£æï¼ˆParsingï¼‰ï¼Œé€šå¸¸åˆ†ä¸ºä¸¤æ­¥ï¼š è¯æ³•åˆ†æï¼ˆTokenizationï¼‰ï¼šæŠŠä»£ç åˆ‡æˆä¸€ä¸ªä¸ªå…·å¤‡ç‹¬ç«‹æ„ä¹‰çš„â€œè¯æ³•å•å…ƒâ€ï¼ˆTokensï¼‰ã€‚ä¾‹å¦‚ let a = 1; ä¼šè¢«åˆ‡æˆï¼šlet, a, =, 1, ;ã€‚ è¯­æ³•åˆ†æï¼ˆSyntax Analysisï¼‰ï¼šæŠŠåˆ‡å‡ºæ¥çš„ Tokens æ•°ç»„ï¼Œæ ¹æ® JS è¯­æ³•è§„åˆ™ç»„åˆæ‹¼è£…æˆæ ‘çŠ¶ç»“æ„ï¼ˆASTï¼‰ã€‚æ¯”å¦‚ let a = 1; ä¼šè¢«è§£ææˆåŒ…å« VariableDeclarationã€Identifierã€NumericLiteral ç­‰èŠ‚ç‚¹çš„æ ‘ã€‚ AST çš„ç”¨å¤„ï¼šå‰ç«¯å·¥ç¨‹åŒ–é‡Œ 90% çš„â€œé­”æ³•â€ï¼ˆæ¯”å¦‚ Babel è½¬è¯‘ã€ESLint æ£€æŸ¥ã€Webpack æ„å»ºä¾èµ–å›¾è°±ã€Vue&#x2F;React æ¨¡æ¿ç¼–è¯‘ï¼‰çš„æ ¸å¿ƒæµç¨‹éƒ½æ˜¯ï¼šæºç  â†’ AST â†’ æ“ä½œï¼ˆä¿®æ”¹&#x2F;åˆ†æï¼‰AST â†’ é‡æ–°ç”Ÿæˆä»£ç ã€‚ 9.2 Visitorï¼ˆè®¿é—®è€…æ¨¡å¼ï¼‰ä½ å¯ä»¥æŠŠè¿™ä¸ªæƒ³æˆä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œè®¾å®šâ€œå½“æˆ‘éå† AST é‡åˆ°ç‰¹å®šçš„èŠ‚ç‚¹ï¼ˆæ¯”å¦‚é‡åˆ° BinaryExpression èŠ‚ç‚¹ï¼‰æ—¶ï¼Œè§¦å‘æˆ‘çš„å›è°ƒå‡½æ•°â€ã€‚ 9.3 Pathï¼ˆè·¯å¾„å¯¹è±¡ï¼‰æ’ä»¶æ‹¿åˆ°èŠ‚ç‚¹ä¸ä»…ä»…æ˜¯æ‹¿åˆ°èŠ‚ç‚¹æœ¬èº«çš„æ•°æ®ï¼Œè€Œæ˜¯æ‹¿åˆ°ä¸€ä¸ª Path åŒ…è£…å¯¹è±¡ã€‚å®ƒä¸ä»…åŒ…å«äº†å½“å‰èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œè¿˜åŒ…å«äº†èŠ‚ç‚¹ä¹‹é—´çš„çˆ¶å­ä¸Šä¸‹æ–‡å…³è”ï¼Œå¹¶é€šè¿‡è°ƒç”¨ path.replaceWith()ã€path.remove() ç­‰æä¾›çš„ä¸€æ•´å¥— API è®©ä½ å»å®‰å…¨åœ°ä¿®æ”¹å’Œæ“ä½œ these èŠ‚ç‚¹ã€‚ åã€ æ‰‹å†™ä¸€ä¸ª Babel æ’ä»¶éœ€æ±‚ï¼šæŠŠä»£ç ä¸­çš„ __DEV__ æ›¿æ¢ä¸º process.env.NODE_ENV !== &quot;production&quot;ï¼Œæ–¹ä¾¿åšå¼€å‘ç¯å¢ƒåŒ…è£¹ã€‚ 10.1 æ’ä»¶ä»£ç ï¼ˆreplace-dev-flag.jsï¼‰1234567891011121314151617181920212223module.exports = function myPlugin(&#123; types: t &#125;) &#123; return &#123; name: &quot;replace-dev-flag&quot;, visitor: &#123; Identifier(path) &#123; // å‘ç°ä¸æ˜¯ç›®æ ‡å˜é‡ï¼Œç›´æ¥æ”¾è¡Œ if (path.node.name !== &quot;__DEV__&quot;) return; // ç”Ÿæˆç›®æ ‡è¡¨è¾¾å¼ path.replaceWith( t.binaryExpression( &quot;!==&quot;, t.memberExpression( t.memberExpression(t.identifier(&quot;process&quot;), t.identifier(&quot;env&quot;)), t.identifier(&quot;NODE_ENV&quot;), ), t.stringLiteral(&quot;production&quot;), ), ); &#125;, &#125;, &#125;;&#125;; 10.2 åœ¨é…ç½®ä¸­ä½¿ç”¨å®ƒ123&#123; &quot;plugins&quot;: [&quot;./babel-plugins/replace-dev-flag.js&quot;]&#125; åä¸€ã€ ç»ˆæä¸€é”®å¤åˆ¶é…ç½®æ¨¡æ¿11.1 ç»å¤§å¤šæ•°ç°ä»£å·¥ç¨‹ï¼ˆVue&#x2F;æ™®é€š JS é¡¹ç›®ï¼Œä½¿ç”¨æ‰“åŒ…å·¥å…·ï¼‰babel.config.jsonï¼š 123456789101112131415161718192021&#123; &quot;presets&quot;: [ [ &quot;@babel/preset-env&quot;, &#123; &quot;modules&quot;: false, &quot;useBuiltIns&quot;: &quot;usage&quot;, &quot;corejs&quot;: &quot;3.38&quot; &#125; ] ], &quot;plugins&quot;: [ [ &quot;@babel/plugin-transform-runtime&quot;, &#123; &quot;helpers&quot;: true, &quot;regenerator&quot;: true &#125; ] ]&#125; ä¾èµ–æ¸…å•ï¼š 12npm i -D @babel/core @babel/preset-env @babel/plugin-transform-runtimenpm i core-js @babel/runtime 11.2 React + TS å‰ç«¯ä¸»åº”ç”¨é¡¹ç›®babel.config.jsonï¼š 1234567891011121314151617181920&#123; &quot;presets&quot;: [ [ &quot;@babel/preset-env&quot;, &#123; &quot;modules&quot;: false, &quot;useBuiltIns&quot;: &quot;usage&quot;, &quot;corejs&quot;: &quot;3.38&quot; &#125; ], [&quot;@babel/preset-react&quot;, &#123; &quot;runtime&quot;: &quot;automatic&quot; &#125;], &quot;@babel/preset-typescript&quot; ], &quot;plugins&quot;: [ [ &quot;@babel/plugin-transform-runtime&quot;, &#123; &quot;helpers&quot;: true, &quot;regenerator&quot;: true &#125; ] ]&#125;","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://example.com/tags/javascript/"},{"name":"babel7","slug":"babel7","permalink":"http://example.com/tags/babel7/"},{"name":"compiler","slug":"compiler","permalink":"http://example.com/tags/compiler/"}]},{"title":"JavaScript æ¨¡å—åŒ–ä¸ Webpack 5ï¼šä»åŸç†å‰–æåˆ°å·¥ç¨‹åŒ–å®æˆ˜","slug":"55-JavaScript æ¨¡å—åŒ–ä¸ Webpack 5ï¼šä»åŸç†å‰–æåˆ°å·¥ç¨‹åŒ–å®æˆ˜","date":"2026-02-27T22:11:00.000Z","updated":"2026-03-01T16:07:38.353Z","comments":true,"path":"posts/w41d92f5.html","permalink":"http://example.com/posts/w41d92f5.html","excerpt":"","text":"ğŸš€ JavaScript æ¨¡å—åŒ–ä¸ Webpack 5ï¼šä»åŸç†å‰–æåˆ°å·¥ç¨‹åŒ–å®æˆ˜ ğŸ“š æœ¬æ€»ç»“æ·±å…¥å‰–æäº† JavaScript æ¨¡å—åŒ–è§„èŒƒçš„åº•å±‚å·®å¼‚ï¼ˆCommonJS vs ESMï¼‰ï¼Œå¹¶ç»“åˆ Webpack 5 åŠæœ€æ–°çš„ Webpack CLI 6.x æä¾›äº†è¯¦å°½çš„å®æµ‹éªŒè¯ä¸å·¥ç¨‹åŒ–æœ€ä½³å®è·µã€‚ ç›®å½• æ¨¡å—åŒ–è§„èŒƒè¯¦è§£ æ ¸å¿ƒåŒºåˆ«ï¼šå¼•ç”¨ vs æ‹·è´ package.json é…ç½®é¡¹ webpack-cli æ™ºèƒ½åŠ è½½ å®æµ‹éªŒè¯è®°å½• æœ€ä½³å®è·µå»ºè®® é…ç½®é€‰æ‹©æµç¨‹å›¾ å…³é”®é¡¹æ€»ç»“ å¸¸è§é—®é¢˜ FAQ æ ¸å¿ƒç»“è®ºæ€»ç»“ ä¸€ã€ JavaScript æ¨¡å—åŒ–è§„èŒƒè¯¦è§£1.1 CommonJS (CJS)ä½¿ç”¨åœºæ™¯ï¼šNode.js æœåŠ¡ç«¯ ç‰¹ç‚¹ï¼š åŒæ­¥åŠ è½½æ¨¡å— è¿è¡Œæ—¶åŠ è½½ï¼ˆå€¼çš„æ‹·è´ï¼‰ æ¯ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªæ¨¡å— è¯­æ³•ï¼š 1234567// å¯¼å‡ºmodule.exports = &#123; add: (a, b) =&gt; a + b &#125;;exports.count = 10;// å¯¼å…¥const math = require(&quot;./math&quot;);const &#123; add &#125; = require(&quot;./math&quot;); 1.2 AMD (Asynchronous Module Definition)ä½¿ç”¨åœºæ™¯ï¼šæµè§ˆå™¨ç«¯ ç‰¹ç‚¹ï¼š å¼‚æ­¥åŠ è½½æ¨¡å— ä¾èµ–å‰ç½®ï¼Œæå‰æ‰§è¡Œ ä»£è¡¨åº“ï¼šRequireJS è¯­æ³•ï¼š 1234567891011// å®šä¹‰æ¨¡å—define([&quot;jquery&quot;, &quot;underscore&quot;], function ($, _) &#123; return &#123; method: function () &#123;&#125;, &#125;;&#125;);// ä½¿ç”¨æ¨¡å—require([&quot;module1&quot;, &quot;module2&quot;], function (m1, m2) &#123; m1.method();&#125;); 1.3 UMD (Universal Module Definition)ä½¿ç”¨åœºæ™¯ï¼šé€šç”¨ç¯å¢ƒï¼ˆæµè§ˆå™¨ + Node.jsï¼‰ ç‰¹ç‚¹ï¼š å…¼å®¹ CommonJS å’Œ AMD å¯ä»¥åœ¨å¤šç§ç¯å¢ƒä¸‹è¿è¡Œ é€šå¸¸ç”¨äºç¬¬ä¸‰æ–¹åº“ è¯­æ³•ï¼š 1234567891011121314(function (root, factory) &#123; if (typeof define === &quot;function&quot; &amp;&amp; define.amd) &#123; // AMD define([], factory); &#125; else if (typeof module === &quot;object&quot; &amp;&amp; module.exports) &#123; // CommonJS module.exports = factory(); &#125; else &#123; // æµè§ˆå™¨å…¨å±€å˜é‡ root.myModule = factory(); &#125;&#125;)(this, function () &#123; return &#123; method: function () &#123;&#125; &#125;;&#125;); 1.4 ES6 Modules (ESM) â­ æ¨èä½¿ç”¨åœºæ™¯ï¼šç°ä»£æµè§ˆå™¨å’Œ Node.js ç‰¹ç‚¹ï¼š JavaScript å®˜æ–¹æ ‡å‡† é™æ€å¯¼å…¥ï¼Œç¼–è¯‘æ—¶åŠ è½½ æ”¯æŒ Tree Shakingï¼ˆæ‘‡æ ‘ä¼˜åŒ–ï¼‰ å€¼çš„å¼•ç”¨ï¼ˆè€Œéæ‹·è´ï¼‰ è¯­æ³•ï¼š 1234567891011// å¯¼å‡ºexport const name = &quot;value&quot;;export function add(a, b) &#123; return a + b;&#125;export default function () &#123;&#125;// å¯¼å…¥import &#123; name, add &#125; from &quot;./module.js&quot;;import defaultExport from &quot;./module.js&quot;;import * as module from &quot;./module.js&quot;; 1.5 CMD (Common Module Definition)ä½¿ç”¨åœºæ™¯ï¼šæµè§ˆå™¨ç«¯ï¼ˆå·²æ·˜æ±°ï¼‰ ç‰¹ç‚¹ï¼š SeaJS æ¨å¹¿çš„è§„èŒƒ ä¾èµ–å°±è¿‘ï¼Œå»¶è¿Ÿæ‰§è¡Œ ç°åœ¨åŸºæœ¬ä¸å†ä½¿ç”¨ äºŒã€ ES6 Modules vs CommonJS æ ¸å¿ƒåŒºåˆ«è¯¦è§£2.1 å€¼çš„å¼•ç”¨ vs å€¼çš„æ‹·è´è¿™æ˜¯ ES6 Modules å’Œ CommonJS çš„ä¸€ä¸ªå…³é”®åŒºåˆ«ã€‚ 1ï¼‰æ ¸å¿ƒåŒºåˆ« æ¨¡å—ç³»ç»Ÿ å¯¼å‡ºæœºåˆ¶ ç‰¹ç‚¹ CommonJS å€¼çš„æ‹·è´ ğŸ“¸ å¯¼å‡ºæ—¶å¤åˆ¶ä¸€ä»½å€¼ï¼Œäº’ä¸å½±å“ ES6 Modules å€¼çš„å¼•ç”¨ï¼ˆç»‘å®šï¼‰ğŸ“¹ å¯¼å‡ºçš„æ˜¯å¼•ç”¨ï¼ŒæŒ‡å‘åŒä¸€ä¸ªå€¼ 2ï¼‰CommonJS - å€¼çš„æ‹·è´ï¼ˆæ‹ç…§ç‰‡ï¼‰12345678910111213141516// counter.js (CommonJS)let count = 0;function increment() &#123; count++;&#125;function getCount() &#123; return count;&#125;module.exports = &#123; count, // å¯¼å‡ºçš„æ˜¯ count çš„æ‹·è´ increment, getCount,&#125;; 1234567// main.jsconst counter = require(&quot;./counter.js&quot;);console.log(counter.count); // 0counter.increment();console.log(counter.count); // è¿˜æ˜¯ 0 âŒï¼ˆå› ä¸ºæ˜¯æ‹·è´ï¼Œä¸ä¼šæ›´æ–°ï¼‰console.log(counter.getCount()); // 1 âœ…ï¼ˆé€šè¿‡å‡½æ•°è®¿é—®åˆ°æœ€æ–°å€¼ï¼‰ è¯´æ˜ï¼š counter.count æ˜¯å¯¼å‡ºæ—¶çš„æ‹·è´å€¼ å†…éƒ¨ count å˜åŒ–äº†ï¼Œä½†å¯¼å‡ºçš„æ‹·è´ä¸ä¼šæ›´æ–° å°±åƒå¤å°äº†ä¸€ä»½æ–‡ä»¶ï¼ŒåŸä»¶æ”¹äº†ï¼Œå¤å°ä»¶ä¸ä¼šå˜ 3ï¼‰ES6 Modules - å€¼çš„å¼•ç”¨ï¼ˆè§†é¢‘ç›´æ’­ï¼‰12345678910// counter.js (ES6)export let count = 0;export function increment() &#123; count++;&#125;export function getCount() &#123; return count;&#125; 1234567// main.jsimport &#123; count, increment, getCount &#125; from &quot;./counter.js&quot;;console.log(count); // 0increment();console.log(count); // 1 âœ…ï¼ˆå®æ—¶æ›´æ–°ï¼ï¼‰console.log(getCount()); // 1 âœ… è¯´æ˜ï¼š count æ˜¯ä¸€ä¸ªå®æ—¶ç»‘å®šï¼ˆå¼•ç”¨ï¼‰ å†…éƒ¨ count å˜åŒ–ï¼Œå¤–éƒ¨ç«‹å³çœ‹åˆ°å˜åŒ– å°±åƒä¸€ä¸ªæŒ‡é’ˆï¼Œå§‹ç»ˆæŒ‡å‘åŒä¸€ä¸ªå€¼ 4ï¼‰å½¢è±¡æ¯”å–»CommonJS - æ‹ç…§ç‰‡ ğŸ“¸ 1234567åŸå§‹æ–‡ä»¶ï¼ˆcounter.jsï¼‰ï¼šâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ count:0 â”‚ â†’ å¯¼å‡ºæ—¶ â†’ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” ç…§ç‰‡ï¼ˆmain.jsï¼‰â”‚ â†“ â”‚ â”‚ count:0 â”‚â”‚ count:1 â”‚ â”‚ â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ ç…§ç‰‡ä¸ä¼šè‡ªåŠ¨æ›´æ–°ï¼ ES6 Modules - è§†é¢‘ç›´æ’­ ğŸ“¹ 1234567åŸå§‹æ–‡ä»¶ï¼ˆcounter.jsï¼‰ï¼šâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ count:0 â”‚ â†â•â•â•â•â•â•â• å®æ—¶è¿æ¥ â•â•â•â•â•â•â•â”â”‚ â†“ â”‚ â”‚â”‚ count:1 â”‚ â†â•â•â•â•â•â•â• åŒæ­¥æ›´æ–° â•â•â•â•â•â•â•â•â•â”¤ main.jsâ”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ çœ‹åˆ°å®æ—¶å€¼ï¼ 5ï¼‰ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ1. çŠ¶æ€ç®¡ç†æ›´ç›´è§‚ 12345678910// store.js (ES6)export let state = &#123; count: 0 &#125;;export function updateState(newState) &#123; state = newState;&#125;// app.jsimport &#123; state &#125; from &quot;./store.js&quot;;console.log(state); // âœ… å§‹ç»ˆæ˜¯æœ€æ–°çš„ state 2. é¿å…å¸¸è§é™·é˜± 123456789// âŒ CommonJS çš„å¸¸è§é”™è¯¯const config = require(&quot;./config&quot;);config.setDebug(true);console.log(config.isDebug); // è¿˜æ˜¯ false âŒï¼ˆæ‹·è´ä¸æ›´æ–°ï¼‰// âœ… ES6 çš„æ­£ç¡®è¡Œä¸ºimport &#123; isDebug &#125; from &quot;./config.js&quot;;setDebug(true);console.log(isDebug); // true âœ…ï¼ˆå¼•ç”¨è‡ªåŠ¨æ›´æ–°ï¼‰ 3. æ³¨æ„ï¼šES6 æ¨¡å—å¯¼å…¥çš„å€¼æ˜¯åªè¯»çš„ 1234567891011// counter.jsexport let count = 0;// main.jsimport &#123; count &#125; from &quot;./counter.js&quot;;count = 10; // âŒ TypeError: Assignment to constant variable// æ­£ç¡®åšæ³•ï¼šé€šè¿‡å¯¼å‡ºçš„å‡½æ•°ä¿®æ”¹export function setCount(value) &#123; count = value; // âœ… åœ¨æ¨¡å—å†…éƒ¨å¯ä»¥ä¿®æ”¹&#125; 6ï¼‰æ€»ç»“å¯¹æ¯” ç‰¹æ€§ CommonJS ES6 Modules å¯¼å‡ºæœºåˆ¶ å€¼çš„æ‹·è´ ğŸ“¸ å€¼çš„å¼•ç”¨ ğŸ“¹ æ›´æ–°æœºåˆ¶ ä¸ä¼šè‡ªåŠ¨æ›´æ–° å®æ—¶åŒæ­¥ å¤–éƒ¨ä¿®æ”¹ å¯ä»¥ä¿®æ”¹å¯¼å…¥çš„å¯¹è±¡ åªè¯»ï¼Œä¸èƒ½ä¿®æ”¹ é€‚åˆåœºæ™¯ æœåŠ¡ç«¯åŒæ­¥åŠ è½½ ç°ä»£åº”ç”¨ï¼Œé™æ€åˆ†æ 2.2 Tree Shakingï¼ˆæ‘‡æ ‘ä¼˜åŒ–ï¼‰è¯¦è§£1ï¼‰ä»€ä¹ˆæ˜¯ Tree Shakingï¼ŸTree Shaking æ˜¯ä¸€ä¸ªæœ¯è¯­ï¼Œé€šå¸¸ç”¨äºæè¿°ç§»é™¤ JavaScript ä»£ç ä¸­æœªä½¿ç”¨ï¼ˆdead codeï¼‰çš„è¿‡ç¨‹ã€‚ å½¢è±¡æ¯”å–»ï¼š ğŸŒ³ æ ‘ &#x3D; ä½ çš„æ•´ä¸ªä»£ç åº“ ğŸƒ ç»¿å¶ &#x3D; å®é™…ä½¿ç”¨çš„ä»£ç ï¼ˆæ´»ä»£ç ï¼‰ ğŸ‚ æ¯å¶ &#x3D; æœªä½¿ç”¨çš„ä»£ç ï¼ˆæ­»ä»£ç ï¼‰ æ‘‡æ ‘ï¼ˆShakingï¼‰ &#x3D; æ‘‡åŠ¨è¿™æ£µæ ‘ï¼Œè®©æ¯å¶ï¼ˆæœªä½¿ç”¨çš„ä»£ç ï¼‰æ‰è½ï¼Œåªä¿ç•™ç»¿å¶ï¼ˆä½¿ç”¨çš„ä»£ç ï¼‰ 2ï¼‰Tree Shaking çš„ä½œç”¨ä¼˜åŒ–å‰ï¼ˆæ²¡æœ‰ Tree Shakingï¼‰ï¼š 1234567891011121314151617// math.js - å¯¼å‡ºå¤šä¸ªå‡½æ•°export function add(a, b) &#123; return a + b;&#125;export function subtract(a, b) &#123; return a - b;&#125;export function multiply(a, b) &#123; return a * b;&#125;export function divide(a, b) &#123; return a / b;&#125;// main.js - åªä½¿ç”¨äº† addimport &#123; add &#125; from &quot;./math.js&quot;;console.log(add(1, 2)); 1234567891011121314// bundle.js - åŒ…å«æ‰€æœ‰å‡½æ•°ï¼ˆæµªè´¹ï¼‰function add(a, b) &#123; return a + b;&#125;function subtract(a, b) &#123; return a - b;&#125; // âŒ æœªä½¿ç”¨ä½†è¢«æ‰“åŒ…function multiply(a, b) &#123; return a * b;&#125; // âŒ æœªä½¿ç”¨ä½†è¢«æ‰“åŒ…function divide(a, b) &#123; return a / b;&#125; // âŒ æœªä½¿ç”¨ä½†è¢«æ‰“åŒ…console.log(add(1, 2)); ä¼˜åŒ–åï¼ˆæœ‰ Tree Shakingï¼‰ï¼š 12345// bundle.js - åªåŒ…å«ä½¿ç”¨çš„å‡½æ•°ï¼ˆä¼˜åŒ–ï¼‰function add(a, b) &#123; return a + b;&#125; // âœ… ä½¿ç”¨äº†ï¼Œä¿ç•™console.log(add(1, 2)); æ•ˆæœï¼š ğŸ“¦ å‡å°æ‰“åŒ…ä½“ç§¯ï¼ˆå¯èƒ½å‡å°‘ 50%+ çš„ä»£ç ï¼‰ âš¡ åŠ å¿«åŠ è½½é€Ÿåº¦ ğŸš€ æå‡æ€§èƒ½ 3ï¼‰Tree Shaking çš„å·¥ä½œåŸç†1. ä¾èµ– ES6 Modulesï¼ˆESMï¼‰ Tree Shaking åªå¯¹ ES6 æ¨¡å—ï¼ˆimport&#x2F;exportï¼‰æœ‰æ•ˆï¼Œå¯¹ CommonJSï¼ˆrequire&#x2F;module.exportsï¼‰æ— æ•ˆã€‚ ä¸ºä»€ä¹ˆï¼Ÿ ç‰¹æ€§ ES6 Modules CommonJS åŠ è½½æ—¶æœº ç¼–è¯‘æ—¶ï¼ˆé™æ€ï¼‰ è¿è¡Œæ—¶ï¼ˆåŠ¨æ€ï¼‰ ç»“æ„ é™æ€ç»“æ„ï¼Œå¯åˆ†æ åŠ¨æ€ç»“æ„ï¼Œä¸å¯é¢„æµ‹ Tree Shaking âœ… æ”¯æŒ âŒ ä¸æ”¯æŒ 2. é™æ€åˆ†æ Webpack åœ¨ç¼–è¯‘é˜¶æ®µä¼šåˆ†æä»£ç çš„å¯¼å…¥å¯¼å‡ºå…³ç³»ï¼Œæ ‡è®°å“ªäº›å¯¼å‡ºè¢«ä½¿ç”¨äº†ï¼Œå¹¶åˆ é™¤æœªä½¿ç”¨çš„å¯¼å‡ºã€‚ 4ï¼‰å¦‚ä½•å¯ç”¨ Tree Shakingåœ¨ webpack 5 ä¸­ï¼ˆè‡ªåŠ¨å¯ç”¨ï¼‰ 1234// webpack.config.jsexport default &#123; mode: &quot;production&quot;, // ç”Ÿäº§æ¨¡å¼è‡ªåŠ¨å¯ç”¨ Tree Shaking&#125;; package.json é…ç½®ï¼ˆå¯é€‰ï¼‰ 1234&#123; &quot;name&quot;: &quot;my-project&quot;, &quot;sideEffects&quot;: false&#125; 5ï¼‰sideEffects é…ç½®çš„å½±å“å¯¹æ¯” é…ç½® Tree Shaking ç²’åº¦ åˆ é™¤èŒƒå›´ æœªè®¾ç½® sideEffects: false æˆå‘˜çº§åˆ« åªåˆ é™¤æ–‡ä»¶å†…æœªä½¿ç”¨çš„å¯¼å‡º è®¾ç½® sideEffects: false æ–‡ä»¶çº§åˆ« + æˆå‘˜çº§åˆ« å¯åˆ é™¤æ•´ä¸ªæœªä½¿ç”¨çš„æ–‡ä»¶ 6ï¼‰Tree Shaking çš„é™åˆ¶ä¸æœ€ä½³å®è·µâœ… æ¨èåšæ³•ï¼šä½¿ç”¨ ES6 æ¨¡å—ã€ç”Ÿäº§æ¨¡å¼æ„å»ºã€é¿å…å‰¯ä½œç”¨ä»£ç ã€ä½¿ç”¨æ”¯æŒ Tree Shaking çš„åº“ã€‚âŒ é¿å…ï¼šæ··ç”¨ CommonJS å’Œ ESMã€é¡¶å±‚å‰¯ä½œç”¨ä»£ç ã€é»˜è®¤å¯¼å‡ºæ•´ä¸ªå¤§å¯¹è±¡ã€‚ 7ï¼‰å¸¸è§è¯¯åŒºï¼šä¸ â€œtypeâ€: â€œmoduleâ€ çš„å…³ç³»çœŸç›¸ï¼šTree Shaking ä¸ package.json çš„ &quot;type&quot; æ— å…³ã€‚å®ƒåªå–å†³äºæºä»£ç æ˜¯å¦ä½¿ç”¨äº† import/export è¯­æ³•ã€‚ ä¸‰ã€ package.json ä¸­çš„ â€œtypeâ€ é…ç½®è¯¦è§£3.1 åˆå§‹åŒ–é¡¹ç›®ä¸ç›®å½•ç»“æ„æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ–é¡¹ç›®å¹¶å®‰è£… Webpack ç›¸å…³ä¾èµ–ï¼š 12npm init -ynpm i webpack webpack-cli -D åˆå§‹åŒ–åçš„æ¨èå·¥ç¨‹ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š 12345678webpack_codeâ”œâ”€â”€ src # æºä»£ç ç›®å½•â”‚ â”œâ”€â”€ js # JS æ–‡ä»¶å¤¹â”‚ â”‚ â”œâ”€â”€ count.jsâ”‚ â”‚ â””â”€â”€ sum.jsâ”‚ â””â”€â”€ main.js # é¡¹ç›®ä¸»å…¥å£æ–‡ä»¶â”œâ”€â”€ package.json # é¡¹ç›®é…ç½®æ–‡ä»¶â””â”€â”€ webpack.config.js # Webpack é…ç½®æ–‡ä»¶ webpack.config.js 12345678910111213141516171819202122const path = require(&quot;path&quot;);module.exports = &#123; // å…¥å£ entry: &quot;./src/main.js&quot;, // è¾“å‡º output: &#123; // __dirname nodejsçš„å˜é‡ï¼Œè¡¨ç¤ºå½“å‰æ–‡ä»¶çš„ç›®å½• path: path.resolve(__dirname, &quot;dist&quot;), // ç»å¯¹è·¯å¾„ filename: &quot;js/main.js&quot;, &#125;, // åŠ è½½å™¨ module: &#123; rules: [ // loaderçš„é…ç½®(æ‰§è¡Œé¡ºåºæ˜¯ ä»ä¸‹å¾€ä¸Š æˆ– ä»å³åˆ°å·¦) ], &#125;, // æ’ä»¶ plugins: [], // æ¨¡å¼ mode: &quot;production&quot;,&#125;; è¿è¡Œ 1npx webpack 3.2 npx ä¸ xxx-cli çš„å…³ç³»è§£æåœ¨ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–ä¸­ï¼Œnpx å’Œ xxx-cliï¼ˆå¦‚ webpack-cliï¼‰æ˜¯ç›¸è¾…ç›¸æˆçš„åä½œå…³ç³»ï¼š xxx-cli (å·¥å…·ç®±)ï¼šæ˜¯åŠŸèƒ½çš„å®ä½“ã€‚ä¾‹å¦‚ webpack-cli åŒ…å«äº†è§£æå‘½ä»¤è¡Œå‚æ•°ã€è¯»å–é…ç½®æ–‡ä»¶ã€è°ƒç”¨ Webpack å†…æ ¸çš„æ ¸å¿ƒä»£ç ã€‚æ²¡æœ‰å®ƒï¼ŒWebpack å°±æ— æ³•é€šè¿‡å‘½ä»¤è¡Œè¿è¡Œã€‚ npx (é€šè¡Œè¯)ï¼šæ˜¯å‘½ä»¤çš„æ‰§è¡Œè€…ã€‚å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯è‡ªåŠ¨å¯»æ‰¾å¹¶æ‰§è¡Œå®‰è£…åœ¨é¡¹ç›®æœ¬åœ°ï¼ˆnode_modules/.binï¼‰çš„äºŒè¿›åˆ¶å‘½ä»¤ã€‚ åä½œé€»è¾‘ï¼š å®‰è£…ï¼šæˆ‘ä»¬å°† webpack-cli å®‰è£…ä¸ºé¡¹ç›®çš„æœ¬åœ° devDependenciesï¼ˆéå…¨å±€å®‰è£…ï¼‰ã€‚ å¯»æ‰¾ï¼šå½“ä½ è¾“å…¥ npx webpack æ—¶ï¼Œnpx ä¼šåœ¨å½“å‰é¡¹ç›®çš„ node_modules ä¸­ç²¾å‡†å®šä½åˆ° webpack-cli çš„æ‰§è¡Œå…¥å£ã€‚ æ‰§è¡Œï¼šnpx å”¤èµ· webpack-cliï¼Œåè€…å¼€å§‹è¯»å–é…ç½®å¹¶å®Œæˆæ‰“åŒ…ä»»åŠ¡ã€‚ ä¼˜åŠ¿ï¼šè¿™ç§æ¨¡å¼é¿å…äº†å…¨å±€å®‰è£…å¸¦æ¥çš„ç‰ˆæœ¬å†²çªï¼Œç¡®ä¿æ¯ä¸ªé¡¹ç›®ä½¿ç”¨çš„éƒ½æ˜¯è‡ªå·± package.json ä¸­æŒ‡å®šçš„ç‰¹å®šç‰ˆæœ¬å·¥å…·ã€‚ 3.3 é…ç½®é€‰é¡¹ä¸€è§ˆ type é…ç½®å€¼ .js å¤„ç†æ–¹å¼ .mjs æ–‡ä»¶ .cjs æ–‡ä»¶ ä¸è®¾ç½® CommonJS ESM CommonJS â€œcommonjsâ€ CommonJSï¼ˆå¼ºåˆ¶ï¼‰ ESM CommonJS â€œmoduleâ€ ESMï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰ ESM CommonJS 3.4 ä¸‰ç§æ¨¡å¼è¯¦è§£1ï¼‰ä¸è®¾ç½® typeï¼ˆé»˜è®¤è¡Œä¸ºï¼‰â­â­â­â­â­è¿™æ˜¯æœ€æ¨èçš„é…ç½®ã€‚.js æ–‡ä»¶é»˜è®¤ä¸º CommonJSï¼Œä½†ç”±äºæœ€æ–°çš„ webpack-cli 6.x æ™ºèƒ½åŠ è½½æœºåˆ¶ï¼Œé…ç½®æ–‡ä»¶ä¾ç„¶å¯ä»¥ä½¿ç”¨ export defaultã€‚ 2ï¼‰è®¾ç½® â€œtypeâ€: â€œcommonjsâ€å¼ºåˆ¶ .js æ–‡ä»¶ä¸º CommonJSã€‚åœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œwebpack.config.js ä¸èƒ½ä½¿ç”¨ ESM è¯­æ³•ã€‚ 3ï¼‰è®¾ç½® â€œtypeâ€: â€œmoduleâ€æ‰€æœ‰ .js æ–‡ä»¶éµå¾ª ESM ä¸¥æ ¼æ¨¡å¼ã€‚æ³¨æ„ï¼šåœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œimport å¿…é¡»æºå¸¦å®Œæ•´çš„æ–‡ä»¶æ‰©å±•åï¼ˆå¦‚ .jsï¼‰ã€‚ å››ã€ webpack-cli ç‰ˆæœ¬å½±å“ï¼ˆå®æµ‹ç»“æœï¼‰4.1 webpack-cli 6.x æ™ºèƒ½åŠ è½½æœºåˆ¶ ğŸ‰ package.json é…ç½® config å¯ç”¨è¯­æ³• æºä»£ç  import å®æµ‹ç»“æœ ä¸è®¾ç½® type â­ CJS âœ… &#x2F; ESM âœ… ä¸éœ€è¦ .js âœ… âœ… é€šè¿‡ â€œtypeâ€: â€œcommonjsâ€ CJS âœ… &#x2F; ESM âŒ ä¸éœ€è¦ .js âœ… âš ï¸ ESM æŠ¥é”™ â€œtypeâ€: â€œmoduleâ€ CJS âŒ &#x2F; ESM âœ… å¿…é¡»åŠ  .js âš ï¸ âš ï¸ import å—é™ 4.2 æ™ºèƒ½åŠ è½½åŸç†è§£æwebpack-cli 6.x ä¼šå…ˆå°è¯• require é…ç½®æ–‡ä»¶ï¼Œå¦‚æœé‡åˆ° ESM è¯­æ³•æŠ›å‡ºçš„æŠ¥é”™ï¼Œåˆ™ä¼šè‡ªåŠ¨æ•è·å¹¶æ”¹ç”¨åŠ¨æ€ import() åŠ è½½ã€‚è¿™ä¸€ç‰¹æ€§è®©â€œä¸è®¾ç½® typeâ€æˆä¸ºäº†çµæ´»æ€§æœ€é«˜çš„é€‰æ‹©ã€‚ äº”ã€ å®æµ‹éªŒè¯è®°å½•5.1 æµ‹è¯• 1ï¼šä¸è®¾ç½® type + export default âœ…Node.js ç¯å¢ƒä¸‹æˆåŠŸç¼–è¯‘ã€‚è¯´æ˜ webpack-cli 6.x æˆåŠŸå…¼å®¹äº†ä¸è®¾ type æ—¶çš„ ESM é…ç½®ã€‚ 5.2 æµ‹è¯• 2ï¼štype: â€œcommonjsâ€ + export default âŒæŠ›å‡º SyntaxError: Unexpected token &#39;export&#39;ã€‚å› ä¸ºæ˜¾å¼å£°æ˜ä¸º CJS åï¼Œå°è¯•ä½¿ç”¨ ESM è¯­æ³•ä¼šè¢«æ•è·ä¸ºéæ³•ã€‚ 5.3 æµ‹è¯• 3ï¼štype: â€œmoduleâ€ + export default âš ï¸è™½ç„¶é…ç½®æ–‡ä»¶é€šè¿‡ï¼Œä½†æºä»£ç ä¸­çš„ import å› ä¸ºæ²¡æœ‰å†™ .js åç¼€è€Œå¯¼è‡´è·¯å¾„è§£æå¤±è´¥ã€‚ å…­ã€ æœ€ä½³å®è·µå»ºè®®ï¼ˆåŸºäºå®æµ‹ï¼‰6.1 æ¨èé…ç½®ï¼šäº”æ˜Ÿçº§æ–¹æ¡ˆ â­â­â­â­â­ package.json: ä¸è®¾ç½® typeã€‚ webpack.config.js: ä½¿ç”¨ ESM è¯­æ³•ï¼ˆimport path from &#39;path&#39; å’Œ export defaultï¼‰ã€‚ æºä»£ç : ä½¿ç”¨æ ‡å‡†çš„ ES6 æ¨¡å—ï¼ˆimport count from &quot;./js/count&quot;ï¼‰ï¼Œäº«å—æ— éœ€åç¼€çš„ç®€æ´æ„Ÿã€‚ ä¸ƒã€ é…ç½®é€‰æ‹©æµç¨‹å›¾123456789éœ€è¦é…ç½® package.json çš„ type å—ï¼Ÿ â”‚ â”œâ”€â†’ æ˜¯å¦ä½¿ç”¨ webpack-cli 6.xï¼Ÿ â”‚ â”œâ”€â†’ æ˜¯ â†’ æ¨èä¸è®¾ç½® type â­â­â­â­â­ (çµæ´»ã€ç®€æ´) â”‚ â””â”€â†’ å¦ â†’ é…ç½®æ–‡ä»¶å¿…é¡»ç”¨ CommonJS â”‚ â”œâ”€â†’ æ˜¯å¦çº¯ ESM é¡¹ç›®ï¼ˆNode.js åŸç”Ÿï¼‰ï¼Ÿ â”‚ â”œâ”€â†’ æ˜¯ â†’ &quot;type&quot;: &quot;module&quot; (é¡»åŠ  .js åç¼€) â”‚ â””â”€â†’ å¦ â†’ ä¸è®¾ç½® type â­ æœ€æ¨è å…«ã€ å…³é”®è¦ç‚¹æ€»ç»“ é»˜è®¤æœ€å¼ºï¼šä¸è®¾ç½® type æ˜¯ç›®å‰æœ€çµæ´»ã€å…¼å®¹æ€§æœ€å¥½çš„æ–¹æ¡ˆã€‚ åç¼€è§„åˆ™ï¼š.mjs å§‹ç»ˆä¸º ESMï¼Œ.cjs å§‹ç»ˆä¸º CommonJSã€‚ æ™ºèƒ½ cliï¼šwebpack-cli 6.x çš„è‡ªåŠ¨åˆ‡æ¢æœºåˆ¶æ˜¯ç®€åŒ–å·¥ç¨‹é…ç½®çš„å…³é”®ã€‚ Tree Shakingï¼šåªçœ‹ä»£ç è¯­æ³•ï¼Œä¸çœ‹ package.json é…ç½®ã€‚ ä¹ã€ å¸¸è§é—®é¢˜ FAQQ1: ä¸è®¾ç½® type èƒ½ä½¿ç”¨ Tree Shaking å—ï¼Ÿâœ… å®Œå…¨å¯ä»¥ï¼ è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„è®¤çŸ¥è¯¯åŒºã€‚Tree Shaking å–å†³äºä½ çš„æºä»£ç æ˜¯å¦ä½¿ç”¨äº† import/export é™æ€åˆ†æï¼Œåªè¦ä»£ç æ˜¯ ESM é£æ ¼ä¸”å¼€å¯äº† production æ¨¡å¼ï¼Œæ‰“åŒ…å™¨å°±èƒ½è¿›è¡Œä¼˜åŒ–ã€‚ åã€ æ€»ç»“10.1 æ ¸å¿ƒç»“è®ºåœ¨è¿™åœºæ¨¡å—åŒ–æ¼”è¿›ä¸­ï¼Œwebpack-cli 6.x é€šè¿‡æ™ºèƒ½åŠ è½½å¼¥åˆäº† CJS ä¸ ESM çš„é…ç½®é¸¿æ²Ÿã€‚â€œä¸è®¾ç½® type + æºä»£ç ä½¿ç”¨ ESMâ€ æ—¢äº«å—äº†ç°ä»£åŒ–çš„å¼€å‘ä½“éªŒï¼Œåˆé¿å…äº†åŸç”Ÿ ESM ä¸¥æ ¼çš„åç¼€é™åˆ¶ã€‚ è¿™å°±æ˜¯ Webpack 5 çš„ç»ˆæå·¥ç¨‹åŒ–å®è·µï¼ ğŸ¯","categories":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"http://example.com/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"webpack","slug":"webpack","permalink":"http://example.com/tags/webpack/"},{"name":"javascript","slug":"javascript","permalink":"http://example.com/tags/javascript/"},{"name":"modules","slug":"modules","permalink":"http://example.com/tags/modules/"}]},{"title":"WSL2å®‰è£…ä¸ä½¿ç”¨æŒ‡å—","slug":"54-WSL2å®‰è£…ä¸ä½¿ç”¨æŒ‡å—","date":"2026-02-23T17:53:00.000Z","updated":"2026-03-01T16:07:38.353Z","comments":true,"path":"posts/wsl2534guide6.html","permalink":"http://example.com/posts/wsl2534guide6.html","excerpt":"","text":"ä¸€ã€WSL2å®‰è£…ä¸å¸è½½1-1ã€å®‰è£…WSLä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰1wsl --install æ­¤å‘½ä»¤ä¼šè‡ªåŠ¨å®Œæˆï¼š å¯ç”¨å¿…è¦çš„ Windows åŠŸèƒ½ å®‰è£…æœ€æ–°çš„ Linux å†…æ ¸ é»˜è®¤å®‰è£… Ubuntu å‘è¡Œç‰ˆ å®‰è£…å®Œæˆåéœ€è¦é‡å¯è®¡ç®—æœº 1-2ã€WSLå¸¸ç”¨å‘½ä»¤ å‘½ä»¤ è¯´æ˜ wsl å¯åŠ¨é»˜è®¤å‘è¡Œç‰ˆ wsl --list --online æŸ¥çœ‹å¯å®‰è£…çš„å‘è¡Œç‰ˆ wsl --list æŸ¥çœ‹å·²å®‰è£…çš„å‘è¡Œç‰ˆåç§° wsl --list --verbose æ˜¾ç¤ºå·²å®‰è£…çš„å‘è¡Œç‰ˆåç§°ã€è¿è¡ŒçŠ¶æ€å’ŒWSLç‰ˆæœ¬ wsl -d Ubuntu-22.04 å¯åŠ¨æŒ‡å®šå‘è¡Œç‰ˆ wsl --shutdown å…³é—­æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å‘è¡Œç‰ˆ wsl --update æ›´æ–° WSL wsl --version æŸ¥çœ‹ WSL ç‰ˆæœ¬ wsl --set-default Ubuntu-22.04 è®¾ç½®é»˜è®¤å‘è¡Œç‰ˆ wsl --set-version Ubuntu-22.04 2 è½¬æ¢å‘è¡Œç‰ˆç‰ˆæœ¬ï¼ˆWSL 1 â†” WSL 2ï¼‰ 1-3ã€å¸è½½WSL2æ–¹æ³•1ï¼šå¸è½½ç‰¹å®š Linux å‘è¡Œç‰ˆï¼ˆæ¨èï¼‰åœ¨ **PowerShellï¼ˆç®¡ç†å‘˜ï¼‰**ä¸­æ‰§è¡Œï¼š 1ï¸âƒ£ æŸ¥çœ‹å·²å®‰è£…çš„å‘è¡Œç‰ˆ 123wsl --list --verboseæˆ–wsl -l -v 2ï¸âƒ£ æ³¨é”€å¹¶å¸è½½ï¼ˆç‰¹å®šå‘è¡Œç‰ˆï¼‰ 1wsl --unregister Ubuntu æ ¹æ®ä½ å®‰è£…çš„å…·ä½“å‘è¡Œç‰ˆåç§°ï¼Œä¾‹å¦‚ï¼š 12wsl --unregister Ubuntu-22.04wsl --unregister Debian âš ï¸ æ³¨æ„ï¼šè¿™ä¼šåˆ é™¤è¯¥å‘è¡Œç‰ˆçš„æ‰€æœ‰æ•°æ®ï¼ æ–¹æ³•2ï¼šé€šè¿‡ Windows è®¾ç½®å¸è½½å¸è½½ Linux å‘è¡Œç‰ˆï¼š æ‰“å¼€ è®¾ç½® â†’ åº”ç”¨ â†’ åº”ç”¨å’ŒåŠŸèƒ½ æœç´¢ Ubuntuï¼ˆæˆ–å…¶ä»–å‘è¡Œç‰ˆåç§°ï¼‰ ç‚¹å‡» å¸è½½ ç¦ç”¨ WSL åŠŸèƒ½ï¼š æ‰“å¼€ æ§åˆ¶é¢æ¿ â†’ ç¨‹åº â†’ å¯ç”¨æˆ–å…³é—­ Windows åŠŸèƒ½ å–æ¶ˆå‹¾é€‰ï¼š â˜‘ é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿ â˜‘ è™šæ‹Ÿæœºå¹³å° ç‚¹å‡» ç¡®å®š é‡å¯è®¡ç®—æœº éªŒè¯å¸è½½12345# æ£€æŸ¥æ˜¯å¦è¿˜æœ‰å‘è¡Œç‰ˆwsl --list# æŸ¥çœ‹ WSL ç‰ˆæœ¬wsl --version å¦‚æœæ˜¾ç¤ºä¸ºç©ºæˆ–æŠ¥é”™ï¼Œè¯´æ˜å¸è½½æˆåŠŸã€‚ 1-4ã€æ³¨æ„äº‹é¡¹ å®‰è£… WSL éœ€è¦ç®¡ç†å‘˜æƒé™ å¸è½½å‘è¡Œç‰ˆä¼šå®Œå…¨åˆ é™¤æ‰€æœ‰æ•°æ®ï¼Œå¸è½½å‰è¯·å¤‡ä»½ WSL 2 æ€§èƒ½æ›´å¥½ï¼Œæ¨èä½¿ç”¨ 1-4ã€å¸¸è§é—®é¢˜æ’æŸ¥âŒ é—®é¢˜1ï¼šè®¡ç®—æœºä¸æ”¯æŒWSL2 åœ¨powershellä¸‹è¾“å…¥wsl -l -v ä¹Ÿä¸æ˜¾ç¤ºç‰ˆæœ¬ é¦–å…ˆç¡®ä¿Hyper-vå’Œé€‚ç”¨äºlinuxçš„windowså­ç³»ç»Ÿä»¥åŠè™šæ‹Ÿæœºå¹³å°æ˜¯å¼€å¯çš„ å¦‚æœè¿™äº›éƒ½æ²¡é—®é¢˜ï¼Œåœ¨powershellï¼ˆç®¡ç†å‘˜æ¨¡å¼ï¼‰ä¸‹è¾“å…¥å¦‚ä¸‹å‘½ä»¤ 1bcdedit /enum | findstr -i hypervisorlaunchtype åº”è¯¥ä¼šæ˜¾ç¤ºoffï¼Œé‚£å°±è¯´æ˜æœ‰é—®é¢˜ï¼Œé‚£å°±å†è¾“å…¥ 1bcdedit /set hypervisorlaunchtype Auto å³å¯è§£å†³ äºŒã€WSL2åŸºç¡€æ“ä½œ2-1ã€æŸ¥çœ‹IPåœ°å€æ–¹æ³•ä¸€ï¼šä½¿ç”¨ ip å‘½ä»¤123ip addr show eth0ç®€å†™ip a æ–¹æ³•äºŒï¼šä½¿ç”¨ hostname å‘½ä»¤ï¼ˆæ¨èï¼‰1hostname -I æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ ifconfig å‘½ä»¤1ifconfig eth0 æ³¨æ„ï¼šæ­¤æ–¹æ³•éœ€è¦å…ˆå®‰è£… net-tools 1sudo apt install net-tools å¸è½½æŸä¸ªè½¯ä»¶åŒ…ï¼š 12345# å¸è½½æŒ‡å®šè½¯ä»¶åŒ…ï¼Œä½†ä¿ç•™é…ç½®æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶sudo apt remove net-tools# å°†é…ç½®æ–‡ä»¶ä¸€èµ·åˆ é™¤ï¼Œå½»åº•æ¸…é™¤ï¼Œä¹‹å `ifconfig` å‘½ä»¤å°±å®Œå…¨ä¸èƒ½ä½¿ç”¨äº†sudo apt purge net-tools å…³äº IP åœ°å€è¯´æ˜ eth0: WSL2 è™šæ‹Ÿç½‘ç»œæ¥å£ï¼Œé€šå¸¸åœ¨ 172.x.x.x æ®µ lo: æœ¬åœ°å›ç¯åœ°å€ 127.0.0.1 ç¤ºä¾‹è¾“å‡ºï¼š 12$ hostname -I172.24.240.100 è¿™ä¸ª IP åœ°å€å¯ä»¥ç”¨äºä» Windows è®¿é—® WSL2 ä¸­çš„æœåŠ¡ 2-2ã€æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯æŸ¥çœ‹å½“å‰ç”¨æˆ· 1whoami æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ· 1cat /etc/passwd æŸ¥çœ‹æ‰€æœ‰æ™®é€šç”¨æˆ·ï¼ˆUID &gt;&#x3D; 1000ï¼‰ 1awk -F: &#x27;$3 &gt;= 1000 &#123;print $1&#125;&#x27; /etc/passwd æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ 123id# æˆ–finger $(whoami) # éœ€è¦å®‰è£… finger å¯†ç ç®¡ç†âš ï¸ é‡è¦è¯´æ˜æ— æ³•ç›´æ¥æŸ¥çœ‹å¯†ç ï¼Œå› ä¸ºå¯†ç æ˜¯åŠ å¯†å­˜å‚¨çš„ï¼Œåœ¨ /etc/shadow æ–‡ä»¶ä¸­ æŸ¥çœ‹å¯†ç çŠ¶æ€ 1sudo passwd -S username ä¼šæ˜¾ç¤ºçŠ¶æ€ï¼š P &#x3D; å·²è®¾ç½®å¯†ç  NP &#x3D; æœªè®¾ç½®å¯†ç  L &#x3D; è´¦æˆ·è¢«é”å®š è®¾ç½®&#x2F;ä¿®æ”¹å¯†ç ä¿®æ”¹å½“å‰ç”¨æˆ·å¯†ç  1passwd ä¿®æ”¹å…¶ä»–ç”¨æˆ·å¯†ç ï¼ˆéœ€è¦ root æƒé™ï¼‰ 1sudo passwd username ä» Windows é‡ç½® WSL ç”¨æˆ·å¯†ç  å¦‚æœå¿˜è®°äº†å¯†ç ï¼Œå¯ä»¥åœ¨ PowerShell æˆ– CMD ä¸­æ‰§è¡Œï¼š 123456789# 1. ä»¥ root ä¸ºé»˜è®¤ç”¨æˆ·wsl -u root# 2. åœ¨ WSL ä¸­é‡ç½®å¯†ç passwd your_username# 3. é€€å‡ºå¹¶æ¢å¤é»˜è®¤ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰# ç¼–è¾‘ /etc/wsl.conf æ¥ä½¿ç”¨é»˜è®¤ç”¨æˆ·exit æˆ–è€…ä¸€æ¡å‘½ä»¤ï¼š 1wsl -u root passwd your_username æŸ¥çœ‹ sudo æƒé™ç”¨æˆ·12345# æŸ¥çœ‹ sudo ç»„æˆå‘˜getent group sudo# æˆ–grep &#x27;^sudo:&#x27; /etc/group ç®¡ç†ç”¨æˆ·å’Œæƒé™12345678# åˆ›å»ºæ–°ç”¨æˆ·sudo adduser newuser# åˆ é™¤ç”¨æˆ·sudo deluser username# å°†ç”¨æˆ·æ·»åŠ åˆ° sudo ç»„sudo usermod -aG sudo username æç¤ºï¼šWSL2 é¦–æ¬¡å®‰è£…æ—¶éœ€è¦ä½ åˆ›å»ºç”¨æˆ·å’Œå¯†ç ï¼Œå¦‚æœå¿˜è®°éœ€è¦é‡ç½®ç”¨æˆ·è´¦å·ã€‚ ä¸‰ã€ä½¿ç”¨FinalShellè¿æ¥WSL23-1ã€è¿æ¥åŸç†WSL2 é»˜è®¤æ²¡æœ‰å¼€å¯ SSH æœåŠ¡ï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£…å’Œé…ç½®ã€‚ 3-2ã€å®‰è£…å’Œé…ç½®SSHæœåŠ¡1ï¸âƒ£ åœ¨ WSL2 ä¸­å®‰è£… SSH æœåŠ¡12345# æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨sudo apt update# å®‰è£… OpenSSH æœåŠ¡å™¨sudo apt install openssh-server -y 2ï¸âƒ£ é…ç½® SSH æœåŠ¡12# ç¼–è¾‘ SSH é…ç½®æ–‡ä»¶sudo nano /etc/ssh/sshd_config ä¿®æ”¹ä»¥ä¸‹é…ç½®é¡¹ï¼ˆä½¿ç”¨ Ctrl+W æœç´¢ï¼‰ï¼š 123Port 22 # ç¡®è®¤ç«¯å£PermitRootLogin no # ç¦æ­¢ root ç™»å½•ï¼ˆæ¨èï¼‰PasswordAuthentication yes # å¯ç”¨å¯†ç è®¤è¯ ä¿å­˜ï¼šæŒ‰ Ctrl + O(å±å¹•åº•éƒ¨ä¼šæç¤º File Name to Write:)ç„¶åæŒ‰ Enter ç¡®è®¤ä¿å­˜ã€‚ é€€å‡ºï¼šæŒ‰ Ctrl + Xã€‚ 3ï¸âƒ£ å¯åŠ¨ SSH æœåŠ¡12345# å¯åŠ¨ SSH æœåŠ¡sudo service ssh start# æ£€æŸ¥ SSH æœåŠ¡çŠ¶æ€sudo service ssh status å¦‚æœçœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼Œè¯´æ˜ SSH æœåŠ¡å·²æˆåŠŸå¯åŠ¨ï¼š 1Active: active (running) since Sat 2026-01-17 19:50:01 CST; 4s ago çŠ¶æ€æ˜¯ active (running)ï¼Œè¯´æ˜æœåŠ¡æ­£åœ¨è¿è¡Œã€‚ å…³é”®ä¿¡æ¯ï¼š 12Server listening on 0.0.0.0 port 22.Server listening on :: port 22. SSH æœåŠ¡æ­£åœ¨ç›‘å¬ 22 ç«¯å£ï¼Œå¯ä»¥æ¥å—è¿æ¥äº†ã€‚ 4ï¸âƒ£ è®¾ç½® SSH è‡ªåŠ¨å¯åŠ¨ï¼ˆå¯é€‰ï¼‰æ¯æ¬¡å¯åŠ¨ WSL2 æ—¶è‡ªåŠ¨å¯åŠ¨ SSHï¼š 12# ç¼–è¾‘æˆ–åˆ›å»º /etc/wsl.confsudo nano /etc/wsl.conf æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š 12[boot]command=&quot;service ssh start&quot; 5ï¸âƒ£ è·å– WSL2 çš„ IP åœ°å€1hostname -I è®°å½•è¿™ä¸ª IPï¼Œä¾‹å¦‚ï¼š172.24.240.100 6ï¸âƒ£ åœ¨ FinalShell ä¸­åˆ›å»ºè¿æ¥ æ‰“å¼€ FinalShell æ–°å»ºè¿æ¥ â†’ é€‰æ‹© SSH å¡«å†™ä¿¡æ¯ï¼š åç§°ï¼šWSL2-Ubuntuï¼ˆè‡ªå®šä¹‰ï¼‰ ä¸»æœºï¼š172.x.x.xï¼ˆä½ çš„ WSL2 IPï¼‰ ç«¯å£ï¼š22 è®¤è¯æ–¹å¼ï¼šå¯†ç  ç”¨æˆ·åï¼šä½ çš„ WSL2 ç”¨æˆ·å å¯†ç ï¼šä½ çš„ WSL2 å¯†ç  ä¿å­˜å¹¶è¿æ¥ 3-3ã€å¸¸è§é—®é¢˜æ’æŸ¥âŒ é—®é¢˜1ï¼šè¿æ¥è¶…æ—¶12345# æ£€æŸ¥ SSH æ˜¯å¦è¿è¡Œsudo service ssh status# å¦‚æœæ²¡æœ‰è¿è¡Œï¼Œå¯åŠ¨æœåŠ¡sudo service ssh start âŒ é—®é¢˜2ï¼šç«¯å£è¢«å ç”¨1234567# æ£€æŸ¥ 22 ç«¯å£æ˜¯å¦å ç”¨sudo netstat -tlnp | grep :22# å¦‚æœä½¿ç”¨å…¶ä»–ç«¯å£ï¼Œå¦‚ 2222sudo nano /etc/ssh/sshd_config# ä¿®æ”¹ Port ä¸º 2222sudo service ssh restart âŒ é—®é¢˜3ï¼šé˜²ç«å¢™é˜»æ‹¦12345# æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€sudo ufw status# å¦‚æœå·²å¯ç”¨ï¼Œå…è®¸ SSHsudo ufw allow 22/tcp âŒ é—®é¢˜4ï¼šIP åœ°å€å˜åŒ–é—®é¢˜åŸå› ï¼š WSL2 ä½¿ç”¨è™šæ‹Ÿç½‘ç»œé€‚é…å™¨ï¼Œæ¯æ¬¡é‡å¯ WSL2 æˆ– Windows æ—¶ï¼ŒWSL2 çš„ IP åœ°å€å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼ˆä¾‹å¦‚ä» 172.17.114.127 å˜æˆ 172.24.240.100ï¼‰ã€‚è¿™ä¼šå¯¼è‡´ FinalShell ä¸­ä¿å­˜çš„è¿æ¥é…ç½®å¤±æ•ˆï¼Œéœ€è¦é¢‘ç¹æ›´æ–° IP åœ°å€ã€‚ è§£å†³æ–¹æ¡ˆAï¼šä½¿ç”¨ localhost + ç«¯å£è½¬å‘ï¼ˆæ¨èï¼‰ é€šè¿‡ Windows çš„ç«¯å£è½¬å‘åŠŸèƒ½ï¼Œå°† Windows çš„æŸä¸ªç«¯å£æ˜ å°„åˆ° WSL2 çš„ SSH ç«¯å£ï¼Œè¿™æ ·æ— è®º WSL2 çš„ IP å¦‚ä½•å˜åŒ–ï¼Œéƒ½å¯ä»¥é€šè¿‡ localhost è¿æ¥ã€‚ æ­¥éª¤ï¼š è·å–å½“å‰ WSL2 çš„ IP åœ°å€ 12# åœ¨ WSL2 ä¸­æ‰§è¡Œhostname -I åœ¨ Windows PowerShellï¼ˆç®¡ç†å‘˜ï¼‰ä¸­é…ç½®ç«¯å£è½¬å‘ 123# å°† Windows çš„ 2222 ç«¯å£è½¬å‘åˆ° WSL2 çš„ 22 ç«¯å£# æ³¨æ„ï¼šéœ€è¦æ›¿æ¢ 172.x.x.x ä¸ºå®é™…çš„ WSL2 IPnetsh interface portproxy add v4tov4 listenport=2222 listenaddress=0.0.0.0 connectport=22 connectaddress=172.x.x.x åœ¨ FinalShell ä¸­ä½¿ç”¨å›ºå®šåœ°å€è¿æ¥ ä¸»æœºï¼šlocalhost æˆ– 127.0.0.1 ç«¯å£ï¼š2222 **âš ï¸ æ³¨æ„ï¼š**æ¯æ¬¡ WSL2 IP å˜åŒ–åï¼Œéœ€è¦é‡æ–°æ‰§è¡Œç«¯å£è½¬å‘å‘½ä»¤ã€‚å¯ä»¥åˆ›å»ºä¸€ä¸ª PowerShell è„šæœ¬è‡ªåŠ¨è·å– IP å¹¶é…ç½®è½¬å‘ã€‚ è§£å†³æ–¹æ¡ˆBï¼šä½¿ç”¨ Windows Terminalï¼ˆæœ€ç®€å•ï¼‰ Windows Terminal æ˜¯ Windows 10&#x2F;11 è‡ªå¸¦çš„ç»ˆç«¯å·¥å…·ï¼Œå¯ä»¥ç›´æ¥å¯åŠ¨ WSL2ï¼Œæ— éœ€ SSH è¿æ¥ã€‚ ä¼˜ç‚¹ï¼š âœ… æ— éœ€é…ç½® SSH âœ… æ— éœ€æ‹…å¿ƒ IP å˜åŒ– âœ… å¯åŠ¨é€Ÿåº¦å¿« âœ… é›†æˆåº¦é«˜ ä½¿ç”¨æ–¹æ³•ï¼š æ‰“å¼€ Windows Terminal ç‚¹å‡»ä¸‹æ‹‰ç®­å¤´ï¼Œé€‰æ‹© Ubuntuï¼ˆæˆ–ä½ çš„å‘è¡Œç‰ˆï¼‰ ç›´æ¥ä½¿ç”¨ï¼Œå°±åƒä½¿ç”¨ SSH å®¢æˆ·ç«¯ä¸€æ · è§£å†³æ–¹æ¡ˆCï¼šé…ç½®é™æ€ IPï¼ˆé«˜çº§ï¼‰ å¯ä»¥é…ç½® WSL2 ä½¿ç”¨å›ºå®š IPï¼Œä½†éœ€è¦ä¿®æ”¹ Windows å’Œ WSL2 çš„ç½‘ç»œé…ç½®ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œä¸æ¨èæ™®é€šç”¨æˆ·ä½¿ç”¨ã€‚ âŒ é—®é¢˜5ï¼šå¯†ç è®¤è¯å¤±è´¥12345678# ç¡®è®¤å¯†ç è®¤è¯å·²å¯ç”¨grep &quot;PasswordAuthentication&quot; /etc/ssh/sshd_config# é‡ç½®å¯†ç passwd# é‡å¯ SSH æœåŠ¡sudo service ssh restart 3-4ã€å¿«é€Ÿæµ‹è¯•è¿æ¥åœ¨ Windows CMD æˆ– PowerShell ä¸­æµ‹è¯•ï¼š 1ssh your_username@172.x.x.x å¦‚æœèƒ½å¤Ÿè¿æ¥ï¼Œè¯´æ˜ SSH é…ç½®æ­£ç¡®ï¼ŒFinalShell ä¹Ÿåº”è¯¥èƒ½è¿æ¥ã€‚ SSH è¿æ¥æ ¼å¼è¯´æ˜ï¼š 12ssh ç”¨æˆ·å@IPåœ°å€ssh ç”¨æˆ·å@IPåœ°å€ -p ç«¯å£å· ç¤ºä¾‹ï¼š 123ssh zheng_hb@172.17.114.127ssh zheng_hb@172.17.114.127 -p 22ssh root@192.168.1.100 -p 2222 å››ã€å…³äºIPåœ°å€å˜åŒ–çš„è¯¦ç»†è¯´æ˜4-1ã€ä¸ºä»€ä¹ˆWSL2çš„IPåœ°å€ä¼šå˜åŒ–ï¼ŸWSL2 ä½¿ç”¨è™šæ‹Ÿç½‘ç»œé€‚é…å™¨ï¼ˆVirtual Network Adapterï¼‰æ¥åˆ›å»ºç‹¬ç«‹çš„ç½‘ç»œç¯å¢ƒã€‚æ¯æ¬¡ï¼š é‡å¯ Windows é‡å¯ WSL2ï¼ˆwsl --shutdown åé‡æ–°å¯åŠ¨ï¼‰ Windows ç½‘ç»œé€‚é…å™¨é‡ç½® WSL2 çš„è™šæ‹Ÿç½‘ç»œå¯èƒ½ä¼šé‡æ–°åˆ†é… IP åœ°å€ï¼Œå¯¼è‡´ IP åœ°å€å‘ç”Ÿå˜åŒ–ã€‚ ç¤ºä¾‹ï¼š ç¬¬ä¸€æ¬¡å¯åŠ¨ï¼š172.17.114.127 é‡å¯åï¼š172.24.240.100 å†æ¬¡é‡å¯ï¼š172.18.56.89 4-2ã€IPåœ°å€å˜åŒ–çš„å½±å“å½±å“åœºæ™¯ï¼š âŒ FinalShell ä¸­ä¿å­˜çš„è¿æ¥é…ç½®å¤±æ•ˆ âŒ éœ€è¦é¢‘ç¹æ›´æ–° IP åœ°å€ âŒ å¦‚æœä½¿ç”¨ IP åœ°å€è®¿é—® WSL2 ä¸­çš„æœåŠ¡ï¼ˆå¦‚ Web æœåŠ¡å™¨ï¼‰ï¼Œéœ€è¦é‡æ–°é…ç½® ä¸å—å½±å“ï¼š âœ… Windows Terminal ç›´æ¥å¯åŠ¨ WSL2ï¼ˆä¸ä¾èµ– IPï¼‰ âœ… åœ¨ Windows ä¸­é€šè¿‡ localhost è®¿é—® WSL2 æœåŠ¡ï¼ˆWindows ä¼šè‡ªåŠ¨å¤„ç†ï¼‰ 4-3ã€æ¨èè§£å†³æ–¹æ¡ˆå¯¹æ¯” æ–¹æ¡ˆ ä¼˜ç‚¹ ç¼ºç‚¹ é€‚ç”¨åœºæ™¯ Windows Terminal æ— éœ€é…ç½®ã€ç¨³å®šå¯é ã€å¯åŠ¨å¿« ç•Œé¢ç›¸å¯¹ç®€å• æ—¥å¸¸å¼€å‘ä½¿ç”¨ï¼ˆæœ€æ¨èï¼‰ ç«¯å£è½¬å‘ å¯ä»¥ä½¿ç”¨ FinalShell ç­‰ä¸“ä¸šå·¥å…· éœ€è¦æ‰‹åŠ¨é…ç½®ã€IPå˜åŒ–åéœ€é‡æ–°é…ç½® éœ€è¦ FinalShell çš„é«˜çº§åŠŸèƒ½ é™æ€IP IP å›ºå®šä¸å˜ é…ç½®å¤æ‚ã€å®¹æ˜“å‡ºé”™ ç‰¹æ®Šéœ€æ±‚åœºæ™¯ 4-4ã€è‡ªåŠ¨ç«¯å£è½¬å‘è„šæœ¬ï¼ˆå¯é€‰ï¼‰å¦‚æœä½ åšæŒä½¿ç”¨ FinalShellï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª PowerShell è„šæœ¬è‡ªåŠ¨é…ç½®ç«¯å£è½¬å‘ï¼š åˆ›å»ºè„šæœ¬ wsl-port-forward.ps1ï¼š 12345678910# è·å– WSL2 IP åœ°å€$wslIp = (wsl hostname -I).Trim()# åˆ é™¤æ—§çš„ç«¯å£è½¬å‘è§„åˆ™netsh interface portproxy delete v4tov4 listenport=2222 listenaddress=0.0.0.0# æ·»åŠ æ–°çš„ç«¯å£è½¬å‘è§„åˆ™netsh interface portproxy add v4tov4 listenport=2222 listenaddress=0.0.0.0 connectport=22 connectaddress=$wslIpWrite-Host &quot;ç«¯å£è½¬å‘å·²é…ç½®: localhost:2222 -&gt; $wslIp:22&quot; ä½¿ç”¨æ–¹æ³•ï¼šæ¯æ¬¡å¯åŠ¨ WSL2 åï¼Œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œæ­¤è„šæœ¬å³å¯ã€‚ äº”ã€æ€»ç»“æœ¬æŒ‡å—æ¶µç›–äº† WSL2 çš„å®‰è£…ã€å¸è½½ã€åŸºç¡€æ“ä½œå’Œè¿œç¨‹è¿æ¥é…ç½®ï¼Œå¸®åŠ©ä½ å¿«é€Ÿä¸Šæ‰‹ä½¿ç”¨ WSL2 å¼€å‘ç¯å¢ƒã€‚ ä¸»è¦åŠŸèƒ½ï¼š âœ… WSL2 å®‰è£…ä¸å¸è½½ âœ… IP åœ°å€æŸ¥çœ‹ âœ… ç”¨æˆ·ç®¡ç† âœ… SSH æœåŠ¡é…ç½® âœ… FinalShell è¿œç¨‹è¿æ¥ æ³¨æ„äº‹é¡¹ï¼š å®‰è£…å’Œå¸è½½æ“ä½œéœ€è¦ç®¡ç†å‘˜æƒé™ å¸è½½å‘è¡Œç‰ˆä¼šåˆ é™¤æ‰€æœ‰æ•°æ®ï¼Œè¯·æå‰å¤‡ä»½ WSL2 çš„ IP åœ°å€å¯èƒ½ä¼šå˜åŒ–ï¼š æ¨èæ–¹æ¡ˆï¼šç›´æ¥ä½¿ç”¨ Windows Terminalï¼Œæ— éœ€é…ç½®ï¼Œç¨³å®šå¯é  å¤‡é€‰æ–¹æ¡ˆï¼šä½¿ç”¨ç«¯å£è½¬å‘ + FinalShellï¼Œä½†éœ€è¦å¤„ç† IP å˜åŒ–é—®é¢˜","categories":[{"name":"åç«¯ä¸è¿ç»´","slug":"åç«¯ä¸è¿ç»´","permalink":"http://example.com/categories/%E5%90%8E%E7%AB%AF%E4%B8%8E%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"Windows","slug":"Windows","permalink":"http://example.com/tags/Windows/"},{"name":"WSL2","slug":"WSL2","permalink":"http://example.com/tags/WSL2/"},{"name":"Linux","slug":"Linux","permalink":"http://example.com/tags/Linux/"}]},{"title":"Hyper-Vè™šæ‹Ÿæœºè¯¦ç»†å®‰è£…æ•™ç¨‹","slug":"53-hyper-vè™šæ‹Ÿæœºè¯¦ç»†å®‰è£…æ•™ç¨‹","date":"2026-02-23T10:00:00.000Z","updated":"2026-03-01T16:07:38.353Z","comments":true,"path":"posts/hyper-v-install.html","permalink":"http://example.com/posts/hyper-v-install.html","excerpt":"","text":"ä¸€ã€Hyper-Vç®€ä»‹ 1-1ã€ä»€ä¹ˆæ˜¯Hyper-VHyper-V æ˜¯å¾®è½¯å¼€å‘çš„åŸç”Ÿè™šæ‹ŸåŒ–å¹³å°ï¼Œå†…ç½®äº Windows ä¸“ä¸šç‰ˆã€ä¼ä¸šç‰ˆå’Œæ•™è‚²ç‰ˆç³»ç»Ÿä¸­ã€‚å®ƒå…è®¸ç”¨æˆ·åœ¨å•å°ç‰©ç†è®¡ç®—æœºä¸Šåˆ›å»ºå’Œç®¡ç†å¤šä¸ªè™šæ‹Ÿæœºï¼Œæ¯ä¸ªè™šæ‹Ÿæœºéƒ½å¯ä»¥è¿è¡Œç‹¬ç«‹çš„æ“ä½œç³»ç»Ÿã€‚ 1-2ã€è™šæ‹Ÿæœºè½¯ä»¶å¯¹æ¯”ä¸‹è¡¨å¯¹æ¯”äº†ç›®å‰ä¸»æµçš„è™šæ‹Ÿæœºè½¯ä»¶ï¼Œå¸®åŠ©æ‚¨é€‰æ‹©åˆé€‚çš„è™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆï¼š æ³¨æ„ï¼šHyper-V ä½œä¸º Windows ç³»ç»Ÿè‡ªå¸¦çš„è™šæ‹ŸåŒ–å·¥å…·ï¼Œæ— éœ€é¢å¤–å®‰è£…ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼Œæ€§èƒ½ä¼˜ç§€ä¸”ä¸ Windows ç³»ç»Ÿé›†æˆåº¦é«˜ã€‚ äºŒã€ç³»ç»Ÿè¦æ±‚ä¸å‡†å¤‡ 2-1ã€Windowsç‰ˆæœ¬è¦æ±‚Hyper-V åŠŸèƒ½ä»…æ”¯æŒä»¥ä¸‹ Windows ç‰ˆæœ¬ï¼š Windows 10 ä¸“ä¸šç‰ˆ&#x2F;ä¼ä¸šç‰ˆ&#x2F;æ•™è‚²ç‰ˆ Windows 11 ä¸“ä¸šç‰ˆ&#x2F;ä¼ä¸šç‰ˆ&#x2F;æ•™è‚²ç‰ˆ Windows Server 2016 åŠä»¥ä¸Šç‰ˆæœ¬ æ³¨æ„ï¼šWindows å®¶åº­ç‰ˆä¸æ”¯æŒ Hyper-V åŠŸèƒ½ã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯å®¶åº­ç‰ˆï¼Œéœ€è¦å‡çº§åˆ°ä¸“ä¸šç‰ˆã€‚å¯ä»¥ä»å®˜æ–¹æ¸ é“æˆ–ç”µå•†å¹³å°è´­ä¹°å‡çº§å¯†é’¥ã€‚ æŸ¥çœ‹å½“å‰ç³»ç»Ÿç‰ˆæœ¬ï¼š 2-2ã€ç¡¬ä»¶è¦æ±‚ä½¿ç”¨ Hyper-V éœ€è¦æ»¡è¶³ä»¥ä¸‹ç¡¬ä»¶æ¡ä»¶ï¼š å¤„ç†å™¨ï¼š 64ä½å¤„ç†å™¨ï¼Œæ”¯æŒäºŒçº§åœ°å€è½¬æ¢ï¼ˆSLATï¼‰ å†…å­˜ï¼š è‡³å°‘ 4GB RAMï¼ˆå»ºè®® 8GB ä»¥ä¸Šï¼‰ å­˜å‚¨ç©ºé—´ï¼š æ ¹æ®è™šæ‹Ÿæœºæ•°é‡å’Œç”¨é€”ï¼Œå»ºè®®é¢„ç•™ 50GB ä»¥ä¸Š BIOSè®¾ç½®ï¼š éœ€è¦åœ¨ BIOS ä¸­å¯ç”¨è™šæ‹ŸåŒ–æŠ€æœ¯ï¼ˆIntel VT-x æˆ– AMD-Vï¼‰ 2-3ã€å‡†å¤‡å®‰è£…é•œåƒåœ¨åˆ›å»ºè™šæ‹Ÿæœºä¹‹å‰ï¼Œéœ€è¦ä¸‹è½½æ“ä½œç³»ç»Ÿçš„ ISO é•œåƒæ–‡ä»¶ã€‚æœ¬æ•™ç¨‹ä»¥ Windows 10 ä¸ºä¾‹ï¼š ä¸‹è½½ Windows 10 å®˜æ–¹é•œåƒ ä¸‹è½½ Windows 11 å®˜æ–¹é•œåƒ ä¹Ÿå¯ä»¥ä¸‹è½½ Linux å‘è¡Œç‰ˆï¼ˆå¦‚ Ubuntuã€CentOSï¼‰çš„ ISO é•œåƒæ–‡ä»¶ç”¨äºå®‰è£…ã€‚ ä¸‰ã€å¯ç”¨Hyper-VåŠŸèƒ½ 3-1ã€é€šè¿‡WindowsåŠŸèƒ½å¯ç”¨1ï¼‰æ‰“å¼€WindowsåŠŸèƒ½åœ¨ Windows æœç´¢æ¡†ä¸­è¾“å…¥â€å¯ç”¨æˆ–å…³é—­WindowsåŠŸèƒ½â€œæˆ–â€åŠŸèƒ½â€œï¼Œæ‰“å¼€ Windows åŠŸèƒ½è®¾ç½®çª—å£ã€‚ 2ï¼‰å‹¾é€‰Hyper-Vé€‰é¡¹åœ¨ Windows åŠŸèƒ½åˆ—è¡¨ä¸­ï¼Œæ‰¾åˆ°å¹¶å‹¾é€‰ä»¥ä¸‹é€‰é¡¹ï¼š Hyper-V Hyper-V ç®¡ç†å·¥å…· Hyper-V å¹³å° ç‚¹å‡»â€ç¡®å®šâ€œæŒ‰é’®ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨å®‰è£… Hyper-V ç›¸å…³ç»„ä»¶ã€‚ 3ï¼‰é‡å¯è®¡ç®—æœºå®‰è£…å®Œæˆåï¼Œç³»ç»Ÿä¼šæç¤ºé‡å¯è®¡ç®—æœºã€‚ç‚¹å‡»â€ç«‹å³é‡å¯â€œä½¿ Hyper-V åŠŸèƒ½ç”Ÿæ•ˆã€‚ æ³¨æ„ï¼šé‡å¯å Hyper-V æœåŠ¡ä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œæ‚¨å¯ä»¥åœ¨å¼€å§‹èœå•ä¸­æ‰¾åˆ°&quot;Hyper-V ç®¡ç†å™¨&quot;ã€‚ 3-2ã€é€šè¿‡PowerShellå¯ç”¨ï¼ˆå¯é€‰ï¼‰ä¹Ÿå¯ä»¥ä½¿ç”¨ PowerShell å‘½ä»¤å¿«é€Ÿå¯ç”¨ Hyper-Vï¼š 1Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V -All æ‰§è¡Œå‘½ä»¤åï¼ŒåŒæ ·éœ€è¦é‡å¯è®¡ç®—æœºã€‚ å››ã€åˆ›å»ºå’Œé…ç½®è™šæ‹Ÿæœº 4-1ã€æ‰“å¼€Hyper-Vç®¡ç†å™¨åœ¨å¼€å§‹èœå•ä¸­æœç´¢å¹¶æ‰“å¼€â€Hyper-V ç®¡ç†å™¨â€œã€‚Hyper-V ç®¡ç†å™¨æ˜¯ç®¡ç†æ‰€æœ‰è™šæ‹Ÿæœºçš„æ§åˆ¶å°ã€‚ 4-2ã€æ–°å»ºè™šæ‹Ÿæœº1ï¼‰å¯åŠ¨æ–°å»ºè™šæ‹Ÿæœºå‘å¯¼åœ¨ Hyper-V ç®¡ç†å™¨ä¸­ï¼Œç‚¹å‡»å³ä¾§çš„â€æ–°å»ºâ€œ &gt; â€œè™šæ‹Ÿæœºâ€œï¼Œå¯åŠ¨æ–°å»ºè™šæ‹Ÿæœºå‘å¯¼ã€‚ 2ï¼‰æŒ‡å®šåç§°å’Œä½ç½®ä¸ºè™šæ‹ŸæœºæŒ‡å®šä¸€ä¸ªæœ‰æ„ä¹‰çš„åç§°ï¼ˆå¦‚â€Win10-Devâ€ï¼‰ï¼Œå¹¶é€‰æ‹©è™šæ‹Ÿæœºæ–‡ä»¶çš„å­˜å‚¨ä½ç½®ã€‚ å»ºè®®ï¼šé€‰æ‹©ç©ºé—´å……è¶³çš„ç£ç›˜é©±åŠ¨å™¨å­˜å‚¨è™šæ‹Ÿæœºæ–‡ä»¶ã€‚ 3ï¼‰æŒ‡å®šä»£æ•°é€‰æ‹©è™šæ‹Ÿæœºä»£æ•°ï¼š ç¬¬ä¸€ä»£ï¼š é€‚ç”¨äºè¾ƒæ—§çš„æ“ä½œç³»ç»Ÿï¼ˆå¦‚ Windows 7ã€Windows Server 2008 åŠæ›´æ—©ç‰ˆæœ¬ï¼‰ ç¬¬äºŒä»£ï¼š é€‚ç”¨äºè¾ƒæ–°çš„æ“ä½œç³»ç»Ÿï¼ˆå¦‚ Windows 8.1ã€Windows 10ã€Windows 11 åŠ Windows Server 2012 ä»¥ä¸Šç‰ˆæœ¬ï¼‰ï¼Œæ”¯æŒ UEFI å¯åŠ¨ æœ¬æ•™ç¨‹ä»¥å®‰è£… Windows 10 ä¸ºä¾‹ï¼Œé€‰æ‹©â€ç¬¬ä¸€ä»£â€ä»¥è·å¾—æ›´å¥½çš„å…¼å®¹æ€§ã€‚ æ³¨æ„ï¼šå¦‚æœè¦å®‰è£… Windows 11ï¼Œå»ºè®®é€‰æ‹©&quot;ç¬¬äºŒä»£&quot;è™šæ‹Ÿæœºï¼Œå› ä¸º Windows 11 éœ€è¦ UEFI å’Œ TPM 2.0 æ”¯æŒã€‚ 4ï¼‰åˆ†é…å†…å­˜ä¸ºè™šæ‹Ÿæœºåˆ†é…å†…å­˜ã€‚æ ¹æ®è¦å®‰è£…çš„æ“ä½œç³»ç»Ÿå’Œç”¨é€”å†³å®šå†…å­˜å¤§å°ï¼š Windows 10ï¼š å»ºè®®è‡³å°‘ 4GBï¼ˆ4096MBï¼‰ Windows Serverï¼š å»ºè®®è‡³å°‘ 4GB Linuxæ¡Œé¢ç‰ˆï¼š å»ºè®®è‡³å°‘ 2GB å¯ä»¥å‹¾é€‰â€ä¸ºæ­¤è™šæ‹Ÿæœºä½¿ç”¨åŠ¨æ€å†…å­˜â€œé€‰é¡¹ï¼Œè®© Hyper-V è‡ªåŠ¨è°ƒæ•´å†…å­˜åˆ†é…ã€‚ 5ï¼‰é…ç½®ç½‘ç»œé€‰æ‹©é»˜è®¤çš„è™šæ‹Ÿäº¤æ¢æœºã€‚ 6ï¼‰è¿æ¥è™šæ‹Ÿç¡¬ç›˜é…ç½®è™šæ‹Ÿç¡¬ç›˜ï¼š åˆ›å»ºè™šæ‹Ÿç¡¬ç›˜ï¼š æŒ‡å®šè™šæ‹Ÿç¡¬ç›˜å¤§å°ï¼ˆå»ºè®®è‡³å°‘ 60GBï¼‰å’Œå­˜å‚¨ä½ç½® ä½¿ç”¨ç°æœ‰è™šæ‹Ÿç¡¬ç›˜ï¼š é€‰æ‹©å·²æœ‰çš„ VHD&#x2F;VHDX æ–‡ä»¶ ç¨åé™„åŠ è™šæ‹Ÿç¡¬ç›˜ï¼š è·³è¿‡æ­¤æ­¥éª¤ï¼Œç¨åå†æ·»åŠ  æœ¬æ•™ç¨‹é€‰æ‹©â€åˆ›å»ºè™šæ‹Ÿç¡¬ç›˜â€œï¼Œè®¾ç½®å¤§å°ä¸º 60GBã€‚ 7ï¼‰å®‰è£…é€‰é¡¹é€‰æ‹©æ“ä½œç³»ç»Ÿçš„å®‰è£…æ–¹å¼ï¼š ä»å¯å¯åŠ¨çš„ CD&#x2F;DVD-ROM å®‰è£…æ“ä½œç³»ç»Ÿï¼š é€‰æ‹©ä¹‹å‰ä¸‹è½½çš„ ISO é•œåƒæ–‡ä»¶ ä»ç½‘ç»œå®‰è£…æ“ä½œç³»ç»Ÿï¼š é€šè¿‡ PXE ç½‘ç»œå¯åŠ¨å®‰è£… ç¨åå®‰è£…æ“ä½œç³»ç»Ÿï¼š å…ˆåˆ›å»ºè™šæ‹Ÿæœºï¼Œç¨åå†å®‰è£… æœ¬æ•™ç¨‹é€‰æ‹©â€ä»æ˜ åƒæ–‡ä»¶(.iso)å®‰è£…æ“ä½œç³»ç»Ÿâ€œï¼Œå¹¶æµè§ˆé€‰æ‹© Windows 10 çš„ ISO é•œåƒæ–‡ä»¶ã€‚ 8ï¼‰å®Œæˆåˆ›å»ºæ£€æŸ¥æ‰€æœ‰é…ç½®ä¿¡æ¯ï¼Œç¡®è®¤æ— è¯¯åç‚¹å‡»â€å®Œæˆâ€œæŒ‰é’®ã€‚è™šæ‹Ÿæœºåˆ›å»ºæˆåŠŸï¼ æ³¨æ„ï¼šæ­¤æ—¶è™šæ‹Ÿæœºä»…åˆ›å»ºå®Œæˆï¼Œè¿˜éœ€è¦å¯åŠ¨è™šæ‹Ÿæœºå¹¶å®‰è£…æ“ä½œç³»ç»Ÿã€‚ äº”ã€å¯åŠ¨å’Œå®‰è£…æ“ä½œç³»ç»Ÿ 5-1ã€å¯åŠ¨è™šæ‹Ÿæœºåœ¨ Hyper-V ç®¡ç†å™¨ä¸­ï¼Œå³é”®ç‚¹å‡»æ–°åˆ›å»ºçš„è™šæ‹Ÿæœºï¼Œé€‰æ‹©â€å¯åŠ¨â€œã€‚ç„¶åå³é”®é€‰æ‹©â€è¿æ¥â€œæ‰“å¼€è™šæ‹Ÿæœºæ§åˆ¶å°çª—å£ã€‚ 5-2ã€å®‰è£…æ“ä½œç³»ç»Ÿè™šæ‹Ÿæœºå¯åŠ¨åï¼Œä¼šè‡ªåŠ¨ä» ISO é•œåƒæ–‡ä»¶å¼•å¯¼ï¼Œè¿›å…¥æ“ä½œç³»ç»Ÿå®‰è£…ç¨‹åºã€‚æŒ‰ç…§å®‰è£…å‘å¯¼çš„æç¤ºå®Œæˆæ“ä½œç³»ç»Ÿå®‰è£…ï¼š é€‰æ‹©è¯­è¨€ã€æ—¶é—´å’Œé”®ç›˜è¾“å…¥æ³• ç‚¹å‡»â€ç°åœ¨å®‰è£…â€œ è¾“å…¥äº§å“å¯†é’¥ï¼ˆæˆ–é€‰æ‹©â€æˆ‘æ²¡æœ‰äº§å“å¯†é’¥â€œè·³è¿‡ï¼‰ é€‰æ‹©æ“ä½œç³»ç»Ÿç‰ˆæœ¬ æ¥å—è®¸å¯æ¡æ¬¾ é€‰æ‹©â€è‡ªå®šä¹‰ï¼šä»…å®‰è£… Windowsï¼ˆé«˜çº§ï¼‰â€œ é€‰æ‹©è™šæ‹Ÿç¡¬ç›˜å¹¶è¿›è¡Œåˆ†åŒº ç­‰å¾…å®‰è£…å®Œæˆ 5-3ã€å®‰è£…é›†æˆæœåŠ¡ï¼ˆå¯é€‰ï¼‰å¯¹äº Windows è™šæ‹Ÿæœºï¼ŒHyper-V é›†æˆæœåŠ¡é€šå¸¸ä¼šè‡ªåŠ¨å®‰è£…ã€‚é›†æˆæœåŠ¡æä¾›äº†å¢å¼ºåŠŸèƒ½ï¼Œå¦‚ï¼š é¼ æ ‡é›†æˆ æ—¶é—´åŒæ­¥ æ•°æ®äº¤æ¢ å¿ƒè·³æ£€æµ‹ å¯¹äº Linux è™šæ‹Ÿæœºï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨å®‰è£…é›†æˆæœåŠ¡ç»„ä»¶ã€‚ å…­ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ 6-1ã€æ— æ³•å¯ç”¨Hyper-Vé—®é¢˜ï¼š å‹¾é€‰ Hyper-V é€‰é¡¹åæç¤ºæ— æ³•å®‰è£…ã€‚ è§£å†³æ–¹æ¡ˆï¼š æ£€æŸ¥ Windows ç‰ˆæœ¬æ˜¯å¦ä¸ºä¸“ä¸šç‰ˆ&#x2F;ä¼ä¸šç‰ˆ&#x2F;æ•™è‚²ç‰ˆ ç¡®è®¤ CPU æ”¯æŒè™šæ‹ŸåŒ–æŠ€æœ¯ï¼ˆIntel VT-x æˆ– AMD-Vï¼‰ è¿›å…¥ BIOS è®¾ç½®ï¼Œå¯ç”¨è™šæ‹ŸåŒ–åŠŸèƒ½ï¼ˆé€šå¸¸åœ¨ CPU Configuration æˆ– Advanced é€‰é¡¹ä¸­ï¼‰ 6-2ã€è™šæ‹Ÿæœºæ— æ³•è”ç½‘é—®é¢˜ï¼š è™šæ‹Ÿæœºåˆ›å»ºåæ— æ³•è®¿é—®ç½‘ç»œã€‚ è§£å†³æ–¹æ¡ˆï¼š æ£€æŸ¥è™šæ‹Ÿæœºç½‘ç»œé€‚é…å™¨æ˜¯å¦è¿æ¥åˆ°è™šæ‹Ÿäº¤æ¢æœº åˆ›å»ºå¤–éƒ¨è™šæ‹Ÿäº¤æ¢æœºå¹¶ç»‘å®šåˆ°ç‰©ç†ç½‘ç»œé€‚é…å™¨ æ£€æŸ¥è™šæ‹Ÿæœºå†…éƒ¨çš„ç½‘ç»œé…ç½®ï¼ˆIPåœ°å€ã€DNSç­‰ï¼‰ 6-3ã€è™šæ‹Ÿæœºæ€§èƒ½è¾ƒå·®é—®é¢˜ï¼š è™šæ‹Ÿæœºè¿è¡Œç¼“æ…¢ï¼Œå“åº”é€Ÿåº¦æ…¢ã€‚ è§£å†³æ–¹æ¡ˆï¼š å¢åŠ è™šæ‹Ÿæœºåˆ†é…çš„å†…å­˜å’Œå¤„ç†å™¨æ ¸å¿ƒæ•° å¯ç”¨åŠ¨æ€å†…å­˜åŠŸèƒ½ å°†è™šæ‹Ÿç¡¬ç›˜å­˜å‚¨åœ¨ SSD å›ºæ€ç¡¬ç›˜ä¸Š ç¡®ä¿ä¸»æœºç³»ç»Ÿæœ‰è¶³å¤Ÿçš„å¯ç”¨èµ„æº 6-4ã€ä¸å…¶ä»–è™šæ‹ŸåŒ–è½¯ä»¶å†²çªé—®é¢˜ï¼š å¯ç”¨ Hyper-V åï¼ŒVMware æˆ– VirtualBox æ— æ³•ä½¿ç”¨ã€‚ è§£å†³æ–¹æ¡ˆï¼š Hyper-V ä¼šç‹¬å è™šæ‹ŸåŒ–åŠŸèƒ½ï¼Œæ— æ³•ä¸å…¶ä»–è™šæ‹ŸåŒ–è½¯ä»¶åŒæ—¶è¿è¡Œã€‚å¦‚éœ€ä½¿ç”¨å…¶ä»–è™šæ‹ŸåŒ–è½¯ä»¶ï¼Œéœ€è¦æš‚æ—¶ç¦ç”¨ Hyper-Vï¼š 1Disable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V-Hypervisor ç¦ç”¨åéœ€è¦é‡å¯è®¡ç®—æœºã€‚ ä¸ƒã€è¿›é˜¶é…ç½®ä¸ä¼˜åŒ– 7-1ã€å¿«ç…§åŠŸèƒ½Hyper-V æ”¯æŒè™šæ‹Ÿæœºå¿«ç…§ï¼ˆæ£€æŸ¥ç‚¹ï¼‰åŠŸèƒ½ï¼Œå¯ä»¥ä¿å­˜è™šæ‹Ÿæœºçš„æŸä¸ªæ—¶åˆ»çš„çŠ¶æ€ã€‚åœ¨è¿›è¡Œé‡è¦æ“ä½œå‰åˆ›å»ºå¿«ç…§ï¼Œå‡ºç°é—®é¢˜æ—¶å¯ä»¥å¿«é€Ÿæ¢å¤ã€‚ åˆ›å»ºå¿«ç…§ï¼š åœ¨è™šæ‹Ÿæœºä¸Šå³é”®é€‰æ‹©â€æ£€æŸ¥ç‚¹â€œã€‚ 7-2ã€å¯¼å‡ºå’Œå¯¼å…¥è™šæ‹Ÿæœºå¯ä»¥å¯¼å‡ºè™šæ‹Ÿæœºç”¨äºå¤‡ä»½æˆ–è¿ç§»åˆ°å…¶ä»–ä¸»æœºï¼š å¯¼å‡ºï¼š å³é”®è™šæ‹Ÿæœº &gt; â€œå¯¼å‡ºâ€œ &gt; é€‰æ‹©å¯¼å‡ºè·¯å¾„ å¯¼å…¥ï¼š åœ¨ Hyper-V ç®¡ç†å™¨ä¸­é€‰æ‹©â€å¯¼å…¥è™šæ‹Ÿæœºâ€œï¼Œé€‰æ‹©å¯¼å‡ºçš„è™šæ‹Ÿæœºæ–‡ä»¶å¤¹ã€‚ 7-3ã€å¢å¼ºä¼šè¯æ¨¡å¼å¯ç”¨å¢å¼ºä¼šè¯æ¨¡å¼å¯ä»¥è·å¾—æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œæ”¯æŒå‰ªè´´æ¿å…±äº«ã€æ–‡ä»¶æ‹–æ”¾ã€USB é‡å®šå‘ç­‰åŠŸèƒ½ã€‚ åœ¨è™šæ‹Ÿæœºè®¾ç½®ä¸­å¯ç”¨â€å¢å¼ºä¼šè¯æ¨¡å¼â€œé€‰é¡¹å³å¯ã€‚","categories":[{"name":"åç«¯ä¸è¿ç»´","slug":"åç«¯ä¸è¿ç»´","permalink":"http://example.com/categories/%E5%90%8E%E7%AB%AF%E4%B8%8E%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"è™šæ‹Ÿæœº","slug":"è™šæ‹Ÿæœº","permalink":"http://example.com/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/"},{"name":"Hyper-V","slug":"Hyper-V","permalink":"http://example.com/tags/Hyper-V/"},{"name":"Windows","slug":"Windows","permalink":"http://example.com/tags/Windows/"}]},{"title":"Claude Code å®‰è£…ä¸é…ç½®æŒ‡å—","slug":"52-claude codeå®‰è£…æ•™ç¨‹","date":"2026-02-23T01:30:00.000Z","updated":"2026-03-01T16:07:38.353Z","comments":true,"path":"posts/claudecodeinstall.html","permalink":"http://example.com/posts/claudecodeinstall.html","excerpt":"","text":"ä¸€ã€ç³»ç»Ÿè¦æ±‚ (Prerequisites) åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„ç³»ç»Ÿæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š 1-1ã€ç¡¬ä»¶ä¸ç³»ç»Ÿ é¡¹ç›® è¦æ±‚ æ“ä½œç³»ç»Ÿ macOS 13.0+Ubuntu 20.04+ &#x2F; Debian 10+Windows 10+ (éœ€é…åˆ WSL 1, WSL 2 æˆ– Git for Windows) ç¡¬ä»¶ è‡³å°‘ 4 GB RAM Shellç¯å¢ƒ æ¨èä½¿ç”¨ Bash æˆ– Zsh 1-2ã€è´¦å·ä¸ç½‘ç»œ è´¦å·è¦æ±‚ï¼šéœ€è¦ Claude Pro æˆ– Team è®¢é˜…æ‰èƒ½ä½¿ç”¨ Claude Code ç½‘ç»œï¼šç¨³å®šçš„äº’è”ç½‘è¿æ¥ï¼ˆä¸­å›½å¤§é™†ç”¨æˆ·éœ€ç‰¹æ®Šç½‘ç»œé…ç½®ï¼Œè¯¦è§ç¬¬äº”ç« ï¼‰ äºŒã€å®‰è£…æ­¥éª¤ (Installation) æ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿé€‰æ‹©å¯¹åº”çš„å®‰è£…å‘½ä»¤ã€‚ 2-1ã€macOS, Linux, WSLåœ¨ç»ˆç«¯ä¸­æ‰§è¡Œï¼š 1curl -fsSL https://claude.ai/install.sh | bash 2-2ã€Windows1ï¼‰PowerShell (æ¨è)1irm https://claude.ai/install.ps1 | iex 2ï¼‰CMD1curl -fsSL https://claude.ai/install.cmd -o install.cmd &amp;&amp; install.cmd &amp;&amp; del install.cmd âš ï¸ ç½‘ç»œæ³¨æ„äº‹é¡¹ï¼šç”±äºç½‘ç»œç¯å¢ƒé™åˆ¶ï¼Œå›½å†…ç”¨æˆ·åœ¨å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå¤±è´¥ã€‚è§£å†³æ–¹æ¡ˆï¼šè¯·ç¡®ä¿å¼€å¯ç½‘ç»œä»£ç†å·¥å…·ï¼Œå¹¶å¯ç”¨ TUN æ¨¡å¼ ä»¥ç¡®ä¿ç»ˆç«¯æµé‡è¢«æ­£ç¡®ä»£ç†ã€‚ ä¸‰ã€ç¯å¢ƒé…ç½® (Configuration) 3-1ã€é…ç½®ç¯å¢ƒå˜é‡å®‰è£…å®Œæˆåï¼Œå¦‚æœç³»ç»Ÿæç¤ºæ— æ³•è¯†åˆ« claude å‘½ä»¤ï¼Œä½ éœ€è¦æ‰‹åŠ¨é…ç½®ç¯å¢ƒå˜é‡ã€‚ æ‰“å¼€ç³»ç»Ÿå±æ€§ï¼šæŒ‰ä¸‹ Win + Rï¼Œè¾“å…¥ sysdm.cpl å¹¶å›è½¦ï¼ˆæˆ–æœç´¢â€œç¼–è¾‘ç³»ç»Ÿç¯å¢ƒå˜é‡â€ï¼‰ã€‚ æ·»åŠ è·¯å¾„ï¼šç‚¹å‡»â€œé«˜çº§â€é€‰é¡¹å¡ -&gt; â€œç¯å¢ƒå˜é‡â€ã€‚åœ¨ Path ä¸­æ·»åŠ  Claude Code çš„å®‰è£…è·¯å¾„ã€‚ 3-2ã€éªŒè¯å®‰è£…æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£ï¼Œæ‰§è¡Œï¼š 1claude -v å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œåˆ™è¡¨ç¤ºé…ç½®æˆåŠŸã€‚ å››ã€ç™»å½•ä¸åˆå§‹åŒ– (Initialization) 4-1ã€å¯åŠ¨ç™»å½•åœ¨ç»ˆç«¯æ‰§è¡Œï¼š 1claude auth login 4-2ã€é…ç½®åå¥½ ä»£ç é£æ ¼ï¼šæŒ‰éœ€é€‰æ‹©æˆ–ç›´æ¥å›è½¦ä¿æŒé»˜è®¤ã€‚ ç™»å½•æ–¹å¼ï¼šé€‰æ‹©é»˜è®¤æ–¹å¼ï¼ˆé€šå¸¸æ˜¯æµè§ˆå™¨éªŒè¯ï¼‰ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€æˆæƒé¡µé¢ï¼Œç¡®è®¤æˆæƒå³å¯ã€‚ äº”ã€å¸¸è§é—®é¢˜æ’æŸ¥ 5-1ã€TUNæ¨¡å¼æ— æ³•ä¸Šç½‘ &#x2F; DNS é”™è¯¯ç°è±¡æè¿°ï¼šå¼€å¯ä»£ç†è½¯ä»¶çš„ TUN æ¨¡å¼åï¼Œç½‘ç»œè¿æ¥æ–­å¼€ï¼Œä½†ç³»ç»Ÿä»£ç†æ¨¡å¼ä¸‹æ­£å¸¸ã€‚æ—¥å¿—æ˜¾ç¤º all DNS requests failed æˆ– tcp4 failedã€‚ åŸå› åˆ†æï¼šè¿™é€šå¸¸ä¸ç½‘å¡è®¾ç½®æœ‰å…³ï¼Œç‰¹åˆ«æ˜¯ç½‘å¡æ˜¯å¦æ”¯æŒæˆ–å¼€å¯äº† SR-IOVï¼ˆå•æ ¹è¾“å…¥&#x2F;è¾“å‡ºè™šæ‹ŸåŒ–ï¼‰ã€‚ 5-2ã€è§£å†³æ–¹æ¡ˆï¼ˆä»¥ ROG ä¸»æ¿ Bios ä¸ºä¾‹ï¼‰ é‡å¯ç”µè„‘ï¼Œè¿›å…¥ BIOS (F2 æˆ– Del)ã€‚ è¿›å…¥ Advanced Mode (é«˜çº§æ¨¡å¼) -&gt; Advanced (é«˜çº§)ã€‚ è¿›å…¥ PCI Subsystem Settings èœå•ã€‚ å°† SR-IOV Support å¼€å¯ (Enabled)ã€‚ F10 ä¿å­˜å¹¶é‡å¯ã€‚ å…­ã€ç»ˆç«¯ä¸­ä½¿ç”¨ Claude Code æ¥å…¥é˜¿é‡Œäº‘ç™¾ç‚¼ GLM-5è¯¦ç»†è¯´æ˜äº†åœ¨ç»ˆç«¯ï¼ˆCLIï¼‰ä¸­ä½¿ç”¨å®˜ç½‘å®‰è£…çš„ claude å‘½ä»¤è¡Œå·¥å…·ï¼Œå¹¶é…ç½®é˜¿é‡Œäº‘ç™¾ç‚¼ Coding Plan ä¸“å± API Key ä»¥åŸç”Ÿè°ƒç”¨ GLM-5 æ¨¡å‹çš„å®Œæ•´æ­¥éª¤ã€‚è¿™ä½¿å¾—ä½ æ— éœ€ä¾èµ– Anthropic å®˜ç½‘è´¦å•ä¾¿èƒ½äº«å—åˆ°å¼ºå¤§çš„ AI è¾…åŠ©ç¼–ç¨‹èƒ½åŠ›ã€‚ 6.1ã€å‰ææ¡ä»¶ å·²ç»å…¨å±€å®‰è£… Claude Code æ ¸å¿ƒ CL è·³è¿‡ Anthropic ç™»å½•ï¼šå¦‚æœé¦–æ¬¡å¯åŠ¨å¼ºåˆ¶è¦æ±‚ç™»å½• Anthropic è´¦æˆ·ï¼Œæ‰¾åˆ° C:\\Users\\ä½ çš„ç”¨æˆ·å\\.claude.json æ–‡ä»¶ï¼Œå°†å†…å®¹è®¾ç½®ä¸º 123&#123; &quot;hasCompletedOnboarding&quot;: true&#125; è·å– API Keyï¼šä½ éœ€è¦è¿›å…¥é˜¿é‡Œäº‘ç™¾ç‚¼æ§åˆ¶å° Coding Plan é¡µé¢è®¢é˜…å¹¶è·å–ä¸“å±çš„ API Keyï¼ˆæ ¼å¼ä¸º sk-sp-****ï¼‰ã€‚ 6.2ã€å…¨å±€ç¯å¢ƒå˜é‡é…ç½®ï¼ˆæ°¸ä¹…ç”Ÿæ•ˆï¼‰Claude Code åœ¨æ— ç•Œé¢è®¤è¯æ—¶éœ€è¦è¯»å–ç»ˆç«¯çš„ç¯å¢ƒå˜é‡ä»¥å‘èµ·è¯·æ±‚ã€‚ä¸ºäº†é˜²æ­¢æ¯æ¬¡é‡å¯ç»ˆç«¯åé…ç½®ä¸¢å¤±ï¼Œå»ºè®®ä½¿ç”¨ PowerShell ä¿®æ”¹ç³»ç»Ÿçº§ï¼ˆæˆ–ç”¨æˆ·çº§ï¼‰ç¯å¢ƒå˜é‡ã€‚ ç¬¬ä¸€æ­¥ï¼šæ‰“å¼€ PowerShell ç»ˆç«¯è¿è¡Œé…ç½®å‘½ä»¤ ç²˜è´´å¹¶è¿è¡Œä»¥ä¸‹å®Œæ•´çš„ç¯å¢ƒå˜é‡è®¾ç½®å‘½ä»¤ï¼š 12345678910111213141516171819# 1. é…ç½®ä½ çš„ Coding Plan ä¸“å± API Keyï¼ˆè¯·æ›¿æ¢ä¸ºä½ è‡ªå·±çš„ keyï¼‰[Environment]::SetEnvironmentVariable(&quot;ANTHROPIC_API_KEY&quot;, &quot;sk-sp-75af544fcd5d4cd9bf2c7e0148555a5a&quot;, [EnvironmentVariableTarget]::User)# 2. é…ç½® Coding Plan ä¸“å±çš„ Base URL[Environment]::SetEnvironmentVariable(&quot;ANTHROPIC_BASE_URL&quot;, &quot;https://coding.dashscope.aliyuncs.com/apps/anthropic&quot;, [EnvironmentVariableTarget]::User)# 3. æ™ºèƒ½æ¨¡å‹è°ƒåº¦é…ç½®ï¼ˆæ¨èï¼‰# é…ç½®åæ— éœ€æ‰‹åŠ¨åˆ‡æ¢æ¨¡å‹ï¼ŒClaude Code ä¼šæ ¹æ®ä»»åŠ¡éš¾åº¦è‡ªåŠ¨åœ¨è¿™ 3 ä¸ªæ¨¡å‹é—´åˆ‡æ¢ï¼Œå¸®ä½ èŠ‚çœé¢åº¦å’Œæé«˜åŠ è½½é€Ÿåº¦ï¼š# å¤æ‚åº¦æé«˜çš„ä»»åŠ¡ï¼ˆå¦‚åˆ†ææ•´ä¸ªé¡¹ç›®æ¶æ„ï¼‰ -&gt; ä½¿ç”¨æœ€å¼ºæ¨¡å‹ GLM-5[Environment]::SetEnvironmentVariable(&quot;ANTHROPIC_DEFAULT_OPUS_MODEL&quot;, &quot;glm-5&quot;, [EnvironmentVariableTarget]::User)# æ—¥å¸¸ç¼–å†™å¤§æ®µä»£ç ã€å®ç°åŠŸèƒ½çš„æ ¸å¿ƒä»»åŠ¡ -&gt; ä½¿ç”¨ä¸»æ¨¡å‹ GLM-5[Environment]::SetEnvironmentVariable(&quot;ANTHROPIC_DEFAULT_SONNET_MODEL&quot;, &quot;glm-5&quot;, [EnvironmentVariableTarget]::User)# ç®€å•çš„æ–‡ä»¶æ£€ç´¢ã€æ‹¼å†™æ£€æŸ¥ç­‰æ‰“æ‚ä»»åŠ¡ -&gt; ä½¿ç”¨ç²¾ç®€æé€Ÿçš„ qwen3-coder-next[Environment]::SetEnvironmentVariable(&quot;ANTHROPIC_DEFAULT_HAIKU_MODEL&quot;, &quot;qwen3-coder-next&quot;, [EnvironmentVariableTarget]::User)# ï¼ˆæ³¨ï¼šé…ç½®äº†ä¸Šæ–¹ 3 ä¸ªç»†åˆ†å˜é‡åï¼Œä¸è¦å†é…ç½®å…¨å±€çš„ ANTHROPIC_MODELï¼Œä»¥å…è¢«å¼ºè¡Œè¦†ç›–ï¼‰ æ³¨æ„ï¼š è¿™äº›å˜é‡å·²è¢«æ°¸ä¹…å†™å…¥æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·ç¯å¢ƒå˜é‡ä¸­ã€‚ ç¬¬äºŒæ­¥ï¼šå½»åº•é‡å¯ç»ˆç«¯ï¼ˆéå¸¸å…³é”®ï¼ï¼‰ ç”±äºå½“å‰æ­£åœ¨è¿è¡Œçš„ PowerShell æˆ–å†…åµŒç»ˆç«¯ï¼ˆå¦‚ VS Code ç»ˆç«¯ï¼‰ä¸ä¼šè‡ªåŠ¨é‡è½½åº•å±‚å¤–éƒ¨ç¯å¢ƒå˜é‡ï¼š è¯·å®Œå…¨å…³é—­å½“å‰çš„æ§åˆ¶å°&#x2F;ç»ˆç«¯çª—å£ï¼ˆå¦‚æœä½ åœ¨ VS Code é‡Œé¢ï¼Œè¯·å®Œå…¨å…³é—­æ•´ä¸ª VS Code è½¯ä»¶ï¼‰ã€‚ é‡æ–°æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯çª—å£ã€‚ æœ€ä½³æ–¹å¼å¯ç›´æ¥é‡å¯ç”µè„‘ ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œä¸éªŒè¯ åœ¨é‡æ–°æ‰“å¼€çš„æ–°ç»ˆç«¯ä¸­è¿›å…¥ä½ çš„ä»£ç é¡¹ç›®ç›®å½•ã€‚ 1. éªŒè¯å˜é‡ç”Ÿæ•ˆ åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œæµ‹è¯•å‘½ä»¤æ£€æŸ¥ï¼š 1echo $env:ANTHROPIC_API_KEY å¦‚æœæˆåŠŸè¾“å‡ºä½ çš„ä¸“å± API Keyï¼ˆå¦‚ sk-sp-75af5...ï¼‰ï¼Œè¯´æ˜é…ç½®å·²ç»æ°¸ä¹…ç”Ÿæ•ˆï¼ 2. å¯åŠ¨ç»ˆç«¯ç‰ˆ Claude Code åœ¨ç»ˆç«¯ç›´æ¥è¾“å…¥ï¼š 1claude æ­¤æ—¶ä½ å°†è·³è¿‡å¤æ‚çš„ Anthropic å®˜æ–¹éªŒè¯æ‹¦æˆªï¼Œç›´æ¥åœ¨ç»ˆç«¯é‡Œå¯åŠ¨å¯¹è¯äº¤äº’æ¨¡å¼ï¼Œå¼€å§‹å‘ GLM-5 æé—®å’Œè¾…åŠ©é˜…è¯»æºç ã€ç”Ÿæˆæ–‡ä»¶ã€‚ 6.3ã€ï¼ˆå¯é€‰ï¼‰ä½“éªŒé¡¹ç›®çº§å±€éƒ¨é…ç½®å¦‚æœä½ ä¸æƒ³æ±¡æŸ“ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œæˆ–è€…æƒ³åœ¨ä¸åŒé¡¹ç›®é—´åˆ‡æ¢ä¸åŒæ¨¡å‹ï¼ŒClaude Code ä¹Ÿæ”¯æŒåœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ªåä¸º settings.jsonï¼ˆæˆ–å…¨å±€çš„ ~/.claude.jsonï¼‰å¹¶å†™å…¥å¦‚ä¸‹é…ç½®ï¼šï¼ˆå»ºè®®ç›´æ¥é…ç½®åœ¨ ~/.claude.jsonä¸­ï¼Œè¿™æ˜¯ç›®å‰æˆ‘è‡ªå·±ä½¿ç”¨çš„æ–¹å¼ï¼‰ 1234567891011121314&#123; &quot;env&quot;: &#123; &quot;ANTHROPIC_API_KEY&quot;: &quot;sk-sp-75af544fcd5d4cd9bf2c7e0148555a5a&quot;, &quot;ANTHROPIC_BASE_URL&quot;: &quot;https://coding.dashscope.aliyuncs.com/apps/anthropic&quot;, // é…ç½®åæ— éœ€æ‰‹åŠ¨åˆ‡æ¢æ¨¡å‹ï¼ŒClaude Codeä¼šæ ¹æ®ä»»åŠ¡éš¾åº¦è‡ªåŠ¨åœ¨è¿™3ä¸ªæ¨¡å‹é—´åˆ‡æ¢ï¼Œå¸®ä½ èŠ‚çœé¢åº¦å’Œæé«˜åŠ è½½é€Ÿåº¦ // å¤æ‚åº¦æé«˜çš„ä»»åŠ¡ï¼ˆå¦‚åˆ†ææ•´ä¸ªé¡¹ç›®æ¶æ„ï¼‰ -&gt; ä½¿ç”¨æœ€å¼ºæ¨¡å‹ GLM-5 &quot;ANTHROPIC_DEFAULT_OPUS_MODEL&quot;: &quot;glm-5&quot;, // æ—¥å¸¸ç¼–å†™å¤§æ®µä»£ç ã€å®ç°åŠŸèƒ½çš„æ ¸å¿ƒä»»åŠ¡ -&gt; ä½¿ç”¨ä¸»æ¨¡å‹ GLM-5 &quot;ANTHROPIC_DEFAULT_SONNET_MODEL&quot;: &quot;glm-5&quot;, // ç®€å•çš„æ–‡ä»¶æ£€ç´¢ã€æ‹¼å†™æ£€æŸ¥ç­‰æ‰“æ‚ä»»åŠ¡ -&gt; ä½¿ç”¨ç²¾ç®€æé€Ÿçš„ qwen3-coder-next &quot;ANTHROPIC_DEFAULT_HAIKU_MODEL&quot;: &quot;qwen3-coder-next&quot; &#125;, &quot;hasCompletedOnboarding&quot;: true&#125; æç¤ºï¼š hasCompletedOnboarding: true ç”¨äºè·³è¿‡ç”±äºæ²¡æœ‰å®˜æ–¹è´¦å·é€ æˆçš„å¼ºåˆ¶ç™»å½•æµç¨‹ã€‚ 6.4ã€å¸¸è§é—®é¢˜æ’æŸ¥Q1ï¼šè¾“å…¥ claude ä¾ç„¶æç¤º Could not resolve authentication method...ï¼Ÿ åŸå› ï¼š VS Code ç»ˆç«¯ä»åœ¨ä½¿ç”¨æ—§çš„ç¯å¢ƒå˜é‡è¿›ç¨‹ç¼“å­˜ã€‚ è§£å†³ï¼š å¿…é¡»å®Œå…¨é€€å‡ºå¹¶å…³é—­ VS Code ä¸»ç¨‹åºï¼Œæˆ–è€…åœ¨å½“å‰ç»ˆç«¯ç«‹åˆ»è¿è¡Œä¸€æ¡ä¸´æ—¶çƒ­åŠ è½½å‘½ä»¤ï¼š 1$env:ANTHROPIC_API_KEY=&quot;ä½ çš„API_KEY&quot;; $env:ANTHROPIC_BASE_URL=&quot;https://coding.dashscope.aliyuncs.com/apps/anthropic&quot;; $env:ANTHROPIC_MODEL=&quot;glm-5&quot;; claude Q2ï¼šæƒ³åˆ‡æ¢åˆ°å…¶ä»–æ”¯æŒçš„æ¨¡å‹ï¼Ÿ é˜¿é‡Œäº‘ç™¾ç‚¼ Coding Plan è¿˜æ”¯æŒ qwen3.5-plus, kimi-k2.5, qwen3-coder-next ç­‰ã€‚ åœ¨è¿è¡Œä¸­çš„ claude ä¼šè¯å†…ï¼Œåªéœ€è¾“å…¥ /model &lt;æ¨¡å‹å&gt; å³å¯è¿…é€Ÿæ— ç¼åˆ‡æ¢ã€‚ä¾‹å¦‚ï¼š/model qwen3.5-plusã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://example.com/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"AI","slug":"AI","permalink":"http://example.com/tags/AI/"},{"name":"Claude","slug":"Claude","permalink":"http://example.com/tags/Claude/"}]},{"title":"Gitä½¿ç”¨SSHæ‹‰å–ä»£ç é…ç½®æŒ‡å—","slug":"51-gitä½¿ç”¨sshæ‹‰å–ä»£ç é…ç½®æŒ‡å—","date":"2026-02-23T00:00:00.000Z","updated":"2026-03-01T16:07:38.353Z","comments":true,"path":"posts/65464545tryt435.html","permalink":"http://example.com/posts/65464545tryt435.html","excerpt":"","text":"ä¸€ã€é…ç½® Git ç”¨æˆ·ä¿¡æ¯è¿™äº›ä¿¡æ¯ä¼šè®°å½•åœ¨**æ¯æ¬¡ Git æäº¤ï¼ˆcommitï¼‰**ä¸­ï¼Œç”¨äºæ ‡è¯†â€è°æäº¤äº†è¿™æ®µä»£ç â€ã€‚ 12git config --global user.name &#x27;zhenghong&#x27;git config --global user.email &#x27;772198520@qq.com&#x27; éªŒè¯å½“å‰é…ç½® 1git config --global --list äºŒã€ç”Ÿæˆ SSH å¯†é’¥123ssh-keygen -t rsa -C &#x27;772198520@qq.com&#x27;# æˆ–ä½¿ç”¨æ›´å®‰å…¨çš„ ed25519 ç®—æ³•ï¼ˆæ¨èï¼‰ssh-keygen -t ed25519 -C &#x27;772198520@qq.com&#x27; è¿ç»­æŒ‰ 3 æ¬¡å›è½¦ï¼ˆä½¿ç”¨é»˜è®¤è·¯å¾„å’Œç©ºå¯†ç ï¼‰ ä¸‰ã€æŸ¥çœ‹å¹¶å¤åˆ¶å…¬é’¥é»˜è®¤ç”Ÿæˆç§˜é’¥çš„ä½ç½®C:\\Users\\zheng_hb.ssh 123type C:\\Users\\zheng_hb\\.ssh\\id_rsa.pub# æˆ–ï¼ˆå¦‚æœç”¨ ed25519ï¼‰type C:\\Users\\zheng_hb\\.ssh\\id_ed25519.pub å››ã€æ·»åŠ å…¬é’¥åˆ° Git å¹³å°ä»¥GitHubä¸ºä¾‹ ç™»å½• GitHub ç‚¹å‡»å¤´åƒ â†’ Settings â†’ SSH and GPG keys ç‚¹å‡» â€œNew SSH keyâ€ ç²˜è´´å…¬é’¥å†…å®¹ï¼Œä¿å­˜ äº”ã€æµ‹è¯•è¿æ¥12345678# GitHubssh -T git@github.com# GitLabssh -T git@gitlab.com# Giteessh -T git@gitee.com æˆåŠŸè¿”å›ç¤ºä¾‹ï¼š 1Hi zhbCloud! You&#x27;ve successfully authenticated... å…­ã€å…‹éš†ä»£ç 1git clone git@github.com:username/repository.git ä¸ƒã€å¦‚æœä¹‹å‰å…‹éš†çš„æ˜¯ HTTPS ä»“åº“éœ€è¦å°†è¿œç¨‹åœ°å€æ”¹ä¸º SSH æ ¼å¼ 12345678910111213141516# æŸ¥çœ‹å½“å‰è¿œç¨‹åœ°å€git remote -v# æŸ¥çœ‹ç»“æœorigin https://github.com/zhbCloud/ä»“åº“å.git (fetch)origin https://github.com/zhbCloud/ä»“åº“å.git (push)# æ”¹ä¸º SSHgit remote set-url origin git@github.com:zhbCloud/ä»“åº“å.git# éªŒè¯ä¿®æ”¹git remote -v# ä¿®æ”¹æˆåŠŸorigin git@github.com:zhbCloud/ä»“åº“å.git (fetch)origin git@github.com:zhbCloud/ä»“åº“å.git (push) TortoiseGitä¸­ä¿®æ”¹ å…«ã€è§£å†³ TortoiseGit SSH è®¤è¯é—®é¢˜TortoiseGit ä½¿ç”¨çš„æ˜¯ PuTTY çš„ SSH å®¢æˆ·ç«¯ï¼Œè€Œå‘½ä»¤è¡Œç”¨çš„æ˜¯ OpenSSHï¼Œå®ƒä»¬çš„å¯†é’¥æ ¼å¼ä¸å…¼å®¹ï¼ è®© TortoiseGit ä½¿ç”¨ OpenSSH 1234# é…ç½® TortoiseGit ä½¿ç”¨ Git çš„ SSHå³é”® â†’ TortoiseGit â†’ Settingsâ†’ Networkâ†’ SSH Client: ä¿®æ”¹ä¸º Git çš„ ssh.exe è·¯å¾„ å¸¸è§ssh.exeè·¯å¾„ 123C:\\Program Files\\Git\\usr\\bin\\ssh.exe# æˆ–è€…ç›´æ¥å†™ssh.exe","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://example.com/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://example.com/tags/Git/"},{"name":"SSH","slug":"SSH","permalink":"http://example.com/tags/SSH/"},{"name":"ç‰ˆæœ¬æ§åˆ¶","slug":"ç‰ˆæœ¬æ§åˆ¶","permalink":"http://example.com/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/"}]},{"title":"React MobX å…¨é¢æŒ‡å— (MobX 6)","slug":"50-React MobXå…¨é¢æŒ‡å—","date":"2026-02-22T15:50:00.000Z","updated":"2026-03-01T16:07:38.353Z","comments":true,"path":"posts/mobx-guide-2026.html","permalink":"http://example.com/posts/mobx-guide-2026.html","excerpt":"","text":"React MobX å…¨é¢æŒ‡å— (ç°ä»£ç‰ˆ MobX 6) ğŸš€ MobX æ˜¯ä¸€ä¸ªç»è¿‡æˆ˜ç«æ´—ç¤¼çš„åº“ï¼Œå®ƒè®©çŠ¶æ€ç®¡ç†å˜å¾—ç®€å•ã€å¯æ‰©å±•ã€‚ä¸ Redux çš„ä¸å¯å˜é€»è¾‘ä¸åŒï¼ŒMobX æ‹¥æŠ±â€œå“åº”å¼ç¼–ç¨‹â€ï¼Œé€šè¿‡é€æ˜çš„å‡½æ•°å¼å“åº”è®©çŠ¶æ€ä¸ UI è‡ªåŠ¨åŒæ­¥ã€‚ ç›®å½• åŸºç¡€ç¯‡ï¼šMobX æ ¸å¿ƒä¸å¿«é€Ÿä¸Šæ‰‹ è¿›é˜¶ç¯‡ï¼šå¼‚æ­¥å¤„ç†ä¸ React æ·±åº¦é›†æˆ é«˜çº§ç¯‡ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„æœ€ä½³å®è·µ æ€»ç»“ï¼šMobX vs Redux å¦‚ä½•é€‰æ‹© ä¸€ã€ åŸºç¡€ç¯‡ï¼šMobX æ ¸å¿ƒä¸å¿«é€Ÿä¸Šæ‰‹1.1 MobX çš„æ ¸å¿ƒå“²ç†MobX çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä»»ä½•æºè‡ªåº”ç”¨çŠ¶æ€çš„ä¸œè¥¿éƒ½åº”è¯¥è‡ªåŠ¨åœ°æ´¾ç”Ÿå‡ºæ¥ã€‚ æƒ³è±¡ä¸€ä¸‹ Excel è¡¨æ ¼ï¼š Observable (çŠ¶æ€)ï¼šå•å…ƒæ ¼é‡Œçš„åŸå§‹æ•°æ®ã€‚ Computed (æ´¾ç”ŸçŠ¶æ€)ï¼šç”±å…¬å¼è®¡ç®—å‡ºçš„ç»“æœå•å…ƒæ ¼ã€‚ Reactions (å“åº”)ï¼šå½“æ•°æ®å˜åŒ–æ—¶ï¼ŒExcel è‡ªåŠ¨é‡æ–°è®¡ç®—å…¬å¼å¹¶æ›´æ–°å›¾è¡¨ã€‚ Actions (åŠ¨ä½œ)ï¼šä½ æ‰‹åŠ¨ä¿®æ”¹å•å…ƒæ ¼æ•°æ®çš„è¡Œä¸ºã€‚ 1.2 å®‰è£…åœ¨ç°ä»£ React é¡¹ç›®ä¸­ï¼Œä½ éœ€è¦å®‰è£… mobx æ ¸å¿ƒåº“å’Œ mobx-react-liteï¼ˆä¸“ä¸ºå‡½æ•°å¼ç»„ä»¶è®¾è®¡ï¼‰ã€‚ 1npm install mobx mobx-react-lite 1.3 æ ¸å¿ƒ API (MobX 6)åœ¨ MobX 6 ä¸­ï¼Œè£…é¥°å™¨è¯­æ³•å·²ä¸å†æ˜¯å¿…éœ€ï¼Œæ¨èä½¿ç”¨ makeAutoObservableã€‚ 1ï¼‰ä½¿ç”¨ makeAutoObservableè¿™æ˜¯ç›®å‰æœ€ç®€å•ã€æœ€æ¨èçš„å†™æ³•ã€‚å®ƒèƒ½è‡ªåŠ¨æ¨æ–­å±æ€§ã€æ–¹æ³•å’Œ getterã€‚ src/store/CounterStore.js: 1234567891011121314151617181920212223242526import &#123; makeAutoObservable &#125; from &quot;mobx&quot;;class CounterStore &#123; count = 0; // Observable: çŠ¶æ€ constructor() &#123; // è‡ªåŠ¨å°†å±æ€§è®¾ä¸º observableï¼Œæ–¹æ³•è®¾ä¸º actionï¼Œgetter è®¾ä¸º computed makeAutoObservable(this); &#125; // Action: ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³• increment() &#123; this.count++; &#125; decrement() &#123; this.count--; &#125; // Computed: æ´¾ç”ŸçŠ¶æ€ï¼ˆå…·æœ‰ç¼“å­˜ç‰¹æ€§ï¼‰ get doubleCount() &#123; return this.count * 2; &#125;&#125;export const counterStore = new CounterStore(); 1.4 åœ¨ React ç»„ä»¶ä¸­ä½¿ç”¨è¦åœ¨ React ä¸­å“åº” MobX çŠ¶æ€çš„å˜åŒ–ï¼Œå¿…é¡»ä½¿ç”¨ observer é«˜é˜¶ç»„ä»¶åŒ…è£¹ä½ çš„ç»„ä»¶ã€‚ src/App.jsx: 12345678910111213141516171819import React from &quot;react&quot;;import &#123; observer &#125; from &quot;mobx-react-lite&quot;; // å¿…é¡»å¼•å…¥import &#123; counterStore &#125; from &quot;./store/CounterStore&quot;;// ä½¿ç”¨ observer åŒ…è£¹ç»„ä»¶ï¼Œä½¿å…¶æˆä¸ºâ€œè§‚å¯Ÿè€…â€const App = observer(() =&gt; &#123; return ( &lt;div style=&#123;&#123; textAlign: &quot;center&quot;, marginTop: &quot;50px&quot; &#125;&#125;&gt; &lt;h1&gt;MobX è®¡æ•°å™¨&lt;/h1&gt; &lt;p&gt;å½“å‰æ•°å€¼: &#123;counterStore.count&#125;&lt;/p&gt; &lt;p&gt;ä¸¤å€æ•°å€¼ (Computed): &#123;counterStore.doubleCount&#125;&lt;/p&gt; &lt;button onClick=&#123;() =&gt; counterStore.increment()&#125;&gt;å¢åŠ &lt;/button&gt; &lt;button onClick=&#123;() =&gt; counterStore.decrement()&#125;&gt;å‡å°‘&lt;/button&gt; &lt;/div&gt; );&#125;);export default App; [!IMPORTANT]åˆ‡è®°ï¼šå¦‚æœæ²¡æœ‰ç”¨ observer åŒ…è£¹ç»„ä»¶ï¼Œå³ä½¿ Store ä¸­çš„çŠ¶æ€å˜äº†ï¼Œç»„ä»¶ä¹Ÿä¸ä¼šé‡æ–°æ¸²æŸ“ï¼ äºŒã€ è¿›é˜¶ç¯‡ï¼šå¼‚æ­¥å¤„ç†ä¸ React æ·±åº¦é›†æˆ2.1 å¼‚æ­¥ Action ä¸ runInActionåœ¨ MobX é»˜è®¤çš„ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰å¯¹çŠ¶æ€çš„ä¿®æ”¹éƒ½å¿…é¡»åœ¨ action ä¸­å®Œæˆã€‚ä½†æ˜¯ï¼Œawait ä¹‹åçš„å›è°ƒå¹¶ä¸åœ¨ action çš„ä½œç”¨åŸŸå†…ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ runInActionã€‚ 1ï¼‰å®æˆ˜ï¼šæ¨¡æ‹Ÿ API è·å–æ•°æ®src/store/UserStore.js: 12345678910111213141516171819202122232425262728293031import &#123; makeAutoObservable, runInAction &#125; from &quot;mobx&quot;;class UserStore &#123; userInfo = null; loading = false; constructor() &#123; makeAutoObservable(this); &#125; // å¼‚æ­¥è·å–æ•°æ® async fetchUser() &#123; this.loading = true; try &#123; const response = await fetch(&quot;https://api.github.com/users/octocat&quot;); const data = await response.json(); // å…³é”®ç‚¹ï¼šawait ä¹‹åçš„æ‰€æœ‰çŠ¶æ€ä¿®æ”¹å¿…é¡»åŒ…è£¹åœ¨ runInAction ä¸­ runInAction(() =&gt; &#123; this.userInfo = data; this.loading = false; &#125;); &#125; catch (error) &#123; runInAction(() =&gt; &#123; this.loading = false; &#125;); &#125; &#125;&#125;export const userStore = new UserStore(); 2.2 ä½¿ç”¨ React Context ç®¡ç†å¤šä¸ª Store (RootStore æ¨¡å¼)åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå»ºè®®åˆ›å»ºä¸€ä¸ª RootStore æ¥ç»Ÿä¸€ç®¡ç†æ‰€æœ‰å­ Storeï¼Œå¹¶é€šè¿‡ React Context æ³¨å…¥ï¼Œä»¥ä¾¿åœ¨ç»„ä»¶ä¸­æ–¹ä¾¿è·å–ã€‚ 1ï¼‰ç¬¬ä¸€æ­¥ï¼šåˆ›å»º RootStoresrc/store/index.js: 1234567891011121314151617import &#123; createContext, useContext &#125; from &quot;react&quot;;import &#123; counterStore &#125; from &quot;./CounterStore&quot;;import &#123; userStore &#125; from &quot;./UserStore&quot;;class RootStore &#123; constructor() &#123; this.counterStore = counterStore; this.userStore = userStore; &#125;&#125;const rootStore = new RootStore();// åˆ›å»º Contextconst RootStoreContext = createContext(rootStore);// è‡ªå®šä¹‰ Hookï¼Œæ–¹ä¾¿ç»„ä»¶ä½¿ç”¨export const useStore = () =&gt; useContext(RootStoreContext); 2ï¼‰ç¬¬äºŒæ­¥ï¼šåœ¨ç»„ä»¶ä¸­ä½¿ç”¨123456789101112131415import &#123; observer &#125; from &quot;mobx-react-lite&quot;;import &#123; useStore &#125; from &quot;../store&quot;;const UserProfile = observer(() =&gt; &#123; const &#123; userStore, counterStore &#125; = useStore(); // ä» RootStore ä¸­è·å– return ( &lt;div&gt; &lt;button onClick=&#123;() =&gt; userStore.fetchUser()&#125;&gt;åŠ è½½ç”¨æˆ·ä¿¡æ¯&lt;/button&gt; &#123;userStore.loading &amp;&amp; &lt;p&gt;åŠ è½½ä¸­...&lt;/p&gt;&#125; &#123;userStore.userInfo &amp;&amp; &lt;p&gt;ç”¨æˆ·å: &#123;userStore.userInfo.login&#125;&lt;/p&gt;&#125; &lt;p&gt;åŒæ—¶ä¹Ÿæ‹¿åˆ°äº†è®¡æ•°å™¨: &#123;counterStore.count&#125;&lt;/p&gt; &lt;/div&gt; );&#125;); ä¸‰ã€ é«˜çº§ç¯‡ï¼šæ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„æœ€ä½³å®è·µ3.1 ç»†ç²’åº¦æ¸²æŸ“ä¼˜åŒ–MobX çš„æ€§èƒ½ä¼˜åŠ¿åœ¨äºâ€œç²¾å‡†æ‰“å‡»â€ã€‚åªæœ‰çœŸæ­£è¯»å–äº†è¢«ä¿®æ”¹å±æ€§çš„ observer ç»„ä»¶æ‰ä¼šé‡æ¸²æŸ“ã€‚ ä¼˜åŒ–å»ºè®®ï¼šå°†å¤§ç»„ä»¶æ‹†åˆ†ä¸ºå¤šä¸ªå°ç»„ä»¶ã€‚ âŒ å¦‚æœä¸€ä¸ªé•¿åˆ—è¡¨åœ¨çˆ¶ç»„ä»¶é‡Œå¾ªç¯è¯»å–å±æ€§ï¼Œä»»ä½•ä¸€ä¸ªå±æ€§å˜äº†ï¼Œæ•´ä¸ªåˆ—è¡¨éƒ½ä¼šé‡ç»˜ã€‚ âœ… å°†åˆ—è¡¨é¡¹å°è£…ä¸º observer(Item)ï¼Œè¿™æ ·åªæœ‰è¢«ä¿®æ”¹çš„é‚£ä¸€è¡Œä¼šåŠ¨ã€‚ 3.2 è‡ªåŠ¨å“åº”ï¼šreaction ä¸ autoruné™¤äº† UI æ›´æ–°ï¼ŒMobX è¿˜èƒ½å¤„ç†å‰¯ä½œç”¨ã€‚ autorunï¼šåªè¦ä¾èµ–çš„çŠ¶æ€å˜äº†ï¼Œå°±æ‰§è¡Œã€‚å¸¸ç”¨äºè‡ªåŠ¨ä¿å­˜ã€æ—¥å¿—ä¸ŠæŠ¥ã€‚ reactionï¼šæ›´ç²¾ç¡®ã€‚åªæœ‰æŒ‡å®šçš„å±æ€§å˜äº†ï¼Œæ‰æ‰§è¡Œã€‚ 12345678910import &#123; reaction &#125; from &quot;mobx&quot;;// åªæœ‰å½“ counterStore.count å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œåé¢çš„å›è°ƒreaction( () =&gt; counterStore.count, (count, prevCount) =&gt; &#123; console.log(`æ•°å€¼ä» $&#123;prevCount&#125; å˜ä¸ºäº† $&#123;count&#125;`); if (count &gt; 10) alert(&quot;æ•°å€¼è¿‡é«˜ï¼&quot;); &#125;,); 3.3 é¿å‘æŒ‡å—ï¼šä¸è¦åœ¨ observer å¤–è§£æ„è¿™æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„é”™è¯¯ï¼ 1234567891011// âŒ é”™è¯¯å†™æ³•ï¼šåœ¨ç»„ä»¶ä½“å¤–è§£æ„ï¼Œä¼šå¤±å»å“åº”æ€§const &#123; count &#125; = counterStore;const MyComponent = observer(() =&gt; &#123; return &lt;div&gt;&#123;count&#125;&lt;/div&gt;; // è¿™é‡Œæ°¸è¿œä¸ä¼šæ›´æ–°&#125;);// âœ… æ­£ç¡®å†™æ³•ï¼šåœ¨ç»„ä»¶å†…éƒ¨è¯»å–ï¼Œæˆ–è€…ä¼ é€’æ•´ä¸ªå¯¹è±¡const MyComponent = observer(() =&gt; &#123; const &#123; count &#125; = counterStore; // OK return &lt;div&gt;&#123;count&#125;&lt;/div&gt;;&#125;); å››ã€ æ€»ç»“ï¼šMobX vs Redux å¦‚ä½•é€‰æ‹© ç‰¹æ€§ MobX Redux (RTK) ç¼–ç¨‹èŒƒå¼ é¢å‘å¯¹è±¡ã€å“åº”å¼ å‡½æ•°å¼ã€ä¸å¯å˜æ•°æ® æ ·æ¿ä»£ç  éå¸¸å°‘ è¾ƒå¤šï¼ˆå³ä½¿æœ‰ RTKï¼‰ å­¦ä¹ æ›²çº¿ å¹³ç¼“ï¼Œåƒå†™æ™®é€š JS å¯¹è±¡ è¾ƒé™¡ï¼ŒAction&#x2F;Reducer æ¦‚å¿µå¤š æ€§èƒ½ æå…¶å‡ºè‰²ï¼Œç»†ç²’åº¦ä¾èµ–è¿½è¸ª ä¾èµ–æ‰‹åŠ¨ä¼˜åŒ–ï¼ˆMemo&#x2F;Reselectï¼‰ è°ƒè¯• è¾ƒéš¾è¿½è¸ªï¼ˆé»‘ç›’å“åº”ï¼‰ éå¸¸å¼ºå¤§ï¼ˆRedux DevTools è½¨è¿¹æ¸…æ™°ï¼‰ æ¨èåœºæ™¯ å¿«é€Ÿå¼€å‘ã€å¤æ‚ UI äº¤äº’ã€ä¼ä¸šåå°ã€æ¸¸æˆ å¤§å‹å›¢é˜Ÿåä½œã€å¯¹çŠ¶æ€æµå‘è¦æ±‚æå…¶ä¸¥è‹›çš„é¡¹ç›® Happy Coding with MobX! å»ºè®®ç»“åˆé¡¹ç›®å®è·µå¤šæ¬¡æ¼”ç»ƒã€‚","categories":[{"name":"å‰ç«¯å¼€å‘","slug":"å‰ç«¯å¼€å‘","permalink":"http://example.com/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"React","slug":"React","permalink":"http://example.com/tags/React/"},{"name":"MobX","slug":"MobX","permalink":"http://example.com/tags/MobX/"},{"name":"State Management","slug":"State-Management","permalink":"http://example.com/tags/State-Management/"}]},{"title":"React Redux å…¨é¢æŒ‡å— (RTK)","slug":"49-React Reduxå…¨é¢æŒ‡å—","date":"2026-02-22T15:30:00.000Z","updated":"2026-03-01T16:07:38.353Z","comments":true,"path":"posts/rtk-guide-2026.html","permalink":"http://example.com/posts/rtk-guide-2026.html","excerpt":"","text":"React Redux å…¨é¢æŒ‡å— (Redux Toolkit) ğŸ“š æœ¬æŒ‡å—æ—¨åœ¨å¸¦ä½ ä»é›¶å¼€å§‹ Mastering React Reduxï¼Œç‰¹åˆ«æ˜¯ç°ä»£æ ‡å‡†çš„ Redux Toolkit (RTK) å†™æ³•ã€‚ ç›®å½• åŸºç¡€ç¯‡ï¼šRTK æ ¸å¿ƒä¸å¿«é€Ÿä¸Šæ‰‹ è¿›é˜¶ç¯‡ï¼šå¤æ‚çŠ¶æ€ä¸å¼‚æ­¥é€»è¾‘ é«˜çº§ç¯‡ï¼šRTK Query ä¸æ€§èƒ½ä¼˜åŒ– ä¸€ã€ åŸºç¡€ç¯‡ï¼šRTK æ ¸å¿ƒä¸å¿«é€Ÿä¸Šæ‰‹ [!NOTE] Storeï¼šç”¨æ¥å­˜æ•°æ®çš„ã€‚ Reducerï¼šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥å¤„ç†æ•°æ®çš„ã€‚ Actionï¼šæ˜¯ä¸€ä¸ªå…·æœ‰ type å­—æ®µçš„æ™®é€šå¯¹è±¡ï¼Œç”¨æ¥æè¿°è¦è¿›è¡Œä»€ä¹ˆæ“ä½œã€‚ Action Creatorï¼šåˆ›å»ºå¹¶è¿”å› Action å¯¹è±¡çš„å‡½æ•°ã€‚ Dispatchï¼šæ›´æ–° State çš„å”¯ä¸€æ–¹æ³•ï¼Œè°ƒç”¨ store.dispatch(action)ã€‚ 1.1 Redux æ˜¯ä»€ä¹ˆï¼ŸRedux æ˜¯ä¸€ä¸ªç”¨äº JavaScript åº”ç”¨çš„çŠ¶æ€å®¹å™¨ï¼Œæä¾›å¯é¢„æµ‹çš„çŠ¶æ€ç®¡ç†ã€‚ å•ä¸€æ•°æ®æºï¼šåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€éƒ½å­˜å‚¨åœ¨ä¸€ä¸ªå¯¹è±¡æ ‘ä¸­ã€‚ çŠ¶æ€æ˜¯åªè¯»çš„ï¼šå”¯ä¸€æ”¹å˜çŠ¶æ€çš„æ–¹æ³•æ˜¯è§¦å‘ä¸€ä¸ª Actionã€‚ ä½¿ç”¨çº¯å‡½æ•°ä¿®æ”¹ï¼šç¼–å†™ Reducer æ¥æè¿° Action å¦‚ä½•è½¬æ¢ Stateã€‚ [!TIP]ä¸ºä»€ä¹ˆä½¿ç”¨ Redux Toolkit (RTK)ï¼Ÿå®˜æ–¹æ¨èï¼RTK æ˜¯ç°ä»£ Redux çš„æ ‡å‡†å†™æ³•ã€‚å®ƒè§£å†³äº†ä¼ ç»Ÿ Redux é…ç½®å¤æ‚ã€æ ·æ¿ä»£ç å¤šã€éœ€æ‰‹åŠ¨æ·»åŠ ä¸å¯å˜é€»è¾‘ç­‰ç—›ç‚¹ã€‚RTK å†…ç½®äº† Immerï¼ˆç®€åŒ–ä¸å¯å˜æ›´æ–°ï¼‰ã€Thunkï¼ˆå¼‚æ­¥ï¼‰ã€DevTools ç­‰å·¥å…·ã€‚ 1.2 å®‰è£…ä½¿ç”¨ Create React App æˆ– Vite åˆ›å»ºé¡¹ç›®åï¼Œå®‰è£…æ ¸å¿ƒä¾èµ–ï¼š 1npm install @reduxjs/toolkit react-redux 1.3 æ ¸å¿ƒæ¦‚å¿µä¸å®æˆ˜ (Counter Example)æˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªè®¡æ•°å™¨åº”ç”¨æ¥æ¼”ç¤ºæœ€æ ¸å¿ƒçš„ APIã€‚ 1ï¼‰ç¬¬ä¸€æ­¥ï¼šåˆ›å»º Slice (åˆ‡ç‰‡)Slice æ˜¯ Redux é€»è¾‘çš„é›†åˆï¼ˆåŒ…å« Stateï¼ŒReducersï¼ŒActionsï¼‰ src\\redux\\modules\\counterSlice.js 1234567891011121314151617181920212223242526272829import &#123; createSlice &#125; from &quot;@reduxjs/toolkit&quot;;const counterSlice = createSlice(&#123; name: &quot;counter&quot;, // Slice åç§°ï¼Œç”¨äºç”Ÿæˆ Action Type å‰ç¼€ initialState: &#123; value: 0, &#125;, reducers: &#123; // Redux Toolkit å…è®¸æˆ‘ä»¬åœ¨ reducer ä¸­ç›´æ¥ç¼–å†™&quot;å¯å˜&quot;é€»è¾‘ // å®ƒåº•å±‚ä½¿ç”¨ Immer åº“å°† these æ“ä½œè½¬æ¢ä¸ºå®‰å…¨çš„ä¸å¯å˜æ›´æ–° increment: (state) =&gt; &#123; // è·å–åˆ°çš„æ˜¯initialState state.value += 1; &#125;, decrement: (state) =&gt; &#123; state.value -= 1; &#125;, // Action Payload åœ¨ action.payload ä¸­ incrementByAmount: (state, action) =&gt; &#123; state.value += action.payload; &#125;, &#125;,&#125;);// è‡ªåŠ¨ç”Ÿæˆ Action Creatorsexport const &#123; increment, decrement, incrementByAmount &#125; = counterSlice.actions;// å¯¼å‡º Reducerexport default counterSlice.reducer; 2ï¼‰ç¬¬äºŒæ­¥ï¼šé…ç½® Storeä½¿ç”¨ configureStore åˆ›å»º Storeï¼Œå®ƒä¼šè‡ªåŠ¨ç»„åˆ Slice Reducers å¹¶æ·»åŠ å¸¸ç”¨ä¸­é—´ä»¶ã€‚ src\\redux\\store.js 123456789import &#123; configureStore &#125; from &quot;@reduxjs/toolkit&quot;;import counterSlice from &quot;./modules/counterSlice&quot;;export const store = configureStore(&#123; reducer: &#123; // é€šå¸¸ä¼šè®© store çš„ key å’Œ slice çš„ name ä¿æŒä¸€è‡´ï¼Œè¿™é‡Œçš„ key &#x27;counter&#x27; å°†å†³å®š state ä¸­çš„å±æ€§å counter: counterSlice, &#125;,&#125;); 3ï¼‰ç¬¬ä¸‰æ­¥ï¼šæ³¨å…¥ Storeåœ¨åº”ç”¨å…¥å£æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ &lt;Provider&gt; å°† Store æ³¨å…¥åˆ° React ç»„ä»¶æ ‘ä¸­ã€‚ src/main.jsx (æˆ– index.js): 12345678import &#123; Provider &#125; from &quot;react-redux&quot;;import &#123; store &#125; from &quot;./app/store&quot;;ReactDOM.createRoot(document.getElementById(&quot;root&quot;)).render( &lt;Provider store=&#123;store&#125;&gt; &lt;App /&gt; &lt;/Provider&gt;,); 4ï¼‰ç¬¬å››æ­¥ï¼šåœ¨ç»„ä»¶ä¸­ä½¿ç”¨ HooksReact Redux æä¾›äº†ä¸¤ä¸ªä¸»è¦çš„ Hooksï¼š useSelectorï¼šä» Store ä¸­è¯»å–æ•°æ®ã€‚ useDispatchï¼šå‘é€ Action ä»¥è§¦å‘çŠ¶æ€æ›´æ–°ã€‚ src\\pages\\Home.jsx 1234567891011121314151617181920212223242526272829303132333435363738import &#123; useState &#125; from &quot;react&quot;;import &#123; useSelector, useDispatch &#125; from &quot;react-redux&quot;;import &#123; increment, decrement, incrementByAmount,&#125; from &quot;../redux/modules/counterSlice&quot;;function Home() &#123; // è¯»å– Stateï¼šstate.counter å¯¹åº” store é…ç½®ä¸­çš„ reducer key const count = useSelector((state) =&gt; state.counter.value); const dispatch = useDispatch(); const [incrementAmount, setIncrementAmount] = useState(&quot;2&quot;); return ( &lt;div&gt; &lt;div className=&quot;row&quot;&gt; &lt;button onClick=&#123;() =&gt; dispatch(decrement())&#125;&gt;-&lt;/button&gt; &lt;span className=&quot;value&quot;&gt;&#123;count&#125;&lt;/span&gt; &lt;button onClick=&#123;() =&gt; dispatch(increment())&#125;&gt;+&lt;/button&gt; &lt;/div&gt; &lt;div className=&quot;row&quot;&gt; &lt;input value=&#123;incrementAmount&#125; onChange=&#123;(e) =&gt; setIncrementAmount(e.target.value)&#125; /&gt; &lt;button onClick=&#123;() =&gt; dispatch(incrementByAmount(Number(incrementAmount) || 0)) &#125; &gt; Add Amount &lt;/button&gt; &lt;/div&gt; &lt;/div&gt; );&#125;export default Home; äºŒã€ è¿›é˜¶ç¯‡ï¼šå¤æ‚çŠ¶æ€ä¸å¼‚æ­¥é€»è¾‘å®é™…åº”ç”¨è¿œæ¯”è®¡æ•°å™¨å¤æ‚ã€‚æˆ‘ä»¬éœ€è¦å¤„ç† API è¯·æ±‚ã€åŠ è½½çŠ¶æ€ä»¥åŠæ›´å¤æ‚çš„æ•°æ®ç»“æ„ã€‚ 2.1 å¼‚æ­¥é€»è¾‘ä¸æ•°æ®è¯·æ±‚ï¼šcreateAsyncThunkå¯¹äºåˆå­¦è€…æ¥è¯´ï¼ŒRedux çš„å¼‚æ­¥é€»è¾‘å¯èƒ½æœ‰ç‚¹ç»•ã€‚æˆ‘ä»¬å…ˆç”¨ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­æ¥ç†è§£ã€‚ 1ï¼‰ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ï¼ŸRedux çš„æ ‡å‡† dispatch æ˜¯åŒæ­¥çš„ï¼šä½ ç‚¹å‡»æŒ‰é’® -&gt; å‘é€ action -&gt; store ç«‹å³æ›´æ–° -&gt; é¡µé¢åˆ·æ–°ã€‚è¿™ä¸€åˆ‡å‘ç”Ÿåœ¨ä¸€ç¬é—´ã€‚ ä½†è¿™å°±åƒä½ å»å¿«é¤åº—ï¼Œç‚¹å®Œæ±‰å ¡å¦‚æœç«‹åˆ»å°±èƒ½æ‹¿èµ°ï¼Œé‚£å°±æ˜¯åŒæ­¥ã€‚ä½†ç°å®ä¸­ï¼Œå¾ˆå¤šæ“ä½œæ˜¯å¼‚æ­¥çš„ï¼š ç‚¹å¤–å–ï¼šä½ ä¸‹å•ï¼ˆdispatch actionï¼‰ï¼Œä½†é¥­ä¸ä¼šç«‹é©¬åˆ°ã€‚ä½ éœ€è¦ç­‰å¾…ï¼ˆloadingï¼‰ï¼Œç›´åˆ°éª‘æ‰‹é€åˆ°ï¼ˆsuccessï¼‰æˆ–è€…é¤å…å–æ¶ˆè®¢å•ï¼ˆfailedï¼‰ã€‚ API è¯·æ±‚ï¼šå‰ç«¯å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¤„ç†éœ€è¦å‡ ç™¾æ¯«ç§’ç”šè‡³å‡ ç§’ï¼Œè¿™æ®µæ—¶é—´å†…é¡µé¢é€šå¸¸æ˜¾ç¤ºâ€åŠ è½½ä¸­â€ã€‚ Redux Toolkit (RTK) æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„å·¥å…· createAsyncThunk æ¥ä¸“é—¨å¤„ç†è¿™ç§â€ä¸‹å• -&gt; ç­‰å¾… -&gt; æ”¶åˆ°ç»“æœâ€çš„æµç¨‹ã€‚å®ƒä¸éœ€è¦ä½ æ‰‹åŠ¨é…ç½®å¤æ‚çš„ä¸­é—´ä»¶ã€‚ 2ï¼‰å®æˆ˜ï¼šå®ç°ä¸€ä¸ªâ€æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚çš„åŠ æ³•â€å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªâ€å¼‚æ­¥åŠ æ³•â€æŒ‰é’®ï¼Œç‚¹å‡»åéœ€è¦ç­‰å¾… 1 ç§’é’Ÿï¼ˆæ¨¡æ‹ŸæœåŠ¡å™¨å“åº”ï¼‰ï¼Œç„¶åæ•°å­—æ‰ä¼šåŠ  1ã€‚ ç¬¬ä¸€æ­¥ï¼šå®šä¹‰å¼‚æ­¥ Action (Thunk) åœ¨ counterSlice.js ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªâ€ç‚¹å¤–å–â€çš„åŠ¨ä½œã€‚ 12345678910111213141516171819import &#123; createSlice, createAsyncThunk &#125; from &quot;@reduxjs/toolkit&quot;;// createAsyncThunk æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š// 1. Action çš„åå­—å‰ç¼€ï¼š&#x27;counter/fetchCount&#x27;ã€‚è¿™å°±å¥½æ¯”ç»™ä½ çš„è®¢å•èµ·ä¸ªåå­—ã€‚// 2. ä¸€ä¸ªå¼‚æ­¥å‡½æ•° (payloadCreator)ï¼šåœ¨è¿™é‡Œå‘é€ç½‘ç»œè¯·æ±‚ã€‚// éœ€è¦å¯¼å‡ºä¾›ç»„ä»¶è°ƒç”¨export const incrementAsync = createAsyncThunk( &quot;counter/fetchCount&quot;, async (amount) =&gt; &#123; // æ¨¡æ‹Ÿå‘é€ç½‘ç»œè¯·æ±‚ï¼Œç­‰å¾… 1 ç§’ // è¿™é‡Œçš„ Promise å°±åƒæ˜¯ä½ åœ¨ç­‰å¾…å¤–å–ï¼Œpending çŠ¶æ€ const response = await new Promise((resolve) =&gt; setTimeout(() =&gt; resolve(&#123; data: amount &#125;), 1000), ); // è¯·æ±‚æˆåŠŸï¼è¿”å›çš„æ•°æ®ï¼ˆå¤–å–åˆ°äº†ï¼‰ // è¿™ä¸ªè¿”å›å€¼ä¼šè‡ªåŠ¨å˜æˆ action.payload ä¼ ç»™ extraReducers return response.data; &#125;,); ç¬¬äºŒæ­¥ï¼šç›‘å¬çŠ¶æ€å˜åŒ– (Pending &#x2F; Fulfilled &#x2F; Rejected) å½“ incrementAsync è¢« dispatch è§¦å‘æ—¶ï¼ŒRedux ä¼šè‡ªåŠ¨æ´¾å‘ä¸‰ç§çŠ¶æ€çš„ actionï¼Œå°±åƒå¤–å–è®¢å•çš„çŠ¶æ€å˜åŒ–ï¼š pending (è¿›è¡Œä¸­)ï¼šå¤–å–åˆšä¸‹å•ï¼Œæ­£åœ¨åšã€‚ fulfilled (æˆåŠŸ)ï¼šå¤–å–é€åˆ°äº†ã€‚ rejected (å¤±è´¥)ï¼šå¤–å–è¢«å–æ¶ˆäº†ï¼ˆç½‘ç»œé”™è¯¯ç­‰ï¼‰ã€‚ æˆ‘ä»¬éœ€è¦åœ¨ createSlice çš„ extraReducers å­—æ®µä¸­ç›‘å¬è¿™äº›çŠ¶æ€ï¼Œå¹¶æ›´æ–° storeã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051// counterSlice.jsimport &#123; createSlice, createAsyncThunk &#125; from &quot;@reduxjs/toolkit&quot;;// createAsyncThunk æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š// 1. Action çš„åå­—å‰ç¼€ï¼š&#x27;counter/fetchCount&#x27;ã€‚è¿™å°±å¥½æ¯”ç»™ä½ çš„è®¢å•èµ·ä¸ªåå­—ã€‚// 2. ä¸€ä¸ªå¼‚æ­¥å‡½æ•° (payloadCreator)ï¼šåœ¨è¿™é‡Œå‘é€ç½‘ç»œè¯·æ±‚ã€‚// éœ€è¦å¯¼å‡ºä¾›ç»„ä»¶è°ƒç”¨export const incrementAsync = createAsyncThunk( &quot;counter/fetchCount&quot;, async (amount) =&gt; &#123; // æ¨¡æ‹Ÿå‘é€ç½‘ç»œè¯·æ±‚ï¼Œç­‰å¾… 1 ç§’ // è¿™é‡Œçš„ Promise å°±åƒæ˜¯ä½ åœ¨ç­‰å¾…å¤–å–ï¼Œpending çŠ¶æ€ const response = await new Promise((resolve) =&gt; setTimeout(() =&gt; resolve(&#123; data: amount &#125;), 1000), ); // è¯·æ±‚æˆåŠŸï¼è¿”å›çš„æ•°æ®ï¼ˆå¤–å–åˆ°äº†ï¼‰ // è¿™ä¸ªè¿”å›å€¼ä¼šè‡ªåŠ¨å˜æˆ action.payload ä¼ ç»™ extraReducers return response.data; &#125;,);const counterSlice = createSlice(&#123; name: &quot;counter&quot;, initialState: &#123; value: 0, status: &quot;idle&quot;, // çŠ¶æ€ï¼š&#x27;idle&#x27; (ç©ºé—²) | &#x27;loading&#x27; (åŠ è½½ä¸­) | &#x27;failed&#x27; (å¤±è´¥) &#125;, reducers: &#123; // è¿™é‡Œæ”¾æ™®é€šçš„åŒæ­¥ reducers (å¦‚ increment, decrement) &#125;, // extraReducers ä¸“é—¨ç”¨æ¥å¤„ç†ç”± createAsyncThunk ç”Ÿæˆçš„ action // è¿™é‡Œçš„ builder è¯­æ³•ä¸ä»…ç±»å‹å®‰å…¨ï¼Œè€Œä¸”æ›´æ¸…æ™° extraReducers: (builder) =&gt; &#123; builder .addCase(incrementAsync.pending, (state) =&gt; &#123; // 1. åˆšå¼€å§‹è¯·æ±‚ (Pending) state.status = &quot;loading&quot;; // æ ‡è®°çŠ¶æ€ä¸º&quot;åŠ è½½ä¸­&quot;ï¼Œç•Œé¢å¯ä»¥æ˜¾ç¤ºè½¬åœˆåœˆ &#125;) .addCase(incrementAsync.fulfilled, (state, action) =&gt; &#123; // 2. è¯·æ±‚æˆåŠŸ (Fulfilled) state.status = &quot;idle&quot;; // æ¢å¤ä¸ºç©ºé—²çŠ¶æ€ state.value += action.payload; // æŠŠè¯·æ±‚å›æ¥çš„æ•°æ®åŠ åˆ° value ä¸Š &#125;) .addCase(incrementAsync.rejected, (state) =&gt; &#123; // 3. è¯·æ±‚å¤±è´¥ (Rejected) state.status = &quot;failed&quot;; // æ ‡è®°å¤±è´¥ï¼Œç•Œé¢å¯ä»¥æ˜¾ç¤ºé”™è¯¯æç¤º &#125;); &#125;,&#125;);export default counterSlice.reducer; ç¬¬ä¸‰æ­¥ï¼šåœ¨ç»„ä»¶ä¸­ä½¿ç”¨ ç»„ä»¶ä¸­çš„å†™æ³•å’Œæ™®é€š action ä¸€æ¨¡ä¸€æ ·ï¼Œä½¿ç”¨ dispatch å³å¯ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ state ä¸­çš„ status æ¥æ§åˆ¶æŒ‰é’®çš„ç¦ç”¨çŠ¶æ€ã€‚ 12345678910111213141516171819202122232425262728293031import &#123; useDispatch, useSelector &#125; from &quot;react-redux&quot;;import &#123; incrementAsync &#125; from &quot;../redux/modules/counterSlice&quot;;import &#123; useState &#125; from &quot;react&quot;;function Home() &#123; const dispatch = useDispatch(); // è·å–å½“å‰çŠ¶æ€ï¼Œå¦‚æœæ˜¯ &#x27;loading&#x27;ï¼Œæˆ‘ä»¬å¯ä»¥ç¦ç”¨æŒ‰é’® const &#123; value, status &#125; = useSelector((state) =&gt; state.counter); const [incrementAmount, setIncrementAmount] = useState(&quot;2&quot;); return ( &lt;div&gt; &lt;div className=&quot;row&quot;&gt; &lt;input value=&#123;incrementAmount&#125; onChange=&#123;(e) =&gt; setIncrementAmount(e.target.value)&#125; /&gt; &#123;/* ç‚¹å‡»è§¦å‘å¼‚æ­¥æ“ä½œ å¦‚æœæ­£åœ¨åŠ è½½ï¼Œç¦ç”¨æŒ‰é’®é˜²æ­¢é‡å¤ç‚¹å‡»ï¼Œæå‡ç”¨æˆ·ä½“éªŒ */&#125; &lt;button onClick=&#123;() =&gt; dispatch(incrementAsync(Number(incrementAmount) || 0))&#125; disabled=&#123;status === &quot;loading&quot;&#125; &gt; &#123;status === &quot;loading&quot; ? &quot;è®¡ç®—ä¸­...&quot; : &quot;å¼‚æ­¥åŠ &quot;&#125; &lt;/button&gt; &#123;/* æ˜¾ç¤ºå½“å‰å€¼ */&#125; &lt;div&gt;å½“å‰å€¼: &#123;value&#125;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; );&#125;export default Home; æ€»ç»“ä¸€ä¸‹æµç¨‹ï¼š Dispatch: ç”¨æˆ·ç‚¹å‡»æŒ‰é’® -&gt; dispatch(incrementAsync(5)) Pending: Redux è‡ªåŠ¨è§¦å‘ pending -&gt; status å˜ä¸º &#39;loading&#39; -&gt; æŒ‰é’®å˜ç°ã€‚ Async Work: incrementAsync é‡Œçš„ async å‡½æ•°å¼€å§‹æ‰§è¡Œï¼ˆç­‰å¾… 1 ç§’ï¼‰ã€‚ Fulfilled: 1 ç§’å Promise å®Œæˆ -&gt; Redux è‡ªåŠ¨è§¦å‘ fulfilled -&gt; statuså˜å› &#39;idle&#39;ï¼Œvalue æ›´æ–°ã€‚ Re-render: ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œæ˜¾ç¤ºæœ€æ–°çš„æ•°å­—ã€‚ 2.2 å¼‚æ­¥é€»è¾‘çš„ä»£ç ä¼˜åŒ–éšç€é¡¹ç›®è§„æ¨¡æ‰©å¤§ï¼Œå¼‚æ­¥é€»è¾‘ä¼šå˜å¾—è‡ƒè‚¿ã€‚æˆ‘ä»¬å¯ä»¥ä»ç»“æ„åˆ†ç¦»ã€èŒè´£å•ä¸€å’Œé€»è¾‘å¤ç”¨ä¸‰ä¸ªç»´åº¦è¿›è¡Œä¼˜åŒ–ã€‚ 1. åˆ†ç¦» Async Thunk å®šä¹‰å°†æ‰€æœ‰ Thunk æ”¾åœ¨ Slice æ–‡ä»¶ä¸­ä¼šå¯¼è‡´æ–‡ä»¶è¿‡é•¿ä¸”å®¹æ˜“å¼•å‘å¾ªç¯ä¾èµ–ã€‚å»ºè®®å°†å¼‚æ­¥é€»è¾‘æå–åˆ°ç‹¬ç«‹æ–‡ä»¶ä¸­ã€‚ src/features/counter/counterThunks.js: å®šä¹‰å¼‚æ­¥æ“ä½œã€‚ src/features/counter/counterSlice.js: å¼•å…¥å¹¶å¤„ç†çŠ¶æ€ã€‚ 1234567891011121314// counterThunks.jsimport &#123; createAsyncThunk &#125; from &quot;@reduxjs/toolkit&quot;;/** * è·å–å½“å¤©æ—¥æœŸçš„å†å²æ•°æ® */export const getHistory = createAsyncThunk( &quot;counter/getHistory&quot;, async (params) =&gt; &#123; const response = await fetch(&quot;https://jsonplaceholder.typicode.com/posts&quot;); const res = await response.json(); return res; &#125;,); 2. èŒè´£å•ä¸€ä¸ç²¾ç»†åŒ–é”™è¯¯å¤„ç† èŒè´£å•ä¸€ï¼šThunk åªè´Ÿè´£â€œæ‹¿æ•°æ®â€ã€‚å¤æ‚çš„æ•°æ®è½¬æ¢é€»è¾‘åº”æ”¾åœ¨ reducer ä¸­ï¼Œä¿æŒ Thunk æ¸…æ´ã€‚ é”™è¯¯å¤„ç†ï¼šä½¿ç”¨ rejectWithValue è¿”å›è‡ªå®šä¹‰é”™è¯¯è½½è·ï¼Œä»¥ä¾¿åœ¨ç•Œé¢ä¸Šå±•ç¤ºæ›´æœ‰æ„ä¹‰çš„æç¤ºã€‚ 12345678910111213141516171819import &#123; createAsyncThunk &#125; from &quot;@reduxjs/toolkit&quot;;/** * è·å–å½“å¤©æ—¥æœŸçš„å†å²æ•°æ® */export const getHistory = createAsyncThunk( &quot;counter/getHistory&quot;, async (params, &#123; rejectWithValue &#125;) =&gt; &#123; try &#123; const response = await fetch( &quot;https://jsonplaceholder.typicode.com/posts&quot;, ); const res = await response.json(); return res; &#125; catch (err) &#123; return rejectWithValue(err.response.data); // è¿”å›åç«¯é”™è¯¯ä¿¡æ¯ &#125; &#125;,); 3. ä½¿ç”¨ addMatcher å‡å°‘æ ·æ¿ä»£ç å¦‚æœå¤šä¸ªå¼‚æ­¥æ“ä½œéƒ½æœ‰ç›¸åŒçš„ Loading æˆ– Error å¤„ç†é€»è¾‘ï¼Œå¯ä»¥ä½¿ç”¨ addMatcher è¿›è¡Œç»Ÿä¸€æ‹¦æˆªï¼Œé¿å…åœ¨æ¯ä¸ª addCase ä¸­é‡å¤ç¼–å†™ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445// counterSlice.jsimport &#123; createSlice &#125; from &quot;@reduxjs/toolkit&quot;;import &#123; getHistory &#125; from &quot;../thunks/counterThunks&quot;;const counterSlice = createSlice(&#123; name: &quot;counter&quot;, initialState: &#123; status: &quot;idle&quot;, // åˆå§‹çŠ¶æ€è®¾ä¸º idle error: &quot;&quot;, value: [], &#125;, reducers: &#123;&#125;, extraReducers: (builder) =&gt; &#123; builder // å¤„ç†å…·ä½“çš„æˆåŠŸé€»è¾‘ .addCase(getHistory.fulfilled, (state, action) =&gt; &#123; state.value = []; state.value = action.payload; &#125;) // ä½¿ç”¨ addMatcher ç»Ÿä¸€å¤„ç†æ‰€æœ‰ pending çŠ¶æ€ .addMatcher( (action) =&gt; action.type.endsWith(&quot;/pending&quot;), (state) =&gt; &#123; state.status = &quot;loading&quot;; &#125;, ) // ä½¿ç”¨ addMatcher ç»Ÿä¸€å¤„ç†æ‰€æœ‰ fulfilled çŠ¶æ€ï¼ˆä»…æ›´æ–°çŠ¶æ€éƒ¨åˆ†ï¼‰ .addMatcher( (action) =&gt; action.type.endsWith(&quot;/fulfilled&quot;), (state) =&gt; &#123; state.status = &quot;idle&quot;; &#125;, ) // ä½¿ç”¨ addMatcher ç»Ÿä¸€å¤„ç†æ‰€æœ‰ rejected çŠ¶æ€ .addMatcher( (action) =&gt; action.type.endsWith(&quot;/rejected&quot;), (state, action) =&gt; &#123; state.status = &quot;failed&quot;; state.error = action.error.message; &#125;, ); &#125;,&#125;);export default counterSlice.reducer; addMatcher åœ¨é¡¹ç›®åæœŸä¼˜åŒ–ä¸­éå¸¸å¼ºå¤§ï¼Œå®ƒå¯ä»¥è®©ä½ åƒå†™â€œæ‹¦æˆªå™¨â€ä¸€æ ·ç»Ÿä¸€ç®¡ç†å…¨å±€çš„å¼‚æ­¥çŠ¶æ€ã€‚ 2.3 ç»¼åˆæ¡ˆä¾‹å®šä¹‰å¼‚æ­¥æ“ä½œsrc\\redux\\modules\\counterThunks.js 123456789101112131415161718192021222324252627282930313233import &#123; createAsyncThunk &#125; from &quot;@reduxjs/toolkit&quot;;/** * è·å–å½“å¤©æ—¥æœŸçš„å†å²æ•°æ® */export const getHistory = createAsyncThunk( &quot;counter/getHistory&quot;, async (params, &#123; rejectWithValue &#125;) =&gt; &#123; try &#123; const response = await fetch(&quot;/posts&quot;); const res = await response.json(); return res; &#125; catch (err) &#123; return rejectWithValue(err.response.data); // è¿”å›åç«¯é”™è¯¯ä¿¡æ¯ &#125; &#125;,);/** * è·å–è¯„è®ºæ•°æ® */export const getComments = createAsyncThunk( &quot;counter/getComments&quot;, async (postId, &#123; rejectWithValue &#125;) =&gt; &#123; try &#123; const response = await fetch(`/comments?postId=$&#123;postId&#125;`); const res = await response.json(); return res; &#125; catch (err) &#123; return rejectWithValue(err.response.data); // è¿”å›åç«¯é”™è¯¯ä¿¡æ¯ &#125; &#125;,); å¼•å…¥å¹¶å¤„ç†çŠ¶æ€src\\redux\\modules\\counterSlice.js 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import &#123; createSlice &#125; from &quot;@reduxjs/toolkit&quot;;import &#123; getHistory, getComments &#125; from &quot;./counterThunks&quot;;const counterSlice = createSlice(&#123; name: &quot;counter&quot;, initialState: &#123; status: &quot;idle&quot;, // åˆå§‹çŠ¶æ€è®¾ä¸º idle value: [], comments: [], &#125;, reducers: &#123;&#125;, extraReducers: (builder) =&gt; &#123; builder // å¤„ç†å…·ä½“çš„æˆåŠŸé€»è¾‘ .addCase(getHistory.fulfilled, (state, action) =&gt; &#123; state.value = action.payload; &#125;) .addCase(getComments.fulfilled, (state, action) =&gt; &#123; // å‡è®¾è¯„è®ºæ•°æ®å­˜æ”¾åœ¨å¦ä¸€ä¸ªå­—æ®µ state.value = []; state.comments = action.payload; &#125;) // ä½¿ç”¨ addMatcher ç»Ÿä¸€å¤„ç†æ‰€æœ‰ pending çŠ¶æ€ .addMatcher( (action) =&gt; action.type.endsWith(&quot;/pending&quot;), (state) =&gt; &#123; state.status = &quot;loading&quot;; &#125;, ) // ä½¿ç”¨ addMatcher ç»Ÿä¸€å¤„ç†æ‰€æœ‰ fulfilled çŠ¶æ€ï¼ˆä»…æ›´æ–°çŠ¶æ€éƒ¨åˆ†ï¼‰ .addMatcher( (action) =&gt; action.type.endsWith(&quot;/fulfilled&quot;), (state) =&gt; &#123; state.status = &quot;idle&quot;; &#125;, ) // ä½¿ç”¨ addMatcher ç»Ÿä¸€å¤„ç†æ‰€æœ‰ rejected çŠ¶æ€ .addMatcher( (action) =&gt; action.type.endsWith(&quot;/rejected&quot;), (state) =&gt; &#123; state.status = &quot;failed&quot;; &#125;, ); &#125;,&#125;);export default counterSlice.reducer; ç»„ä»¶ä¸­ä½¿ç”¨src\\pages\\Home.jsx 123456789101112131415161718192021222324252627282930313233343536import &#123; useSelector, useDispatch &#125; from &quot;react-redux&quot;;import &#123; getHistory, getComments &#125; from &quot;../redux/modules/counterThunks&quot;;function Home() &#123; const &#123; value, status, comments &#125; = useSelector( (state) =&gt; state.counterSlice, ); const dispatch = useDispatch(); return ( &lt;&gt; &lt;h2&gt;é¦–é¡µ&lt;/h2&gt; &lt;button onClick=&#123;() =&gt; dispatch(getHistory(&#123; count: &quot;5&quot; &#125;))&#125;&gt; æ•°æ®è¯·æ±‚ &lt;/button&gt; &lt;button onClick=&#123;() =&gt; dispatch(getComments(1))&#125;&gt;è·å–è¯„è®º&lt;/button&gt; &lt;hr /&gt; &lt;p&gt; çŠ¶æ€ï¼š &#123;status === &quot;loading&quot; ? &quot;åŠ è½½ä¸­...&quot; : status === &quot;idle&quot; ? &quot;ç©ºé—²&quot; : &quot;å¤±è´¥&quot;&#125; &lt;/p&gt; &#123;value.map((item) =&gt; ( &lt;p key=&#123;item.id&#125;&gt;&#123;item.title&#125;&lt;/p&gt; ))&#125; &#123;comments.map((item) =&gt; ( &lt;p key=&#123;item.id&#125;&gt;&#123;item.name&#125;&lt;/p&gt; ))&#125; &lt;/&gt; );&#125;export default Home; 2.4 è®°å¿†åŒ–é€‰æ‹©å™¨ï¼šcreateSelectoråœ¨å¤§å‹åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æ ¹æ®åŸå§‹æ•°æ®è®¡ç®—å‡ºè¡ç”ŸçŠ¶æ€ï¼ˆå¦‚ï¼šåˆ—è¡¨è¿‡æ»¤ã€æ•°æ®è½¬æ¢ï¼‰ã€‚å¦‚æœç›´æ¥åœ¨ useSelector ä¸­ç¼–å†™å¤æ‚çš„è®¡ç®—é€»è¾‘ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸å¿…è¦çš„é‡æ¸²æŸ“ã€‚ 1ï¼‰ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿé»˜è®¤æƒ…å†µä¸‹ï¼Œåªè¦ Redux Store æ›´æ–°ï¼Œæ‰€æœ‰çš„ useSelector éƒ½ä¼šé‡æ–°è¿è¡Œã€‚å¦‚æœä½ çš„ Selector è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°å¼•ç”¨ï¼ˆä¾‹å¦‚ä½¿ç”¨ .filter()ã€.map() æˆ–è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼‰ï¼ŒReact Redux ä¼šè®¤ä¸ºæ•°æ®å‘ç”Ÿäº†å˜åŒ–ï¼Œä»è€Œè§¦å‘ç»„ä»¶é‡æ¸²æŸ“â€”â€”å³ä½¿æ•°æ®å†…å®¹å…¶å®æ²¡å˜ã€‚ createSelector å¯ä»¥**è®°å¿†ï¼ˆMemoizeï¼‰**è®¡ç®—ç»“æœã€‚åªè¦è¾“å…¥å‚æ•°æ²¡å˜ï¼Œå®ƒå°±ä¼šç›´æ¥è¿”å›ç¼“å­˜çš„ç»“æœï¼Œä¸ä¼šé‡æ–°è®¡ç®—ï¼Œä¹Ÿä¸ä¼šè§¦å‘é‡æ¸²æŸ“ã€‚ 2ï¼‰åŸºæœ¬ç”¨æ³•ï¼šæ•°æ®é¢„å¤„ç†å‡è®¾åç«¯æ¥å£è¿”å›çš„ç”¨æˆ·ä¿¡æ¯ä¸­ï¼Œæ€§åˆ«æ˜¯æ•°å­—ä»£ç ï¼ˆ1 ä»£è¡¨ç”·ï¼Œ2 ä»£è¡¨å¥³ï¼‰ã€‚æˆ‘ä»¬å¸Œæœ›åœ¨ç»„ä»¶ä¸­ç›´æ¥æ‹¿åˆ°æ–‡å­—ã€‚ 123456789101112131415161718192021222324252627282930import &#123; createSlice, createSelector &#125; from &quot;@reduxjs/toolkit&quot;;const userSlice = createSlice(&#123; name: &quot;user&quot;, initialState: &#123; gender: &quot;1&quot;, hobby: [ &#123; id: 1, name: &quot;çœ‹ä¹¦&quot; &#125;, &#123; id: 2, name: &quot;å†™ä»£ç &quot; &#125;, &#123; id: 3, name: &quot;æ‰“æ¸¸æˆ&quot; &#125;, ], &#125;, reducers: &#123;&#125;,&#125;);const genderFn = (state) =&gt; state.user.gender;const hobbyFn = (state) =&gt; state.user.hobby;// åªæœ‰ gender æˆ– hobby å˜åŒ–æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œä¸‹é¢é€»è¾‘export const selectUser = createSelector( [genderFn, hobbyFn], (gender, hobby) =&gt; &#123; console.log(&quot;æ­£åœ¨è½¬æ¢æ•°æ®...&quot;); const genderText = gender === &quot;1&quot; ? &quot;ç”·&quot; : &quot;å¥³&quot;; return &#123; gender: genderText, hobbyList: hobby.filter((item) =&gt; item.id === 1), &#125;; &#125;,); åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š 123456789101112131415161718import &#123; useSelector &#125; from &quot;react-redux&quot;;import &#123; selectUser &#125; from &quot;../redux/modules/userSlice&quot;;function Home() &#123; const &#123; gender, hobbyList &#125; = useSelector(selectUser); return ( &lt;&gt; &lt;p&gt;æ€§åˆ«ï¼š&#123;gender&#125;&lt;/p&gt; // ç›´æ¥ä½¿ç”¨å¤„ç†å¥½çš„å±æ€§ &lt;span&gt;çˆ±å¥½ï¼š&lt;/span&gt; &#123;hobbyList.map((item) =&gt; ( &lt;span key=&#123;item.id&#125;&gt;&#123;item.name&#125;&lt;/span&gt; ))&#125; &lt;/&gt; );&#125;export default Home; 3ï¼‰ä¼ å‚çš„æ ‡å‡†å†™æ³•æœ‰æ—¶æˆ‘ä»¬éœ€è¦æ ¹æ®ç»„ä»¶ä¼ å…¥çš„å‚æ•°ï¼ˆå¦‚ IDï¼‰æ¥åŠ¨æ€æŸ¥è¯¢æ•°æ®ã€‚æ ‡å‡†åšæ³•æ˜¯å°†å‚æ•°ä½œä¸º Selector çš„ä¸€ä¸ªè¾“å…¥é¡¹ã€‚ 123456789101112// 3.1 å®šä¹‰è·å–å‚æ•°çš„é€‰æ‹©å™¨const selectItemId = (state, itemId) =&gt; itemId;// 3.2 åœ¨ createSelector ä¸­å¼•ç”¨è¯¥å‚æ•°export const selectItemById = createSelector( [(state) =&gt; state.user.hobby, selectItemId], // è·å–å¤–éƒ¨ä¼ å…¥çš„å‚æ•° (hobby, id) =&gt; &#123; // è¿™é‡Œçš„ id å°±æ˜¯ä¸Šé¢è·å–å‚æ•°é€‰æ‹©å™¨å¯¹åº”çš„ id console.log(`æ­£åœ¨æŸ¥æ‰¾ ID ä¸º $&#123;id&#125; çš„æ•°æ®...`); return hobby.find((item) =&gt; item.id === id); &#125;,); åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š 12// ä¼ é€’å‚æ•°ï¼šuseSelector((state) =&gt; selector(state, param))const item = useSelector((state) =&gt; selectItemById(state, props.id)); 4ï¼‰é«˜çº§ç”¨æ³•ï¼šå·¥å‚å‡½æ•°æ¨¡å¼ (Factory Function)è™½ç„¶ä¸Šè¿°ä¼ å‚æ–¹å¼åœ¨é€»è¾‘ä¸Šæ˜¯é€šç”¨çš„ï¼Œä½†åœ¨ â€œä¸€ä¸ªé¡µé¢æ¸²æŸ“å¤šä¸ªåŒç±»ç»„ä»¶â€ æ—¶ï¼Œå•ä¾‹ Selector çš„ç¼“å­˜æ·±åº¦åªæœ‰ 1ï¼Œä¼šå¯¼è‡´ä¸åŒç»„ä»¶å®ä¾‹ä¹‹é—´äº’ç›¸ç«äº‰ç¼“å­˜ï¼Œäº§ç”Ÿä¸å¿…è¦çš„é‡è®¡ç®—ã€‚è¿™æ—¶éœ€è¦ä½¿ç”¨å·¥å‚å‡½æ•°ã€‚ æ ‡å‡†å·¥å‚æ¨¡å¼å†™æ³•ï¼š 1234567891011121314151617181920// å·¥å‚å‡½æ•°ï¼šæ¯æ¬¡è°ƒç”¨éƒ½è¿”å›ä¸€ä¸ªâ€œå…¨æ–°ä¸”ç‹¬ç«‹â€çš„ Selector å®ä¾‹export const makeSelectTodoById = () =&gt; createSelector( [ (state) =&gt; state.todos.list, (state, todoId) =&gt; todoId, // åŠ¨æ€æ’æ§½æå–å‚æ•° ], (todos, id) =&gt; &#123; console.log(`å®ä¾‹æ­£åœ¨æŸ¥æ‰¾ ID ä¸º $&#123;id&#125; çš„å¾…åŠäº‹é¡¹...`); return todos.find((todo) =&gt; todo.id === id); &#125;, );/** * ğŸ’¡ æ·±åº¦æ¢è®¨ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥å†™æˆ makeSelectTodoById(id) ? * * âŒ é”™è¯¯å†™æ³•ï¼šconst make = (id) =&gt; createSelector(...) * åŸå› ï¼šè¿™ä¼šå¯¼è‡´è¯¥å®ä¾‹è¢«â€œé”æ­»â€åœ¨ç‰¹å®š ID ä¸Šï¼Œä¸§å¤±äº†ä½œä¸ºé€‰æ‹©å™¨å·¥å…·çš„é€šç”¨æ€§å’Œçµæ´»æ€§ã€‚ * æ­£ç¡®å†™æ³•ï¼šå®ä¾‹åº”è¯¥æ˜¯é€šç”¨çš„æ’æ§½ï¼Œå…·ä½“çš„ ID åœ¨ç»„ä»¶ useSelector æ—¶åŠ¨æ€ä¼ å…¥ã€‚ */ åœ¨ç»„ä»¶ä¸­æ­£ç¡®è°ƒç”¨ï¼š 1234567891011import &#123; useMemo &#125; from &quot;react&quot;;function TodoItem(&#123; id &#125;) &#123; // 1. ä½¿ç”¨ useMemo ç¡®ä¿ Selector å®ä¾‹åœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå†…ä¿æŒå”¯ä¸€ const selectTodoById = useMemo(makeSelectTodoById, []); // 2. åŠ¨æ€ä¼ å‚ï¼šä¸ºè¯¥ç»„ä»¶ä¸“å±çš„å®ä¾‹æ³¨å…¥å½“å‰ id const todo = useSelector((state) =&gt; selectTodoById(state, id)); return &lt;div&gt;&#123;todo?.text&#125;&lt;/div&gt;;&#125; 5ï¼‰æœ€ä½³å®è·µæ€»ç»“ ä½ç½®ï¼šå°½é‡åœ¨å¯¹åº”çš„ Slice æ–‡ä»¶ä¸­å®šä¹‰ Selectorï¼Œä¿æŒé€»è¾‘å†…èšã€‚ èŒè´£ï¼šå°†â€œåŸå§‹æ•°æ®è·å–â€ä¸â€œæ•°æ®é¢„å¤„ç†â€åˆ†å¼€è°ƒç”¨ã€‚ æ€§èƒ½ï¼šä¸è¦åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨ createSelectorï¼ˆæ¯æ¬¡æ¸²æŸ“éƒ½ä¼šåˆ›å»ºæ–°å®ä¾‹ï¼‰ï¼Œåº”åœ¨ç»„ä»¶å¤–éƒ¨å®šä¹‰ã€‚ 2.5 Redux DevToolsRedux æœ€å¼ºå¤§çš„ç‰¹æ€§ä¹‹ä¸€æ˜¯è°ƒè¯•ä½“éªŒã€‚ å®‰è£… Chrome æ‰©å±•ç¨‹åº Redux DevToolsã€‚ RTK çš„ configureStore é»˜è®¤å¼€å¯ DevToolsã€‚ ä½ å¯ä»¥çœ‹åˆ°æ¯ä¸€ä¸ª Action çš„è§¦å‘æ—¶é—´ã€Payload å†…å®¹ä»¥åŠ State çš„å·®å¼‚ (Diff)ã€‚ æ—¶é—´æ—…è¡Œ (Time Travel)ï¼šä½ å¯ä»¥ç‚¹å‡» â€œJumpâ€ è·³è½¬åˆ°ä»»æ„å†å²çŠ¶æ€ï¼Œé‡ç° Bug ç°åœºã€‚ ä¸‰ã€é«˜çº§ç¯‡ï¼šRTK Query ä¸æ€§èƒ½ä¼˜åŒ–RTK Query (RTKQ) æ˜¯ RTK å†…ç½®çš„ä¸€ä¸ªå¼ºå¤§çš„æ•°æ®è·å–å’Œç¼“å­˜å·¥å…·ã€‚å®ƒä¸ä»…å¸®ä½ å‘è¯·æ±‚ï¼Œæœ€æ ¸å¿ƒçš„æ˜¯å®ƒèƒ½è‡ªåŠ¨ç®¡ç†ç¼“å­˜çŠ¶æ€ã€‚ [!NOTE]ä¸ºä»€ä¹ˆè¦ç”¨å®ƒï¼Ÿåœ¨æ²¡æœ‰ RTKQ ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ç®¡ç†ï¼šè¯·æ±‚åŠ è½½çŠ¶æ€ (isLoading)ã€é”™è¯¯å¤„ç† (error)ã€useEffect ä¸­çš„è¯·æ±‚è§¦å‘ã€ä»¥åŠæœ€å¤´ç–¼çš„â€œè·¨é¡µé¢åŒæ­¥ç¼“å­˜æ•°æ®â€ã€‚RTKQ æŠŠè¿™äº›éƒ½è‡ªåŠ¨å®Œæˆäº†ã€‚ 3.1 åŸºç¡€ç”¨æ³•12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758`æ­¥éª¤ä¸€ï¼šåˆ›å»ºapiæ¥å£`;// src\\redux\\api\\todoApi.jsimport &#123; createApi, fetchBaseQuery &#125; from &quot;@reduxjs/toolkit/query/react&quot;;export const todoApi = createApi(&#123; // å¯¼å‡ºä¾› Store ä¸­é—´ä»¶ä½¿ç”¨ reducerPath: &quot;createApi&quot;, // åœ¨ store ä¸­çš„ key baseQuery: fetchBaseQuery(&#123; baseUrl: &quot;/api&quot; &#125;), //é…ç½®åŸºç¡€è·¯å¾„ endpoints: (builder) =&gt; (&#123; // é…ç½®è¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯ getTodos: builder.query(&#123; //é»˜è®¤æ„å»ºçš„æ˜¯getè¯·æ±‚ query: () =&gt; &quot;/todos&quot;, // å®é™…è¯·æ±‚çš„è·¯å¾„ &#125;), &#125;),&#125;);console.log(todoApi);// è‡ªåŠ¨ç”Ÿæˆ hooks ä¾›ç»„ä»¶ä½¿ç”¨export const &#123; useGetTodosQuery &#125; = todoApi;`æ­¥éª¤äºŒï¼šé…ç½® Store ä¸­é—´ä»¶`;// src\\redux\\store.jsimport &#123; configureStore &#125; from &quot;@reduxjs/toolkit&quot;;import &#123; todoApi &#125; from &quot;./api/todoApi&quot;;export const store = configureStore(&#123; reducer: &#123; // å¿…é¡»æ·»åŠ  api çš„ reducer [todoApi.reducerPath]: todoApi.reducer, [xxxx.reducerPath]: xxxx.reducer, &#125;, // å¿…é¡»æ·»åŠ  api çš„ä¸­é—´ä»¶ï¼Œç”¨äºå¯ç”¨ç¼“å­˜ã€è½®è¯¢ã€å¤±æ•ˆç­‰åŠŸèƒ½ middleware: (gDM) =&gt; // å¤šå‚æ•°å†™æ³•ï¼ˆæ¨èï¼Œæ›´æ•´æ´ï¼‰ gDM().concat(todoApi.middleware, xxxx.middleware), // é“¾å¼è°ƒç”¨å†™æ³• // gDM().concat(todoApi.middleware).concat(xxxx.middleware)&#125;);`æ­¥éª¤ä¸‰ï¼šç»„ä»¶ä¸­ä½¿ç”¨ Hooks`;// src\\pages\\Home.jsximport &#123; useGetTodosQuery &#125; from &quot;../redux/api/todoApi&quot;;function Home() &#123; const &#123; data, isLoading, error &#125; = useGetTodosQuery(); return ( &lt;&gt; &lt;p&gt;é¦–é¡µ&lt;/p&gt; &#123;isLoading &amp;&amp; &lt;p&gt;åŠ è½½ä¸­...&lt;/p&gt;&#125; &#123;error &amp;&amp; &lt;p&gt;åŠ è½½å¤±è´¥&lt;/p&gt;&#125; &#123;data &amp;&amp; data.map((todo) =&gt; &lt;p key=&#123;todo.id&#125;&gt;&#123;todo.title&#125;&lt;/p&gt;)&#125; &lt;/&gt; );&#125;export default Home; 3.2 RTK Query æ ¸å¿ƒæ¦‚å¿µè¯¦è§£1ï¼‰è·å–æ•°æ®ï¼šQuery (æŸ¥è¯¢æ“ä½œ)Query æ˜¯ RTK Query ä¸­æœ€åŸºç¡€çš„æ•°æ®è·å–æ–¹å¼ï¼Œä¸»è¦ç”¨äºä»æœåŠ¡å™¨ç«¯æ‹‰å–çŠ¶æ€å¹¶ç¼“å­˜åœ¨æœ¬åœ°ã€‚ ç‰¹ç‚¹ä¸ç”¨æ³•ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹åº”çš„ useXXXQuery Hook åœ¨ç»„ä»¶æŒ‚è½½æ—¶ä¼šè‡ªåŠ¨å‘èµ·è¯·æ±‚ã€‚ å®ƒè¿”å›ä¸€ä¸ªåŒ…å« data (æ•°æ®), isLoading (åˆæ¬¡åŠ è½½çŠ¶æ€), isFetching (æ¯æ¬¡è¯·æ±‚çŠ¶æ€), error (é”™è¯¯ä¿¡æ¯) ç­‰ä¸°å¯Œå±æ€§çš„å¯¹è±¡ã€‚ ç»å¤§å¤šæ•° Query æ˜¯ GET è¯·æ±‚ï¼Œä½†æœ‰äº›ç‰¹æ®Šåœºæ™¯ï¼ˆå¦‚å¤æ‚çš„æœç´¢æŸ¥è¯¢éœ€è¦ä¼ é€’å¤§é‡å‚æ•°ä½“ï¼‰ä¹Ÿä¼šä½¿ç”¨ POST è¯·æ±‚ä½œä¸º Queryã€‚ ä»£ç ç¤ºä¾‹æ‹†è§£ï¼š 123456789101112131415161718192021222324252627282930313233343536// åœ¨ todoApi.js ä¸­å®šä¹‰endpoints: (builder) =&gt; (&#123; // åŸºç¡€ç”¨æ³•ï¼šé»˜è®¤å‘æ— å‚çš„ GET è¯·æ±‚ getTodos: builder.query(&#123; query: () =&gt; &quot;/todos&quot;, &#125;), // å¸¦å‚ GET è¯·æ±‚ (å¦‚ï¼š/todos?status=completed) getTodosByStatus: builder.query(&#123; query: (status) =&gt; `/todos?status=$&#123;status&#125;`, &#125;), // ç‰¹æ®Šç”¨æ³•ï¼šä½¿ç”¨ POST è¿›è¡Œå¤æ‚çš„æŸ¥è¯¢ // æ³¨æ„ï¼šè™½ç„¶æ˜¯å‘é€ POSTï¼Œä½†å› ä¸ºæ˜¯&quot;è·å–æŸ¥çœ‹&quot;æ•°æ®è€Œä¸æ˜¯&quot;ä¿®æ”¹&quot;ç³»ç»ŸçŠ¶æ€ï¼Œæ‰€ä»¥ä¾ç„¶ç”¨ builder.querygetTodosById: builder.query(&#123; query: (id) =&gt; (&#123; url: &quot;/posts&quot;, method: &quot;POST&quot;, body: &#123; postId: id &#125; &#125;),&#125;) export const &#123; useGetTodosQuery, useGetTodosByStatusQuery, useGetTodosByIdQuery &#125; = todoApi; `ç»„ä»¶ä¸­ä½¿ç”¨`// 1. æ— å‚ GET ç”¨æ³•ï¼šç»„ä»¶ä¸€æŒ‚è½½å°±è‡ªåŠ¨å‘è¯·æ±‚æ‹‰åˆ—è¡¨const &#123; data: allTodos, isLoading &#125; = useGetTodosQuery();// 2. å¸¦å‚ GET ç”¨æ³•ï¼šå‚æ•°å¦‚æœå˜åŒ–ï¼ŒRTK Query ä¼šè‡ªåŠ¨å‘æ–°è¯·æ±‚const [status, setStatus] = useState(&quot;completed&quot;);const &#123; data: filteredTodos &#125; = useGetTodosByStatusQuery(status);// 3. POST æŸ¥è¯¢ç”¨æ³•ï¼šå°†å¤æ‚çš„æ£€ç´¢æ¡ä»¶(å¦‚åŒ…å«å„ç§è¿‡æ»¤é¡¹çš„å¯¹è±¡)ä¼ é€’è¿‡å»const searchFilters = &#123; keyword: &quot;React&quot;, date: &quot;today&quot; &#125;;const &#123; data: searchResults, isFetching &#125; = useGetTodosByIdQuery(searchFilters); 2ï¼‰ä¿®æ”¹æ•°æ®ï¼šMutation (å˜æ›´æ“ä½œ)åœ¨ RTK Query ä¸­ï¼Œæ‰€æœ‰çš„ API ç«¯ç‚¹ (endpoints) åˆ†ä¸ºä¸¤ç±»ï¼š Query (æŸ¥è¯¢)ï¼šç”¨äºè·å–æ•°æ®ï¼Œåœ¨ç»„ä»¶æŒ‚è½½æ—¶è‡ªåŠ¨è§¦å‘ï¼ˆå¦‚ GET è¯·æ±‚ï¼‰ã€‚å¯¹åº”çš„ Hook å« useXXXQueryã€‚ Mutation (å˜æ›´)ï¼šç”¨äºä¿®æ”¹æœåŠ¡å™¨æ•°æ®ï¼ˆå¦‚ POSTã€PUTã€DELETE è¯·æ±‚ï¼‰ã€‚å¯¹åº”çš„ Hook å« useXXXMutationã€‚ ç‰¹ç‚¹ä¸ç”¨æ³•ï¼š mutation ä¸ä¼šåœ¨ç»„ä»¶æŒ‚è½½æ—¶è‡ªåŠ¨è§¦å‘ã€‚å®ƒä¼šè¿”å›ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„ï¼š[è§¦å‘å‡½æ•°çš„å¼•ç”¨ (trigger), åŒ…å«çŠ¶æ€çš„å¯¹è±¡ (result)]ã€‚ å®ƒé€šå¸¸ç»‘å®šåˆ°è¡¨å•æäº¤æˆ–æŒ‰é’®ç‚¹å‡»äº‹ä»¶ä¸Šã€‚ ä»£ç ç¤ºä¾‹æ‹†è§£ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142// åœ¨ todoApi.js ä¸­å®šä¹‰addTodo: builder.mutation(&#123; // query æ¥æ”¶è°ƒç”¨è§¦å‘å‡½æ•°æ—¶ä¼ å…¥çš„å‚æ•° (newTodo) query: (newTodo) =&gt; (&#123; url: &quot;/todos&quot;, method: &quot;POST&quot;, // æ˜ç¡®æŒ‡å®šæ˜¯å‘é€ POST è¯·æ±‚ body: newTodo, // å‘é€ç»™åç«¯çš„è¯·æ±‚ä½“æ•°æ® &#125;),&#125;);addUser: builder.mutation(&#123; query: (user) =&gt; (&#123; url: &quot;/users&quot;, method: &quot;POST&quot;, body: user &#125;),&#125;)export const &#123; useAddUserMutation &#125; = todoApi;`ç»„ä»¶ä¸­ä½¿ç”¨`import &#123; useAddUserMutation &#125; from &quot;../redux/api/todoApi&quot;;function Home() &#123; const [addUser, &#123; isLoading: addUserLoading, isSuccess: addUserSuccess, error: addUserError &#125;] = useAddUserMutation(); const fn = async() =&gt; &#123; const res = await addUser(&#123; name: &quot;test&quot;, age: 18 &#125;) console.log(res); &#125; return ( &lt;&gt; &lt;p&gt;é¦–é¡µ&lt;/p&gt; &lt;button onClick=&#123;fn&#125;&gt;æ·»åŠ ç”¨æˆ·&lt;/button&gt; &#123;addUserLoading &amp;&amp; &lt;p&gt;æ·»åŠ ä¸­...&lt;/p&gt;&#125; &#123;addUserSuccess &amp;&amp; &lt;p&gt;æ·»åŠ æˆåŠŸ&lt;/p&gt;&#125; &#123;addUserError &amp;&amp; &lt;p&gt;æ·»åŠ å¤±è´¥&lt;/p&gt;&#125; &lt;/&gt; )&#125; 4ï¼‰æ‰‹åŠ¨è§¦å‘æŸ¥è¯¢ï¼šuseLazyXXXQueryé»˜è®¤æƒ…å†µä¸‹ï¼ŒuseXXXQuery åœ¨ç»„ä»¶æŒ‚è½½æ—¶å°±ä¼šç«‹å³ã€è‡ªåŠ¨å‘èµ·ç½‘ç»œè¯·æ±‚ã€‚ä½†åœ¨æŸäº›åœºæ™¯ä¸‹ï¼ˆä¾‹å¦‚ï¼šç‚¹å‡»æŒ‰é’®æœç´¢ã€å±•å¼€é¢æ¿æ—¶æ‰åŠ è½½è¯¦æƒ…ï¼‰ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰‹åŠ¨å»è§¦å‘è¿™ä¸ª GET è¯·æ±‚ã€‚è¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°æ‡’åŠ è½½é’©å­ useLazyXXXQueryã€‚ ç‰¹ç‚¹ä¸ç”¨æ³•ï¼š ç±»ä¼¼äº Mutation çš„ Hook è®¾è®¡ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ•°ç»„ [è§¦å‘å‡½æ•°(trigger), æŸ¥è¯¢çŠ¶æ€ç»“æœ(result)]ã€‚ ä¸ä¼šåœ¨ç»„ä»¶æŒ‚è½½æ—¶è‡ªåŠ¨å‘é€è¯·æ±‚ã€‚ å½“ä½ éœ€è¦å‘é€è¯·æ±‚æ—¶ï¼Œè°ƒç”¨è§¦å‘å‡½æ•°ï¼Œå¹¶å¯ä»¥ä¼ é€’æŸ¥è¯¢å‚æ•°ã€‚ ä»£ç ç¤ºä¾‹æ‹†è§£ï¼š 12345678910111213141516171819202122// æ³¨æ„å¯¼å‡ºåå­—çš„å˜åŒ–ï¼šä» todoApi è‡ªåŠ¨ç”Ÿæˆçš„ hooks ä¼šæœ‰ä¸€ä¸ª `useLazy` å¼€å¤´çš„ç‰ˆæœ¬import &#123; useLazyGetTodosQuery &#125; from &quot;../redux/api/todoApi&quot;;function SearchPage() &#123; // è¿”å›æ•°ç»„ï¼šç¬¬ä¸€ä¸ªæ˜¯æ‰‹åŠ¨å‘è¯·æ±‚çš„å‡½æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯åŒ…å«è¯·æ±‚ç»“æœå’ŒçŠ¶æ€çš„å¯¹è±¡ const [triggerGetTodos, &#123; data, isLoading, isFetching &#125;] = useLazyGetTodosQuery(); const handleSearch = () =&gt; &#123; // ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œæ‰æ‰‹åŠ¨è§¦å‘ç½‘ç»œè¯·æ±‚ triggerGetTodos(); &#125;; return ( &lt;div&gt; &lt;button onClick=&#123;handleSearch&#125;&gt; &#123;isLoading || isFetching ? &quot;åŠ è½½ä¸­...&quot; : &quot;ç‚¹å‡»åŠ è½½åˆ—è¡¨&quot;&#125; &lt;/button&gt; &#123;data &amp;&amp; data.map((todo) =&gt; &lt;p key=&#123;todo.id&#125;&gt;&#123;todo.title&#125;&lt;/p&gt;)&#125; &lt;/div&gt; );&#125; 4ï¼‰æ•°æ®è½¬æ¢ï¼štransformResponseæœ‰æ—¶åç«¯è¿”å›çš„æ•°æ®æ ¼å¼å¹¶ä¸ç¬¦åˆå‰ç«¯çš„ä½¿ç”¨è¦æ±‚ï¼ˆæ¯”å¦‚å¤–é¢åŒ…è£¹äº†ä¸€å±‚ç‰¹å®šçš„ç»“æ„ï¼Œæˆ–è€…ç¼ºå°‘æŸä¸ªå­—æ®µï¼‰ã€‚transformResponse å…è®¸ä½ åœ¨æ•°æ®è¢«å­˜å…¥ Redux ç¼“å­˜ä¹‹å‰ï¼Œæå‰â€œæ‹¦æˆªâ€å¹¶è½¬æ¢å®ƒã€‚ ä¸ºä»€ä¹ˆè¦ç”¨ï¼Ÿå°†å¤„ç†åç«¯â€œå¥‡è‘©â€æ•°æ®ç»“æ„çš„æ“ä½œé›†ä¸­åœ¨ API åˆ‡ç‰‡é‡Œï¼Œä¿æŒå‰ç«¯ç»„ä»¶çš„æ•°æ®é€»è¾‘çº¯ç²¹ã€‚è¿™æ ·èƒ½é¿å…ä½ åœ¨æ¯ä¸ªç»„ä»¶ useSelector è·å–æ•°æ®æ—¶éƒ½è¦åå¤å»å†™ .map() æˆ–è§£æ„ç‰¹å®šå­—æ®µã€‚ ä»£ç ç¤ºä¾‹æ‹†è§£ï¼š å‡è®¾åç«¯è¿”å›çš„åˆ—è¡¨æ•°æ®é•¿è¿™æ ·ï¼š&#123; code: 200, message: &quot;æˆåŠŸ&quot;, data: &#123; list: [ &#123;id:1, title:&quot;å†™ä»£ç &quot;&#125; ] &#125; &#125; è€Œæˆ‘ä»¬åªæƒ³åœ¨é¡µé¢ä¸­ç›´æ¥ä½¿ç”¨ list æ•°ç»„ã€‚ 12345678910getTodos: builder.query(&#123; query: () =&gt; &quot;/todos&quot;, // è½¬æ¢å“åº”ç»“æœï¼ˆå°±åƒ axios çš„å“åº”æ‹¦æˆªå™¨ï¼‰ transformResponse: (response, meta, arg) =&gt; &#123; // response å°±æ˜¯åç«¯ç›´æ¥æŠ›å›æ¥çš„åŸå§‹ JSON å¯¹è±¡ // æˆ‘ä»¬åªæŠŠæœ€æ ¸å¿ƒçš„ data.list return å‡ºå» // è¿™æ ·ç»„ä»¶é‡Œé€šè¿‡ useGetTodosQuery() è§£æ„å‡ºæ¥çš„ data å°±æ˜¯è¿™ä¸ªå¹²å‡€çš„æ•°ç»„ï¼ return response.data.list; &#125;,&#125;); 5ï¼‰ç¼“å­˜æ“ä½œï¼šprovidesTags ä¸ invalidatesTagsè¿™æ˜¯ RTK Query é¿å…æ‰‹åŠ¨å†™ dispatch æ¥åˆ·æ–°æ•°æ®çš„æ ¸å¿ƒâ€œé»‘ç§‘æŠ€â€ï¼šåŸºäºæ ‡ç­¾ (Tags) çš„è‡ªåŠ¨åŒ–ç¼“å­˜å¤±æ•ˆç³»ç»Ÿã€‚ æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ª**â€œè´´æ ‡ç­¾ä¸æ’•æ ‡ç­¾â€**çš„æ¸¸æˆï¼š providesTagsï¼šç”¨æ¥**â€œè´´æ ‡ç­¾â€**ã€‚å‘Šè¯‰ RTKQï¼Œå½“å‰é€šè¿‡æŸ¥è¯¢è·å¾—å›æ¥çš„è¿™ä»½æ•°æ®ï¼Œå«ä»€ä¹ˆåå­—ã€‚ invalidatesTagsï¼šç”¨æ¥**â€œæ’•æ ‡ç­¾â€** (å®£å‘Šå¤±æ•ˆ)ã€‚å½“æ‰§è¡Œå¢åˆ æ”¹ç­‰ mutating æ“ä½œåï¼Œå‘Šè¯‰ RTKQ å“ªäº›æ ‡ç­¾çš„æ•°æ®å·²ç»è¿‡æ—¶äº†ï¼Œå¿…é¡»é‡æ–°æ‹‰å–ã€‚ æ¡ˆä¾‹ç”ŸåŠ¨è§£æï¼š ç¬¬ä¸€æ­¥ï¼šæŸ¥è¯¢åˆ—è¡¨æ—¶è´´æ ‡ç­¾ 12345getTodos: builder.query(&#123; query: () =&gt; &quot;/todos&quot;, // ç»™è¿™ä¸ªåˆ—è¡¨æ•°æ®è´´ä¸Šä¸€ä¸ªå« &quot;Todos&quot; çš„ç‰¹å®šæ ‡ç­¾ï¼ˆä¸”æŒ‡å®š id ä¸º &#x27;LIST&#x27; ä»£è¡¨æ•´ä¸ªåˆ—è¡¨ï¼‰ providesTags: [&#123; type: &quot;Todos&quot;, id: &quot;LIST&quot; &#125;],&#125;); æ­¤æ—¶ï¼ŒRTKQ å†…éƒ¨çš„è®°äº‹æœ¬ä¸Šå†™ç€ï¼šâ€œç”¨ getTodos è·å–çš„æ•°æ®ï¼Œè¢«è´´ä¸Šäº† Todos-LIST çš„æ ‡ç­¾ã€‚å¦‚æœä»¥åè°æ’•æ¯äº†è¿™ä¸ªæ ‡ç­¾ï¼Œæˆ‘å°±å¾—å†å‘ä¸€æ¬¡ GET /todos é‡æ–°æ‹¿æ•°æ®ã€‚â€ ç¬¬äºŒæ­¥ï¼šæ·»åŠ æ•°æ®æ—¶æ’•æ ‡ç­¾ 12345addTodo: builder.mutation(&#123; query: (newTodo) =&gt; (&#123; ... &#125;), // æ·»åŠ æˆåŠŸåï¼Œæ’•æ¯ &#x27;Todos&#x27; çš„ &#x27;LIST&#x27; æ ‡ç­¾ invalidatesTags: [&#123; type: &quot;Todos&quot;, id: &quot;LIST&quot; &#125;]&#125;) å½“ä½ è°ƒç”¨ addTodo å¹¶åœ¨æœåŠ¡ç«¯åˆ›å»ºæˆåŠŸåï¼ŒRTKQ çœ‹åˆ°ä½ è¦â€œæ’•æ¯â€ Todos-LIST æ ‡ç­¾ã€‚å®ƒä¼šå»æ‰¾è®°äº‹æœ¬ï¼Œå‘ç° getTodos ç»‘å®šäº†è¿™ä¸ªæ ‡ç­¾æ•°æ®ï¼Œäºæ˜¯å®ƒä¼šè‡ªåŠ¨ä¸”é™é»˜åœ°åœ¨æ­¤åˆ»è§¦å‘ä¸€æ¬¡ getTodosï¼Œå®ç°äº†å‰ç«¯åˆ—è¡¨çš„æ— ç¼è‡ªåŠ¨åˆ·æ–°ã€‚ å¦‚æœè¦åšåˆ°æ›´ç»†èŠ‚ç²’åº¦çš„ç¼“å­˜æ§åˆ¶ï¼ˆæ¯”å¦‚åªä¿®æ”¹åˆ—è¡¨ä¸­æŸä¸€é¡¹çš„æ•°æ®ï¼Œä¸å…¨åˆ—è¡¨æ‹‰å–ï¼‰ï¼Œå¯ä»¥é€šè¿‡ç»™æ¯ä¸ªå…·ä½“çš„ item è´´å¸¦ id çš„æ ‡ç­¾ï¼ˆå¦‚ &#123; type: &quot;Todos&quot;, id: todo.id &#125;ï¼‰æ¥å®ç°ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨å‰æ–‡åŸºç¡€ä»£ç é‡Œè¦å†™ ...result.map((&#123; id &#125;) =&gt; (&#123; type: &quot;Todos&quot;, id &#125;)) è¿™æ ·å¤æ‚çš„ç»“æ„ï¼Œè¿™æ­£æ˜¯ä¸ºäº†æè‡´çš„å•æ¡æ•°æ®æŒ‰éœ€æ›´æ–°ã€‚ 3.3 å®æˆ˜ï¼šæ„å»ºä¸€ä¸ª Todo CRUD APIæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„å¾…åŠäº‹é¡¹ç®¡ç† API æ¥å£ã€‚ src/redux/api/todoApi.js 12345678910111213141516171819202122232425262728293031323334353637383940414243444546import &#123; createApi, fetchBaseQuery &#125; from &quot;@reduxjs/toolkit/query/react&quot;;export const todoApi = createApi(&#123; reducerPath: &quot;todoApi&quot;, // åœ¨ store ä¸­çš„ key baseQuery: fetchBaseQuery(&#123; baseUrl: &quot;http://localhost:3000&quot; &#125;), // åŸºç¡€ URL // ğŸ·ï¸ å®šä¹‰æ ‡ç­¾ï¼šç”¨äºæ ‡è®°å“ªäº›æ•°æ®æ˜¯ç›¸å…³çš„ï¼Œæ–¹ä¾¿åé¢è‡ªåŠ¨åˆ·æ–° tagTypes: [&quot;Todos&quot;], endpoints: (builder) =&gt; (&#123; // 1. æŸ¥è¯¢åˆ—è¡¨ (query) getTodos: builder.query(&#123; query: () =&gt; &quot;/todos&quot;, // å°†è¿”å›çš„åˆ—è¡¨æ ‡è®°ä¸º &#x27;Todos&#x27; æ ‡ç­¾ï¼Œä¸” ID ä¸º &#x27;LIST&#x27; providesTags: (result) =&gt; // è·å–æ¥å£è¿”å›çš„ result ? [...result.map((&#123; id &#125;) =&gt; (&#123; type: &quot;Todos&quot;, id &#125;)),&#123; type: &quot;Todos&quot;, id: &quot;LIST&quot; &#125;]: [&#123; type: &quot;Todos&quot;, id: &quot;LIST&quot; &#125;] &#125;), // 2. æ·»åŠ æ•°æ® (mutation) addTodo: builder.mutation(&#123; query: (newTodo) =&gt; (&#123; url: &quot;/todos&quot;, method: &quot;POST&quot;, body: newTodo, &#125;), // å…³é”®ï¼šæ·»åŠ åä½¿ &#x27;LIST&#x27; æ ‡ç­¾å¤±æ•ˆï¼Œè§¦å‘åˆ—è¡¨è‡ªåŠ¨é‡æ–°è¯·æ±‚ invalidatesTags: [&#123; type: &quot;Todos&quot;, id: &quot;LIST&quot; &#125;], &#125;), // 3. åˆ é™¤æ•°æ® (mutation) deleteTodo: builder.mutation(&#123; query: (id) =&gt; (&#123; url: `/todos/$&#123;id&#125;`, method: &quot;DELETE&quot;, &#125;), // åˆ é™¤åï¼Œè®©è¯¥ç‰¹å®š ID çš„æ•°æ®å’Œåˆ—è¡¨éƒ½å¤±æ•ˆ invalidatesTags: (result, error, id) =&gt; [ &#123; type: &quot;Todos&quot;, id &#125;, &#123; type: &quot;Todos&quot;, id: &quot;LIST&quot; &#125;, ], &#125;), &#125;),&#125;);// è‡ªåŠ¨ç”Ÿæˆçš„ Hooks (æ ¼å¼ï¼šuse + ç«¯ç‚¹å + Query/Mutation)export const &#123; useGetTodosQuery, useAddTodoMutation, useDeleteTodoMutation &#125; = todoApi; 2ï¼‰é…ç½® Store ä¸­é—´ä»¶RTKQ éœ€è¦ä¸“é—¨çš„ Reducer å’Œä¸­é—´ä»¶æ¥å¤„ç†ç¼“å­˜ç®¡ç†ã€‚ src/redux/store.js 123456789101112import &#123; configureStore &#125; from &quot;@reduxjs/toolkit&quot;;import &#123; todoApi &#125; from &quot;./api/todoApi&quot;;export const store = configureStore(&#123; reducer: &#123; // å¿…é¡»æ·»åŠ  api çš„ reducer [todoApi.reducerPath]: todoApi.reducer, &#125;, // å¿…é¡»æ·»åŠ  api çš„ä¸­é—´ä»¶ï¼Œç”¨äºå¯ç”¨ç¼“å­˜ã€è½®è¯¢ã€å¤±æ•ˆç­‰åŠŸèƒ½ middleware: (getDefaultMiddleware) =&gt; getDefaultMiddleware().concat(todoApi.middleware),&#125;); 3ï¼‰åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ HooksRTKQ è¿”å›çš„ Hook åŒ…å«äº†æ‰€æœ‰ä½ éœ€è¦çš„çŠ¶æ€ï¼Œæ— éœ€é¢å¤–å®šä¹‰ useStateã€‚ src/pages/TodoPage.jsx 1234567891011121314151617181920212223242526272829303132333435363738import &#123; useGetTodosQuery, useAddTodoMutation, useDeleteTodoMutation,&#125; from &quot;../redux/api/todoApi&quot;;function TodoPage() &#123; // 1. è·å–æ•°æ®ï¼šè‡ªåŠ¨è§¦å‘è¯·æ±‚ï¼Œä¸”å¸¦æœ‰ä¸°å¯Œçš„çŠ¶æ€ const &#123; data: todos, error, isLoading, isFetching &#125; = useGetTodosQuery(); // 2. å˜æ›´æ“ä½œï¼šè¿”å›ä¸€ä¸ªè§¦å‘å‡½æ•° (trigger) å’Œæ“ä½œçŠ¶æ€ (rest) const [addTodo, &#123; isLoading: isAdding &#125;] = useAddTodoMutation(); const [deleteTodo] = useDeleteTodoMutation(); if (isLoading) return &lt;div&gt;åˆæ¬¡åŠ è½½ä¸­...&lt;/div&gt;; if (error) return &lt;div&gt;è¯·æ±‚å‡ºé”™: &#123;error.message&#125;&lt;/div&gt;; return ( &lt;div&gt; &lt;h3&gt;å¾…åŠäº‹é¡¹ &#123;isFetching &amp;&amp; &quot; (åŒæ­¥ä¸­...)&quot;&#125;&lt;/h3&gt; &lt;button disabled=&#123;isAdding&#125; onClick=&#123;() =&gt; addTodo(&#123; title: &quot;æ–°ä»»åŠ¡&quot;, completed: false &#125;)&#125; &gt; &#123;isAdding ? &quot;æ·»åŠ ä¸­...&quot; : &quot;æ·»åŠ ä»»åŠ¡&quot;&#125; &lt;/button&gt; &lt;ul&gt; &#123;todos.map((todo) =&gt; ( &lt;li key=&#123;todo.id&#125;&gt; &#123;todo.title&#125; &lt;button onClick=&#123;() =&gt; deleteTodo(todo.id)&#125;&gt;åˆ é™¤&lt;/button&gt; &lt;/li&gt; ))&#125; &lt;/ul&gt; &lt;/div&gt; );&#125; 4ï¼‰æ ¸å¿ƒæœºåˆ¶è¯¦è§£ï¼šTags (æ ‡ç­¾) ç³»ç»Ÿè¿™æ˜¯ RTK Query çš„çµé­‚ã€‚å®ƒé€šè¿‡â€œå‘å¸ƒ-è®¢é˜…â€æ¨¡å¼ç®¡ç†ç¼“å­˜ï¼š providesTags (å‘å¸ƒ)ï¼šå‘Šè¯‰ RTKQ è¿™ä»½æ•°æ®è´´äº†ä»€ä¹ˆæ ‡ç­¾ï¼ˆæ¯”å¦‚ Todosï¼‰ã€‚ invalidatesTags (æ’¤é”€)ï¼šå½“æ‰§è¡Œä¿®æ”¹æ“ä½œåï¼Œé«˜é€Ÿ RTKQ å“ªäº›æ ‡ç­¾è¿‡æœŸäº†ã€‚ è‡ªåŠ¨é‡åˆ·æ–°ï¼šRTKQ å‘ç°å½“å‰é¡µé¢æ­£åœ¨ä½¿ç”¨çš„ getTodos è®¢é˜…äº† Todos æ ‡ç­¾ï¼Œè€Œè¯¥æ ‡ç­¾ç”±äº addTodo å˜æˆäº†â€œå¤±æ•ˆâ€çŠ¶æ€ï¼Œäºæ˜¯ RTKQ ä¼šè‡ªåŠ¨é‡æ–°å‘èµ·ç½‘ç»œè¯·æ±‚ï¼ŒåŒæ­¥æœ€æ–°çš„åˆ—è¡¨ã€‚ [!TIP]ç¼“å­˜è‡ªåŠ¨æ¸…ç†å¦‚æœæ²¡æœ‰ä»»ä½•ç»„ä»¶è®¢é˜…æŸä¸ª API ç«¯ç‚¹çš„æ•°æ®ï¼ˆå³æ²¡åœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨è¯¥ Hookï¼‰ï¼ŒRTKQ ä¼šåœ¨ä¸€æ®µæ—¶é—´åï¼ˆé»˜è®¤ 60 ç§’ï¼‰è‡ªåŠ¨ä»å†…å­˜ä¸­åˆ é™¤è¿™äº›åƒåœ¾æ•°æ®ã€‚ 3.4 æ€§èƒ½ä¼˜åŒ–ï¼šMemoizationæ¯å½“ Redux Store æ›´æ–°æ—¶ï¼Œæ‰€æœ‰ä½¿ç”¨ useSelector çš„ç»„ä»¶éƒ½ä¼šé‡æ–°è®¡ç®—å…¶ Selectorã€‚ é¿å…å¼•ç”¨é™·é˜±ï¼šå¦‚æœåœ¨ Selector ä¸­è¿”å›äº†æ–°æ•°ç»„æˆ–å¯¹è±¡ï¼ˆå¦‚ state.items.filter(...)ï¼‰ï¼Œå¿…é¡»ä½¿ç”¨è®°å¿†åŒ–å·¥å…·ã€‚ æ¨èæ–¹æ¡ˆï¼šä½¿ç”¨ createSelectorã€‚å®ƒä¸ä»…èƒ½ç¼“å­˜æ˜‚è´µçš„è®¡ç®—ç»“æœï¼Œè¿˜èƒ½é€šè¿‡ä¿æŒå¼•ç”¨ä¸€è‡´æ€§æ¥é˜²æ­¢å­ç»„ä»¶çš„ä¸å¿…è¦é‡æ¸²æŸ“ã€‚ [!TIP]è¯¦ç»†çš„ createSelector é…ç½®ä¸ä»£ç ç‰‡æ®µè¯·å‚è€ƒå‰æ–‡ï¼š2.4 è®°å¿†åŒ–é€‰æ‹©å™¨ï¼šcreateSelectorã€‚ 3.5 ç›®å½•ç»“æ„æœ€ä½³å®è·µæ¨èåŸºäºåŠŸèƒ½ (Feature-based) çš„æ–‡ä»¶å¤¹ç»“æ„ï¼Œè€Œä¸æ˜¯æŒ‰æ–‡ä»¶ç±»å‹ï¼ˆactions&#x2F;reducersï¼‰åˆ†ç±»ã€‚ 1234567891011121314â”œâ”€â”€ ğŸ“ src/â”‚ â”œâ”€â”€ ğŸ“ app/ # å…¨å±€é…ç½® (Store, è·¯ç”±é…ç½®)â”‚ â”‚ â””â”€â”€ store.jsâ”‚ â”œâ”€â”€ ğŸ“ assets/ # é™æ€èµ„æº (å›¾ç‰‡, å­—ä½“, å…¨å±€æ ·å¼)â”‚ â”œâ”€â”€ ğŸ“ components/ # é€šç”¨åŸºç¡€ç»„ä»¶ (éä¸šåŠ¡ logic)â”‚ â”œâ”€â”€ ğŸ“ features/ # ä¸šåŠ¡åŠŸèƒ½æ¨¡å— (Slice + ä¸šåŠ¡ç»„ä»¶ + API)â”‚ â”‚ â””â”€â”€ ğŸ“ counter/ # ç¤ºä¾‹åŠŸèƒ½â”‚ â”‚ â”œâ”€â”€ counterSlice.jsâ”‚ â”‚ â””â”€â”€ Counter.jsxâ”‚ â”œâ”€â”€ ğŸ“ hooks/ # é€šç”¨ Hooks (useAuth, useTheme ç­‰)â”‚ â”œâ”€â”€ ğŸ“ pages/ # é¡µé¢çº§ç»„ä»¶ (è·¯ç”±å…¥å£)â”‚ â”œâ”€â”€ ğŸ“ utils/ # å·¥å…·å‡½æ•° (formatDate, validators ç­‰)â”‚ â”œâ”€â”€ App.jsx # æ ¹ç»„ä»¶â”‚ â””â”€â”€ index.js # å…¥å£æ–‡ä»¶ æ ¸å¿ƒè¯´æ˜ï¼š Feature-first: features/ ç›®å½•æ˜¯æ ¸å¿ƒã€‚å°†ä¸€ä¸ªåŠŸèƒ½çš„æ‰€æœ‰ç›¸å…³ä»£ç ï¼ˆSlice, ç»„ä»¶, APIï¼‰æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œä¿æŒé«˜å†…èšã€‚ Layered Structure: components/ å­˜æ”¾çº¯ UI ç»„ä»¶ï¼Œpages/ å­˜æ”¾é¡µé¢å®¹å™¨ï¼Œfeatures/ å­˜æ”¾ä¸šåŠ¡é€»è¾‘ï¼Œå±‚æ¬¡åˆ†æ˜ã€‚ å››ã€æ€»ç»“ å§‹ç»ˆä½¿ç”¨ Redux Toolkitï¼šä¸è¦å†æ‰‹å†™ä¼ ç»Ÿçš„ Redux æ ·æ¿ä»£ç ã€‚ State èŒƒå¼åŒ–ï¼šå°½é‡ä¿æŒ State æ‰å¹³åŒ–ï¼Œé¿å…æ·±å±‚åµŒå¥—ã€‚ ä¸è¦æŠŠæ‰€æœ‰æ•°æ®éƒ½æ”¾è¿› Reduxï¼š Form state -&gt; Local state (useState) Server cache -&gt; RTK Query Global UI state &#x2F; Shared data -&gt; Redux Slice TypeScriptï¼šRTK å¯¹ TypeScript æ”¯æŒæä½³ï¼Œåˆ©ç”¨å®ƒå¯ä»¥è·å¾—å¼ºå¤§çš„ç±»å‹æç¤ºã€‚ Happy Coding with React &amp; Redux!","categories":[{"name":"å‰ç«¯å¼€å‘","slug":"å‰ç«¯å¼€å‘","permalink":"http://example.com/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"React","slug":"React","permalink":"http://example.com/tags/React/"},{"name":"Redux","slug":"Redux","permalink":"http://example.com/tags/Redux/"},{"name":"RTK","slug":"RTK","permalink":"http://example.com/tags/RTK/"}]},{"title":"React Router å…¨é¢æŒ‡å— (v6.4+ & v7)","slug":"48-React Router å…¨é¢æŒ‡å—","date":"2026-02-11T11:00:00.000Z","updated":"2026-03-01T16:07:38.353Z","comments":true,"path":"posts/e2d3b4a5wq.html","permalink":"http://example.com/posts/e2d3b4a5wq.html","excerpt":"","text":"React Router å…¨é¢æŒ‡å— (v6.4+ &amp; v7) ğŸ“š æœ¬æŒ‡å—æ—¨åœ¨å¸®åŠ©å¼€å‘è€…æŒæ¡ React Router çš„æœ€æ–°ç‰¹æ€§ (v6.4+ Data APIs) åŠä¼ä¸šçº§å°è£…å†™æ³•ã€‚ ç›®å½• å¼•è¨€ å¿«é€Ÿä¸Šæ‰‹ (Data Router) è·¯ç”±æ ¸å¿ƒåŸºç¡€ (Routing) Data API (è¿›é˜¶) å°è£…å¼è·¯ç”±é…ç½® è¿›é˜¶ä¸ä¼˜åŒ– å¸¸è§è¯¯åŒº (Common Pitfalls) æ€»ç»“ ä¸€ã€å¼•è¨€1.1 ä¸ºä»€ä¹ˆéœ€è¦è·¯ç”±ï¼Ÿ (SPA vs MPA)åœ¨ä¼ ç»Ÿçš„å¤šé¡µåº”ç”¨ (MPA) ä¸­ï¼Œæ¯æ¬¡ç‚¹å‡»é“¾æ¥ï¼Œæµè§ˆå™¨éƒ½ä¼šå‘æœåŠ¡å™¨è¯·æ±‚ä¸€ä¸ªæ–°çš„ HTML é¡µé¢ï¼Œå¯¼è‡´é¡µé¢åˆ·æ–°ï¼ˆç™½å±é—ªçƒï¼‰ã€‚ React Router å¸®åŠ©æˆ‘ä»¬æ„å»º å•é¡µåº”ç”¨ (SPA)ï¼š æ— åˆ·æ–°è·³è½¬ï¼šç‚¹å‡»é“¾æ¥æ—¶ï¼Œåªé€šè¿‡ JavaScript æ›´æ–°é¡µé¢å†…å®¹ï¼Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚ ä½“éªŒå¦‚åŸç”Ÿåº”ç”¨ï¼šä¸æ»‘çš„é¡µé¢åˆ‡æ¢æ•ˆæœã€‚ URL ä¸ UI åŒæ­¥ï¼šé€šè¿‡ URL (/about) ç›´æ¥å®šä½åˆ°ç‰¹å®šç»„ä»¶ (&lt;About /&gt;)ã€‚ 1.2 React Router v6.4+ (Data APIs)è¿™æ˜¯ React Router çš„ä¸€æ¬¡é©å‘½æ€§æ›´æ–°ï¼Œå¼•å…¥äº† Data APIsã€‚è¿™ä¸ä»…æ˜¯å®šä¹‰è·¯ç”±çš„æ–°æ–¹å¼ï¼Œæ›´è§£å†³äº† React åº”ç”¨ä¸­å¸¸è§çš„â€œåŠ è½½ç€‘å¸ƒæµâ€é—®é¢˜ã€‚ æ ¸å¿ƒä¼˜åŠ¿ï¼š å¹¶è¡ŒåŠ è½½ï¼šè·¯ç”±ä¸æ•°æ®è·å–å¹¶è¡Œè¿›è¡Œï¼Œæå¤§æå‡é¦–å±é€Ÿåº¦ã€‚ é…ç½®åŒ–è·¯ç”±ï¼šä½¿ç”¨å¯¹è±¡æ•°ç»„ (createBrowserRouter) ç®¡ç†è·¯ç”±ï¼Œæ¯” JSX å†™æ³•æ›´æ¸…æ™°ã€æ›´æ˜“ç»´æŠ¤ã€‚ è‡ªåŠ¨çŠ¶æ€ç®¡ç†ï¼šå†…ç½® loadingã€error çŠ¶æ€å¤„ç†ï¼Œå‡å°‘å¤§é‡æ ·æ¿ä»£ç ã€‚ 1.3 React Router v7+ä¸‰ç§ä½¿ç”¨æ¨¡å¼React Router çš„è¿™ä¸‰ç§æ¨¡å¼åæ˜ äº†å®ƒä»ä¸€ä¸ªç®€å•çš„ç»„ä»¶åº“æ¼”å˜ä¸ºåŠŸèƒ½å®Œå¤‡çš„æ•°æ®æ¡†æ¶çš„å†ç¨‹ã€‚ 1. ä¸‰ç§æ¨¡å¼çš„åŒºåˆ« æ¨¡å¼ æ ¸å¿ƒç†å¿µ ä½¿ç”¨åœºæ™¯ Declarative (å£°æ˜å¼) ä¼ ç»Ÿçš„ç»„ä»¶åŒ–è·¯ç”±ï¼Œä½¿ç”¨ &lt;Routes&gt; å’Œ &lt;Route&gt; ç›´æ¥å†™åœ¨ JSX ä¸­ã€‚ ç®€å•çš„ CSR åº”ç”¨ï¼Œä¸éœ€è¦è·¯ç”±é©±åŠ¨çš„æ•°æ®é¢„åŠ è½½ã€‚ Data (æ•°æ®é©±åŠ¨) React Router v6.4+ æ¨èæ–¹å¼ã€‚ä½¿ç”¨ createBrowserRouter å®šä¹‰è·¯ç”±å¯¹è±¡ã€‚æ”¯æŒ loaderï¼ˆé¢„åŠ è½½æ•°æ®ï¼‰ã€actionï¼ˆæ•°æ®ä¿®æ”¹ï¼‰å’Œ errorElementã€‚ ä¸­å¤§å‹åº”ç”¨ï¼Œå¸Œæœ›é€šè¿‡è·¯ç”±å¹¶è¡ŒåŠ è½½æ•°æ®ã€å¤„ç†è¡¨å•æäº¤å’Œé”™è¯¯è¾¹ç•Œã€‚ Framework (æ¡†æ¶æ¨¡å¼) React Router v7 (åŸ Remix)ã€‚å°† React Router ä½œä¸ºå…¨æ ˆæ¡†æ¶ä½¿ç”¨ï¼Œå¤„ç† SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰ã€é™æ€ç”Ÿæˆç­‰ã€‚ éœ€è¦ SSRã€SEO ä¼˜åŒ–æˆ–å¤æ‚å…¨æ ˆé€»è¾‘çš„é¡¹ç›®ã€‚ äºŒã€å¿«é€Ÿä¸Šæ‰‹ (Data Router)2.1 å®‰è£…12# å®‰è£…æœ€æ–°ç‰ˆ React Router DOM (åŒ…å«äº†æ ¸å¿ƒ React Router)npm install react-router-dom æç¤ºï¼šå®‰è£…å®Œæˆåï¼Œæ£€æŸ¥ package.json ä¸­çš„ dependenciesï¼Œç¡®è®¤ç‰ˆæœ¬å· &gt;= 6.4ã€‚ 2.2 åŸºæœ¬ä½¿ç”¨ä¸ä¼ ç»Ÿçš„ç»„ä»¶å¼ (&lt;BrowserRouter&gt;) ä¸åŒï¼Œæ–°ç‰ˆæ¨èä½¿ç”¨å¯¹è±¡é…ç½®ã€‚ src\\router\\index.js 12345678910111213141516import &#123; createBrowserRouter &#125; from &quot;react-router-dom&quot;;// 1. åˆ›å»ºè·¯ç”±å™¨å®ä¾‹ (Router Instance)// è¿™é‡Œå®šä¹‰äº† URL è·¯å¾„ä¸ React ç»„ä»¶çš„æ˜ å°„å…³ç³»const router = createBrowserRouter([ &#123; path: &quot;/&quot;, // è®¿é—®æ ¹è·¯å¾„ http://localhost:5173/ æ—¶ element: &lt;div&gt;Hello world!&lt;/div&gt;, // æ¸²æŸ“è¿™ä¸ª JSX &#125;, &#123; path: &quot;/about&quot;, // è®¿é—® http://localhost:5173/about æ—¶ element: &lt;div&gt;About&lt;/div&gt;, // æ¸²æŸ“ About ç»„ä»¶ &#125;,]);export default router; src\\App.jsx 123456789import &#123; RouterProvider &#125; from &quot;react-router-dom&quot;;import router from &quot;./router&quot;;function App() &#123; &#123;/* RouterProvider ç»„ä»¶ç”¨äºåŒ…è£¹æ•´ä¸ªåº”ç”¨æˆ–è·¯ç”±éƒ¨åˆ†ï¼Œèƒ½ç›´æ¥ç”Ÿæˆè·¯ç”±ç•Œé¢ */&#125; return &lt;RouterProvider router=&#123;router&#125; /&gt;;&#125;export default App; ä¸‰ã€è·¯ç”±æ ¸å¿ƒåŸºç¡€ (Routing)3.1 æ•°æ®åŠ è½½ (Loader) æ³¨æ„: è¿™é‡Œå±•ç¤ºçš„æ˜¯åŸºç¡€æ¦‚å¿µï¼Œæ›´æ·±å…¥çš„ Data API ç”¨æ³•è¯·å‚è€ƒ ç¬¬å››ç«  Data APIã€‚ è¿™æ˜¯ Data APIs çš„åŸºç¡€åŠŸèƒ½ã€‚å®ƒå…è®¸è·¯ç”±åœ¨æ¸²æŸ“ç»„ä»¶ä¹‹å‰å¹¶è¡ŒåŠ è½½æ•°æ®ï¼Œå½»åº•è§£å†³äº† React åº”ç”¨ä¸­å¸¸è§çš„â€œç€‘å¸ƒæµåŠ è½½â€é—®é¢˜ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨ loader è€Œä¸æ˜¯ verifyEffectï¼Ÿ ä¼ ç»Ÿæ–¹å¼ (useEffect): åŠ è½½ç»„ä»¶ JS -&gt; æ¸²æŸ“ç»„ä»¶(Loading) -&gt; å‘èµ· Fetch -&gt; ç­‰å¾…æ•°æ® -&gt; æ¸²æŸ“çœŸå®å†…å®¹ã€‚ Loader æ–¹å¼: ç‚¹å‡»é“¾æ¥ -&gt; å¹¶è¡ŒåŠ è½½ç»„ä»¶ JS å’Œæ•°æ® -&gt; æ¸²æŸ“çœŸå®å†…å®¹ã€‚ ä»£ç å®ç°ï¼š 123456789101112131415161718192021222324252627282930313233343536373839// 1. å®šä¹‰æ•°æ®åŠ è½½å‡½æ•° (Loader)// è¯¥å‡½æ•°ä¼šåœ¨è·¯ç”±è·³è½¬æ—¶è‡ªåŠ¨æ‰§è¡Œï¼Œæ”¯æŒå¼‚æ­¥æ“ä½œexport const homeLoader = async () =&gt; &#123; const res = await fetch(&quot;/api/user&quot;); if (!res.ok) throw new Error(&quot;Failed to load&quot;); return res.json(); // è¿”å›çš„æ•°æ®å¯ä»¥åœ¨ç»„ä»¶ä¸­é€šè¿‡ useLoaderData è·å–&#125;;// 2. åœ¨è·¯ç”±é…ç½®ä¸­ç»‘å®šconst routes = [ &#123; path: &quot;/&quot;, element: &lt;Home /&gt;, loader: homeLoader, // &lt;--- ç»‘å®š loader errorElement: &lt;ErrorPage /&gt;, // è‡ªåŠ¨æ•è· loader æŠ›å‡ºçš„é”™è¯¯ &#125;, &#123; path: &quot;/user/:id&quot;, element: &lt;User /&gt;, // loader å‡½æ•°æ¥æ”¶ä¸€ä¸ª params å¯¹è±¡ loader: async (&#123; params &#125;) =&gt; &#123; const response = fetch(`/api/user/$&#123;params.id&#125;`); return response.json() &#125;, &#125;, &#123; path: &quot;/detail/:id&quot;, element: &lt;Detail /&gt;, loader: async (&#123; params &#125;) =&gt; &#123; const response = fetch(`/api/user/$&#123;params.id&#125;`); const res = response.json() if(!res.token) &#123; // é‡å®šå‘ throw redirect(&#x27;/login&#x27;) &#125; else &#123; return res &#125; &#125;, &#125;,]; åœ¨ç»„ä»¶ä¸­è·å–æ•°æ®ï¼š ç»„ä»¶å†…éƒ¨æ— éœ€å¤„ç† loading çŠ¶æ€ï¼Œå› ä¸º loader æ‰§è¡Œå®Œæ‰ä¼šæ¸²æŸ“ç»„ä»¶ï¼ˆé™¤éä½¿ç”¨äº† deferï¼‰ã€‚ 123456import &#123; useLoaderData &#125; from &quot;react-router-dom&quot;;function Home() &#123; const user = useLoaderData(); //ç›´æ¥è·å– loader è¿”å›çš„æ•°æ® return &lt;h1&gt;Welcome, &#123;user.name&#125;&lt;/h1&gt;;&#125; 3.2 è·¯ç”±è·³è½¬ (Navigation)React Router æä¾›äº†ä¸¤ç§ä¸»è¦çš„è·³è½¬æ–¹å¼ï¼šå£°æ˜å¼å’Œç¼–ç¨‹å¼ã€‚ 1ï¼‰å£°æ˜å¼è·³è½¬ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢ä¸­çš„å¯¼èˆªé“¾æ¥ï¼Œç±»ä¼¼äº HTML çš„ &lt;a&gt; æ ‡ç­¾ï¼Œä½†ä¸ä¼šåˆ·æ–°é¡µé¢ã€‚ &lt;Link&gt;: åŸºç¡€é“¾æ¥ç»„ä»¶ã€‚ &lt;NavLink&gt;: ç‰¹æ®Šçš„ Linkï¼Œè‡ªåŠ¨æ„ŸçŸ¥æ˜¯å¦å¤„äºæ¿€æ´»çŠ¶æ€ï¼ˆå¸¸ç”¨äºèœå•ï¼‰ã€‚ 1234567891011121314151617181920212223import &#123; Link, NavLink &#125; from &quot;react-router-dom&quot;;function Menu() &#123; return ( &lt;nav&gt; &#123;/* åŸºç¡€è·³è½¬ */&#125; &lt;Link to=&quot;/about&quot;&gt;å…³äºæˆ‘ä»¬&lt;/Link&gt; &#123;/* å¸¦æœ‰æ¿€æ´»æ ·å¼çš„è·³è½¬ (Active Style) */&#125; &lt;NavLink to=&quot;/home&quot; className=&#123;(&#123; isActive &#125;) =&gt; (isActive ? &quot;active&quot; : &quot;&quot;)&#125; &gt; é¦–é¡µ &lt;/NavLink&gt; &#123;/* replace: æ›¿æ¢å½“å‰å†å²è®°å½•ï¼Œä¸ç•™ç—•è¿¹ */&#125; &lt;Link to=&quot;/login&quot; replace&gt; ç™»å½• (Replace) &lt;/Link&gt; &lt;/nav&gt; );&#125; 2ï¼‰ç¼–ç¨‹å¼è·³è½¬useNavigateåœ¨äº‹ä»¶å¤„ç†å‡½æ•° (Event Handler) æˆ–å‰¯ä½œç”¨ (Effect) ä¸­æ‰§è¡Œè·³è½¬ã€‚ 12345678910111213141516171819import &#123; useNavigate &#125; from &quot;react-router-dom&quot;;function LoginPage() &#123; const navigate = useNavigate(); const handleLogin = () =&gt; &#123; // åŸºç¡€è·³è½¬ navigate(&quot;/dashboard&quot;); // æ›¿æ¢æ¨¡å¼ (Replace) navigate(&quot;/home&quot;, &#123; replace: true &#125;); // åé€€/å‰è¿› navigate(-1); // åé€€ä¸€æ­¥ navigate(1); // å‰è¿›ä¸€æ­¥ &#125;; return &lt;button onClick=&#123;handleLogin&#125;&gt;ç™»å½•&lt;/button&gt;;&#125; 3.3 å‚æ•°ä¼ é€’ (Params)è¿™æ˜¯å¼€å‘ä¸­æœ€å¸¸è§çš„éœ€æ±‚ï¼ŒReact Router æ”¯æŒä¸‰ç§ä¸»è¦çš„ä¼ å‚æ–¹å¼ã€‚ 1ï¼‰è·¯å¾„å‚æ•° (Path Params)å‚æ•°ç›´æ¥æ‹¼æ¥åœ¨ URL ä¸­ï¼Œå¦‚ /user/123ã€‚ ä¼˜ç‚¹ï¼šåˆ·æ–°é¡µé¢å‚æ•°ä¸ä¸¢å¤±ï¼Œè¯­ä¹‰æ¸…æ™°ã€‚ å®šä¹‰ï¼šéœ€è¦åœ¨è·¯ç”±é…ç½®ä¸­å®šä¹‰å ä½ç¬¦ :idã€‚ 1ï¸âƒ£è·¯ç”±å®šä¹‰ï¼š 12345// router/index.jsx&#123; path: &quot;/user/:id&quot;, // :id æ˜¯å‚æ•°å ä½ç¬¦ element: &lt;UserPage /&gt;,&#125; 2ï¸âƒ£è·³è½¬ä¼ å‚ï¼š 123&lt;Link to=&quot;/user/123&quot;&gt;æŸ¥çœ‹ç”¨æˆ· 123&lt;/Link&gt;;// æˆ–è€…navigate(&quot;/user/123&quot;); 3ï¸âƒ£è·å–å‚æ•°ï¼š 123456import &#123; useParams &#125; from &quot;react-router-dom&quot;;function UserPage() &#123; const &#123; id &#125; = useParams(); // è·å–åˆ°çš„ id ä¸º string ç±»å‹ &quot;123&quot; return &lt;div&gt;User ID: &#123;id&#125;&lt;/div&gt;;&#125; 2ï¼‰æŸ¥è¯¢å‚æ•° (Query Params)å‚æ•°ä»¥ key&#x3D;value å½¢å¼æ‹¼æ¥åœ¨ ? åï¼Œå¦‚ /list?page=1&amp;sort=descã€‚ ä¼˜ç‚¹ï¼šæ— éœ€ä¿®æ”¹è·¯ç”±å®šä¹‰ï¼Œçµæ´»å¤šå˜ã€‚ 1ï¸âƒ£è·³è½¬ä¼ å‚ï¼š 123&lt;Link to=&quot;/list?page=1&amp;sort=desc&quot;&gt;å•†å“åˆ—è¡¨&lt;/Link&gt;;// æˆ–è€…navigate(&quot;/list?page=1&amp;sort=desc&quot;); 2ï¸âƒ£è·å–å‚æ•°ï¼š 12345678910111213141516import &#123; useSearchParams &#125; from &quot;react-router-dom&quot;;function ListPage() &#123; const [searchParams, setSearchParams] = useSearchParams(); // è·å– const page = searchParams.get(&quot;page&quot;); // &quot;1&quot; const sort = searchParams.get(&quot;sort&quot;); // &quot;desc&quot; // ä¿®æ”¹ (è¿™ä¼šæ›´æ–° URL å¹¶é‡æ–°æ¸²æŸ“ç»„ä»¶) const changeSort = () =&gt; &#123; setSearchParams(&#123; page: 1, sort: &quot;asc&quot; &#125;); &#125;; return &lt;div&gt;Page: &#123;page&#125;&lt;/div&gt;;&#125; 3ï¼‰éšå¼çŠ¶æ€ (State)å‚æ•°ä¸æ˜¾ç¤ºåœ¨ URL ä¸­ï¼Œå­˜å‚¨åœ¨ history state å¯¹è±¡é‡Œã€‚ ä¼˜ç‚¹ï¼šå¯ä¼ é€’å¯¹è±¡ã€æ•°ç»„ç­‰å¤æ‚æ•°æ®ï¼ŒURL å¹²å‡€ã€‚ ç¼ºç‚¹ï¼šåˆ·æ–°é¡µé¢ä¸ä¸¢å¤±ï¼ˆå¾ˆå¤šè¯¯åŒºè®¤ä¸ºä¼šä¸¢å¤±ï¼Œå®é™…ä¸Š History State åˆ·æ–°åä¾ç„¶å­˜åœ¨ï¼‰ï¼Œä½†å¤åˆ¶é“¾æ¥ç»™åˆ«äººä¼šä¸¢å¤±æ•°æ®ã€‚ 1ï¸âƒ£è·³è½¬ä¼ å‚ï¼š 12345&lt;Link to=&quot;/profile&quot; state=&#123;&#123; role: &quot;admin&quot;, code: 9527 &#125;&#125;&gt; ä¸ªäººä¸­å¿ƒ&lt;/Link&gt;;// æˆ–è€…navigate(&quot;/profile&quot;, &#123; state: &#123; role: &quot;admin&quot;, code: 9527 &#125; &#125;); 2ï¸âƒ£è·å–å‚æ•°ï¼š 12345678import &#123; useLocation &#125; from &quot;react-router-dom&quot;;function ProfilePage() &#123; const location = useLocation(); const &#123; role, code &#125; = location.state || &#123;&#125;; // è®°å¾—å¤„ç†ç©ºå€¼ï¼Œé˜²æ­¢ç›´æ¥è®¿é—®æŠ¥é”™ return &lt;div&gt;Role: &#123;role&#125;&lt;/div&gt;;&#125; 3.4 åµŒå¥—è·¯ç”±ä¸ OutletåµŒå¥—è·¯ç”±æ˜¯ React Router æœ€æ ¸å¿ƒã€æœ€å¼ºå¤§çš„åŠŸèƒ½ã€‚å®ƒè®©æˆ‘ä»¬èƒ½å¤Ÿå°† UI çš„åµŒå¥—ç»“æ„ä¸ URL çš„è·¯å¾„ç»“æ„å®Œç¾å¯¹åº”ã€‚ 1ï¼‰ä»€ä¹ˆæ˜¯åµŒå¥—è·¯ç”±ï¼Ÿåœ¨å¤§å¤šæ•°åº”ç”¨ä¸­ï¼Œç•Œé¢é€šå¸¸æ˜¯ç”±å¤šå±‚åµŒå¥—çš„ç»„ä»¶ç»„æˆçš„ã€‚ä¾‹å¦‚ï¼š URL: /dashboard/settings UI: é¡µé¢æ•´ä½“ -&gt; ä¾§è¾¹æ å¸ƒå±€ (Parent) -&gt; è®¾ç½®é¢æ¿ (Child) React Router é€šè¿‡ åµŒå¥—è·¯ç”± è‡ªåŠ¨å¸®æˆ‘ä»¬å°†è¿™ç§ URL æ˜ å°„ä¸ºç»„ä»¶å±‚çº§ï¼š/dashboard -&gt; æ¸²æŸ“ &lt;DashboardLayout /&gt;/dashboard/settings -&gt; åœ¨ &lt;DashboardLayout&gt; å†…éƒ¨æ¸²æŸ“ &lt;Settings /&gt; 2ï¼‰åµŒå¥—é…ç½®æˆ‘ä»¬åœ¨è·¯ç”±é…ç½®ä¸­ä½¿ç”¨ children æ•°ç»„æ¥å®šä¹‰å­è·¯ç”±ã€‚ 123456789101112131415161718// src/router/index.jsxconst router = createBrowserRouter([ &#123; path: &quot;/dashboard&quot;, // 1. çˆ¶è·¯ç”±è·¯å¾„ element: &lt;DashboardLayout /&gt;, // 2. çˆ¶ç»„ä»¶ï¼ˆé€šå¸¸æ˜¯å¸ƒå±€æ–‡ä»¶ï¼‰ // 3. å®šä¹‰å­è·¯ç”±æ•°ç»„ children: [ &#123; index: true, // é»˜è®¤å­è·¯ç”± (è®¿é—® /dashboard æ—¶æ˜¾ç¤ºï¼Œé»˜è®¤å­è·¯ç”±é‡Œé¢ä¸èƒ½å†åµŒå¥—å­è·¯ç”±) element: &lt;Stats /&gt;, &#125;, &#123; path: &quot;settings&quot;, // å­è·¯ç”±è·¯å¾„ (æ³¨æ„ï¼šä¸è¦åŠ  / ) element: &lt;Settings /&gt;, // è®¿é—® /dashboard/settings æ—¶æ˜¾ç¤º &#125;, ], &#125;,]); 3ï¼‰çˆ¶ç»„ä»¶å¦‚ä½•æ¸²æŸ“å­è·¯ç”±ï¼Ÿå…‰é…ç½®äº†è·¯ç”±è¿˜ä¸å¤Ÿï¼Œçˆ¶ç»„ä»¶å¿…é¡»æ˜ç¡®æŒ‡å®šâ€œå­ç»„ä»¶æ˜¾ç¤ºåœ¨å“ªé‡Œâ€ã€‚å¦‚æœä¸å†™ &lt;Outlet /&gt;ï¼Œå­è·¯ç”±çš„å†…å®¹å°†ä¸ä¼šæ¸²æŸ“ã€‚ 123456789101112131415161718192021// src/layouts/DashboardLayout.jsximport &#123; Outlet, Link &#125; from &quot;react-router-dom&quot;;function DashboardLayout() &#123; return ( &lt;div className=&quot;layout&quot;&gt; &#123;/* ä¾§è¾¹æ å¯¼èˆª (å§‹ç»ˆæ˜¾ç¤º) */&#125; &lt;nav&gt; &lt;Link to=&quot;/dashboard&quot;&gt;æ¦‚è§ˆ&lt;/Link&gt; &lt;Link to=&quot;/dashboard/settings&quot;&gt;è®¾ç½®&lt;/Link&gt; &lt;/nav&gt; &lt;hr /&gt; &lt;main className=&quot;content&quot;&gt; &#123;/* ğŸ”¥ å…³é”®ç‚¹ï¼šå­è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶ (Stats æˆ– Settings) å°†ä¼šå¡«å…¥è¿™ä¸ªä½ç½® */&#125; &lt;Outlet /&gt; &lt;/main&gt; &lt;/div&gt; );&#125; 4ï¼‰æ€»ç»“ï¼šè·¯ç”±åŒ¹é…æµç¨‹å½“ç”¨æˆ·è®¿é—® /dashboard/settings æ—¶ï¼š React Router åŒ¹é…åˆ° /dashboard -&gt; æ¸²æŸ“ &lt;DashboardLayout&gt;ã€‚ React Router ç»§ç»­åŒ¹é… settings -&gt; æ‰¾åˆ° &lt;Settings&gt; ç»„ä»¶ã€‚ å®ƒå°† &lt;Settings&gt; ç»„ä»¶ä½œä¸º children ä¼ é€’ç»™ &lt;Outlet /&gt;ï¼Œæœ€ç»ˆé¡µé¢ç»“æ„å¦‚ä¸‹ï¼š 123456&lt;DashboardLayout&gt; &lt;nav&gt;...&lt;/nav&gt; &lt;main&gt; &lt;Settings /&gt; &#123;/* &lt;-- è¿™é‡Œå°±æ˜¯ Outlet æ¸²æŸ“çš„å†…å®¹ */&#125; &lt;/main&gt;&lt;/DashboardLayout&gt; 3.5 è·¯ç”±æ‡’åŠ è½½éšç€åº”ç”¨è§„æ¨¡çš„å¢é•¿ï¼Œæ‰“åŒ…åçš„ JavaScript æ–‡ä»¶ï¼ˆChunkï¼‰ä¼šå˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œå¯¼è‡´é¦–å±åŠ è½½ç¼“æ…¢ã€‚ è·¯ç”±æ‡’åŠ è½½ æ˜¯ä¼˜åŒ– React åº”ç”¨æ€§èƒ½çš„å…³é”®æ‰‹æ®µã€‚ 1ï¼‰ä¸ºä»€ä¹ˆè¦æ‡’åŠ è½½ï¼Ÿ é»˜è®¤è¡Œä¸ºï¼šæ„å»ºå·¥å…·ï¼ˆå¦‚ Viper&#x2F;Webpackï¼‰ä¼šå°†æ‰€æœ‰é¡µé¢ç»„ä»¶æ‰“åŒ…è¿›ä¸€ä¸ªå·¨å¤§çš„ JS æ–‡ä»¶ä¸­ã€‚å³ä½¿æœ‰äº›é¡µé¢ç”¨æˆ·å¯èƒ½æ°¸è¿œä¸ä¼šè®¿é—®ï¼Œæµè§ˆå™¨ä¹Ÿå¿…é¡»å…ˆä¸‹è½½è¿™äº›ä»£ç ã€‚ æ‡’åŠ è½½è¡Œä¸ºï¼šå°†ä»£ç åˆ†å‰²æˆå¤šä¸ªå°å—ï¼ˆChunksï¼‰ã€‚åªæœ‰å½“ç”¨æˆ·ç‚¹å‡»è·³è½¬åˆ°ç‰¹å®šè·¯ç”±æ—¶ï¼Œæµè§ˆå™¨æ‰å»ä¸‹è½½è¯¥é¡µé¢å¯¹åº”çš„ JS ä»£ç ã€‚ 2ï¼‰æ ¸å¿ƒ APIï¼šReact.lazy &amp; SuspenseReact åŸç”Ÿæä¾›äº† lazy å‡½æ•°æ¥å®ç°åŠ¨æ€å¯¼å…¥ï¼Œé…åˆ Suspense ç»„ä»¶å¤„ç†åŠ è½½çŠ¶æ€ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839import &#123; lazy, Suspense &#125; from &quot;react&quot;;import &#123; createBrowserRouter &#125; from &quot;react-router-dom&quot;;// 1. ä½¿ç”¨ lazy åŠ¨æ€å¯¼å…¥ç»„ä»¶ (æ³¨æ„ï¼šä¸è¦åœ¨ç»„ä»¶å†…éƒ¨å£°æ˜)const About = lazy(() =&gt; import(&quot;./pages/About&quot;));// 2. ä½¿ç”¨ Suspense åŒ…è£¹æ‡’åŠ è½½ç»„ä»¶ï¼Œfallback ç”¨äºæ˜¾ç¤ºåŠ è½½ä¸­çŠ¶æ€// æ–¹å¼1ï¼šconst router = createBrowserRouter([ &#123; path: &quot;/about&quot;, element: ( &lt;Suspense fallback=&#123;&lt;div&gt;Loading...&lt;/div&gt;&#125;&gt; &lt;About /&gt; &lt;/Suspense&gt; ), &#125;,]);// æ–¹å¼2ï¼šå°è£… Suspens(HOCé«˜é˜¶å‡½æ•°)const withSuspense = (Component) =&gt; ( &lt;Suspense fallback=&#123;&lt;Loading /&gt;&#125;&gt; &lt;Component /&gt; &lt;/Suspense&gt;);const router = createBrowserRouter([ &#123; path: &quot;/about&quot;, element: withSuspense(About), &#125;,]);export default router;// æ–¹å¼3ï¼šå¯åœ¨æ•´ä¸ªè·¯ç”±å…¥å£ä½¿ç”¨Suspense åŒ…è£¹æ‰€æœ‰è·¯ç”±ç»„ä»¶(å‰æå…¨éƒ¨è·¯ç”±æ‡’åŠ è½½)&lt;Suspense fallback=&#123;&lt;div&gt;Loading...&lt;/div&gt;&#125;&gt; &lt;RouterProvider router=&#123;router&#125; /&gt;&lt;/Suspense&gt;; æ³¨æ„ï¼šå¦‚æœä¸ä½¿ç”¨ Suspense åŒ…è£¹ï¼ŒReact åœ¨ç­‰å¾…ç»„ä»¶åŠ è½½æ—¶ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå¯¼è‡´åº”ç”¨å´©æºƒã€‚ 3.6 è·¯ç”±æ¨¡å¼React Router ä¸»è¦æ”¯æŒä¸¤ç§è·¯ç”±æ¨¡å¼ï¼šHistory æ¨¡å¼ å’Œ Hash æ¨¡å¼ã€‚åœ¨ Data API (v6.4+) ä¸­ï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº” createBrowserRouter å’Œ createHashRouterã€‚ 1ï¼‰History æ¨¡å¼ (æ¨è)è¿™æ˜¯ç°ä»£ Web åº”ç”¨çš„æ ‡å‡†æ¨¡å¼ï¼Œä½¿ç”¨ HTML5 History API (pushState, replaceState) æ¥ç®¡ç† URLã€‚ è¡¨ç°ï¼šURL çœ‹èµ·æ¥åƒæ ‡å‡†çš„è·¯å¾„ï¼Œä¾‹å¦‚ example.com/user/123ã€‚ ä¼˜ç‚¹ï¼šURL ç¾è§‚ï¼Œç¬¦åˆç”¨æˆ·ä¹ æƒ¯ï¼›SEO å‹å¥½ã€‚ ç¼ºç‚¹ï¼šéœ€è¦æœåŠ¡å™¨é…ç½®æ”¯æŒã€‚å› ä¸ºæ˜¯å•é¡µåº”ç”¨ï¼Œå½“ç”¨æˆ·ç›´æ¥è®¿é—®æ·±å±‚è·¯å¾„ï¼ˆå¦‚ /user/123ï¼‰æˆ–åˆ·æ–°é¡µé¢æ—¶ï¼ŒæœåŠ¡å™¨å¿…é¡»è¿”å› index.htmlï¼Œå¦åˆ™ä¼šå‡ºç° 404 é”™è¯¯ã€‚ ä»£ç ç¤ºä¾‹ï¼š 1234567import &#123; createBrowserRouter, RouterProvider &#125; from &quot;react-router-dom&quot;;const router = createBrowserRouter([ // ...è·¯ç”±é…ç½®]);&lt;RouterProvider router=&#123;router&#125; /&gt;; æœåŠ¡å™¨é…ç½®ç¤ºä¾‹ (Nginx)ï¼š 123location / &#123; try_files $uri $uri/ /index.html;&#125; 2ï¼‰Hash æ¨¡å¼ä½¿ç”¨ URL çš„ Hash éƒ¨åˆ† (#) æ¥æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„ URLã€‚ è¡¨ç°ï¼šURL å¸¦æœ‰ # å·ï¼Œä¾‹å¦‚ example.com/#/user/123ã€‚ ä¼˜ç‚¹ï¼šå…¼å®¹æ€§æå¥½ï¼ˆæ”¯æŒè€æ—§æµè§ˆå™¨ï¼‰ï¼›ä¸éœ€è¦æœåŠ¡å™¨é¢å¤–é…ç½®ï¼ˆå› ä¸º # åé¢çš„å†…å®¹ä¸ä¼šå‘é€ç»™æœåŠ¡å™¨ï¼‰ã€‚ ç¼ºç‚¹ï¼šURL ä¸å¤Ÿç¾è§‚ï¼›SEO è¾ƒå·®ï¼›æŸäº›ç¬¬ä¸‰æ–¹ç™»å½•å›è°ƒå¯èƒ½ä¸æ”¯æŒ Hash è·¯å¾„ã€‚ ä»£ç ç¤ºä¾‹ï¼š 1234567import &#123; createHashRouter, RouterProvider &#125; from &quot;react-router-dom&quot;;const router = createHashRouter([ // ...è·¯ç”±é…ç½®]);&lt;RouterProvider router=&#123;router&#125; /&gt;; 3ï¼‰å¦‚ä½•é€‰æ‹©ï¼Ÿ ç‰¹æ€§ History æ¨¡å¼ (createBrowserRouter) Hash æ¨¡å¼ (createHashRouter) URL å¤–è§‚ ç¾è§‚ (/path) å¸¦äº•å· (/#/path) æœåŠ¡å™¨é…ç½® éœ€è¦ (Nginx&#x2F;Apache rewrite) ä¸éœ€è¦ SEO å‹å¥½ è¾ƒå·® éƒ¨ç½²éš¾åº¦ ä¸­ ä½ æ¨èåœºæ™¯ å…¬ç½‘é¡¹ç›®ã€ä¼ä¸šçº§åº”ç”¨ å†…éƒ¨å·¥å…·ã€æ¼”ç¤º Demoã€æ— æ³•æ§åˆ¶æœåŠ¡å™¨é…ç½®æ—¶ 4ï¼‰æ‹“å±•1ï¸âƒ£History æ¨¡å¼ä¸‹ä¸ºä»€ä¹ˆéœ€è¦æœåŠ¡å™¨é…ç½®æ”¯æŒï¼Œä¸ºä»€ä¹ˆå½“ç”¨æˆ·ç›´æ¥è®¿é—®æ·±å±‚è·¯å¾„ï¼ˆå¦‚ /user/123ï¼‰æˆ–åˆ·æ–°é¡µé¢æ—¶ï¼ŒæœåŠ¡å™¨å¿…é¡»è¿”å› index.htmlï¼Œå¦åˆ™ä¼šå‡ºç° 404 é”™è¯¯ã€‚ ç­”ï¼šå½“ä½ ç›´æ¥åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ http://example.com/user/123 å¹¶å›è½¦ï¼ˆæˆ–æŒ‰åˆ·æ–°é”®ï¼‰ï¼š æµè§ˆå™¨ï¼šè¿™è¢«è§†ä¸ºä¸€æ¬¡å…¨æ–°çš„è®¿é—®ã€‚æµè§ˆå™¨ä¼šè€è€å®å®å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ª HTTP GET è¯·æ±‚ï¼šâ€è¯·ç»™æˆ‘ &#x2F;user&#x2F;123 è¿™ä¸ªæ–‡ä»¶â€ã€‚ æœåŠ¡å™¨ï¼šå»å®ƒçš„ç¡¬ç›˜æ–‡ä»¶ç³»ç»Ÿé‡Œæ‰¾ å®ƒæ‰¾æœ‰æ²¡æœ‰ user æ–‡ä»¶å¤¹ï¼Ÿæ²¡æœ‰ã€‚ å®ƒæ‰¾æœ‰æ²¡æœ‰ user&#x2F;123 æ–‡ä»¶ï¼Ÿæ²¡æœ‰ã€‚ å®ƒæ‰¾æœ‰æ²¡æœ‰ user&#x2F;123.htmlï¼Ÿä¹Ÿæ²¡æœ‰ã€‚ å› ä¸º SPA é¡¹ç›®æ‰“åŒ…åï¼ŒæœåŠ¡å™¨ä¸Šé€šå¸¸åªæœ‰ä¸€ä¸ª index.html å’Œä¸€å † .js&#x2F;.css æ–‡ä»¶ï¼Œæ ¹æœ¬ä¸å­˜åœ¨ç‰©ç†ä¸Šçš„ &#x2F;user&#x2F;123 ç›®å½•ã€‚ ç»“æœï¼šæœåŠ¡å™¨è¯šå®åœ°è¿”å›äº† 404 Not Foundã€‚ 3.7 404 é¡µé¢é…ç½®åœ¨ SPA åº”ç”¨ä¸­ï¼Œå½“ç”¨æˆ·è®¿é—®äº†æœªå®šä¹‰çš„è·¯å¾„æ—¶ï¼Œå¦‚æœä¸åšå¤„ç†ï¼Œé¡µé¢å¯èƒ½ä¼šæ˜¾ç¤ºä¸€ç‰‡ç©ºç™½ã€‚æˆ‘ä»¬éœ€è¦é…ç½®ä¸€ä¸ª Catch-All è·¯ç”± æ¥å±•ç¤ºå‹å¥½çš„ 404 é¡µé¢ã€‚ åœ¨ React Router v6 ä¸­ï¼Œä½¿ç”¨ path: &quot;*&quot; å³å¯åŒ¹é…ä»»æ„è·¯å¾„ã€‚ç”±äº v6 å†…éƒ¨æœ‰æ™ºèƒ½çš„è·¯ç”±æ’åç®—æ³•ï¼ˆRanking Algorithmï¼‰ï¼Œä½ ä¸éœ€è¦åœ¨è¿™ä¸ªè·¯ç”±ä¸ŠåŠ  exactï¼Œä¹Ÿä¸å¼ºæ±‚å°†å®ƒæ”¾åœ¨è·¯ç”±æ•°ç»„çš„æœ€åï¼ˆä½†åœ¨ v5 ä¸­å¿…é¡»æ”¾åœ¨æœ€åï¼‰ã€‚ 1ï¼‰åŸºç¡€é…ç½®12345678910111213141516// src/router/index.jsxconst router = createBrowserRouter([ &#123; path: &quot;/&quot;, element: &lt;Home /&gt;, &#125;, &#123; path: &quot;/about&quot;, element: &lt;About /&gt;, &#125;, // ğŸ”¥ 404 è·¯ç”±é…ç½®ï¼ˆé€šå¸¸å»ºè®®æ”¾åœ¨æœ€åï¼Œä¾¿äºé˜…è¯»ï¼‰ &#123; path: &quot;*&quot;, element: &lt;NotFound /&gt;, &#125;,]); 2ï¼‰åˆ›å»ºä¼˜é›…çš„ 404 ç»„ä»¶ç®€å•çš„ 404 é¡µé¢åº”è¯¥åŒ…å«é”™è¯¯æç¤ºå’Œè¿”å›é¦–é¡µçš„æŒ‰é’®ã€‚ 1234567891011121314151617181920212223// src/pages/NotFound.jsximport &#123; Link, useNavigate &#125; from &quot;react-router-dom&quot;;export default function NotFound() &#123; const navigate = useNavigate(); return ( &lt;div style=&#123;&#123; textAlign: &quot;center&quot;, padding: &quot;50px&quot; &#125;&#125;&gt; &lt;h1 style=&#123;&#123; fontSize: &quot;72px&quot; &#125;&#125;&gt;404&lt;/h1&gt; &lt;p style=&#123;&#123; fontSize: &quot;24px&quot; &#125;&#125;&gt;æŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨ã€‚&lt;/p&gt; &lt;div style=&#123;&#123; marginTop: &quot;20px&quot; &#125;&#125;&gt; &lt;button onClick=&#123;() =&gt; navigate(-1)&#125; style=&#123;&#123; marginRight: &quot;10px&quot; &#125;&#125;&gt; è¿”å›ä¸Šä¸€é¡µ &lt;/button&gt; &lt;Link to=&quot;/&quot;&gt; &lt;button&gt;å›åˆ°é¦–é¡µ&lt;/button&gt; &lt;/Link&gt; &lt;/div&gt; &lt;/div&gt; );&#125; 3ï¼‰é‡å®šå‘åˆ°é¦–é¡µæœ‰æ—¶å€™æˆ‘ä»¬ä¸å¸Œæœ›æ˜¾ç¤º 404 é¡µé¢ï¼Œè€Œæ˜¯ç›´æ¥å°†ç”¨æˆ·é‡å®šå‘å›é¦–é¡µï¼ˆä¾‹å¦‚åœ¨åå°ç®¡ç†ç³»ç»Ÿä¸­ï¼‰ã€‚å¯ä»¥ä½¿ç”¨ &lt;Navigate&gt; ç»„ä»¶ã€‚ 1234&#123; path: &quot;*&quot;, element: &lt;Navigate to=&quot;/&quot; replace /&gt;, // replace: true é˜²æ­¢ç”¨æˆ·ç‚¹å‡»åé€€æ—¶é™·å…¥æ­»å¾ªç¯&#125; å››ã€Data API (è¿›é˜¶)React Router 6.4+ å¼•å…¥çš„ Data API ä¸ä»…ä»…æ˜¯å…³äºè·¯ç”±è·³è½¬ï¼Œå®ƒæä¾›äº†ä¸€å¥—å®Œæ•´çš„æ•°æ®ç”Ÿå‘½å‘¨æœŸç®¡ç†æ–¹æ¡ˆã€‚è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨è·¯ç”±å±‚é¢å¤„ç†æ•°æ®è·å–ã€æäº¤å’Œé”™è¯¯å¤„ç†ï¼Œå¤§å¤§å‡å°‘ç»„ä»¶å†…éƒ¨çš„å‰¯ä½œç”¨ä»£ç ã€‚ 4.1 æ•°æ®åŠ è½½ (Loader) æ³¨æ„ï¼šLoader çš„åŸºç¡€ç”¨æ³•å·²åœ¨ 3.1 èŠ‚ ä¸­ä»‹ç»ã€‚ Loader æ˜¯ Data API çš„è¯»å–ç«¯ã€‚å®ƒåœ¨è·¯ç”±æ¸²æŸ“å‰è¿è¡Œï¼Œä¸ºç»„ä»¶æä¾›æ•°æ®ã€‚ æ ¸å¿ƒä¼˜åŠ¿ï¼š å¹¶è¡ŒåŠ è½½ï¼šè·¯ç”±ç»„ä»¶å’Œæ•°æ®å¹¶è¡Œè¯·æ±‚ï¼Œæ¶ˆé™¤ç€‘å¸ƒæµã€‚ æ•°æ®&#x2F;UI åˆ†ç¦»ï¼šç»„ä»¶åªè´Ÿè´£æ¥æ”¶æ•°æ®æ¸²æŸ“ï¼Œä¸è´Ÿè´£ Fetchã€‚ 4.2 æ•°æ®æäº¤ (Action)Action æ˜¯ Data API çš„å†™å…¥ç«¯ï¼Œç”¨äºå¤„ç†é GET è¯·æ±‚ï¼ˆå¦‚ POST, PUT, DELETEï¼‰ã€‚å®ƒä¸ &lt;Form&gt; ç»„ä»¶é…åˆï¼Œèƒ½åœ¨ä¸æ‰‹åŠ¨ç¼–å†™ onSubmit å’Œ fetch çš„æƒ…å†µä¸‹å®Œæˆæ•°æ®æäº¤ã€‚ 1ï¼‰å®šä¹‰ Action1234567891011121314// src/pages/Login.jsximport &#123; redirect &#125; from &quot;react-router-dom&quot;;export async function loginAction(&#123; request &#125;) &#123; // è·å–è¡¨å•æ•°æ® const formData = await request.formData(); const data = Object.fromEntries(formData); // å‘èµ·è¯·æ±‚ await fetch(&quot;/api/login&quot;, &#123; method: &quot;POST&quot;, body: JSON.stringify(data) &#125;); // æˆåŠŸåé‡å®šå‘ return redirect(&quot;/dashboard&quot;);&#125; 2ï¼‰ç»‘å®š Config123456// router/index.jsx&#123; path: &quot;/login&quot;, element: &lt;Login /&gt;, action: loginAction, // ğŸ‘ˆ ç»‘å®š action&#125; 3ï¼‰ä½¿ç”¨ Form ç»„ä»¶1234567891011import &#123; Form &#125; from &quot;react-router-dom&quot;;function Login() &#123; return ( &lt;Form method=&quot;post&quot;&gt; &lt;input name=&quot;username&quot; type=&quot;text&quot; /&gt; &lt;input name=&quot;password&quot; type=&quot;password&quot; /&gt; &lt;button type=&quot;submit&quot;&gt;ç™»å½•&lt;/button&gt; &lt;/Form&gt; );&#125; 4.3 æ— å¯¼èˆªäº¤äº’ (useFetcher)é€šå¸¸ç‚¹å‡»é“¾æ¥æˆ–æäº¤è¡¨å•ä¼šå¯¼è‡´é¡µé¢è·³è½¬ã€‚ä½†æœ‰äº›æ“ä½œæˆ‘ä»¬ä¸å¸Œæœ›è·³è½¬é¡µé¢ï¼Œæ¯”å¦‚ï¼šç‚¹èµã€åŠ å…¥è´­ç‰©è½¦ã€Newsletter è®¢é˜…ã€‚è¿™æ—¶ä½¿ç”¨ useFetcherã€‚ æä¾›äº† fetcher.Formã€fetcher.submitã€fetcher.load ç­‰æ–¹æ³•ï¼Œå¯ä»¥åœ¨ä¸å¯¼èˆªçš„æƒ…å†µä¸‹è§¦å‘ loader æˆ– actionã€‚ 12345678910111213141516171819import &#123; useFetcher &#125; from &quot;react-router-dom&quot;;function ProductItem(&#123; product &#125;) &#123; const fetcher = useFetcher(); const isSubmitting = fetcher.state === &quot;submitting&quot;; return ( &lt;div className=&quot;product-card&quot;&gt; &lt;h3&gt;&#123;product.name&#125;&lt;/h3&gt; &#123;/* è¿™é‡Œçš„æäº¤ä¸ä¼šå¯¼è‡´é¡µé¢è·³è½¬ï¼Œä½†ä¼šè§¦å‘ action å¹¶è‡ªåŠ¨é‡æ–°éªŒè¯é¡µé¢æ•°æ® */&#125; &lt;fetcher.Form method=&quot;post&quot; action=&quot;/add-to-cart&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;productId&quot; value=&#123;product.id&#125; /&gt; &lt;button type=&quot;submit&quot; disabled=&#123;isSubmitting&#125;&gt; &#123;isSubmitting ? &quot;æ·»åŠ ä¸­...&quot; : &quot;åŠ å…¥è´­ç‰©è½¦&quot;&#125; &lt;/button&gt; &lt;/fetcher.Form&gt; &lt;/div&gt; );&#125; 4.4 é”™è¯¯è¾¹ç•Œ (ErrorElement)æ¯ä¸ªè·¯ç”±éƒ½å¯ä»¥å®šä¹‰ä¸€ä¸ª errorElementã€‚å½“ loaderã€action æˆ–ç»„ä»¶æ¸²æŸ“è¿‡ç¨‹ä¸­æŠ›å‡ºé”™è¯¯æ—¶ï¼ŒReact Router ä¼šæ•è·å®ƒå¹¶æ¸²æŸ“ errorElementï¼Œè€Œä¸æ˜¯è®©æ•´ä¸ªé¡µé¢ç™½å±ã€‚ 12345678&#123; path: &quot;/&quot;, loader: async () =&gt; &#123; throw new Error(&quot;Oh no!&quot;); &#125;, element: &lt;Home /&gt;, errorElement: &lt;ErrorPage /&gt;, // ğŸ‘ˆ ç”¨æˆ·å°†çœ‹åˆ°è¿™ä¸ªç»„ä»¶&#125; äº”ã€å°è£…å¼è·¯ç”±é…ç½® (Best Practice)åœ¨çœŸå®é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å°†è·¯ç”±é…ç½®æŠ½ç¦»åˆ°ç‹¬ç«‹æ–‡ä»¶ä¸­ç®¡ç†ï¼Œä½¿å…¶ç»“æ„æ›´æ¸…æ™°ã€‚ 5.1 ç›®å½•ç»“æ„æ¨èåœ¨ src/router ç›®å½•ä¸‹ç®¡ç†è·¯ç”±ï¼š 12345678src/â”œâ”€â”€ main.jsx &lt;-- å…¥å£æ–‡ä»¶â”œâ”€â”€ pages/â”‚ â”œâ”€â”€ Home.jsxâ”‚ â”œâ”€â”€ Login.jsxâ”‚ â””â”€â”€ Dashboard.jsxâ”œâ”€â”€ router/â”‚ â””â”€â”€ index.jsx &lt;-- è·¯ç”±é…ç½®æ–‡ä»¶ 5.2 è·¯ç”±é…ç½®æ–‡ä»¶åˆ©ç”¨ createBrowserRouter å’Œ lazy å®ç°é…ç½®åŒ–ä¸æ‡’åŠ è½½çš„å®Œç¾ç»“åˆã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950// src/router/index.jsximport &#123; lazy &#125; from &quot;react&quot;;import &#123; createBrowserRouter, Navigate &#125; from &quot;react-router-dom&quot;;// æ‡’åŠ è½½é¡µé¢ç»„ä»¶const Home = lazy(() =&gt; import(&quot;../pages/Home&quot;));const About = lazy(() =&gt; import(&quot;../pages/About&quot;));const Dashboard = lazy(() =&gt; import(&quot;../pages/Dashboard&quot;));const Login = lazy(() =&gt; import(&quot;../pages/Login&quot;));// åŠ è½½ä¸­ç»„ä»¶const Loading = () =&gt; &lt;div className=&quot;p-4&quot;&gt;Loading...&lt;/div&gt;;// è·¯ç”±è¡¨å®šä¹‰const routes = [ &#123; path: &quot;/&quot;, element: Home, &#125;, &#123; path: &quot;/login&quot;, element: Login, &#125;, &#123; path: &quot;/dashboard&quot;, element: Dashboard, // åµŒå¥—è·¯ç”±é…ç½® children: [ &#123; path: &quot;stats&quot;, // è·¯å¾„ä¸º /dashboard/stats å­è·¯ç”±ä¸è¦åŠ &#x27;/&#x27; element: &lt;div&gt;Stats View&lt;/div&gt;, &#125;, &#123; path: &quot;settings&quot;, // è·¯å¾„ä¸º /dashboard/settings element: &lt;div&gt;Settings View&lt;/div&gt;, &#125;, ], &#125;, // 404 è·¯ç”±å¤„ç† &#123; path: &quot;*&quot;, element: &lt;Navigate to=&quot;/&quot; replace /&gt;, &#125;,];// åˆ›å»ºå¹¶å¯¼å‡ºè·¯ç”±å®ä¾‹const router = createBrowserRouter(routes);export default router; 5.3 æ¥å…¥12345678910111213141516// App.jsximport &#123; RouterProvider &#125; from &quot;react-router-dom&quot;;import &#123; Suspense &#125; from &quot;react&quot;;import router from &quot;./router&quot;;function App() &#123; return ( &lt;&gt; &lt;Suspense fallback=&#123;&lt;div&gt;Loading...&lt;/div&gt;&#125;&gt; &lt;RouterProvider router=&#123;router&#125; /&gt; &lt;/Suspense&gt; &lt;/&gt; );&#125;export default App; å…­ã€è¿›é˜¶ä¸ä¼˜åŒ–åœ¨å°è£…å¼å†™æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ…è£…ç»„ä»¶æ¥ä¿æŠ¤è·¯ç”±ã€‚ 6.1 è·¯ç”±å®ˆå« (Protected Routes)1234567891011121314151617181920212223// components/AuthGuard.jsximport &#123; Navigate, useLocation &#125; from &#x27;react-router-dom&#x27;;export default function AuthGuard(&#123; children &#125;) &#123; const isLogged = false; // æ›¿æ¢ä¸ºçœŸå®çš„é‰´æƒé€»è¾‘ const location = useLocation(); if (!isLogged) &#123; return &lt;Navigate to=&quot;/login&quot; state=&#123;&#123; from: location &#125;&#125; replace /&gt;; &#125; return children;&#125;// src/router/index.js ä½¿ç”¨&#123; path: &#x27;/admin&#x27;, element: ( &lt;AuthGuard&gt; &lt;AdminPage /&gt; &lt;/AuthGuard&gt; ),&#125; 6.2 å…¨å±€ Loading çŠ¶æ€ä½¿ç”¨ useNavigation ç›‘å¬å…¨å±€è·¯ç”±è·³è½¬çŠ¶æ€ã€‚ 12345678910111213import &#123; useNavigation, Outlet &#125; from &quot;react-router-dom&quot;;function RootLayout() &#123; const navigation = useNavigation(); const isLoading = navigation.state === &quot;loading&quot;; return ( &lt;&gt; &#123;isLoading &amp;&amp; &lt;GlobalSpinner /&gt;&#125; &lt;Outlet /&gt; &lt;/&gt; );&#125; ä¸ƒã€å¸¸è§è¯¯åŒº (Common Pitfalls)7.1 é”™è¯¯ä½¿ç”¨ Layout ç»„ä»¶ (Context ä¸¢å¤±)å¾ˆå¤šåˆå­¦è€…å®¹æ˜“çŠ¯çš„ä¸€ä¸ªé”™è¯¯æ˜¯ï¼šå°†å¸ƒå±€ç»„ä»¶ (Layout &#x2F; Menu) é˜²æ­¢åœ¨ RouterProvider ä¹‹å¤–ã€‚ é”™è¯¯å†™æ³•ï¼š 123456789// App.jsxfunction App() &#123; return ( &lt;div className=&quot;app&quot;&gt; &lt;Layout /&gt; &#123;/* âŒ é”™è¯¯ï¼šLayout åœ¨ RouterContext ä¹‹å¤– */&#125; &lt;RouterProvider router=&#123;router&#125; /&gt; &lt;/div&gt; );&#125; é—®é¢˜åæœï¼š æ— æ³•ä½¿ç”¨ &lt;Link&gt; &#x2F; &lt;NavLink&gt;ï¼šç‚¹å‡»èœå•ä¼šæŠ¥é”™ useHref() may be used only in the context of a &lt;Router&gt; component. æ— æ³•ä½¿ç”¨ hooksï¼šuseLocationã€useNavigate ç­‰ Hook å‡æ— æ³•å·¥ä½œã€‚ è·¯ç”±çŠ¶æ€æ— æ³•å…±äº«ï¼šå¸ƒå±€ç»„ä»¶æ— æ³•æ„ŸçŸ¥å½“å‰çš„è·¯ç”±å˜åŒ–ã€‚ å¦‚æœLayoutä¸­æ˜¯å›ºå®šçš„å†…å®¹ï¼Œä¸æ¶‰åŠè·¯ç”±è·³è½¬ç­‰ï¼Œå¸ƒå±€ç»„ä»¶åˆ™å¯ä»¥å†™åœ¨ RouterProvider ä¹‹å¤– æœ€ä½³å®è·µï¼šæ˜¯åˆ©ç”¨ åµŒå¥—è·¯ç”± (Nested Routes) å’Œ &lt;Outlet /&gt;ã€‚ ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºå¸ƒå±€ç»„ä»¶ (src&#x2F;components&#x2F;Layout.jsx) åˆ©ç”¨ &lt;Outlet /&gt; æ¸²æŸ“å­è·¯ç”±å†…å®¹ï¼š 12345678910111213141516import &#123; Outlet, Link &#125; from &quot;react-router-dom&quot;;function Layout() &#123; return ( &lt;div className=&quot;layout&quot;&gt; &lt;nav&gt; &lt;Link to=&quot;/&quot;&gt;é¦–é¡µ&lt;/Link&gt; | &lt;Link to=&quot;/about&quot;&gt;å…³äº&lt;/Link&gt; &lt;/nav&gt; &lt;hr /&gt; &#123;/* å­è·¯ç”±çš„å†…å®¹å°†æ¸²æŸ“åœ¨è¿™é‡Œ */&#125; &lt;Outlet /&gt; &lt;/div&gt; );&#125;export default Layout; ç¬¬äºŒæ­¥ï¼šé…ç½®åµŒå¥—è·¯ç”± (src&#x2F;router&#x2F;index.jsx) 123456789101112131415161718192021222324import &#123; createBrowserRouter &#125; from &quot;react-router-dom&quot;;import Layout from &quot;../components/Layout&quot;;import Home from &quot;../pages/Home&quot;;import About from &quot;../pages/About&quot;;const router = createBrowserRouter([ &#123; path: &quot;/&quot;, element: &lt;Layout /&gt;, // 1. æ ¹è·¯å¾„æ¸²æŸ“å¸ƒå±€ children: [ // 2. å­è·¯ç”±æ¸²æŸ“åœ¨ Layout çš„ Outlet ä¸­ &#123; index: true, // é»˜è®¤å­è·¯ç”± (å¯¹åº” path: &quot;/&quot;) element: &lt;Home /&gt;, &#125;, &#123; path: &quot;about&quot;, element: &lt;About /&gt;, &#125;, ], &#125;,]);export default router; ç¬¬ä¸‰æ­¥ï¼šå…¥å£æ–‡ä»¶ (src&#x2F;main.jsx) å…¥å£æ–‡ä»¶ä¿æŒç®€æ´ï¼Œåªéœ€æ³¨å…¥ routerï¼š 123456789101112import React from &quot;react&quot;;import ReactDOM from &quot;react-dom/client&quot;;import &#123; RouterProvider &#125; from &quot;react-router-dom&quot;;import router from &quot;./router&quot;;ReactDOM.createRoot(document.getElementById(&quot;root&quot;)).render( &lt;React.StrictMode&gt; &lt;RouterProvider router=&#123;router&#125; /&gt; &#123;/* é»˜è®¤è¿™é‡Œæ˜¯APPç»„ä»¶ï¼Œä¹Ÿå¯ä»¥å°†&lt;RouterProvider router=&#123;router&#125; /&gt;å†™åˆ°APPç»„ä»¶ä¸­å» */&#125; &#123;/* &lt;App /&gt; */&#125; &lt;/React.StrictMode&gt;,); å…«ã€æ€»ç»“React Router v6.4+ å®šä¹‰äº†ç°ä»£ React åº”ç”¨çš„è·¯ç”±æ ‡å‡†ï¼š ä½¿ç”¨ createBrowserRouter è¿›è¡Œé›†ä¸­å¼è·¯ç”±ç®¡ç†ã€‚ åˆ©ç”¨ loader æå‰åŠ è½½æ•°æ®ï¼Œæå‡é¦–å±ä½“éªŒã€‚ ç»“åˆ Suspense å’Œ lazy å®ç°ä»£ç åˆ†å‰²ã€‚ ç›®å½•ç»“æ„è§„èŒƒåŒ–ï¼Œå°†è·¯ç”±é€»è¾‘ä¸ UI ç»„ä»¶åˆ†ç¦»ã€‚ æŒæ¡è¿™å¥—æ¨¡å¼ï¼Œä½ å°†èƒ½æ„å»ºå‡ºæ€§èƒ½æ›´ä¼˜ã€æ¶æ„æ›´æ¸…æ™°çš„ React åº”ç”¨ã€‚","categories":[{"name":"å‰ç«¯å¼€å‘","slug":"å‰ç«¯å¼€å‘","permalink":"http://example.com/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"React","slug":"React","permalink":"http://example.com/tags/React/"},{"name":"React Router","slug":"React-Router","permalink":"http://example.com/tags/React-Router/"}]},{"title":"React å®Œå…¨æŒ‡å— (React 18 & 19)","slug":"47-React å®Œå…¨æŒ‡å— (React 18 & 19)","date":"2025-12-02T10:28:38.000Z","updated":"2026-03-01T16:07:38.353Z","comments":true,"path":"posts/4179c0b9.html","permalink":"http://example.com/posts/4179c0b9.html","excerpt":"","text":"React åˆå­¦è€…å®Œå…¨æŒ‡å— (React 18 &amp; 19) ğŸ“š æœ¬æŒ‡å—æ—¨åœ¨å¸®åŠ©åˆå­¦è€…å¿«é€ŸæŒæ¡ React çš„æ ¸å¿ƒæ¦‚å¿µå’Œæœ€æ–°ç‰¹æ€§ ç›®å½• React ç®€ä»‹ ç¯å¢ƒæ­å»º æ ¸å¿ƒæ¦‚å¿µ React Hooks è¯¦è§£ HOC é«˜é˜¶ç»„ä»¶ React 18 æ–°ç‰¹æ€§ React 19 æ–°ç‰¹æ€§ æœ€ä½³å®è·µ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ ä¸€ã€React ç®€ä»‹1.1 ä»€ä¹ˆæ˜¯ Reactï¼ŸReact æ˜¯ç”± Facebookï¼ˆç° Metaï¼‰å¼€å‘çš„ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š ç»„ä»¶åŒ–ï¼šå°† UI æ‹†åˆ†æˆç‹¬ç«‹ã€å¯å¤ç”¨çš„ç»„ä»¶ å£°æ˜å¼ï¼šæè¿° UI åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ï¼Œè€Œä¸æ˜¯å¦‚ä½•æ”¹å˜å®ƒ å•å‘æ•°æ®æµï¼šæ•°æ®ä»çˆ¶ç»„ä»¶æµå‘å­ç»„ä»¶ï¼Œä½¿åº”ç”¨æ›´å¯é¢„æµ‹ 1.2 ä¸ºä»€ä¹ˆé€‰æ‹© Reactï¼Ÿ ä¼˜åŠ¿ è¯´æ˜ ğŸš€ é«˜æ€§èƒ½ è™šæ‹Ÿ DOM æœ€å°åŒ–çœŸå® DOM æ“ä½œ ğŸ§© ç»„ä»¶å¤ç”¨ ä¸€æ¬¡ç¼–å†™ï¼Œå¤šå¤„ä½¿ç”¨ ğŸŒ ç”Ÿæ€ä¸°å¯Œ å¤§é‡ç¬¬ä¸‰æ–¹åº“å’Œå·¥å…·æ”¯æŒ ğŸ“± è·¨å¹³å° React Native å¯å¼€å‘ç§»åŠ¨åº”ç”¨ ğŸ‘¥ ç¤¾åŒºæ´»è·ƒ ä¸°å¯Œçš„å­¦ä¹ èµ„æºå’Œè§£å†³æ–¹æ¡ˆ äºŒã€ ç¯å¢ƒæ­å»º2.1 ä½¿ç”¨ Vite åˆ›å»ºé¡¹ç›®ï¼ˆæ¨èï¼‰12345678910111213# ä½¿ç”¨ npmnpm create vite@latest vite-react-app -- --template react# ä½¿ç”¨ pnpmpnpm create vite vite-react-app --template react# ä½¿ç”¨ yarnyarn create vite vite-react-app --template react# è¿›å…¥é¡¹ç›®ç›®å½•å¹¶å¯åŠ¨cd vite-react-appnpm/pnpm/yarn installnpm/pnpm/yarn run dev 2.2 ä½¿ç”¨ Create React App123npx create-react-app webpack-react-appcd webpack-react-appnpm start 2.3 é¡¹ç›®ç»“æ„vite 12345678910111213141516vite-react-app/â”œâ”€â”€ ğŸ“ public/ # å…¬å…±èµ„æºç›®å½•â”‚ â””â”€â”€ vite.svg # Vite é¡¹ç›®é»˜è®¤ SVG å›¾æ ‡â”œâ”€â”€ ğŸ“ src/ # æºä»£ç ç›®å½•â”‚ â”œâ”€â”€ ğŸ“ assets/ # é™æ€èµ„æºç›®å½•â”‚ â”œâ”€â”€ App.jsx # æ ¹ç»„ä»¶â”‚ â”œâ”€â”€ App.css # App ç»„ä»¶æ ·å¼æ–‡ä»¶â”‚ â”œâ”€â”€ main.jsx # åº”ç”¨å…¥å£æ–‡ä»¶â”‚ â””â”€â”€ index.css # å…¨å±€æ ·å¼æ–‡ä»¶â”œâ”€â”€ .gitignore # Git å¿½ç•¥é…ç½®æ–‡ä»¶â”œâ”€â”€ README.md # é¡¹ç›®è¯´æ˜æ–‡æ¡£â”œâ”€â”€ eslint.config.js # ESLint é…ç½®æ–‡ä»¶â”œâ”€â”€ index.html # HTML å…¥å£æ–‡ä»¶â”œâ”€â”€ package.json # é¡¹ç›®é…ç½®æ–‡ä»¶â”œâ”€â”€ pnpm-lock.yaml # pnpm ä¾èµ–é”å®šæ–‡ä»¶â””â”€â”€ vite.config.js # Vite é…ç½®æ–‡ä»¶ webpack 123456789101112131415161718webpack-react-app/â”œâ”€â”€ ğŸ“ public/ # å…¬å…±èµ„æºç›®å½•â”‚ â”œâ”€â”€ favicon.ico # ç½‘ç«™å›¾æ ‡â”‚ â”œâ”€â”€ index.html # HTML å…¥å£æ–‡ä»¶â”‚ â”œâ”€â”€ manifest.json # Web App æ¸…å•æ–‡ä»¶â”‚ â””â”€â”€ robots.txt # æœç´¢å¼•æ“çˆ¬è™«è§„åˆ™â”œâ”€â”€ ğŸ“ src/ # æºä»£ç ç›®å½•â”‚ â”œâ”€â”€ App.css # App ç»„ä»¶æ ·å¼æ–‡ä»¶â”‚ â”œâ”€â”€ App.js # æ ¹ç»„ä»¶â”‚ â”œâ”€â”€ App.test.js # App ç»„ä»¶æµ‹è¯•æ–‡ä»¶â”‚ â”œâ”€â”€ index.css # å…¨å±€æ ·å¼æ–‡ä»¶â”‚ â”œâ”€â”€ index.js # åº”ç”¨å…¥å£æ–‡ä»¶â”‚ â”œâ”€â”€ reportWebVitals.js # æ€§èƒ½æ£€æµ‹æ–‡ä»¶â”‚ â””â”€â”€ setupTests.js # æµ‹è¯•è®¾ç½®æ–‡ä»¶â”œâ”€â”€ .gitignore # Git å¿½ç•¥é…ç½®æ–‡ä»¶â”œâ”€â”€ README.md # é¡¹ç›®è¯´æ˜æ–‡æ¡£â”œâ”€â”€ package-lock.json # npm ä¾èµ–é”å®šæ–‡ä»¶â””â”€â”€ package.json # é¡¹ç›®é…ç½®æ–‡ä»¶ 2.4 è·¨åŸŸè¯·æ±‚ä»£ç†é…ç½®åœ¨å‰åç«¯åˆ†ç¦»è·¨åŸŸå¼€å‘æ—¶ï¼Œé€šå¸¸éœ€è¦åœ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨ä¸­é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜ã€‚ 1ï¼‰Vite é…ç½®è·¨åŸŸä»£ç†ä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„ vite.config.js æ–‡ä»¶ï¼Œåœ¨ server é€‰é¡¹ä¸­æ·»åŠ ç”¨æˆ·æŒ‡å®šçš„ proxyï¼š 123456789101112131415import &#123; defineConfig &#125; from &quot;vite&quot;;import react from &quot;@vitejs/plugin-react&quot;;export default defineConfig(&#123; plugins: [react()], server: &#123; proxy: &#123; &quot;/api&quot;: &#123; target: &quot;https://jsonplaceholder.typicode.com&quot;, // å®é™…åç«¯åœ°å€ changeOrigin: true, rewrite: (path) =&gt; path.replace(/^\\/api/, &quot;&quot;), // å¦‚æœåç«¯æ¥å£æœ¬èº«ä¸å¸¦ /api å‰ç¼€ &#125;, &#125;, &#125;,&#125;); 2ï¼‰Create React App é…ç½®è·¨åŸŸä»£ç†CRA å®˜æ–¹æ¨èé€šè¿‡åœ¨ src ç›®å½•ä¸‹åˆ›å»º setupProxy.js æ¥é…ç½®ä»£ç†åº•å±‚ä¸­é—´ä»¶ã€‚ å®‰è£…ä»£ç†æ’ä»¶ï¼š 1npm install http-proxy-middleware --save åœ¨ src/ ç›®å½•ä¸­æ–°å»º setupProxy.jsï¼ˆæ³¨æ„ï¼šç”±äºå®ƒæ˜¯ Node ç¯å¢ƒç›´æ¥è¯»å–é…ç½®ï¼Œåªèƒ½ä½¿ç”¨ CommonJS è§„èŒƒï¼‰ï¼Œå†™å…¥ä»¥ä¸‹é…ç½®ï¼š 1234567891011121314const &#123; createProxyMiddleware &#125; = require(&quot;http-proxy-middleware&quot;);module.exports = function (app) &#123; app.use( &quot;/api&quot;, createProxyMiddleware(&#123; target: &quot;https://jsonplaceholder.typicode.com&quot;, // å®é™…åç«¯åœ°å€ changeOrigin: true, pathRewrite: &#123; &quot;^/api&quot;: &quot;&quot;, // è·¯å¾„é‡å†™ï¼Œå»æ‰ /api å‰ç¼€ &#125;, &#125;), );&#125;; ä¸‰ã€ æ ¸å¿ƒæ¦‚å¿µ3.1 JSX è¯­æ³•JSX æ˜¯ JavaScript çš„è¯­æ³•æ‰©å±•ï¼Œè®©ä½ å¯ä»¥åœ¨ JS ä¸­ç¼–å†™ç±»ä¼¼ HTML çš„ä»£ç ï¼š 123456789101112131415161718// JSX åŸºç¡€è¯­æ³•function Welcome() &#123; const name = &quot;React&quot;; const isLoggedIn = true; return ( &lt;div className=&quot;welcome&quot;&gt; &#123;/* ä½¿ç”¨èŠ±æ‹¬å·åµŒå…¥è¡¨è¾¾å¼ */&#125; &lt;h1&gt;Hello, &#123;name&#125;!&lt;/h1&gt; &#123;/* æ¡ä»¶æ¸²æŸ“ */&#125; &#123;isLoggedIn ? &lt;p&gt;æ¬¢è¿å›æ¥&lt;/p&gt; : &lt;p&gt;è¯·ç™»å½•&lt;/p&gt;&#125; &#123;/* æ³¨æ„ï¼šclass è¦å†™æˆ className */&#125; &lt;button className=&quot;btn&quot;&gt;ç‚¹å‡»æˆ‘&lt;/button&gt; &lt;/div&gt; );&#125; 1ï¼‰JSX è§„åˆ™é€Ÿè®° HTML JSX class className for htmlFor onclick onClick tabindex tabIndex 3.2 ç»„ä»¶1ï¼‰å‡½æ•°ç»„ä»¶ï¼ˆæ¨èï¼‰123456789// å‡½æ•°ç»„ä»¶æ˜¯ React æ¨èçš„ç¼–å†™æ–¹å¼function Greeting(&#123; name &#125;) &#123; return &lt;h1&gt;ä½ å¥½, &#123;name&#125;!&lt;/h1&gt;;&#125;// ç®­å¤´å‡½æ•°å†™æ³•const Greeting = (&#123; name &#125;) =&gt; &#123; return &lt;h1&gt;ä½ å¥½, &#123;name&#125;!&lt;/h1&gt;;&#125;; 2ï¼‰ç±»ç»„ä»¶ï¼ˆäº†è§£å³å¯ï¼‰1234567import &#123; Component &#125; from &quot;react&quot;;class Greeting extends Component &#123; render() &#123; return &lt;h1&gt;ä½ å¥½, &#123;this.props.name&#125;!&lt;/h1&gt;; &#125;&#125; 3.3 Propsï¼ˆå±æ€§ï¼‰Props æ˜¯çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®ï¼š 12345678910111213141516171819202122// çˆ¶ç»„ä»¶function App() &#123; return ( &lt;UserCard name=&quot;å¼ ä¸‰&quot; age=&#123;25&#125; isAdmin=&#123;true&#125; hobbies=&#123;[&quot;è¯»ä¹¦&quot;, &quot;æ¸¸æˆ&quot;]&#125; /&gt; );&#125;// å­ç»„ä»¶function UserCard(&#123; name, age, isAdmin, hobbies &#125;) &#123; return ( &lt;div className=&quot;card&quot;&gt; &lt;h2&gt;&#123;name&#125;&lt;/h2&gt; &lt;p&gt;å¹´é¾„: &#123;age&#125;&lt;/p&gt; &lt;p&gt;èº«ä»½: &#123;isAdmin ? &quot;ç®¡ç†å‘˜&quot; : &quot;æ™®é€šç”¨æˆ·&quot;&#125;&lt;/p&gt; &lt;ul&gt; &#123;hobbies.map((hobby, index) =&gt; ( &lt;li key=&#123;index&#125;&gt;&#123;hobby&#125;&lt;/li&gt; ))&#125; &lt;/ul&gt; &lt;/div&gt; );&#125; 1ï¼‰Props é»˜è®¤å€¼123function Button(&#123; text = &quot;ç‚¹å‡»&quot;, type = &quot;primary&quot; &#125;) &#123; return &lt;button className=&#123;`btn-$&#123;type&#125;`&#125;&gt;&#123;text&#125;&lt;/button&gt;;&#125; 3.4 Stateï¼ˆçŠ¶æ€ï¼‰State æ˜¯ç»„ä»¶å†…éƒ¨çš„å¯å˜æ•°æ®ï¼š 123456789101112131415import &#123; useState &#125; from &quot;react&quot;;function Counter() &#123; // å£°æ˜çŠ¶æ€ï¼š[å½“å‰å€¼, æ›´æ–°å‡½æ•°] = useState(åˆå§‹å€¼) const [count, setCount] = useState(0); return ( &lt;div&gt; &lt;p&gt;å½“å‰è®¡æ•°: &#123;count&#125;&lt;/p&gt; &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;+1&lt;/button&gt; &lt;button onClick=&#123;() =&gt; setCount(count - 1)&#125;&gt;-1&lt;/button&gt; &lt;button onClick=&#123;() =&gt; setCount(0)&#125;&gt;é‡ç½®&lt;/button&gt; &lt;/div&gt; );&#125; 1ï¼‰State æ›´æ–°æ³¨æ„äº‹é¡¹12345678910111213141516171819function Example() &#123; const [user, setUser] = useState(&#123; name: &quot;å¼ ä¸‰&quot;, age: 25 &#125;); // âŒ é”™è¯¯ï¼šç›´æ¥ä¿®æ”¹çŠ¶æ€ const wrongUpdate = () =&gt; &#123; user.age = 26; // ä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ &#125;; // âœ… æ­£ç¡®ï¼šåˆ›å»ºæ–°å¯¹è±¡ const correctUpdate = () =&gt; &#123; setUser(&#123; ...user, age: 26 &#125;); &#125;; // âœ… ä½¿ç”¨å‡½æ•°å¼æ›´æ–°ï¼ˆåŸºäºå‰ä¸€ä¸ªçŠ¶æ€ï¼‰ const [count, setCount] = useState(0); const increment = () =&gt; &#123; setCount((prevCount) =&gt; prevCount + 1); &#125;;&#125; 3.5 äº‹ä»¶å¤„ç†12345678910111213141516171819202122232425function EventExample() &#123; // ç‚¹å‡»äº‹ä»¶ const handleClick = (e) =&gt; &#123; console.log(&quot;æŒ‰é’®è¢«ç‚¹å‡»&quot;, e); &#125;; // å¸¦å‚æ•°çš„äº‹ä»¶å¤„ç† const handleDelete = (id) =&gt; &#123; console.log(&quot;åˆ é™¤é¡¹ç›®:&quot;, id); &#125;; // è¡¨å•è¾“å…¥ const [value, setValue] = useState(&quot;&quot;); const handleChange = (e) =&gt; &#123; setValue(e.target.value); &#125;; return ( &lt;div&gt; &lt;button onClick=&#123;handleClick&#125;&gt;ç‚¹å‡»æˆ‘&lt;/button&gt; &lt;button onClick=&#123;() =&gt; handleDelete(123)&#125;&gt;åˆ é™¤&lt;/button&gt; &lt;input value=&#123;value&#125; onChange=&#123;handleChange&#125; /&gt; &lt;/div&gt; );&#125; 3.6 æ¡ä»¶æ¸²æŸ“123456789101112131415161718function ConditionalExample(&#123; isLoggedIn, messages &#125;) &#123; return ( &lt;div&gt; &#123;/* æ–¹å¼1: ä¸‰å…ƒè¿ç®—ç¬¦ */&#125; &#123;isLoggedIn ? &lt;LogoutButton /&gt; : &lt;LoginButton /&gt;&#125; &#123;/* æ–¹å¼2: &amp;&amp; çŸ­è·¯è¿ç®— */&#125; &#123;messages.length &gt; 0 &amp;&amp; &lt;Badge count=&#123;messages.length&#125; /&gt;&#125; &#123;/* æ–¹å¼3: if-else æå‰è¿”å› */&#125; &#123;(() =&gt; &#123; if (messages.length === 0) return &lt;p&gt;æš‚æ— æ¶ˆæ¯&lt;/p&gt;; if (messages.length &lt; 5) return &lt;p&gt;å°‘é‡æ¶ˆæ¯&lt;/p&gt;; return &lt;p&gt;å¤§é‡æ¶ˆæ¯&lt;/p&gt;; &#125;)()&#125; &lt;/div&gt; );&#125; 3.7 åˆ—è¡¨æ¸²æŸ“123456789101112131415161718function TodoList() &#123; const todos = [ &#123; id: 1, text: &quot;å­¦ä¹  React&quot;, done: false &#125;, &#123; id: 2, text: &quot;å†™ä»£ç &quot;, done: true &#125;, &#123; id: 3, text: &quot;çœ‹æ–‡æ¡£&quot;, done: false &#125;, ]; return ( &lt;ul&gt; &#123;todos.map((todo) =&gt; ( // key å¿…é¡»æ˜¯å”¯ä¸€ä¸”ç¨³å®šçš„æ ‡è¯†ç¬¦ &lt;li key=&#123;todo.id&#125; className=&#123;todo.done ? &quot;completed&quot; : &quot;&quot;&#125;&gt; &#123;todo.text&#125; &lt;/li&gt; ))&#125; &lt;/ul&gt; );&#125; âš ï¸ key çš„é‡è¦æ€§ï¼škey å¸®åŠ© React è¯†åˆ«å“ªäº›å…ƒç´ æ”¹å˜äº†ï¼Œé¿å…ä½¿ç”¨æ•°ç»„ç´¢å¼•ä½œä¸º keyï¼ˆé™¤éåˆ—è¡¨æ˜¯é™æ€çš„ï¼‰ 3.8 CSS Modules - æ ·å¼ç®¡ç†CSS Modules æ˜¯ä¸€ç§ CSS æ–‡ä»¶çš„æ¨¡å—åŒ–å’Œä½œç”¨åŸŸåŒ–æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥è®© CSS ç±»åè‡ªåŠ¨ç”Ÿæˆå”¯ä¸€çš„åç§°ï¼Œé¿å…å…¨å±€æ ·å¼å†²çªã€‚ 1ï¼‰ä»€ä¹ˆæ˜¯ CSS Modulesï¼ŸCSS Modules çš„æ ¸å¿ƒæ€æƒ³ï¼š å±€éƒ¨ä½œç”¨åŸŸï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒCSS ç±»ååªåœ¨å½“å‰æ¨¡å—å†…ç”Ÿæ•ˆ è‡ªåŠ¨å‘½åï¼šæ„å»ºå·¥å…·ä¼šå°†ç±»åè½¬æ¢ä¸ºå”¯ä¸€çš„å“ˆå¸Œå€¼ï¼ˆå¦‚ .button â†’ .Button_button__2Rx3Lï¼‰ æ˜¾å¼ä¾èµ–ï¼šé€šè¿‡ import å¼•å…¥æ ·å¼ï¼Œæ˜ç¡®ç»„ä»¶ä¸æ ·å¼çš„å…³ç³» å¯ç»„åˆæ€§ï¼šæ”¯æŒ composes å…³é”®å­—å®ç°æ ·å¼ç»§æ‰¿ 2ï¼‰åŸºæœ¬ä½¿ç”¨Step 1ï¸âƒ£ï¼šåˆ›å»º CSS Module æ–‡ä»¶ æ–‡ä»¶å‘½åè§„èŒƒï¼š*.module.cssï¼ˆVite å’Œ CRA éƒ½é»˜è®¤æ”¯æŒï¼‰ 123456789101112131415161718192021/* Button.module.css */.button &#123; padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;&#125;.button:hover &#123; background-color: #0056b3;&#125;.primary &#123; background-color: #28a745;&#125;.danger &#123; background-color: #dc3545;&#125; Step 2ï¸âƒ£ï¼šåœ¨ç»„ä»¶ä¸­å¯¼å…¥å¹¶ä½¿ç”¨ 1234567891011import styles from &quot;./Button.module.css&quot;;function Button(&#123; type = &quot;default&quot;, children &#125;) &#123; return ( &lt;button className=&#123;styles.button&#125;&gt; &#123;children&#125; &lt;/button&gt; );&#125;export default Button; Step 3ï¸âƒ£ï¼šæŸ¥çœ‹ç¼–è¯‘åçš„ç±»å åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ï¼Œç±»åä¼šè¢«è½¬æ¢ä¸ºç±»ä¼¼è¿™æ ·çš„å”¯ä¸€æ ‡è¯†ï¼š 1&lt;button class=&quot;Button_button__2Rx3L&quot;&gt;ç‚¹å‡»æˆ‘&lt;/button&gt; 3ï¼‰åŠ¨æ€ç±»åç»„åˆ1ï¸âƒ£ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸² 123456789import styles from &quot;./Card.module.css&quot;;function Card(&#123; isActive, children &#125;) &#123; return ( &lt;div className=&#123;`$&#123;styles.card&#125; $&#123;isActive ? styles.active : &quot;&quot;&#125;`&#125;&gt; &#123;children&#125; &lt;/div&gt; );&#125; 2ï¸âƒ£ä½¿ç”¨ classnames åº“ï¼ˆæ¨èï¼‰ å…ˆå®‰è£…ï¼š 1npm install classnames ä½¿ç”¨æ–¹å¼ï¼š 1234567891011121314151617import styles from &quot;./Card.module.css&quot;;import classNames from &quot;classnames&quot;;function Card(&#123; isActive, isDisabled, children &#125;) &#123; return ( &lt;div className=&#123;classNames(styles.card, &#123; [styles.active]: isActive, [styles.disabled]: isDisabled, &#125;)&#125; &gt; &#123;children&#125; &lt;/div&gt; );&#125;export default Card; 3ï¸âƒ£ä½¿ç”¨ clsx åº“ï¼ˆè½»é‡æ›¿ä»£ï¼‰ 1npm install clsx 1234567891011121314151617import styles from &quot;./Button.module.css&quot;;import clsx from &quot;clsx&quot;;function Button(&#123; variant, size, disabled, children &#125;) &#123; return ( &lt;button className=&#123;clsx( styles.button, styles[variant], // åŠ¨æ€è®¿é—®æ ·å¼ styles[size], disabled &amp;&amp; styles.disabled )&#125; &gt; &#123;children&#125; &lt;/button&gt; );&#125; 4ï¼‰composes æ ·å¼ç»„åˆCSS Modules æ”¯æŒ composes å…³é”®å­—æ¥å®ç°æ ·å¼ç»§æ‰¿å’Œç»„åˆï¼š 12345678910111213141516171819/* Button.module.css */.button &#123; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer;&#125;.primary &#123; composes: button; background-color: #007bff; color: white;&#125;.danger &#123; composes: button; background-color: #dc3545; color: white;&#125; ä½¿ç”¨æ—¶åªéœ€åº”ç”¨ä¸€ä¸ªç±»åï¼š 12345678import styles from &quot;./Button.module.css&quot;;function Button(&#123; type &#125;) &#123; return &lt;button className=&#123;styles[type]&#125;&gt;æŒ‰é’®&lt;/button&gt;;&#125;// ä½¿ç”¨&lt;Button type=&quot;primary&quot; /&gt; // è‡ªåŠ¨ç»§æ‰¿ button çš„æ ·å¼ 5ï¼‰ä»å…¶ä»–æ–‡ä»¶ç»„åˆæ ·å¼12345678910111213/* base.module.css */.baseButton &#123; padding: 10px 20px; border: none; cursor: pointer;&#125;/* Button.module.css */.submitButton &#123; composes: baseButton from &quot;./base.module.css&quot;; background-color: green; color: white;&#125; 6ï¼‰å…¨å±€æ ·å¼ä¸å±€éƒ¨æ ·å¼æ··åˆ1ï¸âƒ£ä½¿ç”¨ :global å£°æ˜å…¨å±€æ ·å¼ 1234567891011121314/* App.module.css */.container &#123; padding: 20px;&#125;/* å…¨å±€æ ·å¼ */:global(.highlight) &#123; background-color: yellow;&#125;/* ä¹Ÿå¯ä»¥åµŒå¥— */.wrapper :global(.external-class) &#123; margin: 10px;&#125; 2ï¸âƒ£æ··åˆä½¿ç”¨å…¨å±€ç±»åå’Œæ¨¡å—ç±»å 123456789import styles from &quot;./App.module.css&quot;;function App() &#123; return ( &lt;div className=&#123;`$&#123;styles.container&#125; global-theme`&#125;&gt; &lt;span className=&quot;highlight&quot;&gt;å…¨å±€é«˜äº®&lt;/span&gt; &lt;/div&gt; );&#125; 7ï¼‰CSS å˜é‡ä¸ä¸»é¢˜åˆ‡æ¢12345678910111213141516/* theme.module.css */.light &#123; --bg-color: #ffffff; --text-color: #000000;&#125;.dark &#123; --bg-color: #1a1a1a; --text-color: #ffffff;&#125;.container &#123; background-color: var(--bg-color); color: var(--text-color); padding: 20px;&#125; 1234567891011121314151617import &#123; useState &#125; from &quot;react&quot;;import styles from &quot;./theme.module.css&quot;;function App() &#123; const [theme, setTheme] = useState(&quot;light&quot;); return ( &lt;div className=&#123;`$&#123;styles.container&#125; $&#123;styles[theme]&#125;`&#125;&gt; &lt;h1&gt;å½“å‰ä¸»é¢˜ï¼š&#123;theme&#125;&lt;/h1&gt; &lt;button onClick=&#123;() =&gt; setTheme(theme === &quot;light&quot; ? &quot;dark&quot; : &quot;light&quot;)&#125;&gt; åˆ‡æ¢ä¸»é¢˜ &lt;/button&gt; &lt;/div&gt; );&#125;export default App; 8ï¼‰é…åˆ Sass&#x2F;Less ä½¿ç”¨CSS Modules å®Œå…¨æ”¯æŒ CSS é¢„å¤„ç†å™¨ã€‚ 1ï¸âƒ£å®‰è£… Sass 1npm install sass 2ï¸âƒ£åˆ›å»º SCSS Module æ–‡ä»¶ 12345678910111213141516171819202122/* Button.module.scss */$primary-color: #007bff;$hover-darken: 10%;.button &#123; padding: 10px 20px; border: none; border-radius: 4px; &amp;.primary &#123; background-color: $primary-color; &amp;:hover &#123; background-color: darken($primary-color, $hover-darken); &#125; &#125; &amp;.large &#123; padding: 15px 30px; font-size: 18px; &#125;&#125; 3ï¸âƒ£åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ 123456789import styles from &quot;./Button.module.scss&quot;;function Button(&#123; variant = &quot;primary&quot;, size = &quot;medium&quot;, children &#125;) &#123; return ( &lt;button className=&#123;`$&#123;styles.button&#125; $&#123;styles[variant]&#125; $&#123;styles[size]&#125;`&#125;&gt; &#123;children&#125; &lt;/button&gt; );&#125; 9ï¼‰TypeScript æ”¯æŒ1ï¸âƒ£è‡ªåŠ¨ç”Ÿæˆç±»å‹å®šä¹‰ å®‰è£…ç±»å‹ç”Ÿæˆå·¥å…·ï¼š 1npm install -D typescript-plugin-css-modules é…ç½® tsconfig.jsonï¼š 12345&#123; &quot;compilerOptions&quot;: &#123; &quot;plugins&quot;: [&#123; &quot;name&quot;: &quot;typescript-plugin-css-modules&quot; &#125;] &#125;&#125; 2ï¸âƒ£æ‰‹åŠ¨åˆ›å»ºç±»å‹å®šä¹‰ 12345678910// Button.module.css.d.tsdeclare const styles: &#123; readonly button: string; readonly primary: string; readonly danger: string; readonly large: string; readonly small: string;&#125;;export default styles; 3ï¸âƒ£åœ¨ TypeScript ç»„ä»¶ä¸­ä½¿ç”¨ 123456789101112131415161718192021import styles from &quot;./Button.module.css&quot;;interface ButtonProps &#123; variant?: &quot;primary&quot; | &quot;danger&quot; | &quot;success&quot;; size?: &quot;small&quot; | &quot;medium&quot; | &quot;large&quot;; children: React.ReactNode;&#125;const Button: React.FC&lt;ButtonProps&gt; = (&#123; variant = &quot;primary&quot;, size = &quot;medium&quot;, children &#125;) =&gt; &#123; return ( &lt;button className=&#123;`$&#123;styles.button&#125; $&#123;styles[variant]&#125; $&#123;styles[size]&#125;`&#125;&gt; &#123;children&#125; &lt;/button&gt; );&#125;;export default Button; 10ï¼‰å®æˆ˜æ¡ˆä¾‹ï¼šå¡ç‰‡ç»„ä»¶12345678910111213141516171819202122232425262728293031323334353637383940414243444546/* Card.module.css */.card &#123; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px; background-color: white; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); transition: all 0.3s ease;&#125;.card:hover &#123; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); transform: translateY(-2px);&#125;.cardHeader &#123; display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #f0f0f0;&#125;.cardTitle &#123; font-size: 18px; font-weight: bold; margin: 0;&#125;.cardContent &#123; color: #666; line-height: 1.6;&#125;.cardFooter &#123; margin-top: 15px; display: flex; gap: 10px; justify-content: flex-end;&#125;.highlighted &#123; border-color: #007bff; background-color: #f8f9ff;&#125; 12345678910111213141516171819202122232425262728import styles from &quot;./Card.module.css&quot;;import classNames from &quot;classnames&quot;;function Card(&#123; title, children, actions, highlighted = false &#125;) &#123; return ( &lt;div className=&#123;classNames(styles.card, &#123; [styles.highlighted]: highlighted &#125;)&#125;&gt; &#123;title &amp;&amp; ( &lt;div className=&#123;styles.cardHeader&#125;&gt; &lt;h3 className=&#123;styles.cardTitle&#125;&gt;&#123;title&#125;&lt;/h3&gt; &lt;/div&gt; )&#125; &lt;div className=&#123;styles.cardContent&#125;&gt; &#123;children&#125; &lt;/div&gt; &#123;actions &amp;&amp; ( &lt;div className=&#123;styles.cardFooter&#125;&gt; &#123;actions&#125; &lt;/div&gt; )&#125; &lt;/div&gt; );&#125;export default Card; 11ï¼‰é…ç½®è‡ªå®šä¹‰å“ˆå¸Œå‘½åVite é…ç½® 12345678910111213141516// vite.config.jsimport &#123; defineConfig &#125; from &quot;vite&quot;;import react from &quot;@vitejs/plugin-react&quot;;export default defineConfig(&#123; plugins: [react()], css: &#123; modules: &#123; // è‡ªå®šä¹‰ç”Ÿæˆçš„ç±»åæ ¼å¼ generateScopedName: &quot;[name]__[local]___[hash:base64:5]&quot;, // [name]: æ–‡ä»¶å // [local]: åŸå§‹ç±»å // [hash:base64:5]: 5ä½å“ˆå¸Œå€¼ &#125;, &#125;,&#125;); Create React App é…ç½® CRA éœ€è¦ eject æˆ–ä½¿ç”¨ craco &#x2F; react-app-rewired æ¥ä¿®æ”¹é…ç½®ï¼š 12345678// craco.config.jsmodule.exports = &#123; style: &#123; modules: &#123; localIdentName: &quot;[name]__[local]--[hash:base64:5]&quot;, &#125;, &#125;,&#125;; 12ï¼‰æœ€ä½³å®è·µ1ï¸âƒ£æ–‡ä»¶å‘½åçº¦å®š 12345components/â”œâ”€â”€ Button/â”‚ â”œâ”€â”€ Button.jsxâ”‚ â”œâ”€â”€ Button.module.cssâ”‚ â””â”€â”€ index.js 2ï¸âƒ£é¿å…è¿‡åº¦åµŒå¥— 123456789/* âŒ ä¸æ¨èï¼šé€‰æ‹©å™¨åµŒå¥—è¿‡æ·± */.container .wrapper .content .item .title &#123; color: red;&#125;/* âœ… æ¨èï¼šæ‰å¹³åŒ–ç±»å */.container &#123; &#125;.item &#123; &#125;.itemTitle &#123; &#125; 3ï¸âƒ£ä½¿ç”¨è¯­ä¹‰åŒ–å‘½å 123456789/* âŒ ä¸æ¸…æ™° */.btn1 &#123; &#125;.box2 &#123; &#125;.red &#123; &#125;/* âœ… è¯­ä¹‰åŒ– */.submitButton &#123; &#125;.userCard &#123; &#125;.errorMessage &#123; &#125; 4ï¸âƒ£ç»„åˆå…¨å±€æ ·å¼å’Œæ¨¡å—æ ·å¼ 12345678910import styles from &quot;./App.module.css&quot;;function App() &#123; return ( // å…¨å±€é‡ç½®æ ·å¼ + æ¨¡å—æ ·å¼ &lt;div className=&#123;`global-reset $&#123;styles.container&#125;`&#125;&gt; &lt;header className=&#123;styles.header&#125;&gt;æ ‡é¢˜&lt;/header&gt; &lt;/div&gt; );&#125; 5ï¸âƒ£å…±äº«å¸¸é‡ï¼ˆCSS å˜é‡ï¼‰ 123456/* variables.module.css */:export &#123; primaryColor: #007bff; successColor: #28a745; spacing: 16px;&#125; 123456789101112import variables from &quot;./variables.module.css&quot;;function Component() &#123; return ( &lt;div style=&#123;&#123; color: variables.primaryColor, padding: variables.spacing &#125;&#125;&gt; å†…å®¹ &lt;/div&gt; );&#125; 13ï¼‰å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆQ1: å¦‚ä½•åº”ç”¨å¤šä¸ªç±»åï¼Ÿ 12345678// æ–¹æ³•1ï¼šæ¨¡æ¿å­—ç¬¦ä¸²&lt;div className=&#123;`$&#123;styles.card&#125; $&#123;styles.active&#125;`&#125; /&gt;// æ–¹æ³•2ï¼šæ•°ç»„ join&lt;div className=&#123;[styles.card, styles.active].join(&#x27; &#x27;)&#125; /&gt;// æ–¹æ³•3ï¼šclassnames åº“ï¼ˆæ¨èï¼‰&lt;div className=&#123;classNames(styles.card, styles.active)&#125; /&gt; Q2: å¦‚ä½•è®¿é—®å¸¦è¿å­—ç¬¦çš„ç±»åï¼Ÿ 12/* Button.module.css */.submit-button &#123; &#125; 123456// æ–¹æ³•1ï¼šä¸­æ‹¬å·è¯­æ³•&lt;button className=&#123;styles[&#x27;submit-button&#x27;]&#125; /&gt;// æ–¹æ³•2ï¼šé©¼å³°å‘½åï¼ˆæ¨èï¼‰/* æ”¹ä¸º .submitButton */&lt;button className=&#123;styles.submitButton&#125; /&gt; Q3: å¦‚ä½•åœ¨ CSS Modules ä¸­ä½¿ç”¨ä¼ªç±»å’Œä¼ªå…ƒç´ ï¼Ÿ 12345678910111213141516171819202122/* Button.module.css */.button &#123; position: relative;&#125;/* ä¼ªç±» */.button:hover &#123; opacity: 0.8;&#125;.button:disabled &#123; cursor: not-allowed; opacity: 0.5;&#125;/* ä¼ªå…ƒç´  */.button::before &#123; content: &quot;&quot;; position: absolute; top: 0; left: 0;&#125; Q4: å¦‚ä½•è¦†ç›–ç¬¬ä¸‰æ–¹ç»„ä»¶åº“æ ·å¼ï¼Ÿ 1234567891011/* App.module.css *//* ä½¿ç”¨ :global åŒ…è£¹ç¬¬ä¸‰æ–¹ç±»å */.customModal :global(.ant-modal-content) &#123; border-radius: 16px;&#125;.wrapper :global &#123; .mui-button &#123; text-transform: none; &#125;&#125; 12345678910import styles from &quot;./App.module.css&quot;;import &#123; Modal &#125; from &quot;antd&quot;;function App() &#123; return ( &lt;div className=&#123;styles.customModal&#125;&gt; &lt;Modal&gt;å†…å®¹&lt;/Modal&gt; &lt;/div&gt; );&#125; 14ï¼‰CSS Modules vs å…¶ä»–æ–¹æ¡ˆå¯¹æ¯” æ–¹æ¡ˆ ä¼˜åŠ¿ åŠ£åŠ¿ é€‚ç”¨åœºæ™¯ CSS Modules è‡ªåŠ¨ä½œç”¨åŸŸã€é›¶è¿è¡Œæ—¶ã€å­¦ä¹ æˆæœ¬ä½ åŠ¨æ€æ ·å¼æ”¯æŒå¼±ã€éœ€è¦æ„å»ºå·¥å…· ä¸­å°å‹é¡¹ç›®ã€ç»„ä»¶åº“ CSS-in-JS (styled-components) åŠ¨æ€æ ·å¼å¼ºå¤§ã€ä¸»é¢˜æ”¯æŒå¥½ è¿è¡Œæ—¶å¼€é”€ã€è°ƒè¯•å›°éš¾ éœ€è¦å¤§é‡åŠ¨æ€æ ·å¼çš„åº”ç”¨ Tailwind CSS å¿«é€Ÿå¼€å‘ã€è®¾è®¡ç³»ç»Ÿä¸€è‡´æ€§ HTML ç±»åå†—é•¿ã€éœ€è¦å­¦ä¹ ç±»å è¿½æ±‚å¼€å‘æ•ˆç‡çš„é¡¹ç›® æ™®é€š CSS ç®€å•ç›´æ¥ å…¨å±€æ±¡æŸ“ã€å‘½åå†²çª ç®€å•é¡µé¢ã€åŸå‹å¼€å‘ Sass&#x2F;Less Modules å˜é‡ã€åµŒå¥—ã€å‡½æ•° éœ€è¦ç¼–è¯‘ã€å­¦ä¹ æˆæœ¬ å¤æ‚æ ·å¼é€»è¾‘ 15ï¼‰é«˜çº§æŠ€å·§1ï¸âƒ£æ¡ä»¶æ¸²æŸ“å¤æ‚æ ·å¼ 123456789101112import styles from &quot;./Status.module.css&quot;;function StatusBadge(&#123; status &#125;) &#123; const statusClass = &#123; pending: styles.pending, success: styles.success, error: styles.error, warning: styles.warning, &#125;[status]; return &lt;span className=&#123;`$&#123;styles.badge&#125; $&#123;statusClass&#125;`&#125;&gt;&#123;status&#125;&lt;/span&gt;;&#125; 2ï¸âƒ£åŠ¨ç”»ä¸è¿‡æ¸¡ 12345678910111213141516171819/* Animation.module.css */@keyframes fadeIn &#123; from &#123; opacity: 0; transform: translateY(-10px); &#125; to &#123; opacity: 1; transform: translateY(0); &#125;&#125;.fadeInElement &#123; animation: fadeIn 0.3s ease-in-out;&#125;.transition &#123; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);&#125; 3ï¸âƒ£å“åº”å¼è®¾è®¡ 123456789101112131415161718/* Card.module.css */.card &#123; padding: 20px; width: 100%;&#125;@media (min-width: 768px) &#123; .card &#123; width: 50%; padding: 30px; &#125;&#125;@media (min-width: 1024px) &#123; .card &#123; width: 33.333%; &#125;&#125; 4ï¸âƒ£æ¡ä»¶æ ·å¼çš„æ€§èƒ½ä¼˜åŒ– 12345678910111213141516import &#123; useMemo &#125; from &quot;react&quot;;import styles from &quot;./List.module.css&quot;;function ListItem(&#123; item, isActive, isSelected &#125;) &#123; // ç¼“å­˜ç±»åè®¡ç®—ç»“æœ const className = useMemo( () =&gt; classNames(styles.item, &#123; [styles.active]: isActive, [styles.selected]: isSelected, &#125;), [isActive, isSelected] ); return &lt;li className=&#123;className&#125;&gt;&#123;item.name&#125;&lt;/li&gt;;&#125; 16ï¼‰å¸¸è§é™·é˜± âš ï¸1ï¸âƒ£å¿˜è®°ä½¿ç”¨ .module.css åç¼€ 12345// âŒ é”™è¯¯ï¼šæ²¡æœ‰ .module åç¼€ï¼Œä¼šè¢«å½“ä½œæ™®é€š CSSimport styles from &quot;./Button.css&quot;;// âœ… æ­£ç¡®import styles from &quot;./Button.module.css&quot;; 2ï¸âƒ£ç›´æ¥ä¿®æ”¹ styles å¯¹è±¡ 12345// âŒ é”™è¯¯ï¼šstyles æ˜¯åªè¯»çš„styles.button = &quot;new-class&quot;;// âœ… æ­£ç¡®ï¼šé€šè¿‡å­—ç¬¦ä¸²æ‹¼æ¥const className = `$&#123;styles.button&#125; $&#123;styles.active&#125;`; 3ï¸âƒ£åœ¨å…¨å±€æ ·å¼ä¸­ä½¿ç”¨æ¨¡å—ç±»å 123456789/* âŒ é”™è¯¯ï¼šglobal.cssï¼ˆå…¨å±€æ ·å¼æ–‡ä»¶ï¼‰ */.Button_button__2Rx3L &#123; color: red; /* å“ˆå¸Œå€¼ä¼šå˜ï¼Œæ— æ³•å®šä½ */&#125;/* âœ… æ­£ç¡®ï¼šä½¿ç”¨è¯­ä¹‰åŒ–çš„å…¨å±€ç±»æˆ– data å±æ€§ */[data-component=&quot;button&quot;] &#123; color: red;&#125; 12// ç»„ä»¶ä¸­æ·»åŠ  data å±æ€§&lt;button className=&#123;styles.button&#125; data-component=&quot;button&quot;&gt; 4ï¸âƒ£åœ¨ CSS Modules ä¸­å¼•ç”¨å›¾ç‰‡è·¯å¾„é—®é¢˜ 123456789/* âŒ å¯èƒ½å¤±æ•ˆ */.background &#123; background-image: url(./images/bg.png);&#125;/* âœ… ä½¿ç”¨åˆ«åæˆ–ç»å¯¹è·¯å¾„ */.background &#123; background-image: url(@/assets/images/bg.png);&#125; æˆ–åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š 12345678910111213import styles from &quot;./Hero.module.css&quot;;import bgImage from &quot;./images/bg.png&quot;;function Hero() &#123; return ( &lt;div className=&#123;styles.hero&#125; style=&#123;&#123; backgroundImage: `url($&#123;bgImage&#125;)` &#125;&#125; &gt; å†…å®¹ &lt;/div&gt; );&#125; 17ï¼‰è°ƒè¯•æŠ€å·§1ï¸âƒ£æŸ¥çœ‹ç¼–è¯‘åçš„ç±»å åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­æ£€æŸ¥å…ƒç´ ï¼Œå¯ä»¥çœ‹åˆ°å®é™…çš„ç±»åï¼š 1&lt;button class=&quot;Button_button__2Rx3L Button_primary__3kM9x&quot;&gt;ç‚¹å‡»&lt;/button&gt; 2ï¸âƒ£åœ¨å¼€å‘ç¯å¢ƒä½¿ç”¨å¯è¯»çš„ç±»å 1234567891011// vite.config.jsexport default defineConfig(&#123; css: &#123; modules: &#123; generateScopedName: process.env.NODE_ENV === &quot;production&quot; ? &quot;[hash:base64:8]&quot; // ç”Ÿäº§ï¼šçŸ­å“ˆå¸Œ : &quot;[name]__[local]___[hash:base64:5]&quot;, // å¼€å‘ï¼šå¯è¯» &#125;, &#125;,&#125;); 3ï¸âƒ£ä½¿ç”¨ console.log æŸ¥çœ‹ styles å¯¹è±¡ 1234import styles from &quot;./Button.module.css&quot;;console.log(styles);// è¾“å‡º: &#123; button: &quot;Button_button__2Rx3L&quot;, primary: &quot;Button_primary__3kM9x&quot; &#125; 18ï¼‰æ€§èƒ½ä¼˜åŒ–å»ºè®® æŒ‰éœ€å¯¼å…¥ï¼šå¦‚æœåªéœ€è¦å°‘æ•°å‡ ä¸ªç±»åï¼Œå¯ä»¥ä½¿ç”¨è§£æ„ 1import &#123; button, primary &#125; from &quot;./Button.module.css&quot;; é¿å…åœ¨å¾ªç¯ä¸­åŠ¨æ€è®¡ç®—ç±»åï¼š 123456789// âŒ æ¯æ¬¡æ¸²æŸ“éƒ½è®¡ç®—&#123;items.map(item =&gt; ( &lt;div className=&#123;item.active ? styles.active : styles.inactive&#125;&gt;))&#125;// âœ… é¢„å…ˆè®¡ç®—æˆ–ä½¿ç”¨ useMemoconst getItemClass = useCallback((active) =&gt; active ? styles.active : styles.inactive, []); ç”Ÿäº§ç¯å¢ƒå‹ç¼©ç±»åï¼šç¡®ä¿æ„å»ºå·¥å…·ç”ŸæˆçŸ­å“ˆå¸Œä»¥å‡å° HTML ä½“ç§¯ å››ã€ React Hooks è¯¦è§£Hooks æ˜¯ React 16.8 å¼•å…¥çš„ç‰¹æ€§ï¼Œè®©ä½ åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨çŠ¶æ€å’Œå…¶ä»– React ç‰¹æ€§ã€‚ 4.1 useState - çŠ¶æ€ç®¡ç†useState æ˜¯ä¸€ä¸ª React Hookï¼Œç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­å£°æ˜å’Œç®¡ç†çŠ¶æ€ï¼ˆstateï¼‰ï¼ˆ ä¸€å®šè¦åœ¨**ç»„ä»¶é¡¶å±‚**è°ƒç”¨ï¼‰ 1ï¼‰åŸºæœ¬è¯­æ³•1const [state, setState] = useState(initialValue); initialArgï¼šå®šä¹‰çš„åˆå§‹å€¼ï¼Œå¯ä»¥æ˜¯ä»»æ„æ•°æ®ï¼Œåƒæ•°å­—ï¼Œå­—ç¬¦ä¸²æˆ–è€…æ•°ç»„å’Œå¯¹è±¡ã€‚ useState ()æ–¹æ³•çš„è¿”å›å€¼ä¸ºç”±ä¸¤ä¸ªå€¼ç»„æˆçš„æ•°ç»„ stateï¼šå½“å‰çŠ¶æ€å€¼ï¼šåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶ï¼Œå®ƒå°†ä¸ä½ ä¼ é€’çš„ initialArg ç›¸åŒ¹é…ã€‚ setStateï¼šæ›´æ–°çŠ¶æ€çš„å‡½æ•°ï¼šå®ƒå¯ä»¥è®©ä½ å°† state æ›´æ–°ä¸ºä¸åŒçš„å€¼å¹¶è§¦å‘é‡æ–°æ¸²æŸ“ã€‚ 2ï¼‰åŸºæœ¬ç”¨æ³•123456789import &#123; useState &#125; from &quot;react&quot;;function Counter() &#123; const [count, setCount] = useState(0); return &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;ç‚¹å‡»äº† &#123;count&#125; æ¬¡&lt;/button&gt;;&#125;export default Counter; 3ï¼‰æ ¸å¿ƒç‰¹æ€§è¯¦è§£1ï¸âƒ£ çŠ¶æ€æ˜¯éš”ç¦»çš„ æ¯ä¸ªç»„ä»¶å®ä¾‹æ‹¥æœ‰ç‹¬ç«‹çš„çŠ¶æ€ï¼Œäº’ä¸å½±å“ã€‚ 2ï¸âƒ£ çŠ¶æ€æ›´æ–°æ˜¯æ›¿æ¢è€Œéåˆå¹¶ ä¸ class ç»„ä»¶çš„ setState ä¸åŒï¼ŒuseState ä¸ä¼šè‡ªåŠ¨åˆå¹¶å¯¹è±¡ï¼š 1234567const [user, setUser] = useState(&#123; name: &quot;å¼ ä¸‰&quot;, age: 20 &#125;);// âŒ é”™è¯¯ï¼šè¿™ä¼šä¸¢å¤± age å­—æ®µsetUser(&#123; name: &quot;æå››&quot; &#125;);// âœ… æ­£ç¡®ï¼šéœ€è¦æ‰‹åŠ¨å±•å¼€setUser(&#123; ...user, name: &quot;æå››&quot; &#125;); 3ï¸âƒ£ å‡½æ•°å¼æ›´æ–°ï¼ˆè§£å†³é—­åŒ…é—®é¢˜ï¼‰ å½“æ–°çŠ¶æ€ä¾èµ–æ—§çŠ¶æ€æ—¶ï¼Œä½¿ç”¨å‡½æ•°å½¢å¼é¿å…é—­åŒ…é™·é˜±ï¼š 123456789101112131415function Counter() &#123; const [count, setCount] = useState(0); const incrementTwice = () =&gt; &#123; // âŒ é—®é¢˜ï¼šä¸¤æ¬¡éƒ½åŸºäº count=0ï¼Œç»“æœè¿˜æ˜¯ 1 setCount(count + 1); setCount(count + 1); // âœ… æ­£ç¡®ï¼šåŸºäºæœ€æ–°çŠ¶æ€æ›´æ–° setCount((prev) =&gt; prev + 1); setCount((prev) =&gt; prev + 1); &#125;; return &lt;button onClick=&#123;incrementTwice&#125;&gt;+2&lt;/button&gt;;&#125; 4ï¸âƒ£æƒ°æ€§åˆå§‹åŒ– å¦‚æœåˆå§‹çŠ¶æ€éœ€è¦å¤æ‚è®¡ç®—ï¼Œä½¿ç”¨å‡½æ•°é¿å…æ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œï¼š 12345// âŒ æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šæ‰§è¡Œ heavyComputation()const [data, setData] = useState(heavyComputation());// âœ… åªåœ¨åˆå§‹æ¸²æŸ“æ‰§è¡Œä¸€æ¬¡ï¼Œå› ä¸ºåˆå§‹åŒ–çš„æ—¶å€™å‡½æ•°éƒ½ä¼šåˆ›å»ºæ–°çš„å¼•ç”¨åœ°å€const [data, setData] = useState(() =&gt; heavyComputation()); 5ï¸âƒ£æ•°ç»„&#x2F;å¯¹è±¡æ›´æ–°æŠ€å·§ 123456789101112131415const [list, setList] = useState([1, 2, 3]);const [map, setMap] = useState(new Map());// æ•°ç»„æ“ä½œconst addItem = (item) =&gt; setList([...list, item]);const removeItem = (index) =&gt; setList(list.filter((_, i) =&gt; i !== index));const updateItem = (index, value) =&gt; setList(list.map((item, i) =&gt; (i === index ? value : item)));// Map/Set æ“ä½œï¼ˆéœ€è¦æ–°å¼•ç”¨æ‰ä¼šè§¦å‘æ›´æ–°ï¼‰const addToMap = (k, v) =&gt; &#123; const newMap = new Map(map); newMap.set(k, v); setMap(newMap);&#125;; 4ï¼‰TypeScript æ”¯æŒ123456789101112131415// åŸºç¡€ç±»å‹æ¨æ–­const [count, setCount] = useState(0); // number// è”åˆç±»å‹const [status, setStatus] = useState&lt;&quot;idle&quot; | &quot;loading&quot; | &quot;success&quot;&gt;(&quot;idle&quot;);// å¯¹è±¡ç±»å‹interface User &#123; id: number; name: string;&#125;const [user, setUser] = useState&lt;User | null&gt;(null);// å¦‚æœåˆå§‹å€¼ä¸º undefinedï¼Œéœ€è¦æ˜¾å¼æŒ‡å®šç±»å‹const [value, setValue] = useState&lt;string&gt;(); 5ï¼‰å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆâš ï¸é™·é˜± 1ï¸âƒ£ï¼šé—­åŒ…è¿‡æœŸ 1234567891011121314useEffect(() =&gt; &#123; const timer = setInterval(() =&gt; &#123; console.log(count); // æ°¸è¿œæ˜¯æ—§å€¼ setCount(count + 1); // æ°¸è¿œåŸºäºåˆå§‹å€¼ &#125;, 1000);&#125;, []); // ç©ºä¾èµ–å¯¼è‡´é—­åŒ…é™·é˜±// è§£å†³ï¼šä½¿ç”¨å‡½æ•°å¼æ›´æ–°æˆ–æ­£ç¡®è®¾ç½®ä¾èµ–useEffect(() =&gt; &#123; const timer = setInterval(() =&gt; &#123; setCount((c) =&gt; c + 1); // æ€»æ˜¯è·å–æœ€æ–°å€¼ &#125;, 1000); return () =&gt; clearInterval(timer);&#125;, []); é™·é˜± 2ï¸âƒ£ï¼šå¼‚æ­¥æ›´æ–°ç‰¹æ€§ çŠ¶æ€æ›´æ–°æ˜¯å¼‚æ­¥ä¸”æ‰¹å¤„ç†çš„ï¼Œä¸èƒ½ç«‹å³è·å–æ–°å€¼ï¼š 123456const handleClick = () =&gt; &#123; setCount(count + 1); console.log(count); // è¿˜æ˜¯æ—§å€¼ï¼ // å¦‚éœ€åŸºäºæ–°å€¼æ“ä½œï¼Œä½¿ç”¨ useEffect æˆ–å‡½æ•°å¼æ›´æ–°&#125;; é™·é˜± 3ï¸âƒ£ï¼šå¯¹è±¡å¼•ç”¨ä¸å˜ä¸è§¦å‘æ›´æ–° 12345678910const [items, setItems] = useState([1, 2, 3]);const wrongUpdate = () =&gt; &#123; items.push(4); // ä¿®æ”¹åŸæ•°ç»„ setItems(items); // å¼•ç”¨ç›¸åŒï¼ŒReact ä¸é‡æ–°æ¸²æŸ“&#125;;const correctUpdate = () =&gt; &#123; setItems([...items, 4]); // æ–°æ•°ç»„å¼•ç”¨&#125;; 6ï¼‰æœ€ä½³å®è·µ1ï¸âƒ£ åˆç†æ‹†åˆ†çŠ¶æ€ï¼š ä¸è¦æŠŠæ‰€æœ‰çŠ¶æ€å¡åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œï¼Œç‹¬ç«‹å˜åŒ–çš„çŠ¶æ€åº”è¯¥ç‹¬ç«‹å£°æ˜ 1234567// âŒ è¿‡åº¦èšåˆconst [state, setState] = useState(&#123; user: null, posts: [], loading: false &#125;);// âœ… ç‹¬ç«‹å£°æ˜const [user, setUser] = useState(null);const [posts, setPosts] = useState([]);const [loading, setLoading] = useState(false); 2ï¸âƒ£ ä½¿ç”¨è‡ªå®šä¹‰ Hook å°è£…çŠ¶æ€é€»è¾‘ï¼š 1234567function useCounter(initial = 0) &#123; const [count, setCount] = useState(initial); const inc = () =&gt; setCount((c) =&gt; c + 1); const dec = () =&gt; setCount((c) =&gt; c - 1); const reset = () =&gt; setCount(initial); return &#123; count, inc, dec, reset &#125;;&#125; 3ï¸âƒ£ é¿å…æ·±å±‚åµŒå¥—çŠ¶æ€ï¼šå¤æ‚çŠ¶æ€è€ƒè™‘ä½¿ç”¨ useReducer useState é€‚ç”¨äºç®€å•çŠ¶æ€ç®¡ç†ï¼Œå½“çŠ¶æ€é€»è¾‘å¤æ‚æˆ–å¤šä¸ªçŠ¶æ€ç›¸äº’å…³è”æ—¶ï¼Œè€ƒè™‘å‡çº§åˆ° useReducerã€‚ 4.2 useEffect-å‰¯ä½œç”¨å¤„ç†å®ƒè®©å‡½æ•°ç»„ä»¶èƒ½å¤Ÿåœ¨æ¸²æŸ“åæ‰§è¡Œå‰¯ä½œç”¨æ“ä½œï¼ˆside effectsï¼‰ï¼Œæ¯”å¦‚ï¼šç½‘ç»œè¯·æ±‚ã€DOM æ“ä½œã€äº‹ä»¶ç›‘å¬ã€å®šæ—¶å™¨ã€æ•°æ®è®¢é˜…ç­‰ã€‚ å‡½æ•°ç»„ä»¶é‡Œæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆåƒç±»ç»„ä»¶çš„ componentDidMountã€componentWillUnmountï¼‰ï¼›React æä¾› useEffect æ¥æ›¿ä»£å®ƒä»¬ã€‚ 1ï¼‰åŸºæœ¬è¯­æ³•123456useEffect(() =&gt; &#123; // æ‰§è¡Œå‰¯ä½œç”¨é€»è¾‘ return () =&gt; &#123; // æ¸…ç†å‰¯ä½œç”¨é€»è¾‘ï¼ˆå¯é€‰ï¼‰ &#125;;&#125;, [dependencies]); **å‚æ•°1 (å‡½æ•°)ï¼š**å®šä¹‰çš„åˆå§‹å€¼ï¼Œå¯ä»¥æ˜¯ä»»æ„æ•°æ®ï¼Œåƒæ•°å­—ï¼Œå­—ç¬¦ä¸²æˆ–è€…æ•°ç»„å’Œå¯¹è±¡ã€‚ å‚æ•°2 (ä¾èµ–é¡¹)ï¼š æ— å‚æ•°ï¼šæ¯æ¬¡æ¸²æŸ“åéƒ½æ‰§è¡Œã€‚ ç©ºæ•°ç»„ï¼šä»…åœ¨æŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚ ä¾èµ–å‚æ•°ï¼šä¾èµ–å‚æ•°å˜åŒ–æ—¶æ‰§è¡Œï¼ˆé¦–æ¬¡æ¸²æŸ“ä¹Ÿä¼šæ‰§è¡Œä¸€æ¬¡ï¼‰ã€‚ 2ï¼‰ä¸‰ç§æ‰§è¡Œæ—¶æœº1ï¸âƒ£ ä¸å¸¦ä¾èµ– â†’ æ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œ 123useEffect(() =&gt; &#123; console.log(&quot;æ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œ&quot;);&#125;); ä¸å†™ä¾èµ–æ•°ç»„æ—¶ï¼Œæ„å‘³ç€ï¼š æ¯æ¬¡ç»„ä»¶æŒ‚è½½å’Œæ›´æ–°éƒ½ä¼šè¿è¡Œã€‚âš ï¸ å¦‚æ— å¿…è¦ï¼Œä¸å»ºè®®çœç•¥ä¾èµ–æ•°ç»„ï¼Œä¼šå½±å“æ€§èƒ½ã€‚ 2ï¸âƒ£ ç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œï¼ˆåªæ‰§è¡Œä¸€æ¬¡ï¼‰ 123456useEffect(() =&gt; &#123; console.log(&quot;ç»„ä»¶æŒ‚è½½&quot;); return () =&gt; &#123; console.log(&quot;ç»„ä»¶å¸è½½&quot;); &#125;;&#125;, []); // ç©ºä¾èµ–æ•°ç»„ â†’ åªæ‰§è¡Œä¸€æ¬¡ å¯ç±»æ¯”äºï¼š æŒ‚è½½æ—¶æ‰§è¡Œï¼šcomponentDidMount å¸è½½æ—¶æ¸…ç†ï¼šcomponentWillUnmount 3ï¸âƒ£ ç‰¹å®šä¾èµ–å˜åŒ–æ—¶æ‰§è¡Œ 123useEffect(() =&gt; &#123; console.log(`count æ›´æ–°äº†ï¼š$&#123;count&#125;`);&#125;, [count]); // ğŸ‘ˆ å½“ count æ”¹å˜é‡æ–°è¿è¡Œå‰¯ä½œç”¨é€»è¾‘ 3ï¼‰æ¸…ç†å‡½æ•°ï¼ˆCleanupï¼‰å½“**å–æ¶ˆè®¢é˜…ã€æ¸…é™¤å®šæ—¶å™¨**ç­‰ï¼Œåº”è¯¥åœ¨ç»„ä»¶å¸è½½æ—¶æ¸…ç†ï¼Œä»¥é˜²æ­¢å†…å­˜æ³„æ¼ã€‚ 1234567891011useEffect(() =&gt; &#123; const timer = setInterval(() =&gt; &#123; console.log(&quot;tick&quot;); &#125;, 1000); // æ¸…ç†å‡½æ•°ï¼šç»„ä»¶å¸è½½æˆ–ä¾èµ–å˜åŒ–å‰æ‰§è¡Œ return () =&gt; &#123; clearInterval(timer); console.log(&quot;å®šæ—¶å™¨å·²æ¸…ç†&quot;); &#125;;&#125;, []); ğŸ”æ‰§è¡Œæ—¶æœºï¼š ç»„ä»¶å¸è½½æ—¶ ä¾èµ–å˜åŒ–å¯¼è‡´é‡æ–°æ‰§è¡Œ effect ä¹‹å‰ 4ï¼‰å®é™…åº”ç”¨åœºæ™¯1ï¸âƒ£ æ•°æ®è·å–ï¼ˆéœ€å¤„ç†ç«æ€ï¼‰ 123456789101112131415161718useEffect(() =&gt; &#123; let cancelled = false; async function fetchData() &#123; const data = await api.getUser(userId); // é˜²æ­¢ç«æ€æ¡ä»¶ï¼šå¦‚æœç»„ä»¶å·²å¸è½½æˆ– userId å·²å˜ï¼Œå¿½ç•¥ç»“æœ if (!cancelled) &#123; setUser(data); &#125; &#125; fetchData(); return () =&gt; &#123; cancelled = true; // å–æ¶ˆæ ‡å¿— &#125;;&#125;, [userId]); 2ï¸âƒ£äº‹ä»¶ç›‘å¬ 123456789101112useEffect(() =&gt; &#123; const handleScroll = () =&gt; &#123; setScrollY(window.scrollY); &#125;; window.addEventListener(&quot;scroll&quot;, handleScroll); // å¿…é¡»æ¸…ç†ï¼Œå¦åˆ™é‡å¤æŒ‚è½½ä¼šæ·»åŠ å¤šä¸ªç›‘å¬å™¨ return () =&gt; &#123; window.removeEventListener(&quot;scroll&quot;, handleScroll); &#125;;&#125;, []); 3ï¸âƒ£DOM æ“ä½œ 123456789useEffect(() =&gt; &#123; // ç›´æ¥æ“ä½œ DOMï¼ˆåº”å°½é‡é¿å…ï¼Œä½†åœ¨ä¸ç¬¬ä¸‰æ–¹åº“é›†æˆæ—¶æœ‰ç”¨ï¼‰ const element = document.getElementById(&quot;modal&quot;); element?.classList.add(&quot;active&quot;); return () =&gt; &#123; element?.classList.remove(&quot;active&quot;); &#125;;&#125;, []); 5ï¼‰å¸¸è§é™·é˜±âš ï¸1ï¸âƒ£æ— é™å¾ªç¯ 12345678910// âŒ é”™è¯¯ï¼šsetState å¯¼è‡´æ¸²æŸ“ï¼Œæ¸²æŸ“è§¦å‘ effectï¼Œeffect åˆ setStateuseEffect(() =&gt; &#123; setCount(count + 1);&#125;, [count]);// âœ… æ­£ç¡®ï¼šä½¿ç”¨å‡½æ•°å¼æ›´æ–°æˆ–æ¡ä»¶åˆ¤æ–­useEffect(() =&gt; &#123; const timer = setTimeout(() =&gt; setCount((c) =&gt; c + 1), 1000); return () =&gt; clearTimeout(timer);&#125;, []); // æˆ– [count] å¦‚æœéœ€è¦å“åº”å¤–éƒ¨ count å˜åŒ– 2ï¸âƒ£ä¾èµ–ç¼ºå¤±ï¼ˆ ESLint ä¼šè­¦å‘Šï¼‰ eslint-plugin-react-hooks è‡ªåŠ¨æ£€æŸ¥ä¾èµ–ã€‚ 12345678910111213141516171819// âŒ é—æ¼ä¾èµ–ï¼šcallback å˜åŒ–æ—¶ effect ä¸ä¼šæ›´æ–°useEffect(() =&gt; &#123; fetchData(query, callback);&#125;, [query]); // ç¼ºå°‘ callback// âœ… è§£å†³æ–¹æ¡ˆ 1ï¼šæ·»åŠ æ‰€æœ‰ä¾èµ–useEffect(() =&gt; &#123; fetchData(query, callback);&#125;, [query, callback]);// âœ… è§£å†³æ–¹æ¡ˆ 2ï¼šå¦‚æœ callback ä¸ç¨³å®šï¼Œä½¿ç”¨ refconst callbackRef = useRef(callback);useEffect(() =&gt; &#123; callbackRef.current = callback;&#125;, [callback]);useEffect(() =&gt; &#123; fetchData(query, (data) =&gt; callbackRef.current(data));&#125;, [query]); 3ï¸âƒ£é—­åŒ…é™·é˜±ï¼ˆstale closureï¼‰ 123456789101112131415161718192021222324useEffect(() =&gt; &#123; const timer = setInterval(() =&gt; &#123; console.log(count); // æ°¸è¿œæ˜¯æ—§å€¼ï¼ &#125;, 1000);&#125;, []); // ç©ºä¾èµ–å¯¼è‡´é—­åŒ…æ•è·åˆå§‹ count// âœ… è§£å†³æ–¹æ¡ˆ 1ï¼šæ·»åŠ ä¾èµ–useEffect(() =&gt; &#123; const timer = setInterval(() =&gt; &#123; console.log(count); &#125;, 1000);&#125;, [count]);// âœ… è§£å†³æ–¹æ¡ˆ 2ï¼šä½¿ç”¨ ref è·å–æœ€æ–°å€¼const countRef = useRef(count);useEffect(() =&gt; &#123; countRef.current = count;&#125;, [count]);useEffect(() =&gt; &#123; const timer = setInterval(() =&gt; &#123; console.log(countRef.current); // æ€»æ˜¯æœ€æ–°å€¼ &#125;, 1000);&#125;, []); 4ï¸âƒ£async&#x2F;await ç›´æ¥ä½¿ç”¨ 12345678910111213// âŒ é”™è¯¯ï¼šuseEffect ä¸èƒ½è¿”å› Promiseï¼ˆasync å‡½æ•°éšå¼è¿”å› Promiseï¼‰useEffect(async () =&gt; &#123; const data = await fetchData();&#125;, []);// âœ… æ­£ç¡®ï¼šå†…éƒ¨å®šä¹‰ async å‡½æ•°useEffect(() =&gt; &#123; async function loadData() &#123; const data = await fetchData(); setData(data); &#125; loadData();&#125;, []); 6ï¼‰useEffect vs useLayoutEffect123456789import &#123; useLayoutEffect &#125; from &quot;react&quot;;// useEffectï¼šæµè§ˆå™¨ç»˜åˆ¶å®Œæˆåæ‰§è¡Œï¼ˆä¸é˜»å¡æ¸²æŸ“ï¼‰// useLayoutEffectï¼šæµè§ˆå™¨ç»˜åˆ¶ä¹‹å‰æ‰§è¡Œï¼ˆé˜»å¡æ¸²æŸ“ï¼Œé¿å…é—ªçƒï¼‰useLayoutEffect(() =&gt; &#123; // ç”¨äºéœ€è¦åŒæ­¥æ‰§è¡Œä¸”å½±å“è§†è§‰çš„ DOM æ“ä½œ const width = element.getBoundingClientRect().width; setWidth(width);&#125;, []); ä½¿ç”¨å»ºè®®ï¼š ä¼˜å…ˆä½¿ç”¨ useEffect ä»…åœ¨å‡ºç°è§†è§‰é—ªçƒï¼ˆå¦‚ä»æœåŠ¡ç«¯æ¸²æŸ“æ¢å¤æ—¶éœ€è¦åŒæ­¥è®¡ç®—å¸ƒå±€ï¼‰æ—¶ä½¿ç”¨ useLayoutEffect 7ï¼‰TypeScript æ”¯æŒ12345678910111213// æ¸…ç†å‡½æ•°ç±»å‹ä¼šè‡ªåŠ¨æ¨æ–­useEffect(() =&gt; &#123; const subscription = api.subscribe(); return () =&gt; &#123; subscription.unsubscribe(); // ç±»å‹å®‰å…¨ &#125;;&#125;, []);// ä¾èµ–æ•°ç»„ä¸¥æ ¼ç±»å‹æ£€æŸ¥useEffect(() =&gt; &#123; console.log(name);&#125;, [name]); // name å¿…é¡»æ˜¯ä¾èµ–é¡¹ 8ï¼‰æœ€ä½³å®è·µ1ï¸âƒ£å•ä¸€èŒè´£ï¼šä¸€ä¸ª useEffect åªåšä¸€ä»¶äº‹ï¼Œä¾¿äºç®¡ç†å’Œæ¸…ç† 12345678910111213141516171819202122// âŒ æ··åˆå¤šä¸ªä¸ç›¸å…³é€»è¾‘useEffect(() =&gt; &#123; fetchUser(); const timer = setInterval(poll, 5000); document.title = &quot;New Page&quot;; return () =&gt; &#123; clearInterval(timer); &#125;;&#125;, []);// âœ… åˆ†ç¦»æˆå¤šä¸ª effectuseEffect(() =&gt; &#123; fetchUser();&#125;, []);useEffect(() =&gt; &#123; const timer = setInterval(poll, 5000); return () =&gt; clearInterval(timer);&#125;, []);useEffect(() =&gt; &#123; document.title = &quot;New Page&quot;;&#125;, []); 2ï¸âƒ£è‡ªå®šä¹‰ Hook å°è£…å‰¯ä½œç”¨ 123456789101112131415161718function useWindowSize() &#123; const [size, setSize] = useState(&#123; width: 0, height: 0 &#125;); useEffect(() =&gt; &#123; const update = () =&gt; setSize(&#123; width: window.innerWidth, height: window.innerHeight, &#125;); window.addEventListener(&quot;resize&quot;, update); update(); return () =&gt; window.removeEventListener(&quot;resize&quot;, update); &#125;, []); return size;&#125; 3ï¸âƒ£å¯¹è±¡&#x2F;æ•°ç»„ä¾èµ–ä½¿ç”¨ useMemo 12345678910// âŒ æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°å¯¹è±¡ï¼Œå¯¼è‡´ effect æ¯æ¬¡éƒ½æ‰§è¡ŒuseEffect(() =&gt; &#123; fetchData(options);&#125;, [&#123; page: 1, size: 10 &#125;]);// âœ… ä½¿ç”¨ useMemo ç¨³å®šå¼•ç”¨const options = useMemo(() =&gt; (&#123; page: 1, size: 10 &#125;), []);useEffect(() =&gt; &#123; fetchData(options);&#125;, [options]); 4.3 useContext - è·¨ç»„ä»¶å…±äº«çŠ¶æ€å®ƒä¸»è¦ç”¨äºåœ¨ç»„ä»¶æ ‘ä¸­å…±äº«æ•°æ®ï¼Œé¿å…å±‚å±‚ä¼ é€’ propsï¼ˆâ€œprops drillingâ€ï¼‰çš„é—®é¢˜ã€‚ åœ¨ React åº”ç”¨ä¸­ï¼Œå¦‚æœå¾ˆå¤šå±‚ç»„ä»¶ä¹‹é—´éƒ½éœ€è¦å…±äº«æŸä¸ªæ•°æ®ï¼ˆæ¯”å¦‚ä¸»é¢˜ã€è¯­è¨€ã€ç”¨æˆ·ä¿¡æ¯ï¼‰ï¼Œç›´æ¥é€šè¿‡ props ä¸€å±‚å±‚å¾€ä¸‹ä¼ ä¼šéå¸¸éº»çƒ¦ï¼š 1234567&lt;App&gt; &lt;Layout theme=&#123;theme&#125;&gt; &lt;Content theme=&#123;theme&#125;&gt; &lt;Button theme=&#123;theme&#125; /&gt; &lt;/Content&gt; &lt;/Layout&gt;&lt;/App&gt; ğŸ‘† æ¯å±‚éƒ½è¦ä¼  themeï¼Œè¿™å°±æ˜¯ props drillingã€‚ React æä¾› Contextï¼Œå¯ä»¥è®©ä½ åœ¨ç»„ä»¶æ ‘é—´ç›´æ¥å…±äº«æ•°æ®ï¼Œä¸å¿…å±‚å±‚ä¼ é€’ã€‚ 1ï¼‰åŸºç¡€ç”¨æ³•(ä½¿ç”¨æ­¥éª¤)Step 1ï¸âƒ£ï¼šåˆ›å»º Context 1234// src\\context\\index.jsximport &#123; createContext &#125; from &quot;react&quot;;const MyContext = createContext();export &#123; MyContext &#125;; Step 2ï¸âƒ£ï¼šä¸Šå±‚ç»„ä»¶æä¾›æ•°æ® 1234567891011121314151617181920import &#123; useState &#125; from &quot;react&quot;;import Child from &quot;./components/Child&quot;;import GrandChild from &quot;./components/GrandChild&quot;;import &#123; MyContext &#125; from &quot;./context/index&quot;;function App() &#123; const [data] = useState(&quot;å¤§é±¼æµ·æ£ &quot;); return ( &lt;&gt; &lt;MyContext.Provider value=&#123;data&#125;&gt; &lt;p&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶&lt;/p&gt; &lt;Child&gt; &lt;GrandChild /&gt; &lt;/Child&gt; &lt;/MyContext.Provider&gt; &lt;/&gt; );&#125;export default App; Step 3ï¸âƒ£ï¼šå­ç»„ä»¶ 12345678910function Child(&#123; children &#125;) &#123; return ( &lt;&gt; &lt;p&gt;æˆ‘æ˜¯å­ç»„ä»¶&lt;/p&gt; &#123;children&#125; &lt;/&gt; );&#125;export default Child; Step 4ï¸âƒ£ï¼šå­™ç»„ä»¶ä½¿ç”¨ useContext è·å–å€¼ 1234567891011121314import &#123;useContext&#125; from &#x27;react&#x27;import &#123; MyContext &#125; from &quot;../context/index&quot;;function GrandChild() &#123; // è¿™æ˜¯app.jsxä¸­ä¼ æ¥çš„æ•°æ® const data = useContext(MyContext) return ( &lt;&gt; &lt;p&gt;æˆ‘æ˜¯å­™ç»„ä»¶ï¼Œçº¢è‰²éƒ¨åˆ†æ˜¯é¡¶çº§ç»„ä»¶æ•°æ®ï¼š&lt;span style=&#123;&#123;color: &#x27;red&#x27;&#125;&#125;&gt;&#123;data&#125;&lt;/span&gt;&lt;/p&gt; &lt;/&gt; )&#125;export defau lt GrandChild 2ï¼‰è‡ªå®šä¹‰ Hook å°è£…ï¼ˆæ¨èï¼‰ç›´æ¥ useContext éœ€è¦åœ¨æ¯ä¸ªç»„ä»¶å¤„ç† nullï¼Œå°è£…æ›´å®‰å…¨ï¼š 12345678910111213141516171819202122232425262728293031// contexts/ThemeContext.jsimport &#123; createContext, useState, useContext, useMemo &#125; from &quot;react&quot;;const ThemeContext = createContext(null);// è‡ªå®šä¹‰ Hookï¼Œå†…ç½®é”™è¯¯å¤„ç†export function useTheme() &#123; const context = useContext(ThemeContext); if (!context) &#123; throw new Error(&quot;useTheme å¿…é¡»åœ¨ ThemeProvider å†…éƒ¨ä½¿ç”¨&quot;); &#125; return context;&#125;export function ThemeProvider(&#123; children &#125;) &#123; const [theme, setTheme] = useState(&quot;light&quot;); // ä½¿ç”¨ useMemo é˜²æ­¢ä¸å¿…è¦çš„é‡æ¸²æŸ“ const value = useMemo( () =&gt; (&#123; theme, setTheme, toggle: () =&gt; setTheme((t) =&gt; (t === &quot;light&quot; ? &quot;dark&quot; : &quot;light&quot;)), &#125;), [theme], ); return ( &lt;ThemeContext.Provider value=&#123;value&#125;&gt;&#123;children&#125;&lt;/ThemeContext.Provider&gt; );&#125; 123456789101112131415// app.vue ä½¿ç”¨ï¼šimport &#123; ThemeProvider, useTheme &#125; from &quot;./contexts/ThemeContext&quot;;function Button() &#123; const &#123; theme, toggle &#125; = useTheme(); // ç›´æ¥ä½¿ç”¨ï¼Œç±»å‹å®‰å…¨ return &lt;button onClick=&#123;toggle&#125;&gt;&#123;theme&#125;&lt;/button&gt;;&#125;export default function App() &#123; return ( &lt;ThemeProvider&gt; &lt;Button /&gt; &lt;/ThemeProvider&gt; );&#125; 3ï¼‰æ€§èƒ½ä¼˜åŒ–ï¼ˆå…³é”®ï¼‰Context çš„é—®é¢˜ï¼šä¸€æ—¦ value å˜åŒ–ï¼Œæ‰€æœ‰æ¶ˆè´¹ç»„ä»¶éƒ½ä¼šé‡æ¸²æŸ“ï¼Œå³ä½¿åªä½¿ç”¨äº†éƒ¨åˆ†æ•°æ®ã€‚ æ–¹æ¡ˆ1ï¸âƒ£ï¼šæ‹†åˆ† Contextï¼ˆæ¨èï¼‰ å°†é«˜é¢‘å˜åŒ–å’Œä½é¢‘å˜åŒ–åˆ†ç¦»ï¼š 123456789101112131415161718// âŒ é¿å…å•ä¸€ Context åŒ…å«æ‰€æœ‰çŠ¶æ€const AppContext = createContext(&#123; user: &#123;&#125;, theme: &quot;&quot;, notifications: [], // ... æ‰€æœ‰çŠ¶æ€&#125;);// âœ… æ‹†åˆ†ä¸ºå¤šä¸ª Contextconst UserContext = createContext(null);const ThemeContext = createContext(null);const NotificationContext = createContext(null);// ç»„ä»¶åªè®¢é˜…éœ€è¦çš„ Contextfunction UserAvatar() &#123; const user = useContext(UserContext); // åªæœ‰ user å˜åŒ–æ—¶é‡æ¸²æŸ“ return &lt;img src=&#123;user.avatar&#125; /&gt;;&#125; æ–¹æ¡ˆ2ï¸âƒ£ï¼šä½¿ç”¨ React.memo 1234567function ExpensiveComponent() &#123; const &#123; theme &#125; = useContext(ThemeContext); return &lt;div className=&#123;theme&#125;&gt;...&lt;/div&gt;;&#125;// è™½ç„¶ context å˜åŒ–ï¼Œä½† props æ²¡å˜æ—¶è·³è¿‡æ¸²æŸ“export default React.memo(ExpensiveComponent); æ–¹æ¡ˆ3ï¸âƒ£ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹çŠ¶æ€ç®¡ç† å¦‚æœé¢‘ç¹æ›´æ–°ï¼ˆå¦‚æ»šåŠ¨ä½ç½®ã€åŠ¨ç”»çŠ¶æ€ï¼‰ï¼Œä½¿ç”¨ Zustandã€Jotai æˆ– Reduxï¼Œå®ƒä»¬æ”¯æŒç»†ç²’åº¦è®¢é˜…ã€‚ useContext + useReducerï¼ˆç®€æ˜“ Reduxï¼‰ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455// contexts/StoreContext.jsimport &#123; createContext, useReducer, useContext, useMemo &#125; from &quot;react&quot;;const StoreContext = createContext(null);const initialState = &#123; count: 0, user: null &#125;;function reducer(state, action) &#123; switch (action.type) &#123; case &quot;increment&quot;: return &#123; ...state, count: state.count + 1 &#125;; case &quot;setUser&quot;: return &#123; ...state, user: action.payload &#125;; default: return state; &#125;&#125;// è‡ªå®šä¹‰ Hooksexport function useStore() &#123; const [state, dispatch] = useContext(StoreContext); return &#123; state, dispatch &#125;;&#125;export function StoreProvider(&#123; children &#125;) &#123; const [state, dispatch] = useReducer(reducer, initialState); // å°† state å’Œ dispatch éƒ½æ”¾å…¥ context const value = useMemo(() =&gt; [state, dispatch], [state]); return ( &lt;StoreContext.Provider value=&#123;value&#125;&gt;&#123;children&#125;&lt;/StoreContext.Provider&gt; );&#125;// app.jsximport &#123; StoreProvider, useStore &#125; from &quot;./contexts/ThemeContext&quot;;// ä½¿ç”¨function Counter() &#123; const &#123; state, dispatch &#125; = useStore(); return ( &lt;button onClick=&#123;() =&gt; dispatch(&#123; type: &quot;increment&quot; &#125;)&#125;&gt; &#123;state.count&#125; &lt;/button&gt; );&#125;export default function App() &#123; return ( &lt;StoreProvider&gt; &lt;Counter /&gt; &lt;/StoreProvider&gt; );&#125; 4ï¼‰TypeScript æ”¯æŒ1234567891011121314151617181920212223242526272829303132333435363738394041424344interface User &#123; id: number; name: string;&#125;interface AuthContextType &#123; user: User | null; login: (user: User) =&gt; void; logout: () =&gt; void; isLoading: boolean;&#125;const AuthContext = createContext&lt;AuthContextType | null&gt;(null);// ç±»å‹å®‰å…¨çš„è‡ªå®šä¹‰ Hookexport function useAuth() &#123; const context = useContext(AuthContext); if (!context) &#123; throw new Error(&quot;useAuth must be used within AuthProvider&quot;); &#125; return context;&#125;// Provider ç»„ä»¶export function AuthProvider(&#123; children &#125;: &#123; children: React.ReactNode &#125;) &#123; const [user, setUser] = useState&lt;User | null&gt;(null); const [isLoading, setIsLoading] = useState(false); const value = useMemo( () =&gt; (&#123; user, isLoading, login: (u: User) =&gt; &#123; setUser(u); &#125;, logout: () =&gt; &#123; setUser(null); &#125;, &#125;), [user, isLoading], ); return &lt;AuthContext.Provider value=&#123;value&#125;&gt;&#123;children&#125;&lt;/AuthContext.Provider&gt;;&#125; 5ï¼‰å¸¸è§é™·é˜±âš ï¸1ï¸âƒ£Context é»˜è®¤å€¼é™·é˜± 12345678// å¦‚æœä¸æä¾› Providerï¼Œä¼šä½¿ç”¨é»˜è®¤å€¼const MyContext = createContext(&#123; value: 0 &#125;);function Component() &#123; const ctx = useContext(MyContext); // å¦‚æœå¿˜è®°åŒ…è£¹ Providerï¼Œctx æ˜¯ &#123; value: 0 &#125; // è¿™å¯èƒ½éšè—é”™è¯¯ï¼Œå»ºè®®é»˜è®¤å€¼è®¾ä¸º null å¹¶æ£€æŸ¥&#125; 2ï¸âƒ£ä¸å¿…è¦çš„é‡æ¸²æŸ“ 123456789101112131415161718function App() &#123; const [count, setCount] = useState(0); // âŒ æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°å¯¹è±¡ï¼Œå¯¼è‡´æ‰€æœ‰æ¶ˆè´¹è€…é‡æ¸²æŸ“ return ( &lt;ThemeContext.Provider value=&#123;&#123; theme: &quot;dark&quot;, count &#125;&#125;&gt; &lt;Child /&gt; &lt;/ThemeContext.Provider&gt; ); // âœ… ä½¿ç”¨ useMemo ç¼“å­˜ const value = useMemo(() =&gt; (&#123; theme: &quot;dark&quot;, count &#125;), [count]); return ( &lt;ThemeContext.Provider value=&#123;value&#125;&gt; &lt;Child /&gt; &lt;/ThemeContext.Provider&gt; );&#125; 3ï¸âƒ£åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ 12345678function Component() &#123; if (condition) &#123; const ctx = useContext(MyContext); // âŒ Hook å¿…é¡»åœ¨é¡¶å±‚è°ƒç”¨ &#125; // âœ… å§‹ç»ˆåœ¨ç»„ä»¶é¡¶å±‚è°ƒç”¨ const ctx = useContext(MyContext); if (!ctx) return null;&#125; 6ï¼‰ä½•æ—¶ä½¿ç”¨ vs ä¸ç”¨1ï¸âƒ£é€‚åˆä½¿ç”¨ï¼š ä¸»é¢˜ã€è¯­è¨€ç­‰å…¨å±€é…ç½® è®¤è¯çŠ¶æ€ï¼ˆç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼‰ è·¯ç”±çŠ¶æ€ éœ€è¦åœ¨æ·±å±‚ç»„ä»¶è®¿é—®çš„å…±äº«çŠ¶æ€ 2ï¸âƒ£é¿å…ä½¿ç”¨ï¼š ä»…çˆ¶å­ç»„ä»¶é€šä¿¡ï¼ˆç›´æ¥ç”¨ propsï¼‰ é¢‘ç¹æ›´æ–°çš„çŠ¶æ€ï¼ˆå¦‚æ»šåŠ¨ã€è¾“å…¥ã€åŠ¨ç”»ï¼Œè€ƒè™‘ä½¿ç”¨è®¢é˜…æ¨¡å¼æˆ–å¤–éƒ¨çŠ¶æ€ç®¡ç†ï¼‰ ç®€å•è¡¨å•çŠ¶æ€ï¼ˆç”¨æœ¬åœ° useStateï¼‰ æ›¿ä»£æ–¹æ¡ˆğŸ‘‡ ç®€å•å…±äº«ï¼šprops drillingã€ç»„åˆç»„ä»¶ï¼ˆcompositionï¼‰ é«˜é¢‘æ›´æ–°ï¼šZustandã€Jotaiã€Recoilã€Redux æœåŠ¡ç«¯çŠ¶æ€ï¼šReact Queryã€SWR 7ï¼‰é«˜çº§æ¨¡å¼ï¼šRender Props è½¬ Contextå°†æ—§ç‰ˆ Render Props ç»„ä»¶è½¬ä¸º Hookï¼š 12345678910111213141516171819202122232425// æ—§æ–¹å¼&lt;MouseTracker&gt; &#123;(&#123; x, y &#125;) =&gt; ( &lt;div&gt; &#123;x&#125;, &#123;y&#125; &lt;/div&gt; )&#125;&lt;/MouseTracker&gt;;// æ–°æ–¹å¼ï¼šç»“åˆ Context å’Œ Hookconst MouseContext = createContext(&#123; x: 0, y: 0 &#125;);function useMouse() &#123; return useContext(MouseContext);&#125;// ä½¿ç”¨function Component() &#123; const &#123; x, y &#125; = useMouse(); // æ›´ç®€æ´çš„ API return ( &lt;div&gt; &#123;x&#125;, &#123;y&#125; &lt;/div&gt; );&#125; 4.4 useMemo- ç¼“å­˜è®¡ç®—ç»“æœuseMemo ç”¨äºç¼“å­˜æ˜‚è´µçš„è®¡ç®—ç»“æœï¼Œé¿å…æ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°è®¡ç®—ï¼ŒåŒæ—¶ä¿æŒå¯¹è±¡&#x2F;æ•°ç»„çš„å¼•ç”¨ç¨³å®šã€‚ æ¢å¥è¯è¯´ï¼š å¦‚æœä¾èµ–æ²¡å˜ â†’ ç›´æ¥ç”¨ä¸Šæ¬¡è®¡ç®—çš„ç»“æœï¼› å¦‚æœä¾èµ–å˜äº† â†’ é‡æ–°è®¡ç®—å¹¶è¿”å›æ–°ç»“æœã€‚ å®ƒå¯ä»¥å¸®ä½ æ˜¾è‘—å‡å°‘ä¸å¿…è¦çš„è®¡ç®—æˆ–å¯¹è±¡é‡å»ºã€‚ useMemoçš„ç†å¿µæ˜¯åŒæ­¥çš„ï¼ŒuseMemoä¸èƒ½è¿›è¡Œä¸€äº›é¢å¤–çš„å‰¯æ“ä½œï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚ç­‰ã€‚ 1ï¼‰åŸºæœ¬è¯­æ³•123useMemo(() =&gt; &#123; return å€¼;&#125;, [ä¾èµ–é¡¹]); å‚æ•°1 (å·¥å‚å‡½æ•°)ï¼šä¸€ä¸ªè¿”å›å€¼çš„å‡½æ•°ï¼ˆæ‰§è¡Œè®¡ç®—ï¼‰ å‚æ•°2 (ä¾èµ–æ•°ç»„)ï¼šä¾èµ–æ•°ç»„ï¼Œå½“å…¶ä¸­æŸé¡¹æ”¹å˜æ—¶æ‰é‡æ–°è®¡ç®— è¿”å›å€¼ï¼šç¼“å­˜çš„è®¡ç®—ç»“æœã€‚ 2ï¼‰ä½¿ç”¨åœºæ™¯ç¤ºä¾‹1ï¸âƒ£ å¤æ‚è®¡ç®—ç¼“å­˜ æœªä½¿ç”¨useMemoçš„æ—¶å€™æ”¹å˜é¢œè‰²ï¼Œä¹Ÿä¼šæ‰§è¡ŒComputeTotalä»·æ ¼çš„è®¡ç®—ã€‚ 1234567891011121314151617181920212223242526import &#123; useState, useMemo &#125; from &quot;react&quot;;function ComputeTotal(price, count) &#123; console.log(&quot;å‡½æ•°è¿è¡Œäº†&quot;); return price * count;&#125;function App() &#123; const [price, setPrice] = useState(100); const [count] = useState(1); const [color, setColor] = useState(&quot;red&quot;); // ğŸ‘‰ åªæœ‰ price å˜åŒ–æ—¶ï¼Œæ‰é‡æ–°è®¡ç®— const totalPrice = useMemo(() =&gt; ComputeTotal(price, count), [price]); return ( &lt;&gt; &lt;p&gt;æ€»ä»·ï¼š&#123;totalPrice&#125;&lt;/p&gt; &lt;p&gt;&#123;color&#125;&lt;/p&gt; &lt;button onClick=&#123;() =&gt; setColor(&quot;blue&quot;)&#125;&gt;ä¿®æ”¹é¢œè‰²&lt;/button&gt; &lt;button onClick=&#123;() =&gt; setPrice(price + 100)&#125;&gt;ä¿®æ”¹ä»·æ ¼&lt;/button&gt; &lt;/&gt; );&#125;export default App; âœ… å½“ä½ æ”¹å˜é¢œè‰²çš„æ—¶å€™ï¼Œä¸ä¼šé‡æ–°æ‰§è¡ŒComputeTotalã€‚åªæœ‰priceå˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ã€‚ 2ï¸âƒ£ ä¿æŒå¼•ç”¨ç¨³å®šï¼Œé¿å…é‡æ¸²æŸ“ï¼ˆå…³é”®ç”¨é€”ï¼‰ ç¤ºä¾‹ä¸€ï¼š 123456789101112131415161718192021222324function ChartComponent(&#123; data, options &#125;) &#123; // âŒ æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°å¯¹è±¡ï¼Œå¯¼è‡´ useEffect æ— é™å¾ªç¯æˆ– Chart ç»„ä»¶é‡æ¸²æŸ“ const config = &#123; type: &quot;line&quot;, data, ...options &#125;; // âœ… ä¾èµ–ä¸å˜æ—¶ä¿æŒåŒä¸€å¼•ç”¨ const config = useMemo( () =&gt; (&#123; type: &quot;line&quot;, data, options: &#123; responsive: true, ...options, &#125;, &#125;), [data, options], ); useEffect(() =&gt; &#123; // ç°åœ¨åªåœ¨ config çœŸæ­£å˜åŒ–æ—¶æ‰§è¡Œ chartRef.current.update(config); &#125;, [config]); return &lt;canvas ref=&#123;canvasRef&#125; /&gt;;&#125; ç¤ºä¾‹äºŒï¼š ä¾‹å¦‚å­ç»„ä»¶ä½¿ç”¨ React.memoï¼š 123456789101112131415import React, &#123; useMemo &#125; from &quot;react&quot;;function Child(&#123; options &#125;) &#123; console.log(&quot;Child render&quot;); return &lt;div&gt;&#123;options.join(&quot;, &quot;)&#125;&lt;/div&gt;;&#125;const MemoChild = React.memo(Child);function Parent() &#123; // å¦‚æœä¸ç¼“å­˜ï¼Œæ•°ç»„æ¯æ¬¡æ¸²æŸ“éƒ½æ–°å»ºï¼Œå¯¼è‡´ Child é‡æ–°æ¸²æŸ“ const options = useMemo(() =&gt; [&quot;A&quot;, &quot;B&quot;], []); // ğŸ‘ˆ ç¼“å­˜æ•°ç»„å¼•ç”¨ return &lt;MemoChild options=&#123;options&#125; /&gt;;&#125;export default Parent; useMemo ä¿è¯æ¯æ¬¡æ¸²æŸ“ä¸­ options çš„å¼•ç”¨ç¨³å®šï¼ŒReact.memo ä¼šè®¤ä¸º props æ²¡å˜ï¼Œä»è€Œè·³è¿‡é‡æ–°æ¸²æŸ“ã€‚ 3ï¸âƒ£ ç¼“å­˜ç»„ä»¶(æå°‘ç”¨) 12345678910111213141516171819202122232425import &#123; useState, useMemo &#125; from &quot;react&quot;;import Child from &quot;./Child&quot;;function App() &#123; const [price, setPrice] = useState(100); const [count] = useState(1); const [color, setColor] = useState(&quot;red&quot;); const memoizedChild = useMemo( () =&gt; &lt;Child count=&#123;count&#125; price=&#123;price&#125; /&gt;, [count, price], ); return ( &lt;&gt; &lt;p&gt;&#123;color&#125;&lt;/p&gt; &lt;button onClick=&#123;() =&gt; setColor(&quot;blue&quot;)&#125;&gt;ä¿®æ”¹é¢œè‰²&lt;/button&gt; &lt;button onClick=&#123;() =&gt; setPrice(price + 100)&#125;&gt;ä¿®æ”¹ä»·æ ¼&lt;/button&gt; &#123;/* ä½¿ç”¨ç»„ä»¶ */&#125; &#123;memoizedChild&#125; &lt;/&gt; );&#125;export default App; 3ï¼‰ä¸ useCallback çš„å…³ç³»useCallback æœ¬è´¨ä¸Šæ˜¯ useMemo çš„è¯­æ³•ç³–ï¼š 123// è¿™ä¸¤è€…æ˜¯ç­‰ä»·çš„useCallback(fn, deps);useMemo(() =&gt; fn, deps); é€‰æ‹©åŸåˆ™ï¼š ç¼“å­˜å‡½æ•° â†’ useCallback ç¼“å­˜å€¼ï¼ˆå¯¹è±¡ã€æ•°ç»„ã€è®¡ç®—ç»“æœï¼‰â†’ useMemo 4ï¼‰å®é™…ç¤ºä¾‹ï¼šæœç´¢è¿‡æ»¤**å®Œæ•´æ¡ˆä¾‹ï¼š**https://www.yuque.com/zhbiao/qr34us/qk5da4gmpqzhat4s?singleDoc#wkQxl 1234567891011121314151617181920212223242526272829303132333435function SearchResults(&#123; query, items &#125;) &#123; const [highlightIndex, setHighlightIndex] = useState(0); // æœç´¢ç»“æœç¼“å­˜ const results = useMemo(() =&gt; &#123; if (!query) return []; const startTime = performance.now(); const filtered = items.filter((item) =&gt; item.text.toLowerCase().includes(query.toLowerCase()), ); console.log(`æœç´¢è€—æ—¶: $&#123;performance.now() - startTime&#125;ms`); return filtered; &#125;, [query, items]); // é«˜äº®é¡¹ç¼“å­˜ï¼ˆåŸºäº resultsï¼Œå½¢æˆè®¡ç®—é“¾ï¼‰ const highlightedItem = useMemo(() =&gt; &#123; return results[highlightIndex] || null; &#125;, [results, highlightIndex]); return ( &lt;div&gt; &#123;results.map((item, idx) =&gt; ( &lt;div key=&#123;item.id&#125; className=&#123;idx === highlightIndex ? &quot;highlight&quot; : &quot;&quot;&#125; &gt; &#123;item.text&#125; &lt;/div&gt; ))&#125; &lt;Preview data=&#123;highlightedItem&#125; /&gt; &lt;/div&gt; );&#125; 4ï¼‰TypeScript æ”¯æŒ12345678910111213141516171819interface User &#123; id: number; name: string; score: number; &#125; // è‡ªåŠ¨æ¨æ–­è¿”å›ç±»å‹ä¸º number const averageScore = useMemo(() =&gt; &#123; if (users.length === 0) return 0; return users.reduce((sum, u) =&gt; sum + u.score, 0) / users.length; &#125;, [users]); // å¤æ‚å¯¹è±¡ç±»å‹ const processedData = useMemo&lt;&#123; labels: string[]; values: number[] &#125;&gt;(() =&gt; &#123; return &#123; labels: data.map(d =&gt; d.date), values: data.map(d =&gt; d.value) &#125;; &#125;, [data]); 5ï¼‰å¸¸è§é™·é˜±âš ï¸1ï¸âƒ£è¿‡åº¦ä½¿ç”¨ï¼ˆè´Ÿä¼˜åŒ–ï¼‰ useMemo æœ¬èº«ä¹Ÿæœ‰å¼€é”€ï¼ˆä¾èµ–æ¯”è¾ƒã€ç¼“å­˜å­˜å‚¨ï¼‰ï¼Œç®€å•è®¡ç®—æ— éœ€ç¼“å­˜ï¼š 12345// âŒ æ²¡å¿…è¦ï¼šåŠ æ³•è®¡ç®—æ¯” useMemo å¼€é”€æ›´å°const sum = useMemo(() =&gt; a + b, [a, b]);// âœ… ç›´æ¥ä½¿ç”¨const sum = a + b; ä½¿ç”¨æ—¶æœºï¼š è®¡ç®—å¤æ‚åº¦ &gt; O(n) ä¸” n è¾ƒå¤§ éœ€è¦ä¿æŒå¯¹è±¡å¼•ç”¨ç¨³å®šï¼ˆç”¨äº props æˆ–ä¾èµ–æ•°ç»„ï¼‰ æ˜ç¡®æµ‹é‡åˆ°æ€§èƒ½ç“¶é¢ˆï¼ˆReact DevTools Profilerï¼‰ 2ï¸âƒ£ä¾èµ–æ•°ç»„é—æ¼ 123456789// âŒ é—æ¼ userï¼Œå¯¼è‡´ä½¿ç”¨æ—§çš„ user æ•°æ®const fullName = useMemo(() =&gt; &#123; return `$&#123;user.firstName&#125; $&#123;lastName&#125;`; // user æ¥è‡ªå¤–å±‚ä½œç”¨åŸŸ&#125;, [lastName]); // ç¼ºå°‘ user// âœ… å®Œæ•´ä¾èµ–const fullName = useMemo(() =&gt; &#123; return `$&#123;user.firstName&#125; $&#123;lastName&#125;`;&#125;, [user, lastName]); 3ï¸âƒ£åœ¨ useMemo é‡Œæ‰§è¡Œå‰¯ä½œç”¨ 123456789101112// âŒ é”™è¯¯ï¼šuseMemo åº”è¯¥çº¯å‡½æ•°ï¼Œä¸æ‰§è¡Œå‰¯ä½œç”¨const data = useMemo(() =&gt; &#123; localStorage.setItem(&quot;key&quot;, value); // å‰¯ä½œç”¨ï¼ return process(value);&#125;, [value]);// âœ… å‰¯ä½œç”¨æ”¾åœ¨ useEffectuseEffect(() =&gt; &#123; localStorage.setItem(&quot;key&quot;, value);&#125;, [value]);const data = useMemo(() =&gt; process(value), [value]); 4ï¸âƒ£ è¿”å›å‡½æ•°æ—¶çš„æ··æ·† 123456789// âŒ è¿™æ ·ç¼“å­˜çš„æ˜¯å‡½æ•°çš„è¿”å›å€¼ï¼Œä¸æ˜¯å‡½æ•°æœ¬èº«const handler = useMemo(() =&gt; &#123; return () =&gt; console.log(&quot;clicked&quot;); // è¿”å›ä¸€ä¸ªå‡½æ•°&#125;, []);// âœ… å¦‚æœçœŸè¦ç¼“å­˜å‡½æ•°ï¼Œç›´æ¥ç”¨ useCallbackconst handler = useCallback(() =&gt; &#123; console.log(&quot;clicked&quot;);&#125;, []); 6ï¼‰é«˜çº§æ¨¡å¼1ï¸âƒ£è®¡ç®—é“¾ useMemo å¯ä»¥ä¾èµ–å…¶ä»– useMemo çš„ç»“æœï¼Œå½¢æˆè®¡ç®—é“¾ï¼š 123456const rawData = useMemo(() =&gt; fetchData(), []);const processedData = useMemo(() =&gt; cleanData(rawData), [rawData]);const statistics = useMemo( () =&gt; calculateStats(processedData), [processedData],); 2ï¸âƒ£æ¡ä»¶æ€§ç¼“å­˜ 1234const value = useMemo(() =&gt; &#123; if (!enabled) return null; // æå‰è¿”å› return heavyComputation(data);&#125;, [enabled, data]); 3ï¸âƒ£ä¸ useEffect é…åˆé˜²æ­¢æ— é™å¾ªç¯ 123456const userIds = useMemo(() =&gt; users.map((u) =&gt; u.id), [users]);// ç°åœ¨ userIds å¼•ç”¨ç¨³å®šï¼Œä¸ä¼šå¯¼è‡´ effect æ¯æ¬¡éƒ½æ‰§è¡ŒuseEffect(() =&gt; &#123; fetchDetails(userIds);&#125;, [userIds]); ğŸŒŸ ä¸€å¥è¯æ€»ç»“ï¼š useMemo ç”¨æ¥è§£å†³â€å› ä¸ºå¯¹è±¡å¼•ç”¨å˜åŒ–å¯¼è‡´çš„æ— æ•ˆé‡æ¸²æŸ“â€æ¯”è§£å†³â€é‡å¤è®¡ç®—â€æ›´å¸¸è§ 4.5 useCallback- ç¼“å­˜å‡½æ•°å¼•ç”¨åœ¨ React ä¸­ï¼Œæ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½ä¼šé‡æ–°æ‰§è¡Œç»„ä»¶å‡½æ•°ä½“ï¼Œé‡Œé¢å®šä¹‰çš„å‡½æ•°ä¹Ÿä¼šè¢«â€œé‡æ–°åˆ›å»ºâ€ã€‚å¦‚æœè¿™äº›å‡½æ•°ä½œä¸º props ä¼ ç»™å­ç»„ä»¶ï¼Œå³ä½¿å‡½æ•°é€»è¾‘æ²¡æœ‰å˜ï¼Œæ ¹æ® å¼•ç”¨åœ°å€æ¯”è¾ƒï¼Œå­ç»„ä»¶ä¼šè®¤ä¸º props å˜äº†è€Œé‡æ–°æ¸²æŸ“ã€‚ useCallback è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š âœ… **è®©å‡½æ•°å¼•ç”¨åœ¨ä¾èµ–ä¸å˜æ—¶ä¿æŒç¨³å®šï¼ˆä¸å˜ï¼‰**è¯­ä¹‰ä¸Šï¼ŒuseCallback æ˜ç¡®è¡¨ç¤ºâ€ç¼“å­˜å‡½æ•°â€ï¼Œè€Œ useMemo ç”¨äºç¼“å­˜ä»»æ„è®¡ç®—å€¼ã€‚ 1ï¼‰åŸºæœ¬è¯­æ³•123const memoizedCallback = useCallback(() =&gt; &#123; // å‡½æ•°é€»è¾‘&#125;, [dependencies]); ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¦ç¼“å­˜çš„å›è°ƒå‡½æ•° ç¬¬äºŒä¸ªå‚æ•°ï¼šä¾èµ–æ•°ç»„ï¼Œå½“ä¾èµ–ä¸­æœ‰å€¼å˜åŒ–æ—¶ï¼Œè¿”å›çš„æ–°å‡½æ•°å¼•ç”¨ä¼šæ›´æ–° 2ï¼‰æ ¸å¿ƒä½¿ç”¨åœºæ™¯1ï¸âƒ£ä¼ é€’ç»™ä¼˜åŒ–åçš„å­ç»„ä»¶ï¼ˆæœ€å¸¸è§ï¼‰ é…åˆ React.memo é˜²æ­¢å­ç»„ä»¶å› çˆ¶ç»„ä»¶æ¸²æŸ“è€Œé‡æ¸²æŸ“ï¼š 12345678910111213141516171819202122232425262728import React, &#123; useState, useCallback &#125; from &quot;react&quot;;function Child(&#123; onClick &#125;) &#123; console.log(&quot;å­ç»„ä»¶æ¸²æŸ“äº†&quot;); return &lt;button onClick=&#123;onClick&#125;&gt;å­ç»„ä»¶æŒ‰é’®&lt;/button&gt;;&#125;const MemoChild = React.memo(Child); // ğŸ‘ˆ åªæœ‰ props å˜äº†æ‰æ¸²æŸ“function App() &#123; const [count, setCount] = useState(0); const [text, setText] = useState(&quot;&quot;); // åªæœ‰ count å˜åŒ–æ—¶æ‰ä¼šæ›´æ–°å‡½æ•°å¼•ç”¨(å­ç»„ä»¶æ¸²æŸ“) const handleClick = useCallback(() =&gt; &#123; console.log(&quot;Clicked:&quot;, count); &#125;, [count]); // ğŸ‘ˆ ç¼“å­˜å‡½æ•°å¼•ç”¨ return ( &lt;div&gt; &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;count +1&lt;/button&gt; &lt;input value=&#123;text&#125; onChange=&#123;(e) =&gt; setText(e.target.value)&#125; /&gt; &lt;MemoChild onClick=&#123;handleClick&#125; /&gt; &lt;/div&gt; );&#125;export default App; ğŸ” åˆ†æï¼š å¦‚æœä¸ç”¨ useCallbackï¼Œæ¯æ¬¡ App æ¸²æŸ“éƒ½ä¼šâ€œæ–°å»ºâ€ä¸€ä¸ª handleClick å‡½æ•°å¼•ç”¨ï¼› MemoChild ä¼šè®¤ä¸º props (onClick) æ”¹äº† â†’ é‡æ–°æ¸²æŸ“ï¼› ç”¨äº† useCallback åï¼Œåœ¨ä¾èµ–ä¸å˜åŒ–æ—¶ï¼Œå‡½æ•°å¼•ç”¨ä¿æŒç¨³å®š â†’ ç»„ä»¶ä¸é‡æ¸²æŸ“ã€‚ 2ï¸âƒ£ä½œä¸º useEffect çš„ä¾èµ– å½“ useEffect ä¾èµ–æŸä¸ªå‡½æ•°æ—¶ï¼Œå¿…é¡»ç”¨ useCallback ä¿æŒå¼•ç”¨ç¨³å®š 123456789101112131415161718192021function Search(&#123; query &#125;) &#123; const [results, setResults] = useState([]); // âŒ æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°å‡½æ•°ï¼Œå¯¼è‡´ effect æ¯æ¬¡éƒ½è¦æ‰§è¡Œ const fetchData = async () =&gt; &#123; const res = await api.search(query); setResults(res); &#125;; // âœ… fetchData å¼•ç”¨ç¨³å®šï¼Œåªæœ‰ query å˜åŒ–æ—¶æ‰é‡æ–°è§¦å‘ effect const fetchData = useCallback(async () =&gt; &#123; const res = await api.search(query); setResults(res); &#125;, [query]); useEffect(() =&gt; &#123; fetchData(); &#125;, [fetchData]); // ç°åœ¨å¯ä»¥å®‰å…¨åœ°å°†å‡½æ•°æ”¾å…¥ä¾èµ–æ•°ç»„ return &lt;Results data=&#123;results&#125; /&gt;;&#125; 3ï¸âƒ£è‡ªå®šä¹‰ Hook ä¸­è¿”å›çš„å›è°ƒ ç¡®ä¿ Hook ä½¿ç”¨è€…å¯ä»¥è·å¾—ç¨³å®šçš„å‡½æ•°å¼•ç”¨ï¼š 1234567891011function useDebounce(callback, delay) &#123; const [debouncedCallback] = useState(() =&gt; debounce(callback, delay)); // è¿”å›ç¨³å®šçš„å‡½æ•°å¼•ç”¨ return useCallback( (...args) =&gt; &#123; debouncedCallback(...args); &#125;, [debouncedCallback], );&#125; 3ï¼‰ä»€ä¹ˆæ—¶å€™ç”¨ useCallback å‡½æ•°ä½œä¸º props ä¼ é€’ç»™ React.memo åŒ…è£¹çš„å­ç»„ä»¶ å‡½æ•°ä½œä¸ºå…¶ä»– Hookï¼ˆuseEffectã€useMemoï¼‰çš„ä¾èµ– å‡½æ•°æ˜¯è‡ªå®šä¹‰ Hook çš„è¿”å›å€¼ï¼Œä¾›å¤–éƒ¨ä½¿ç”¨ 4ï¼‰TypeScript æ”¯æŒ123456789101112131415161718192021222324252627// åŸºç¡€ç±»å‹æ¨æ–­const handleChange = useCallback((e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; &#123; setValue(e.target.value);&#125;, []);// æ³›å‹çº¦æŸtype FetchFn = (id: string) =&gt; Promise&lt;User&gt;;const fetchUser = useCallback&lt;FetchFn&gt;(async (id) =&gt; &#123; const res = await api.getUser(id); return res.data;&#125;, []);// è¿”å›å…ƒç»„ï¼ˆå¸¸è§äºè‡ªå®šä¹‰ Hookï¼‰function useToggle(initial = false) &#123; const [state, setState] = useState(initial); const toggle = useCallback(() =&gt; &#123; setState((s) =&gt; !s); &#125;, []); const setTrue = useCallback(() =&gt; setState(true), []); const setFalse = useCallback(() =&gt; setState(false), []); // ç±»å‹è‡ªåŠ¨æ¨æ–­ä¸º [boolean, () =&gt; void, () =&gt; void, () =&gt; void] return [state, toggle, setTrue, setFalse] as const;&#125; 5ï¼‰é«˜çº§æ¨¡å¼1ï¸âƒ£ç»“åˆ useRef è§£å†³è¿‡æœŸé—­åŒ…ï¼ˆç¨³å®šå¼•ç”¨ + æœ€æ–°å€¼ï¼‰ 12345678910111213141516171819function useStableCallback(fn) &#123; const ref = useRef(fn); ref.current = fn; // æ¯æ¬¡æ¸²æŸ“æ›´æ–° ref // è¿”å›ç¨³å®šå¼•ç”¨ï¼Œä½†å§‹ç»ˆè°ƒç”¨æœ€æ–°å‡½æ•° return useCallback((...args) =&gt; ref.current(...args), []);&#125;// ä½¿ç”¨ï¼šå¯ä»¥æ”¾å…¥ useEffect ä¾èµ–è€Œä¸è§¦å‘é‡æ–°æ‰§è¡Œï¼Œä¸”èƒ½è®¿é—®æœ€æ–° props/statefunction Component(&#123; onUpdate &#125;) &#123; const stableCallback = useStableCallback(() =&gt; &#123; console.log(&quot;æœ€æ–°çŠ¶æ€&quot;); // æ°¸è¿œèƒ½è®¿é—®æœ€æ–°å€¼ï¼Œæ— éœ€ä¾èµ–æ•°ç»„ &#125;); useEffect(() =&gt; &#123; const timer = setInterval(stableCallback, 1000); return () =&gt; clearInterval(timer); &#125;, [stableCallback]); // æ°¸è¿œä¸ä¼šå˜ï¼Œeffect åªæ‰§è¡Œä¸€æ¬¡&#125; 2ï¸âƒ£ è®°å¿†åŒ–äº‹ä»¶å¤„ç†å™¨å·¥å‚ 123456789101112131415161718function List(&#123; items &#125;) &#123; // âŒ æ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»º N ä¸ªæ–°å‡½æ•° return items.map((item) =&gt; ( &lt;button onClick=&#123;() =&gt; handleItemClick(item.id)&#125;&gt;&#123;item.name&#125;&lt;/button&gt; )); // âœ… ä½¿ç”¨ useCallback ç¼“å­˜æ¯ä¸ªå¤„ç†å™¨ï¼ˆé…åˆ memoï¼‰ return items.map((item) =&gt; ( &lt;MemoItem key=&#123;item.id&#125; item=&#123;item&#125; onClick=&#123;useCallback( () =&gt; handleItemClick(item.id), [item.id], // åªæœ‰å½“ item.id å˜åŒ–æ—¶æ‰æ›´æ–° )&#125; /&gt; ));&#125; 3ï¸âƒ£ä¾èµ–æ³¨å…¥æ¨¡å¼ 1234567891011function useApi(api) &#123; // å³ä½¿ api å¯¹è±¡å˜åŒ–ï¼Œåªè¦ endpoint ä¸å˜ï¼ŒfetchData å¼•ç”¨ç¨³å®š const fetchData = useCallback( (endpoint) =&gt; &#123; return api.request(endpoint); &#125;, [api], ); // api é€šå¸¸æ˜¯ç¨³å®šçš„å•ä¾‹ return fetchData;&#125; 6ï¼‰å¸¸è§è¯¯åŒºâš ï¸ ä¸è¦æ»¥ç”¨å¦‚æœå­ç»„ä»¶æ²¡æœ‰ React.memo æˆ–ä¸æ˜¯æ€§èƒ½ç“¶é¢ˆï¼Œæ²¡å¿…è¦åŠ  useCallbackï¼ˆå¢åŠ å¤æ‚åº¦ï¼‰ ç¼“å­˜ä¸æ˜¯å‡å°‘æ¸²æŸ“æ¬¡æ•°çš„ä¸‡èƒ½é’¥åŒ™useCallback åªé˜²æ­¢ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼Œä½†çŠ¶æ€æ›´æ–°è§¦å‘çš„æ¸²æŸ“ä»ä¼šå‘ç”Ÿ ä¾èµ–ä¸æ­£ç¡®ä¼šå¯¼è‡´é€»è¾‘é”™è¯¯ç¼ºå°‘ä¾èµ–å¯èƒ½è®©å‡½æ•°å†…éƒ¨æ‹¿åˆ°æ—§çš„çŠ¶æ€ åœ¨å†™ä»£ç æ—¶ï¼Œé»˜è®¤ä¸è¦åŠ  useCallbackã€‚åªæœ‰å½“ä½ é‡åˆ°ä¸‹é¢è¿™ä¸¤ä¸ªä¿¡å·æ—¶ï¼Œå†è¡¥ä¸Šï¼š ğŸ‘‹ â€œæˆ‘è¦æŠŠè¿™ä¸ªå‡½æ•°ä¼ ç»™ä¸€ä¸ªå¾ˆé‡çš„ã€åŠ äº† memo çš„åˆ—è¡¨å­ç»„ä»¶â€ã€‚ â€œESLint è­¦å‘Šæˆ‘è¯´ï¼Œè¿™ä¸ªå‡½æ•°è¢«ç”¨è¿™äº† useEffect çš„ä¾èµ–é‡Œâ€ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œæ”¾å¿ƒå¤§èƒ†åœ°å†™æ™®é€šå‡½æ•°ï¼Œä»£ç æ›´å¹²å‡€ï¼Œæ€§èƒ½åè€Œæ›´å¥½ã€‚ 4.6 useReducer-å¤æ‚çŠ¶æ€ç®¡ç† âœ… useReducer æ˜¯ useState çš„é«˜çº§æ›¿ä»£æ–¹æ¡ˆã€‚å½“çŠ¶æ€å˜åŒ–é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œæˆ–è€…æ–°çŠ¶æ€ä¾èµ–æ—§çŠ¶æ€æ—¶ï¼Œç”¨ useReducer ä¼šæ›´æ™°ã€‚ å®ƒå’Œ Redux çš„æ ¸å¿ƒæ€æƒ³ä¸€æ ·ï¼šé€šè¿‡ â€œåŠ¨ä½œï¼ˆactionï¼‰â€ å’Œ â€œçŠ¶æ€æ›´æ–°å‡½æ•°ï¼ˆreducerï¼‰â€ æ¥æ§åˆ¶çŠ¶æ€å˜åŒ–ã€‚ 1ï¼‰åŸºæœ¬è¯­æ³•1const [state, dispatch] = useReducer(reducer, initialArg, init?) stateï¼šå½“å‰çŠ¶æ€ dispatchï¼šè§¦å‘çŠ¶æ€æ›´æ–°çš„å‡½æ•° reducerï¼šä¸€ä¸ªå‡½æ•°ï¼Œè´Ÿè´£â€œæ¥æ”¶æ—§çŠ¶æ€ + åŠ¨ä½œï¼ˆactionï¼‰â€ï¼Œè¿”å›æ–°çŠ¶æ€ initialArgï¼šåˆå§‹çŠ¶æ€ initï¼ˆå¯é€‰ï¼‰ï¼šæƒ°æ€§åˆå§‹åŒ–å‡½æ•°ï¼Œç”¨äºåœ¨åˆå§‹æ¸²æŸ“æ—¶å¯¹ initialArg è¿›è¡ŒåŠ å·¥æˆ–è®¡ç®—ï¼Œè¿”å›çœŸæ­£çš„åˆå§‹çŠ¶æ€ï¼Œåªä¼šåœ¨åˆå§‹åŒ–æ‰§è¡Œä¸€æ¬¡ 2ï¼‰ä½¿ç”¨åœºæ™¯ç¤ºä¾‹1ï¸âƒ£ è®¡æ•°å™¨ 123456789101112131415161718192021222324252627import &#123; useReducer &#125; from &quot;react&quot;;// å®šä¹‰ reducerfunction reducer(state, action) &#123; switch (action.type) &#123; case &quot;increment&quot;: return &#123; count: state.count + 1 &#125;; case &quot;decrement&quot;: return &#123; count: state.count - 1 &#125;; default: return state; // è¿”å›åŸçŠ¶æ€ï¼ˆé˜²æ­¢æŠ¥é”™ï¼‰ &#125;&#125;function Counter() &#123; const [state, dispatch] = useReducer(reducer, &#123; count: 0 &#125;); return ( &lt;div&gt; &lt;p&gt;è®¡æ•°ï¼š&#123;state.count&#125;&lt;/p&gt; &lt;button onClick=&#123;() =&gt; dispatch(&#123; type: &quot;increment&quot; &#125;)&#125;&gt;+1&lt;/button&gt; &lt;button onClick=&#123;() =&gt; dispatch(&#123; type: &quot;decrement&quot; &#125;)&#125;&gt;-1&lt;/button&gt; &lt;/div&gt; );&#125;export default Counter; âœ… dispatch ç±»ä¼¼äºè°ƒç”¨ setStateï¼Œä½†è¯­ä¹‰æ›´æ¸…æ™°ã€é€»è¾‘é›†ä¸­ã€‚ 2ï¸âƒ£ å¤æ‚çŠ¶æ€ç¤ºä¾‹ï¼šè¡¨å•ç®¡ç† 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253import &#123; useReducer &#125; from &quot;react&quot;;const initialForm = &#123; username: &quot;&quot;, age: &quot;&quot;,&#125;;function formReducer(state, action) &#123; switch (action.type) &#123; case &quot;CHANGE_FIELD&quot;: return &#123; ...state, [action.field]: action.value &#125;; case &quot;RESET&quot;: return initialForm; default: return state; &#125;&#125;function Form() &#123; const [form, dispatch] = useReducer(formReducer, initialForm); return ( &lt;div&gt; &lt;input value=&#123;form.username&#125; onChange=&#123;(e) =&gt; dispatch(&#123; type: &quot;CHANGE_FIELD&quot;, field: &quot;username&quot;, value: e.target.value, &#125;) &#125; placeholder=&quot;ç”¨æˆ·å&quot; /&gt; &lt;input value=&#123;form.age&#125; onChange=&#123;(e) =&gt; dispatch(&#123; type: &quot;CHANGE_FIELD&quot;, field: &quot;age&quot;, value: e.target.value, &#125;) &#125; placeholder=&quot;å¹´é¾„&quot; /&gt; &lt;button onClick=&#123;() =&gt; dispatch(&#123; type: &quot;RESET&quot; &#125;)&#125;&gt;é‡ç½®&lt;/button&gt; &lt;p&gt;&#123;JSON.stringify(form)&#125;&lt;/p&gt; &lt;/div&gt; );&#125;export default Form; âœ… ä¼˜åŠ¿ï¼š æ‰€æœ‰çŠ¶æ€æ›´æ–°é€»è¾‘é›†ä¸­åœ¨ reducerï¼› æ›´å®¹æ˜“ç»´æŠ¤ã€æµ‹è¯•ã€è°ƒè¯•ã€‚ 3ï¼‰useReducer çš„æ‰§è¡Œæµç¨‹å›¾1ï¸âƒ£ ç»„ä»¶æ¸²æŸ“æ—¶ï¼š React æŒ‰ initialArg åˆå§‹åŒ–çŠ¶æ€ã€‚ 2ï¸âƒ£ è°ƒç”¨ dispatch(action)ï¼š React ä¼šæ‰§è¡Œ reducer(state, action)ï¼› å¾—åˆ°æ–°çš„ stateï¼› é‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚ 12345dispatch(action) â†“reducer(state, action) â†“newState â†’ è§¦å‘é‡æ–°æ¸²æŸ“ 4ï¼‰useState vs useReducer é€‰æ‹©æŒ‡å— åœºæ™¯ useState useReducer çŠ¶æ€ç±»å‹ ç®€å•å€¼ï¼ˆstring, number, booleanï¼‰ å¤æ‚å¯¹è±¡ï¼ˆå«å¤šä¸ªå­—æ®µï¼‰ æ›´æ–°é€»è¾‘ ç›´æ¥è®¾ç½®æ–°å€¼ åŸºäºåŠ¨ä½œï¼ˆactionï¼‰è®¡ç®—æ–°çŠ¶æ€ çŠ¶æ€å…³è” ç‹¬ç«‹çŠ¶æ€ å¤šçŠ¶æ€ç›¸äº’ä¾èµ–ï¼ˆå¦‚è¡¨å•æ ¡éªŒå½±å“æäº¤æŒ‰é’®ï¼‰ çŠ¶æ€è½¬æ¢ å°‘ï¼ˆ&lt; 3 ç§å˜åŒ–ï¼‰ å¤šï¼ˆå¢åˆ æ”¹æŸ¥ã€åŠ è½½ã€é”™è¯¯å¤„ç†ï¼‰ å¯æµ‹è¯•æ€§ ä¸€èˆ¬ é«˜ï¼ˆreducer æ˜¯çº¯å‡½æ•°ï¼‰ å›¢é˜Ÿåä½œ å¿«é€Ÿå¼€å‘ å¤§å‹é¡¹ç›®æ˜“ç»´æŠ¤ è½¬æ¢ä¿¡å·ï¼šå½“ useState å‡ºç°å¤šä¸ª setXxx è¿ç»­è°ƒç”¨ï¼Œæˆ–çŠ¶æ€é€»è¾‘è¶…è¿‡ 5 è¡Œæ—¶ï¼Œè€ƒè™‘æ”¹ç”¨ useReducerã€‚ 5ï¼‰ä½¿ç”¨æƒ°æ€§åˆå§‹åŒ–ï¼ˆç¬¬ä¸‰ä¸ªå‚æ•°ï¼‰useReducer è¿˜æ”¯æŒä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œå»¶è¿Ÿè®¡ç®—åˆå§‹çŠ¶æ€ï¼ˆé¿å…åˆå§‹åŒ–å¼€é”€ï¼‰ğŸ‘‡ 1234567891011121314151617181920212223242526272829303132import &#123; useReducer &#125; from &quot;react&quot;;function init(initialCount) &#123; return &#123; count: initialCount &#125;;&#125;function reducer(state, action) &#123; switch (action.type) &#123; case &quot;reset&quot;: return init(action.payload); case &quot;increment&quot;: return &#123; count: state.count + 1 &#125;; default: return state; &#125;&#125;function Counter() &#123; const [state, dispatch] = useReducer(reducer, 0, init); return ( &lt;&gt; &lt;p&gt;è®¡æ•°: &#123;state.count&#125;&lt;/p&gt; &lt;button onClick=&#123;() =&gt; dispatch(&#123; type: &quot;increment&quot; &#125;)&#125;&gt;+&lt;/button&gt; &lt;button onClick=&#123;() =&gt; dispatch(&#123; type: &quot;reset&quot;, payload: 5 &#125;)&#125;&gt; é‡ç½®ä¸º 5 &lt;/button&gt; &lt;/&gt; );&#125;export default Counter; è¿™ç§æ–¹å¼é€‚ç”¨äºåˆå§‹çŠ¶æ€è®¡ç®—éå¸¸å¤æ‚çš„æƒ…å†µã€‚ 6ï¼‰useReducer + useContext1ï¸âƒ£å…¨å±€çŠ¶æ€ï¼ˆRedux æ€æƒ³ï¼‰ useReducer å¸¸é…åˆ useContext ä½¿ç”¨ï¼Œæ„å»ºè½»é‡â€œå…¨å±€çŠ¶æ€ç®¡ç†â€ï¼š 123456789101112131415161718192021222324252627282930313233343536373839import &#123; createContext, useReducer, useContext &#125; from &quot;react&quot;;const CounterContext = createContext();function reducer(state, action) &#123; switch (action.type) &#123; case &quot;add&quot;: return state + 1; default: return state; &#125;&#125;function CounterProvider(&#123; children &#125;) &#123; const [count, dispatch] = useReducer(reducer, 0); return ( &lt;CounterContext.Provider value=&#123;&#123; count, dispatch &#125;&#125;&gt; &#123;children&#125; &lt;/CounterContext.Provider&gt; );&#125;function Child() &#123; const &#123; count, dispatch &#125; = useContext(CounterContext); return ( &lt;div&gt; &lt;p&gt;&#123;count&#125;&lt;/p&gt; &lt;button onClick=&#123;() =&gt; dispatch(&#123; type: &quot;add&quot; &#125;)&#125;&gt;+1&lt;/button&gt; &lt;/div&gt; );&#125;export default function App() &#123; return ( &lt;CounterProvider&gt; &lt;Child /&gt; &lt;/CounterProvider&gt; );&#125; âœ… ç›¸å½“äºä¸€ä¸ªå°å‹ Reduxã€‚ 2ï¸âƒ£ä¸»é¢˜åˆ‡æ¢ ç”¨ useReducer + useContext å®ç°ä¸€ä¸ªå…¨å±€çŠ¶æ€ç®¡ç†ç³»ç»Ÿï¼Œå°±åƒä¸€ä¸ªè½»é‡ç‰ˆ Reduxã€‚ æˆ‘ä»¬ä»¥â€œä¸»é¢˜åˆ‡æ¢ï¼ˆæ·±è‰² &#x2F; æµ…è‰²ï¼‰â€ä¸ºä¾‹ ğŸ‘‡ ğŸ¯ åŠŸèƒ½ç›®æ ‡ é¡µé¢ä¸Šæœ‰å¤šä¸ªç»„ä»¶ï¼› è¿™äº›ç»„ä»¶éƒ½èƒ½æ„ŸçŸ¥å½“å‰ä¸»é¢˜ï¼› ç‚¹å‡»æŒ‰é’®å¯ä»¥åœ¨æµ…è‰²&#x2F;æ·±è‰²æ¨¡å¼ä¹‹é—´åˆ‡æ¢ï¼› æ‰€æœ‰ç»„ä»¶è‡ªåŠ¨æ›´æ–°ï¼Œä¸ç”¨æ‰‹åŠ¨ä¼  propsã€‚ ğŸ§±é¡¹ç›®ç»“æ„ 123456â”œâ”€â”€ ğŸ“ components/ # ç»„ä»¶â”‚ â”œâ”€â”€ ğŸ“„ Header.jsx # å­ç»„ä»¶ï¼Œè¯»å–ä¸»é¢˜å¹¶å±•ç¤ºâ”‚ â”œâ”€â”€ ğŸ“„ Content.jsx # å­ç»„ä»¶ï¼Œè¯»å–ä¸»é¢˜å¹¶å±•ç¤ºâ”œâ”€â”€ ğŸ“ context/ # Contextâ”‚ â”œâ”€â”€ ğŸ“„ index.js # åˆ›å»º Context + Reducerâ””â”€â”€ ğŸ“„ App.jsx å®Œæ•´æ¡ˆä¾‹ï¼šhttps://www.yuque.com/zhbiao/qr34us/qk5da4gmpqzhat4s/edit#S3pEZ é¡µé¢åŠ è½½æ—¶é»˜è®¤â€œæµ…è‰²â€ï¼› ç‚¹å‡»â€œåˆ‡æ¢ä¸»é¢˜â€æŒ‰é’®ï¼› dispatch è§¦å‘ TOGGLE_THEMEï¼› reducer æ›´æ–° theme â†’ æ‰€æœ‰ä½¿ç”¨è¯¥çŠ¶æ€çš„ç»„ä»¶è‡ªåŠ¨é‡æ–°æ¸²æŸ“ï¼› æ‰€æœ‰ç»„ä»¶åŒæ­¥å˜æˆâ€œæ·±è‰²æ¨¡å¼â€ã€‚ 7ï¼‰TypeScript æœ€ä½³å®è·µ123456789101112131415161718192021222324252627282930313233343536373839// 1. å®šä¹‰ State å’Œ Action ç±»å‹interface State &#123; count: number; error: string | null; status: &quot;idle&quot; | &quot;loading&quot; | &quot;success&quot;;&#125;type Action = | &#123; type: &quot;increment&quot; &#125; | &#123; type: &quot;decrement&quot; &#125; | &#123; type: &quot;reset&quot;; payload: number &#125; | &#123; type: &quot;setError&quot;; error: string &#125;;// 2. Reducer ç±»å‹æ¨æ–­function reducer(state: State, action: Action): State &#123; switch (action.type) &#123; case &quot;increment&quot;: return &#123; ...state, count: state.count + 1 &#125;; case &quot;reset&quot;: return &#123; ...state, count: action.payload, status: &quot;idle&quot; &#125;; // TypeScript ä¼šæ£€æŸ¥æ˜¯å¦å¤„ç†äº†æ‰€æœ‰ action type default: return state; &#125;&#125;// 3. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨function Counter() &#123; const [state, dispatch] = useReducer(reducer, &#123; count: 0, error: null, status: &quot;idle&quot;, &#125;); // dispatch ç±»å‹å®‰å…¨ï¼Œé”™è¯¯çš„ action ä¼šæŠ¥é”™ dispatch(&#123; type: &quot;increment&quot; &#125;); // âœ… dispatch(&#123; type: &quot;reset&quot;, payload: 10 &#125;); // âœ… dispatch(&#123; type: &quot;unknown&quot; &#125;); // âŒ TypeScript é”™è¯¯&#125; ğŸŒŸ ä¸€å¥è¯æ€»ç»“ï¼š useReducer &#x3D; â€œå¤æ‚ç‰ˆ useStateâ€å½“çŠ¶æ€é€»è¾‘å¤æ‚æˆ–å¤šæ­¥éª¤æ›´æ–°æ—¶ï¼Œç”¨ reducer ç®¡ç†æ›´å¹²å‡€ã€æ›´å¯é ã€‚ 4.7 useRef - å¼•ç”¨ DOM å’Œä¿å­˜å¯å˜å€¼âœ… useRef è¿”å›ä¸€ä¸ª å¯å˜çš„ ref å¯¹è±¡ &#123; current: ... &#125;è¿™ä¸ªå¯¹è±¡çš„ .current å±æ€§å¯ä»¥å­˜å‚¨ä»»ä½•å€¼ï¼ˆDOM å…ƒç´ ã€å®šæ—¶å™¨ IDã€æ™®é€šå˜é‡ç­‰ï¼‰ï¼Œæ”¹å˜ .current ä¸ä¼šè§¦å‘ç»„ä»¶é‡æ¸²æŸ“ã€‚ å®ƒçš„ä¸¤ä¸ªä¸»è¦ç”¨é€”ï¼š è®¿é—® DOM å…ƒç´ ï¼ˆå‡½æ•°ç»„ä»¶ä¸­æ›¿ä»£ document.querySelectorï¼‰ ä¿å­˜ä»»æ„å˜é‡å€¼ï¼ˆè¿™ä¸ªå€¼åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ï¼Œä¸ä¼šå› é‡æ–°æ¸²æŸ“è€Œä¸¢å¤±ï¼‰ 1ï¼‰åŸºæœ¬è¯­æ³•1const refContainer = useRef(initialValue); initialValue æ˜¯åˆå§‹å€¼ refContainer.current æ˜¯å­˜æ”¾å€¼çš„åœ°æ–¹ æ”¹å˜ refContainer.current ä¸ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ 2ï¼‰ä½¿ç”¨åœºæ™¯ç¤ºä¾‹1ï¸âƒ£ æ“ä½œ DOM å…ƒç´  123456789101112131415161718import &#123; useRef &#125; from &quot;react&quot;;function InputFocus() &#123; const inputRef = useRef(null); // åˆå§‹ current = null const focusInput = () =&gt; &#123; inputRef.current.focus(); // è·å– DOM èŠ‚ç‚¹å¹¶èšç„¦ &#125;; return ( &lt;div&gt; &lt;input ref=&#123;inputRef&#125; type=&quot;text&quot; placeholder=&quot;ç‚¹å‡»æŒ‰é’®èšç„¦æˆ‘&quot; /&gt; &lt;button onClick=&#123;focusInput&#125;&gt;èšç„¦è¾“å…¥æ¡†&lt;/button&gt; &lt;/div&gt; );&#125;export default InputFocus; ref=&#123;inputRef&#125; å°† DOM èŠ‚ç‚¹ç»‘å®šåˆ° inputRef.current ç‚¹å‡»æŒ‰é’®æ—¶æ‰§è¡Œ inputRef.current.focus() æ¥è®©è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹ 2ï¸âƒ£ ç”¨æ¥å­˜å‚¨å¯å˜å€¼ useRef å¯ä»¥ç”¨æ¥å­˜å‚¨ä»»æ„å¯å˜å€¼ï¼Œè€Œä¸”å³ä½¿ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œè¿™ä¸ªå€¼ä»ç„¶ä¿ç•™ã€‚ 12345678910111213141516171819202122import &#123; useState, useRef, useEffect &#125; from &quot;react&quot;;function RenderCount() &#123; const [count, setCount] = useState(0); const renderTimes = useRef(0); useEffect(() =&gt; &#123; renderTimes.current += 1; // æ¯æ¬¡æ¸²æŸ“ +1 &#125;); console.log(&quot;ç»„ä»¶æ¸²æŸ“&quot;); return ( &lt;div&gt; &lt;p&gt;æŒ‰é’®ç‚¹å‡»æ¬¡æ•°ï¼š&#123;count&#125;&lt;/p&gt; &lt;p&gt;ç»„ä»¶æ¸²æŸ“æ¬¡æ•°ï¼š&#123;renderTimes.current&#125;&lt;/p&gt; &#123;/* è¿™é‡Œç‚¹å‡»è°ƒç”¨äº†useStateï¼Œå¯¼è‡´é¡µé¢é‡æ–°æ¸²æŸ“ï¼Œä½†æ˜¯useRefä¸€ç›´å¤„äºå åŠ çŠ¶æ€ï¼Œæ²¡æœ‰åˆå§‹åˆ°0 è¯´æ˜å…·æœ‰æŒä¹…æ€§ */&#125; &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;ç‚¹å‡»&lt;/button&gt; &lt;/div&gt; );&#125;export default RenderCount; renderTimes.current æ˜¯ä¸€ä¸ªæŒä¹…åŒ–å¼•ç”¨ï¼Œç»„ä»¶æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šç´¯åŠ ï¼Œä½†ä¸ä¼šå¼•èµ·é¢å¤–çš„æ¸²æŸ“ å¯¹ useRef å˜é‡çš„ä¿®æ”¹ä¸ä¼šè§¦å‘ UI æ›´æ–° 3ï¼‰æ³¨æ„äº‹é¡¹âš ï¸ ä¸è¦ç”¨å®ƒæ¥ä»£æ›¿ stateï¼Œé™¤éä½ ä¸éœ€è¦è§¦å‘æ¸²æŸ“ã€‚ .current ä¿®æ”¹ä¸ä¼šæ›´æ–° UIï¼Œåªæœ‰ state æ›´æ–°ä¼šè§¦å‘æ¸²æŸ“ã€‚ è®¿é—® DOM èŠ‚ç‚¹è¦ç¡®ä¿è¯¥èŠ‚ç‚¹å·²ç»æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼ˆé€šå¸¸åœ¨ useEffect ä¸­ä½¿ç”¨ï¼‰ã€‚ å‡½æ•°ç»„ä»¶ä¸èƒ½ä½¿ç”¨refï¼Œå› ä¸ºå‡½æ•°ç»„ä»¶æ²¡æœ‰å®ä¾‹ï¼ˆå’Œ forwardRef æ­é…å¯ä½¿ç”¨refï¼‰ 12345678910111213import &#123; useRef &#125; from &quot;react&quot;;import Child from &quot;./child&quot;;function App() &#123; const domRef = useRef(); return ( &lt;div&gt; &#123;/* é”™è¯¯å†™æ³•ï¼Œå‡½æ•°ç»„ä»¶ä¸èƒ½ä½¿ç”¨refï¼Œå› ä¸ºå‡½æ•°ç»„ä»¶æ²¡æœ‰å®ä¾‹ */&#125; &lt;Child ref=&#123;domRef&#125; /&gt; &lt;button&gt;çˆ¶ç»„ä»¶çš„æŒ‰é’®&lt;/button&gt; &lt;/div&gt; );&#125;export default App; 4ï¼‰å’Œ forwardRef æ­é…useRef é…åˆ forwardRef å¯ä»¥å°† ref ä¼ ç»™å­ç»„ä»¶ä¸­çš„ DOM å…ƒç´ ï¼š 123456789101112131415161718import &#123; useRef, forwardRef &#125; from &quot;react&quot;;const CustomInput = forwardRef((props, ref) =&gt; &#123; return &lt;input ref=&#123;ref&#125; &#123;...props&#125; /&gt;;&#125;);function App() &#123; const myInputRef = useRef(); return ( &lt;div&gt; &lt;CustomInput ref=&#123;myInputRef&#125; placeholder=&quot;è‡ªå®šä¹‰ç»„ä»¶ä¸­çš„è¾“å…¥æ¡†&quot; /&gt; &lt;button onClick=&#123;() =&gt; myInputRef.current.focus()&#125;&gt;èšç„¦&lt;/button&gt; &lt;/div&gt; );&#125;export default App; âœ… è¿™æ ·å¯ä»¥è®©çˆ¶ç»„ä»¶ç›´æ¥æ“ä½œå­ç»„ä»¶å†…éƒ¨çš„ DOM å…ƒç´ ã€‚ ğŸš«åœ¨react19ä¸­å·²åºŸå¼ƒforwardRef 12345678910111213141516171819import &#123; useRef &#125; from &quot;react&quot;;// âœ… React 19 å†™æ³•ï¼šç›´æ¥ä» props ä¸­è·å– reffunction CustomInput(&#123; placeholder, ref, ...props &#125;) &#123; return &lt;input ref=&#123;ref&#125; placeholder=&#123;placeholder&#125; &#123;...props&#125; /&gt;;&#125;function App() &#123; const myInputRef = useRef(); return ( &lt;div&gt; &lt;CustomInput ref=&#123;myInputRef&#125; placeholder=&quot;è‡ªå®šä¹‰ç»„ä»¶ä¸­çš„è¾“å…¥æ¡†&quot; /&gt; &lt;button onClick=&#123;() =&gt; myInputRef.current.focus()&#125;&gt;èšç„¦&lt;/button&gt; &lt;/div&gt; );&#125;export default App; 5ï¼‰TypeScript æ”¯æŒ123456789101112131415// DOM å…ƒç´ å¼•ç”¨ï¼ˆè‡ªåŠ¨æ¨æ–­ç±»å‹ï¼‰const inputRef = useRef&lt;HTMLInputElement&gt;(null);inputRef.current?.focus();// é DOM å¼•ç”¨éœ€è¦æ˜¾å¼ç±»å‹const timerRef = useRef&lt;number | null&gt;(null);timerRef.current = window.setTimeout(() =&gt; &#123;&#125;, 1000);// ç¡®ä¿æœ‰åˆå§‹å€¼ï¼ˆé nullï¼‰const countRef = useRef&lt;number&gt;(0);countRef.current += 1;// MutableRefObject vs RefObjectD// useRef&lt;T&gt;(null) -&gt; RefObject&lt;T&gt;ï¼ˆcurrent åªè¯»ï¼Œç”¨äº DOMï¼‰// useRef&lt;T&gt;(undefined) æˆ– useRef&lt;T&gt;(initial) -&gt; MutableRefObject&lt;T&gt;ï¼ˆcurrent å¯å†™ï¼‰ 4.8 useId - ç”Ÿæˆå”¯ä¸€ IDuseId æ˜¯ä¸€ä¸ª React å†…ç½® Hookï¼Œç”¨æ¥ç”Ÿæˆä¸€ä¸ªç¨³å®šä¸”å”¯ä¸€çš„ ID å­—ç¬¦ä¸²ï¼Œé€šå¸¸ç”¨äºï¼š æ— éšœç¢ï¼ˆa11yï¼‰åœºæ™¯ï¼šè®© label å’Œè¡¨å•æ§ä»¶é…å¯¹ä½¿ç”¨ï¼› æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ï¼šé˜²æ­¢å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨æ¸²æŸ“çš„ ID ä¸ä¸€è‡´ï¼› ç”Ÿæˆç¨³å®šå”¯ä¸€ key&#x2F;idï¼ˆæ¯æ¬¡æ¸²æŸ“ä¿æŒä¸å˜ï¼‰ã€‚ 1ï¼‰åŸºæœ¬è¯­æ³•1const id = useId(); è¿”å›ä¸€ä¸ªåœ¨å½“å‰ç»„ä»¶ä½œç”¨åŸŸå†… å”¯ä¸€ä¸”ç¨³å®š çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š&quot;r1:0&quot;ã€‚ æ¯æ¬¡æ¸²æŸ“éƒ½ä¿è¯ç›¸åŒç»„ä»¶ä¸­çš„ id ä¸€è‡´ã€‚ ä¸ä¼šåœ¨ä¸åŒç»„ä»¶ä¹‹é—´é‡å¤ã€‚ 2ï¼‰ä½¿ç”¨åœºæ™¯ç¤ºä¾‹1ï¸âƒ£ å…³è” &lt;label&gt; ä¸ &lt;input&gt; 1234567891011121314jsximport React, &#123; useId &#125; from &#x27;react&#x27;;function NameField() &#123; const id = useId(); return ( &lt;div&gt; &lt;label htmlFor=&#123;id&#125;&gt;å§“åï¼š&lt;/label&gt; &lt;input id=&#123;id&#125; type=&quot;text&quot; placeholder=&quot;è¯·è¾“å…¥å§“å&quot; /&gt; &lt;/div&gt; );&#125;export default NameField; âœ… åœ¨è¿™é‡Œï¼š useId ç”Ÿæˆä¸€ä¸ªå”¯ä¸€ idï¼› label çš„ htmlFor ä¸ input çš„ id ä¸€è‡´ï¼› å½“å¤šä¸ª NameField ç»„ä»¶åŒæ—¶å­˜åœ¨æ—¶ï¼Œæ¯ä¸ªç»„ä»¶ç”Ÿæˆçš„ id ä¸ä¼šå†²çªã€‚ 2ï¸âƒ£ ç»„åˆå‰ç¼€ä½¿ç”¨ï¼ˆæ¨èï¼‰ ä¸ºäº†æ›´æ˜ç¡®åŒºåˆ†ä¸åŒæ§ä»¶ï¼Œå¯ä»¥åŠ ä¸Šè‡ªå®šä¹‰å‰ç¼€ï¼š 1234jsxconst id = useId();&lt;input id=&#123;`email-$&#123;id&#125;`&#125; /&gt;&lt;label htmlFor=&#123;`email-$&#123;id&#125;`&#125;&gt;é‚®ç®±&lt;/label&gt; ç»“æœç±»æ¯”ï¼šid=&quot;email-r1:0&quot;, email-r1:1 ç­‰ã€‚ 3ï¼‰ä¸ SSR é…åˆReact 18 å¼•å…¥äº† useIdï¼Œæ˜¯ä¸ºäº†è§£å†³ æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆServer Side Renderingï¼‰ æ—¶ç”Ÿæˆçš„ ID ä¸ä¸€è‡´é—®é¢˜ï¼š SSR é˜¶æ®µä¼šç”Ÿæˆç¨³å®šçš„ IDã€‚ Hydrationï¼ˆå®¢æˆ·ç«¯æ¿€æ´»ï¼‰æ—¶ï¼ŒReact ä¼šä¿è¯å®¢æˆ·ç«¯ç”Ÿæˆçš„ id ä¸æœåŠ¡ç«¯çš„ä¸€è‡´ã€‚ âœ… æ‰€ä»¥ useId æ˜¯ SSR å®‰å…¨çš„å”¯ä¸€ IDã€‚ 4ï¼‰æ³¨æ„äº‹é¡¹âš ï¸ useId ä¸é€‚åˆå½“ä½œåˆ—è¡¨ key çš„å”¯ä¸€æ ‡è¯†ï¼Œå› ä¸ºå®ƒåªåœ¨ç»„ä»¶ä½œç”¨åŸŸç‹¬ç«‹å”¯ä¸€ï¼Œä¸æ˜¯æ•°æ®å±‚å”¯ä¸€ã€‚ æ¯æ¬¡è°ƒç”¨ useId éƒ½ä¼šç”Ÿæˆä¸€ä¸ªä¸åŒçš„å­ IDï¼ŒReact å†…éƒ¨æœ‰æœºåˆ¶ç¡®ä¿ç»„åˆæ—¶ä¸å†²çªã€‚ åªå¯åœ¨ ç»„ä»¶åˆå§‹åŒ–é˜¶æ®µè°ƒç”¨ä¸€æ¬¡ï¼Œå³è®© id åœ¨æ•´ä¸ªç»„ä»¶ç”Ÿå‘½å‘¨æœŸå†…ç¨³å®šã€‚ 4.9 useDeferredValue - å»¶è¿Ÿæ›´æ–°å€¼å½“ä½ æ›´æ–°æŸä¸ªçŠ¶æ€æ—¶ï¼ŒReact ä¸ä¸€å®šç«‹åˆ»åŒæ­¥æ¸²æŸ“ä½¿ç”¨è¿™ä¸ªå€¼çš„éƒ¨åˆ†ï¼Œè€Œæ˜¯ä¼šä¼˜å…ˆæ¸²æŸ“æ›´ç´§æ€¥çš„æ›´æ–°ï¼ˆäº¤äº’ã€è¾“å…¥ï¼‰ï¼Œç¨åå†æ›´æ–°é‚£äº›è€—æ—¶çš„æ¸²æŸ“éƒ¨åˆ†ã€‚ âœ… ç®€å•ç†è§£ï¼šè®©é¡µé¢ä¸­ä¸å¤ªé‡è¦çš„éƒ¨åˆ†â€œæ™šä¸€ç‚¹æ›´æ–°â€ï¼Œä»¥ä¿è¯ç”¨æˆ·æ“ä½œæ›´æµç•…ã€‚ 1ï¼‰åŸºæœ¬è¯­æ³•1const deferredValue = useDeferredValue(value); valueï¼šåŸå§‹çš„å€¼ï¼ˆå¯èƒ½å˜åŒ–é¢‘ç¹ï¼‰ deferredValueï¼šReact è¿”å›çš„å»¶è¿Ÿæ›´æ–°çš„å€¼ å½“ value æ”¹å˜æ—¶ï¼ŒReact ä¸ä¼šç«‹å³è®© deferredValue åŒæ­¥ï¼Œè€Œæ˜¯â€œç¨åâ€æ›´æ–°å®ƒï¼ˆåŸºäºè°ƒåº¦ä¼˜å…ˆçº§ï¼‰ï¼Œå¦‚æœæ›´æ–°éå¸¸å¿«ï¼Œæ¯”å¦‚é¢‘ç¹è¾“å…¥ï¼ŒdeferredValue ä¼šæ»åä¸€ç‚¹è·Ÿä¸Šã€‚ 2ï¼‰ä½¿ç”¨åœºæ™¯ç¤ºä¾‹1ï¸âƒ£ æœç´¢è¿‡æ»¤ï¼ˆå¤§åˆ—è¡¨ï¼‰ å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè¾“å…¥æ¡†ç”¨äºæœç´¢å¤§é‡æ•°æ®ï¼Œè¾“å…¥è¿‡ç¨‹ä¸­ä½ ä¸å¸Œæœ›æ¯ä¸ªå­—æ¯éƒ½ç«‹å³å¯¼è‡´æ˜‚è´µçš„æ¸²æŸ“ï¼š 12345678910111213141516171819202122232425262728293031323334353637import &#123; useState, useDeferredValue, useMemo &#125; from &quot;react&quot;;function SlowList(&#123; input &#125;) &#123; // æ¨¡æ‹Ÿå¤§æ•°æ®è¿‡æ»¤ï¼ˆè€—æ—¶ï¼‰ è¦é…åˆuseMemoä½¿ç”¨ï¼Œè¦ä¸ç„¶å­ç»„ä»¶æ¯æ¬¡æ¸²æŸ“ï¼Œä¹Ÿä¼šå¯¼è‡´è¾“å…¥å¡é¡¿ const list = useMemo(() =&gt; &#123; const items = []; for (let i = 0; i &lt; 10000; i++) &#123; items.push( &lt;div key=&#123;i&#125;&gt; &#123;input&#125; - é¡¹ &#123;i&#125; &lt;/div&gt;, ); &#125; return items; &#125;, [input]); return &lt;div&gt;&#123;list&#125;&lt;/div&gt;;&#125;function SearchPage() &#123; const [query, setQuery] = useState(&quot;&quot;); const deferredQuery = useDeferredValue(query); // ğŸ‘ˆ å»¶è¿Ÿä½¿ç”¨ query return ( &lt;div&gt; &lt;input value=&#123;query&#125; onChange=&#123;(e) =&gt; setQuery(e.target.value)&#125; placeholder=&quot;è¾“å…¥æœç´¢å…³é”®è¯...&quot; /&gt; &#123;/* ä½¿ç”¨å»¶è¿Ÿçš„çŠ¶æ€å€¼æ¸²æŸ“å¤§åˆ—è¡¨ */&#125; &lt;SlowList input=&#123;deferredQuery&#125; /&gt; &lt;/div&gt; );&#125;export default SearchPage; ğŸ” æ•ˆæœï¼š è¾“å…¥æ¡†å“åº”éå¸¸é¡ºç•…ï¼› åˆ—è¡¨æ¸²æŸ“ç¨å¾®æ»åä¸€ç‚¹æ›´æ–°ï¼ˆä¸ä¼šé˜»å¡è¾“å…¥ï¼‰ï¼› React è‡ªåŠ¨å®‰æ’è¾ƒä½ä¼˜å…ˆçº§çš„æ¸²æŸ“ä»»åŠ¡ã€‚ 3ï¼‰useDeferredValueçš„æœ¬è´¨å®ƒåˆ©ç”¨äº† React çš„å¹¶å‘ç‰¹æ€§ï¼ˆConcurrent Renderingï¼‰è®©æŸäº›æ›´æ–°ä»¥è¾ƒä½ä¼˜å…ˆçº§è¿›è¡Œï¼š ç”¨æˆ·è¾“å…¥ â†’ é«˜ä¼˜å…ˆçº§ï¼› åˆ—è¡¨æ›´æ–° â†’ ä½ä¼˜å…ˆçº§ï¼› React å†…éƒ¨å¯åœ¨åˆé€‚æ—¶æœºå¤„ç†ä½ä¼˜å…ˆçº§æ›´æ–°ã€‚ æ‰€ä»¥å®ƒéå¸¸é€‚åˆï¼š è¾“å…¥æœç´¢æ—¶å±•ç¤ºç»“æœï¼› å¤§é‡æ•°æ®è¿‡æ»¤ï¼› å¤æ‚æ¸²æŸ“åœºæ™¯ä¸­ä¿æŒ UI äº’åŠ¨æµç•…ã€‚ 4ï¼‰æ³¨æ„äº‹é¡¹âš ï¸ æ³¨æ„ç‚¹ è¯´æ˜ ä¸ä¼šè·³è¿‡æ›´æ–° åªæ˜¯å»¶è¿Ÿæ‰§è¡Œï¼Œæœ€ç»ˆä»ä¼šåŒæ­¥åˆ°æœ€æ–°å€¼ ä¸å»ºè®®ç”¨äºå…³é”® UI çŠ¶æ€ å› ä¸ºå®ƒå¯èƒ½æš‚æ—¶è½åäºçœŸå®å€¼ éœ€è¦ React 18+ å±äºå¹¶å‘ç³»ç»Ÿçš„åŠŸèƒ½ å¯æ­é… useTransition ä¸€èµ·ä½¿ç”¨ å…±åŒæ§åˆ¶æ›´æ–°ä¼˜å…ˆçº§æ›´åŠ çµæ´» 4.10 useTransition - éé˜»å¡çŠ¶æ€æ›´æ–°ç”¨æ¥å°†æŸäº›çŠ¶æ€æ›´æ–°æ ‡è®°ä¸ºâ€œè¿‡æ¸¡æ›´æ–°ï¼ˆtransition updateï¼‰â€ã€‚ ç®€å•æ¥è¯´ï¼Œå®ƒå‘Šè¯‰ Reactï¼š â€œè¿™ç±»æ›´æ–°ä¸ç”¨ç«‹åˆ»æ‰§è¡Œï¼Œå¯ä»¥ç¨åå®Œæˆï¼Œè®©ç”¨æˆ·äº¤äº’ä¸è¦è¢«å¡é¡¿ã€‚â€ åœ¨ React 18 çš„ å¹¶å‘æ¸²æŸ“æ¨¡å¼ ä¸‹ï¼Œæ›´æ–°æœ‰ä¼˜å…ˆçº§åŒºåˆ†ï¼š ç´§æ€¥æ›´æ–°ï¼ˆUrgentï¼‰ï¼šç«‹åˆ»æ‰§è¡Œï¼Œæ¯”å¦‚è¾“å…¥æ¡†ã€ç‚¹å‡»ã€‚ è¿‡æ¸¡æ›´æ–°ï¼ˆTransitionï¼‰ï¼šå¯ä»¥å»¶åï¼Œæ¯”å¦‚ç­›é€‰ã€åˆ†é¡µã€æ’åºã€å¤§åˆ—è¡¨æ¸²æŸ“ã€‚ 1ï¼‰åŸºæœ¬è¯­æ³•æœç´¢è¿‡æ»¤1const [isPending, startTransition] = useTransition(); isPending ï¼šå¸ƒå°”å€¼ï¼šè¡¨ç¤ºè¿‡æ¸¡æ›´æ–°æ˜¯å¦æ­£åœ¨è¿›è¡Œä¸­ï¼Œå¯ç”¨äºæ˜¾ç¤ºâ€œåŠ è½½ä¸­â€¦â€ startTransition()ï¼šå‡½æ•°ï¼šç”¨äºåŒ…è£¹å±äºè¿‡æ¸¡æ›´æ–°çš„ä»£ç ï¼ˆä¾‹å¦‚ setStateï¼‰ 2ï¼‰ä½¿ç”¨åœºæ™¯ç¤ºä¾‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748import &#123; useState, useTransition &#125; from &quot;react&quot;;const allItems = Array.from(&#123; length: 20000 &#125;, (_, i) =&gt; `Item $&#123;i + 1&#125;`);function List(&#123; list &#125;) &#123; return ( &lt;ul&gt; &#123;list.map((item) =&gt; ( &lt;li key=&#123;item&#125;&gt;&#123;item&#125;&lt;/li&gt; ))&#125; &lt;/ul&gt; );&#125;function App() &#123; const [query, setQuery] = useState(&quot;&quot;); const [list, setList] = useState(allItems); const [isPending, startTransition] = useTransition(); // ğŸ‘ˆ ä½¿ç”¨ useTransition function handleChange(e) &#123; const newQuery = e.target.value; setQuery(newQuery); // ç´§æ€¥æ›´æ–°ï¼ˆç«‹å³å“åº”è¾“å…¥ï¼‰ // è¿‡æ»¤æ“ä½œæ ‡è®°ä¸ºâ€œè¿‡æ¸¡æ›´æ–°â€ï¼Œä¸ä¼šé˜»å¡è¾“å…¥ startTransition(() =&gt; &#123; const filtered = allItems.filter((item) =&gt; item.toLowerCase().includes(newQuery.toLowerCase()), ); setList(filtered); &#125;); &#125; return ( &lt;div style=&#123;&#123; padding: 20 &#125;&#125;&gt; &lt;h2&gt;useTransition ä¼˜åŒ–çš„æœç´¢ç¤ºä¾‹&lt;/h2&gt; &lt;input value=&#123;query&#125; onChange=&#123;handleChange&#125; placeholder=&quot;è¾“å…¥å…³é”®å­—è¿‡æ»¤åˆ—è¡¨â€¦&quot; /&gt; &#123;isPending &amp;&amp; &lt;span style=&#123;&#123; color: &quot;orange&quot; &#125;&#125;&gt;æ­£åœ¨è¿‡æ»¤æ•°æ®â€¦&lt;/span&gt;&#125; &lt;p&gt;åŒ¹é…åˆ° &#123;list.length&#125; æ¡ç»“æœ&lt;/p&gt; &lt;List list=&#123;list&#125; /&gt; &lt;/div&gt; );&#125;export default App; âœ… ä½“éªŒï¼šè¾“å…¥æ¡†è¾“å…¥å³æ—¶å“åº”ï¼›åˆ—è¡¨è¿‡æ»¤æ˜¯å»¶åæ‰§è¡Œçš„ï¼Œç•Œé¢ä¸ä¼šå¡é¡¿ã€‚ 3ï¼‰å·¥ä½œåŸç†12345ç”¨æˆ·è¾“å…¥ â†’ ç«‹å³æ›´æ–°è¾“å…¥æ¡†ï¼ˆç´§æ€¥æ›´æ–°ï¼‰ â†“React ç©ºé—²æ—¶ â†’ æ‰§è¡Œè¿‡æ»¤é€»è¾‘ï¼ˆè¿‡æ¸¡æ›´æ–°ï¼‰ â†“è¿‡æ¸¡å®Œæˆ â†’ isPending = falseï¼Œåˆ—è¡¨æ›´æ–° å½“ startTransition å†…çš„æ›´æ–°åœ¨è¿›è¡Œæ—¶ï¼š React ä¼šä¼˜å…ˆå¤„ç†äº¤äº’äº‹ä»¶ï¼ˆæ¯”å¦‚è¾“å…¥æ¡†ï¼‰ï¼Œ æš‚ç¼“å…¶ä»–è¾ƒæ…¢çš„æ¸²æŸ“ä»»åŠ¡ï¼Œ ç¡®ä¿ç•Œé¢æµç•…ã€‚ 4ï¼‰ä¸useDeferredValueçš„å¯¹æ¯” useDeferredValue ä¸»è¦ç”¨äºå»¶è¿Ÿå•ä¸ªå€¼çš„æ›´æ–°ï¼Œé€‚ç”¨äºå€¼çš„å˜åŒ–ç›´æ¥å½±å“åˆ° UI æ¸²æŸ“ä½†åˆä¸æ˜¯ç«‹å³å¿…è¦çš„æ›´æ–°ã€‚ useTransition ç”¨äºå‘Šè¯‰ React å“ªäº›æ›´æ–°æ˜¯ä½ä¼˜å…ˆçº§çš„ï¼Œå¹¶å¯ä½¿ç”¨ isPending çŠ¶æ€åé¦ˆæ›´æ–°æ˜¯å¦å¤„äºç­‰å¾…çŠ¶æ€ï¼Œé€‚ç”¨äºæ§åˆ¶å¤§å—åŒºåŸŸæˆ–å¤æ‚çŠ¶æ€çš„æ›´æ–°è¡Œä¸ºï¼Œå…è®¸ä½ åœ¨è§¦å‘æ›´æ–°æ—¶æä¾›æ›´è‡ªç„¶çš„ç”¨æˆ·ä½“éªŒã€‚ å¯¹æ¯”é¡¹ useTransition useDeferredValue æ§åˆ¶å¯¹è±¡ ä¸€æ•´æ®µçŠ¶æ€æ›´æ–°ï¼ˆsetStateï¼‰ ä¸€ä¸ªçŠ¶æ€å€¼ å»¶è¿Ÿæ–¹å¼ æ‰‹åŠ¨åŒ…è£¹æ›´æ–° è‡ªåŠ¨ä½¿å€¼å»¶è¿Ÿç”Ÿæ•ˆ è¿”å›å€¼ [isPending, startTransition] deferredValue æ˜¯å¦æœ‰åŠ è½½çŠ¶æ€ âœ… æœ‰ isPending âŒ éœ€æ‰‹åŠ¨æ¯”è¾ƒ ä½¿ç”¨åœºæ™¯ ä½ è¦å»¶è¿Ÿæ‰§è¡ŒæŸä¸ªæ›´æ–°é€»è¾‘ ä½ è¦å»¶è¿ŸæŸä¸ªå€¼ä¼ é€’ä¸‹å» 5ï¼‰æ³¨æ„äº‹é¡¹âš ï¸ useTransition åªåœ¨ React 18+ æœ‰æ•ˆæœï¼› å®ƒä¸ä¼šè·³è¿‡æ¸²æŸ“ï¼Œåªæ˜¯è°ƒåº¦é¡ºåºä¸åŒï¼› ä¸é€‚ç”¨äºåŠ¨ç”»æˆ–æ—¶é—´å»¶è¿Ÿï¼Œåªæ”¹å˜æ›´æ–°ä¼˜å…ˆçº§ï¼› ä¸è¦æ»¥ç”¨â€”â€”ä»…åœ¨æ€§èƒ½ç“¶é¢ˆæˆ–å¡é¡¿æ—¶ä½¿ç”¨ã€‚ 4.11 useImperativeHandle - æš´éœ²è‡ªå®šä¹‰refuseImperativeHandle ç”¨äºè‡ªå®šä¹‰é€šè¿‡ ref æš´éœ²ç»™çˆ¶ç»„ä»¶çš„å®ä¾‹å€¼ã€‚å®ƒé€šå¸¸ä¸ forwardRef é…åˆä½¿ç”¨ï¼ˆReact 19 å ref å¯ä½œä¸º prop ç›´æ¥ä¼ é€’ï¼‰ã€‚forwardRefç”¨æ³• 1ï¼‰åŸºæœ¬è¯­æ³•1useImperativeHandle(ref, createHandle, deps?) refï¼šä» forwardRef æˆ– props ä¼ å…¥çš„ ref createHandleï¼šè¿”å›æš´éœ²ç»™çˆ¶ç»„ä»¶çš„å¯¹è±¡ depsï¼šä¾èµ–æ•°ç»„ï¼Œç±»ä¼¼ useEffect 2ï¼‰React 19 ä¹‹å‰çš„å†™æ³•ï¼ˆforwardRefï¼‰123456789101112131415161718192021222324252627282930313233343536373839import &#123; useRef, useImperativeHandle, forwardRef &#125; from &quot;react&quot;;// å­ç»„ä»¶const Child = forwardRef((props, ref) =&gt; &#123; const inputRef = useRef(null); useImperativeHandle( ref, () =&gt; (&#123; focus: () =&gt; &#123; inputRef.current.focus(); &#125;, getValue: () =&gt; inputRef.current.value, &#125;), [], ); return &lt;input ref=&#123;inputRef&#125; placeholder=&quot;è¾“å…¥å†…å®¹&quot; /&gt;;&#125;);// çˆ¶ç»„ä»¶function Parent() &#123; const childRef = useRef(null); const handleClick = () =&gt; &#123; // è°ƒç”¨å­ç»„ä»¶æš´éœ²çš„æ–¹æ³• childRef.current.focus(); console.log(childRef.current.getValue()); &#125;; return ( &lt;&gt; &lt;Child ref=&#123;childRef&#125; /&gt; &lt;button onClick=&#123;handleClick&#125;&gt;æ“ä½œå­ç»„ä»¶&lt;/button&gt; &lt;/&gt; );&#125;export default Parent; 3ï¼‰React 19 çš„ç®€åŒ–å†™æ³•12345678910111213141516171819202122232425262728293031323334353637383940import &#123; useRef, useImperativeHandle &#125; from &quot;react&quot;;// å­ç»„ä»¶function Child(&#123; ref &#125;) &#123; const inputRef = useRef(null); useImperativeHandle( ref, () =&gt; (&#123; // è¿”å›ä¸€ä¸ªå¯¹è±¡ focus: () =&gt; inputRef.current?.focus(), clear: () =&gt; &#123; if (inputRef.current) inputRef.current.value = &quot;&quot;; &#125;, &#125;), [], ); return &lt;input ref=&#123;inputRef&#125; /&gt;;&#125;// çˆ¶ç»„ä»¶function Parent() &#123; const childRef = useRef(null); const handleClick = () =&gt; &#123; // è°ƒç”¨å­ç»„ä»¶æš´éœ²çš„æ–¹æ³• childRef.current.focus(); childRef.current.clear(); &#125;; return ( &lt;&gt; &lt;Child ref=&#123;childRef&#125; /&gt; &lt;button onClick=&#123;handleClick&#125;&gt;æ“ä½œå­ç»„ä»¶&lt;/button&gt; &lt;/&gt; );&#125;export default Parent; 4ï¼‰ä½¿ç”¨åœºæ™¯1ï¸âƒ£ å°è£…ç¬¬ä¸‰æ–¹ç»„ä»¶ 123456789101112const FancyInput = forwardRef((props, ref) =&gt; &#123; const inputRef = useRef(null); useImperativeHandle(ref, () =&gt; (&#123; // åªæš´éœ²ç‰¹å®šçš„ APIï¼Œéšè—å†…éƒ¨å®ç° focus: () =&gt; inputRef.current.focus(), scrollIntoView: () =&gt; inputRef.current.scrollIntoView(&#123; behavior: &quot;smooth&quot; &#125;), &#125;)); return &lt;input ref=&#123;inputRef&#125; &#123;...props&#125; /&gt;;&#125;); 2ï¸âƒ£åŠ¨ç”»æ§åˆ¶ 1234567891011121314151617const AnimatedBox = forwardRef((props, ref) =&gt; &#123; const elementRef = useRef(null); useImperativeHandle(ref, () =&gt; (&#123; shake: () =&gt; &#123; elementRef.current?.classList.add(&quot;shake-animation&quot;); setTimeout(() =&gt; &#123; elementRef.current?.classList.remove(&quot;shake-animation&quot;); &#125;, 500); &#125;, highlight: () =&gt; &#123; elementRef.current?.classList.add(&quot;highlight&quot;); &#125;, &#125;)); return &lt;div ref=&#123;elementRef&#125;&gt;&#123;props.children&#125;&lt;/div&gt;;&#125;); 5ï¼‰æ³¨æ„äº‹é¡¹âš ï¸ é¿å…è¿‡åº¦ä½¿ç”¨ï¼šä¼˜å…ˆé€šè¿‡ props å’Œ state è¿›è¡Œæ•°æ®æµé€šä¿¡ï¼Œrefs æ˜¯â€é€ƒç”Ÿèˆ±â€ è¿”å›å€¼é™åˆ¶ï¼šcreateHandle è¿”å›çš„å¯¹è±¡ä¸­ä¸èƒ½åŒ…å«åŸå§‹ç±»å‹çš„ ref å€¼ï¼ˆå¦‚ &#123; current: ... &#125;ï¼‰ï¼Œåªèƒ½æ˜¯æ™®é€šå‡½æ•°æˆ–å€¼ TypeScript æ”¯æŒï¼š 1234567891011interface ChildRef &#123; focus: () =&gt; void; clear: () =&gt; void;&#125;const Child = forwardRef&lt;ChildRef, Props&gt;((props, ref) =&gt; &#123; useImperativeHandle(ref, () =&gt; (&#123; focus: () =&gt; &#123;&#125;, clear: () =&gt; &#123;&#125; &#125;));&#125;); ä¸ useRef é…åˆï¼šé€šå¸¸åœ¨å­ç»„ä»¶å†…éƒ¨ç»´æŠ¤å®é™… DOM refï¼Œå†é€šè¿‡ useImperativeHandle é€‰æ‹©æ€§æš´éœ²æ–¹æ³• æ¸…ç†é€»è¾‘ï¼šå¦‚æœæš´éœ²çš„æ–¹æ³•æ¶‰åŠå‰¯ä½œç”¨ï¼ˆå¦‚å®šæ—¶å™¨ï¼‰ï¼Œè®°å¾—åœ¨ç»„ä»¶å¸è½½æ—¶æ¸…ç† è¿™ä¸ªæ¨¡å¼é€‚ç”¨äºéœ€è¦å‘½ä»¤å¼æ“ä½œï¼ˆå¦‚èšç„¦ã€æ’­æ”¾ã€æ»šåŠ¨ã€è§¦å‘åŠ¨ç”»ï¼‰ä½†ä¸æƒ³æš´éœ²æ•´ä¸ª DOM èŠ‚ç‚¹çš„åœºæ™¯ã€‚ 4.12 useLayoutEffect - åŒæ­¥æ‰§è¡Œçš„å‰¯ä½œç”¨ useLayoutEffect å¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚å°½å¯èƒ½ä½¿ç”¨ useEffect useLayoutEffect ä¸ useEffect ç­¾åå®Œå…¨ç›¸åŒï¼Œä½†æ‰§è¡Œæ—¶æœºä¸åŒï¼šåœ¨æµè§ˆå™¨ç»˜åˆ¶ï¼ˆpaintï¼‰ä¹‹å‰åŒæ­¥æ‰§è¡Œï¼Œç”¨äºé¿å…è§†è§‰é—ªçƒã€‚ 1ï¼‰æ‰§è¡Œæ—¶æœºå¯¹æ¯”1234567ç»„ä»¶æ¸²æŸ“å®Œæˆ â†“useLayoutEffectï¼ˆåŒæ­¥æ‰§è¡Œï¼Œé˜»å¡ç»˜åˆ¶ï¼‰â† åœ¨è¿™é‡Œä¿®æ”¹ DOMï¼Œç”¨æˆ·çœ‹ä¸åˆ°ä¸­é—´æ€ â†“æµè§ˆå™¨ç»˜åˆ¶ï¼ˆPaintï¼‰åˆ°å±å¹• â†“useEffectï¼ˆå¼‚æ­¥æ‰§è¡Œï¼Œä¸é˜»å¡ç»˜åˆ¶ï¼‰ 2ï¼‰æ ¸å¿ƒä½¿ç”¨åœºæ™¯1ï¸âƒ£æµ‹é‡ DOM å¹¶åŒæ­¥ä¿®æ”¹ï¼ˆé˜²æ­¢é—ªçƒï¼‰ **å®Œæ•´æ¡ˆä¾‹ï¼š**https://www.yuque.com/zhbiao/qr34us/qk5da4gmpqzhat4s/edit#fdd2408c 1234567891011121314151617181920212223242526272829303132333435import &#123; useLayoutEffect, useRef, useState &#125; from &quot;react&quot;;function Tooltip(&#123; children, content &#125;) &#123; const [position, setPosition] = useState(&#123; top: 0, left: 0 &#125;); const triggerRef = useRef(null); const tooltipRef = useRef(null); useLayoutEffect(() =&gt; &#123; const triggerRect = triggerRef.current.getBoundingClientRect(); const tooltipRect = tooltipRef.current.getBoundingClientRect(); // è®¡ç®— tooltip ä½ç½®ï¼ˆä¾‹å¦‚æ˜¾ç¤ºåœ¨ trigger ä¸Šæ–¹ï¼‰ const top = triggerRect.top - tooltipRect.height - 8; const left = triggerRect.left + (triggerRect.width - tooltipRect.width) / 2; // åŒæ­¥è®¾ç½®ä½ç½®ï¼Œç”¨æˆ·ä¸ä¼šçœ‹åˆ° tooltip å…ˆå‡ºç°åœ¨é”™è¯¯ä½ç½® setPosition(&#123; top, left &#125;); &#125;, []); return ( &lt;&gt; &lt;span ref=&#123;triggerRef&#125;&gt;&#123;children&#125;&lt;/span&gt; &lt;div ref=&#123;tooltipRef&#125; style=&#123;&#123; position: &quot;fixed&quot;, top: position.top, left: position.left, &#125;&#125; &gt; &#123;content&#125; &lt;/div&gt; &lt;/&gt; );&#125; å¦‚æœç”¨ useEffect ä¼šæ€æ ·ï¼Ÿ æµè§ˆå™¨å…ˆç»˜åˆ¶ tooltip åœ¨é»˜è®¤ä½ç½®ï¼ˆä¾‹å¦‚ 0,0ï¼‰ ç”¨æˆ·çœ‹åˆ°ä¸€é—ªè€Œè¿‡çš„é”™ä½ ç„¶å useEffect æ‰§è¡Œï¼Œè·³è½¬åˆ°æ­£ç¡®ä½ç½® 2ï¸âƒ£ä»æœåŠ¡ç«¯æ¸²æŸ“æ¢å¤ï¼ˆSSR Hydrationï¼‰ å½“æœåŠ¡ç«¯æ¸²æŸ“çš„ HTML ä¸å®¢æˆ·ç«¯é¦–æ¬¡æ¸²æŸ“ä¸ä¸€è‡´æ—¶ï¼Œç”¨ useLayoutEffect åœ¨ç»˜åˆ¶å‰ä¿®æ­£ï¼Œé¿å… hydration ä¸åŒ¹é…è­¦å‘Šï¼š 1234567891011function ClientOnlyComponent() &#123; const [width, setWidth] = useState(0); // æœåŠ¡ç«¯æ²¡æœ‰ windowï¼Œé»˜è®¤æ¸²æŸ“ä¸º 0 // å®¢æˆ·ç«¯åœ¨ç»˜åˆ¶å‰åŒæ­¥è®¡ç®—å®é™…å®½åº¦ï¼Œé˜²æ­¢é—ªçƒ useLayoutEffect(() =&gt; &#123; setWidth(window.innerWidth); &#125;, []); return &lt;div&gt;çª—å£å®½åº¦: &#123;width&#125;&lt;/div&gt;;&#125; 3ï¼‰ä¸ useEffect çš„é€‰æ‹©æŒ‡å— åœºæ™¯ æ¨è åŸå›  æ•°æ®è·å– useEffect ä¸é˜»å¡ç»˜åˆ¶ï¼Œç”¨æˆ·æ›´å¿«çœ‹åˆ°å†…å®¹ äº‹ä»¶ç›‘å¬ useEffect ä¸é˜»å¡ç»˜åˆ¶ åŸºäº DOM æµ‹é‡è°ƒæ•´å¸ƒå±€ useLayoutEffect é˜²æ­¢é—ªçƒ åŠ¨ç”»åˆå§‹çŠ¶æ€ useLayoutEffect é˜²æ­¢é—ªçƒ DOM ä¿®æ”¹ï¼ˆå¦‚èšç„¦ï¼‰ useEffect é€šå¸¸ä¸éœ€è¦åŒæ­¥ï¼Œé™¤éæœ‰è§†è§‰é—®é¢˜ é»„é‡‘æ³•åˆ™ï¼šå…ˆä½¿ç”¨ useEffectï¼Œå¦‚æœå‡ºç°è§†è§‰é—ªçƒï¼ˆflickerï¼‰å†æ”¹ä¸º useLayoutEffect 4ï¼‰æ€§èƒ½è­¦å‘Š âš ï¸useLayoutEffect ä¼šé˜»å¡æµè§ˆå™¨ç»˜åˆ¶ï¼Œæ‰§è¡Œæ—¶é—´è¿‡é•¿ä¼šå¯¼è‡´ï¼š æ‰å¸§&#x2F;å¡é¡¿ï¼šç”¨æˆ·æ„Ÿè§‰åˆ°ç•Œé¢å¡ä½ å»¶è¿Ÿäº¤äº’ï¼šæ— æ³•å“åº”ç”¨æˆ·è¾“å…¥ å½±å“ç”¨æˆ·ä½“éªŒï¼šæ¯”è½»å¾®çš„è§†è§‰é—ªçƒæ›´ç³Ÿç³• 123456789101112// âŒ é”™è¯¯ï¼šåœ¨ useLayoutEffect ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œuseLayoutEffect(() =&gt; &#123; // å¤§æ•°æ®å¤„ç†ä¼šé˜»å¡ç»˜åˆ¶ const processed = heavyDataProcessing(data); setData(processed);&#125;, []);// âœ… æ­£ç¡®ï¼šè€—æ—¶æ“ä½œåº”åœ¨ useEffect ä¸­useEffect(() =&gt; &#123; const processed = heavyDataProcessing(data); setData(processed);&#125;, []); 4.13 è‡ªå®šä¹‰ Hooksè‡ªå®šä¹‰ Hook æ˜¯æå–ç»„ä»¶é€»è¾‘åˆ°å¯å¤ç”¨å‡½æ•°çš„æœºåˆ¶ï¼Œè§£å†³ React ä¸­çŠ¶æ€é€»è¾‘å¤ç”¨é—®é¢˜ï¼ˆæ›¿ä»£é«˜é˜¶ç»„ä»¶ HOC å’Œ Render Propsï¼‰ã€‚ 1ï¼‰æ ¸å¿ƒè§„åˆ™1ï¸âƒ£ å‘½åå¿…é¡»ä»¥ use å¼€å¤´ 12345// âœ… æ­£ç¡®ï¼šReact è¯†åˆ«ä¸º Hookï¼Œä¼šæ£€æŸ¥è§„åˆ™function useWindowSize() &#123; ... &#125;// âŒ é”™è¯¯ï¼šæ™®é€šå‡½æ•°ï¼ŒReact ä¸ä¼šåº”ç”¨ Hook è§„åˆ™function getWindowSize() &#123; ... &#125; 2ï¸âƒ£éµå¾ª Hooks è§„åˆ™ åªåœ¨é¡¶å±‚è°ƒç”¨ï¼ˆä¸åœ¨å¾ªç¯ã€æ¡ä»¶ã€åµŒå¥—å‡½æ•°ä¸­ï¼‰ åªåœ¨ React å‡½æ•°æˆ–è‡ªå®šä¹‰ Hook ä¸­è°ƒç”¨ 2ï¼‰åŸºç¡€æ¨¡æ¿12345678910111213141516import &#123; useState, useEffect &#125; from &quot;react&quot;;function useCustomHook(arg) &#123; // å¯ä»¥ä½¿ç”¨å…¶ä»– Hooks const [state, setState] = useState(initialValue); useEffect(() =&gt; &#123; // å‰¯ä½œç”¨é€»è¾‘ return () =&gt; &#123; // æ¸…ç†é€»è¾‘ &#125;; &#125;, [arg]); // è¿”å›çŠ¶æ€ã€æ–¹æ³•æˆ–è®¡ç®—å€¼ return [state, setState]; // æˆ–è¿”å›å¯¹è±¡ &#123; state, action &#125;&#125; 3ï¼‰å®æˆ˜ç¤ºä¾‹1ï¸âƒ£useLocalStorageï¼ˆæŒä¹…åŒ–çŠ¶æ€ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142// app.jsximport useLocalStorage from &quot;./Hooks/useLocalStorage&quot;function App() &#123; const [name, setName] = useLocalStorage(&#x27;name&#x27;, &#x27;Guest&#x27;); return &lt;input value=&#123;name&#125; onChange=&#123;e =&gt; setName(e.target.value)&#125; /&gt;;&#125;export default App// src\\Hooks\\useLocalStorage.jsimport &#123; useState &#125; from &quot;react&quot;;function useLocalStorage(key, initialValue) &#123; // æƒ°æ€§åˆå§‹åŒ–ï¼šä» localStorage è¯»å– const [storedValue, setStoredValue] = useState(() =&gt; &#123; try &#123; const item = window.localStorage.getItem(key); return item ? JSON.parse(item) : initialValue; &#125; catch (error) &#123; console.error(error); return initialValue; &#125; &#125;); // æ›´æ–° localStorage å½“çŠ¶æ€å˜åŒ– const setValue = (value) =&gt; &#123; try &#123; const valueToStore = value instanceof Function ? value(storedValue) : value; setStoredValue(valueToStore); window.localStorage.setItem(key, JSON.stringify(valueToStore)); &#125; catch (error) &#123; console.error(error); &#125; &#125;; return [storedValue, setValue];&#125;export default useLocalStorage 2ï¸âƒ£useDebounceï¼ˆé˜²æŠ–ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839// app.jsximport useDebounce from &quot;./Hooks/useDebounce&quot;import &#123; useState, useEffect &#125; from &quot;react&quot;function SearchInput() &#123; const [text, setText] = useState(&#x27;&#x27;); const debouncedText = useDebounce(text, 500); // 500ms é˜²æŠ– useEffect(() =&gt; &#123; if (debouncedText) &#123; console.log(debouncedText); // åªåœ¨åœæ­¢è¾“å…¥ 500ms åæœç´¢ &#125; &#125;, [debouncedText]); return &lt;input value=&#123;text&#125; onChange=&#123;e =&gt; setText(e.target.value)&#125; /&gt;;&#125;export default SearchInput// src\\Hooks\\useDebounce.jsimport &#123; useState, useEffect &#125; from &quot;react&quot;;function useDebounce(value, delay) &#123; const [debouncedValue, setDebouncedValue] = useState(value); useEffect(() =&gt; &#123; const handler = setTimeout(() =&gt; &#123; setDebouncedValue(value); &#125;, delay); return () =&gt; &#123; clearTimeout(handler); // æ¸…é™¤ä¸Šä¸€æ¬¡çš„å®šæ—¶å™¨ &#125;; &#125;, [value, delay]); return debouncedValue;&#125;export default useDebounce 3ï¸âƒ£useFetchï¼ˆæ•°æ®è·å–ï¼‰ 1234567891011121314151617181920212223242526272829303132333435363738394041function useFetch(url) &#123; const [state, setState] = useState(&#123; data: null, isLoading: true, error: null, &#125;); useEffect(() =&gt; &#123; let cancelled = false; setState((prev) =&gt; (&#123; ...prev, isLoading: true &#125;)); fetch(url) .then((res) =&gt; res.json()) .then((data) =&gt; &#123; if (!cancelled) &#123; setState(&#123; data, isLoading: false, error: null &#125;); &#125; &#125;) .catch((error) =&gt; &#123; if (!cancelled) &#123; setState(&#123; data: null, isLoading: false, error &#125;); &#125; &#125;); return () =&gt; &#123; cancelled = true; &#125;; &#125;, [url]); return state;&#125;// ä½¿ç”¨function UserProfile(&#123; userId &#125;) &#123; const &#123; data: user, isLoading, error &#125; = useFetch(`/api/users/$&#123;userId&#125;`); if (isLoading) return &lt;Spinner /&gt;; if (error) return &lt;Error message=&#123;error.message&#125; /&gt;; return &lt;div&gt;&#123;user.name&#125;&lt;/div&gt;;&#125; 4ï¸âƒ£useMediaQueryï¼ˆå“åº”å¼ï¼‰ 12345678910111213141516171819202122232425262728293031import &#123; useState, useEffect &#125; from &quot;react&quot;;function useMediaQuery(query) &#123; const [matches, setMatches] = useState( () =&gt; window.matchMedia(query).matches, ); useEffect(() =&gt; &#123; const media = window.matchMedia(query); const listener = () =&gt; setMatches(media.matches); media.addEventListener(&quot;change&quot;, listener); setMatches(media.matches); return () =&gt; media.removeEventListener(&quot;change&quot;, listener); &#125;, [query]); // ä¸å¿…ä¾èµ– matches return matches;&#125;// ä½¿ç”¨function ResponsiveComponent() &#123; const isMobile = useMediaQuery(&quot;(max-width: 768px)&quot;); const isTablet = useMediaQuery(&quot;(min-width: 769px) and (max-width: 1024px)&quot;); return ( &lt;div&gt;&#123;isMobile ? &quot;æ‰‹æœºè§†å›¾&quot; : isTablet ? &quot;å¹³æ¿è§†å›¾&quot; : &quot;æ¡Œé¢è§†å›¾&quot;&#125;&lt;/div&gt; );&#125;export default ResponsiveComponent; 4ï¼‰é«˜çº§æ¨¡å¼1ï¸âƒ£ç»„åˆå¤šä¸ª Hooksï¼ˆè‡ªå®šä¹‰ Hook ä½¿ç”¨å…¶ä»–è‡ªå®šä¹‰ Hookï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142import &#123; useState, useEffect, useMemo &#125; from &quot;react&quot;;function useWindowSize() &#123; const [size, setSize] = useState(&#123; width: 0, height: 0 &#125;); useEffect(() =&gt; &#123; const update = () =&gt; setSize(&#123; width: window.innerWidth, height: window.innerHeight, &#125;); window.addEventListener(&quot;resize&quot;, update); update(); return () =&gt; window.removeEventListener(&quot;resize&quot;, update); &#125;, []); return size;&#125;// ç»„åˆä½¿ç”¨function useBreakpoint() &#123; const &#123; width &#125; = useWindowSize(); return useMemo(() =&gt; &#123; return &#123; isMobile: width &lt; 768, isTablet: width &gt;= 768 &amp;&amp; width &lt; 1024, isDesktop: width &gt;= 1024, &#125;; &#125;, [width]);&#125;function App() &#123; const breakpoints = useBreakpoint(); return ( &lt;div&gt; &lt;h1&gt;Current Breakpoints&lt;/h1&gt; &lt;pre&gt;&#123;JSON.stringify(breakpoints, null, 4)&#125;&lt;/pre&gt; &lt;/div&gt; );&#125;export default App; 2ï¸âƒ£è¿”å›ç¨³å®šå¼•ç”¨ï¼ˆé˜²æ­¢æ— é™é‡æ¸²æŸ“ï¼‰ **å®Œæ•´æ¡ˆä¾‹ï¼š**https://www.yuque.com/zhbiao/qr34us/qk5da4gmpqzhat4s/edit#Xexzy 12345678910111213141516171819202122232425262728293031323334function useAuth() &#123; const [user, setUser] = useState(null); // ä½¿ç”¨ useCallback ä¿æŒæ–¹æ³•å¼•ç”¨ç¨³å®š const login = useCallback(async (credentials) =&gt; &#123; const user = await api.login(credentials); setUser(user); &#125;, []); const logout = useCallback(() =&gt; &#123; api.logout(); setUser(null); &#125;, []); // ä½¿ç”¨ useMemo ä¿æŒå¯¹è±¡å¼•ç”¨ç¨³å®š const value = useMemo( () =&gt; (&#123; user, isAuthenticated: !!user, login, logout, &#125;), [user, login, logout], ); return value;&#125;// ç°åœ¨å¯ä»¥å®‰å…¨åœ°ç”¨äº useEffect ä¾èµ–useEffect(() =&gt; &#123; if (auth.isAuthenticated) &#123; // ä¸ä¼šå¯¼è‡´æ— é™å¾ªç¯ï¼Œå› ä¸º auth å¼•ç”¨ç¨³å®š &#125;&#125;, [auth]); 5ï¼‰å¸¸è§é™·é˜±1ï¸âƒ£ä¾èµ–æ•°ç»„é—æ¼ 12345678910111213// âŒ é”™è¯¯ï¼šhandler å˜åŒ–æ—¶ä¸ä¼šæ›´æ–°function useEventListener(eventName, handler) &#123; useEffect(() =&gt; &#123; window.addEventListener(eventName, handler); return () =&gt; window.removeEventListener(eventName, handler); &#125;, []); // ç¼ºå°‘ handler&#125;// âœ… æ­£ç¡®ï¼šä½†è¦æ±‚ä½¿ç”¨è€…ä½¿ç”¨ useCallback åŒ…è£¹ handleruseEffect(() =&gt; &#123; window.addEventListener(eventName, handler); return () =&gt; window.removeEventListener(eventName, handler);&#125;, [eventName, handler]); 2ï¸âƒ£è¿”å›ä¸ç¨³å®šå¼•ç”¨å¯¼è‡´é‡æ¸²æŸ“ 1234567891011// âŒ é”™è¯¯ï¼šæ¯æ¬¡è¿”å›æ–°æ•°ç»„function useData() &#123; const data = fetchData(); return [data, data.length]; // æ–°æ•°ç»„å¼•ç”¨&#125;// âœ… æ­£ç¡®ï¼šä¿æŒå¼•ç”¨ç¨³å®šfunction useData() &#123; const data = fetchData(); return useMemo(() =&gt; [data, data.length], [data]);&#125; 3ï¸âƒ£åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ Hook 12345678910111213// âŒ é”™è¯¯function useConditionalHook(condition) &#123; if (condition) &#123; const [state, setState] = useState(0); // Hook åœ¨æ¡ä»¶ä¸­ï¼ &#125;&#125;// âœ… æ­£ç¡®function useConditionalHook(condition) &#123; const [state, setState] = useState(0); // æ ¹æ® condition å†³å®šæ˜¯å¦ä½¿ç”¨ state return condition ? state : null;&#125; äº”ã€ HOC é«˜é˜¶ç»„ä»¶é«˜é˜¶ç»„ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªç»„ä»¶å¹¶è¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œä¾‹å¦‚ï¼š 5.1 React.memomemo æ˜¯ä¸€ä¸ª é«˜é˜¶ç»„ä»¶ï¼Œç”¨äºä¼˜åŒ–å‡½æ•°ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚åªæœ‰å½“å®ƒçš„ props å‘ç”Ÿå˜åŒ– æ—¶ï¼ŒReact æ‰ä¼šé‡æ–°æ¸²æŸ“è¿™ä¸ªç»„ä»¶ã€‚å¦åˆ™ï¼Œå®ƒä¼šç›´æ¥å¤ç”¨ä¸Šä¸€æ¬¡çš„æ¸²æŸ“ç»“æœï¼Œæé«˜æ€§èƒ½ã€‚ 1ï¼‰åŸºæœ¬è¯­æ³•12// ç›´æ¥åœ¨çˆ¶ç»„ä»¶å°†å¼•å…¥çš„å­ç»„ä»¶MyComponentä½¿ç”¨memoç¼“å­˜const MemoizedComponent = React.memo(MyComponent); æˆ–è€…å®šä¹‰æ—¶ç›´æ¥ä½¿ç”¨ï¼š 12// ç›´æ¥åœ¨å­ç»„ä»¶å¯¼å‡ºçš„æ—¶å€™å°±å¯¹å½“å‰ç»„ä»¶MyComponentä½¿ç”¨memoç¼“å­˜export default React.memo(MyComponent); 2ï¼‰åŸºæœ¬ç¤ºä¾‹12345678910111213141516171819202122232425262728293031323334353637// app.jsximport &#123; useState &#125; from &quot;react&quot;;import Child from &quot;./components/Child&quot;;function App() &#123; const [data, setData] = useState(&quot;çˆ¶ç»„ä»¶æ•°æ®&quot;); const [b] = useState(100) console.log(&#x27;çˆ¶ç»„ä»¶æ¸²æŸ“äº†&#x27;); return ( &lt;&gt; &lt;button onClick=&#123;() =&gt; setData(`æ–°æ•°æ®$&#123;new Date().getTime()&#125;`)&#125;&gt;æˆ‘æ˜¯Appï¼š&#123;data&#125;&lt;/button&gt; &lt;Child b=&#123;b&#125;/&gt; &lt;/&gt; );&#125;export default App;============================================åˆ†å‰²çº¿==============================================// Child.jsximport &#123; memo &#125; from &#x27;react&#x27;;function Child(props) &#123; console.log(&#x27;å­ç»„ä»¶æ¸²æŸ“äº†&#x27;); return ( &lt;&gt; &lt;p&gt;æˆ‘æ˜¯å­ç»„ä»¶: &#123;props.b&#125;&lt;/p&gt; &lt;/&gt; )&#125;// ä½¿ç”¨ React.memo åŒ…è£…ç»„ä»¶ï¼Œåªæœ‰å½“ props å‘ç”Ÿå˜åŒ–æ—¶æ‰é‡æ–°æ¸²æŸ“export default memo(Child); ğŸ” è¾“å‡ºç»“æœï¼š åˆå§‹åŒ–çš„æ—¶å€™çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶éƒ½æ¸²æŸ“ è§¦å‘çˆ¶ç»„ä»¶çš„ç‚¹å‡»äº‹ä»¶ï¼ŒdataçŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼ŒbçŠ¶æ€æœªå˜ï¼Œå­ç»„ä»¶æœªè§¦å‘æ¸²æŸ“ å¦‚æœç”¨çš„æ˜¯æ™®é€šç»„ä»¶ï¼Œå“ªæ€• props ä¸€æ ·ï¼Œä¹Ÿä¼šé‡æ–°æ¸²æŸ“ã€‚ 3ï¼‰å·¥ä½œåŸç†React.memo åœ¨æ¸²æŸ“åï¼Œä¼š ä¿å­˜ä¸Šä¸€æ¬¡çš„ propsã€‚ä¸‹ä¸€æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œå®ƒä¼šåšä¸€ä¸ª æµ…æ¯”è¾ƒï¼ˆshallow compareï¼‰ï¼š å¦‚æœæ—§çš„ props ä¸æ–°çš„ props å†…å®¹ä¸€è‡´ â†’ è·³è¿‡æ¸²æŸ“ï¼› å¦‚æœä¸åŒ â†’ é‡æ–°æ¸²æŸ“ã€‚ é»˜è®¤æ¯”è¾ƒæ˜¯æµ…å±‚ï¼ˆåªæ¯”è¾ƒåŸºç¡€ç±»å‹æˆ–å¼•ç”¨æ˜¯å¦ç›¸åŒï¼‰ï¼Œå¯¹è±¡&#x2F;æ•°ç»„ç±»å‹çš„ props å¦‚æœæ–°å»ºäº†å¯¹è±¡ï¼Œå°±ä¼šè®¤ä¸ºä¸åŒã€‚ 4ï¼‰è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°æœ‰æ—¶å€™ä½ å¸Œæœ›æ§åˆ¶â€œä»€ä¹ˆç®—å˜â€ï¼Œå¯ä»¥åœ¨ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ï¼š 12345const Memoized = React.memo(MyComponent, (prevProps, nextProps) =&gt; &#123; // è¿”å› true è¡¨ç¤ºä¸éœ€è¦é‡æ–°æ¸²æŸ“ï¼ˆprops ç›¸ç­‰ï¼‰ // è¿”å› false è¡¨ç¤ºéœ€è¦é‡æ¸²æŸ“ return prevProps.id === nextProps.id;&#125;); 5ï¼‰å¸¸è§ä¼˜åŒ–åœºæ™¯ åœºæ™¯ è¯´æ˜ åˆ—è¡¨é¡¹ç»„ä»¶ åˆ—è¡¨ä¸­æœ‰å¤§é‡å­ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶é¢‘ç¹æ›´æ–° è¡¨å•ç»„ä»¶ è¾“å…¥å˜åŒ–å¯¼è‡´æ•´ä¸ªé¡µé¢é‡æ¸²æŸ“ å¤æ‚ç»„ä»¶ å†…éƒ¨æ¸²æŸ“ä»£ä»·é«˜ä½† props å¾ˆç¨³å®š ä¸ useCallback æ­é… ä¿æŒä¼ å…¥å‡½æ•°å¼•ç”¨ä¸€è‡´ï¼Œé¿å…è¯¯è§¦æ›´æ–° 6ï¼‰ä¸ useCallback å’Œ useMemo çš„é…åˆReact.memo åªå…³å¿ƒ props æ˜¯å¦å˜åŒ–ã€‚ä½†æ˜¯å¦‚æœä¼ å…¥çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¯æ¬¡æ¸²æŸ“å‡½æ•°éƒ½æ˜¯æ–°å¼•ç”¨ï¼Œå°±ä¼šå¯¼è‡´é‡æ–°æ¸²æŸ“ã€‚å‡½æ•°ä½œä¸º props çš„â€œå¼•ç”¨ä¸ç¨³å®šâ€é—®é¢˜ 12345678910111213141516171819202122import &#123; useState &#125; from &quot;react&quot;;// å­ç»„ä»¶const Child = React.memo((props) =&gt; &#123; console.log(&quot;Child render&quot;); return &lt;div&gt;&#123;props.count&#125;&lt;/div&gt;;&#125;);// çˆ¶ç»„ä»¶function Parent() &#123; const [count, setCount] = useState(0); const handleClick = () =&gt; &#123; console.log(&quot;clicked&quot;); &#125;; return ( &lt;div onClick=&#123;handleClick&#125;&gt; &lt;Child count=&#123;count&#125; onClick=&#123;handleClick&#125; /&gt; &lt;/div&gt; );&#125;export default Parent; ä½ æœŸæœ›çš„æ˜¯ï¼šåªè¦ count æ²¡å˜ï¼ŒChild ä¸åº”è¯¥é‡æ–°æ¸²æŸ“ã€‚ä½†å®é™…ä¸Šï¼Œæ¯æ¬¡çˆ¶ç»„ä»¶é‡æ¸²æŸ“ï¼ŒChild éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚ ğŸŒˆåŸå› ï¼šå‡½æ•°çš„å¼•ç”¨æ¯æ¬¡éƒ½å˜ åœ¨ React ä¸­ï¼Œå‡½æ•°ä¹Ÿæ˜¯ä¸€ç§å¯¹è±¡ï¼Œè€Œå¯¹è±¡&#x2F;å‡½æ•°çš„ã€Œå¼•ç”¨åœ°å€ã€æ¯æ¬¡éƒ½ä¼šå˜ã€‚å½“çˆ¶ç»„ä»¶é‡æ–°è¿è¡Œæ—¶ éƒ½ä¼šåˆ›å»ºä¸€ä¸ª æ–°å‡½æ•°å¯¹è±¡ï¼Œå’Œä¹‹å‰çš„ä¸æ˜¯åŒä¸€ä¸ªå¼•ç”¨ã€‚ React.memo çš„é»˜è®¤æ¯”è¾ƒæ–¹å¼æ˜¯æµ…æ¯”è¾ƒï¼ˆshallow compareï¼‰ 1oldProps.onClick === newProps.onClick; è€Œå› ä¸ºæ¯æ¬¡é‡æ–°æ¸²æŸ“æ—¶ï¼Œè¿™ä¸ªå‡½æ•°éƒ½æ˜¯æ–°å»ºçš„ï¼Œæ‰€ä»¥ç»“æœæ˜¯ falseï¼Œå¯¼è‡´ Child æ— è®º props å†…å®¹æ˜¯å¦é€»è¾‘ç›¸åŒï¼Œéƒ½ä¼šè¢«è®¤ä¸ºå˜åŠ¨äº†ã€‚ ğŸ¤**è§£å†³æ–¹æ¡ˆï¼š**é€šè¿‡ useCallback æ¥è®©å‡½æ•°åœ¨ä¾èµ–ä¸å˜çš„æƒ…å†µä¸‹ï¼Œä¿æŒåŒä¸€ä¸ªå¼•ç”¨ 12345678910111213141516import &#123;useCallback, useState&#125; from &quot;react&quot;;unction Parent() &#123; const [count, setCount] = useState(0); const handleClick = useCallback(() =&gt; &#123; console.log(&#x27;clicked&#x27;); &#125;, []) // ğŸ‘ˆ å¼•ç”¨ç¨³å®š return ( &lt;div onClick=&#123;handleClick&#125;&gt; &lt;Child count=&#123;count&#125; onClick=&#123;handleClick&#125; /&gt; &lt;/div&gt; );&#125;export default Parent; 7ï¼‰æ³¨æ„äº‹é¡¹ é¡¹ç›® è¯´æ˜ æ¯”è¾ƒæ–¹å¼ æµ…æ¯”è¾ƒï¼ˆå¯¹è±¡æˆ–å‡½æ•°éœ€æ³¨æ„å¼•ç”¨å˜åŒ–ï¼‰ ä¸é€‚åˆæ»¥ç”¨ è‹¥ç»„ä»¶å¾ˆè½»é‡ï¼Œæ¯”è¾ƒæˆæœ¬å¯èƒ½é«˜äºæ¸²æŸ“æ”¶ç›Š useContext æ›´æ–°ä»ä¼šè§¦å‘ Context æ›´æ–°æ—¶ä¼šé‡æ–°æ¸²æŸ“å­èŠ‚ç‚¹ ä¸ç¼“å­˜ state ä»…ç¼“å­˜æ¸²æŸ“ç»“æœï¼Œä¸å†…éƒ¨çŠ¶æ€æ— å…³ 8ï¼‰æ€»ç»“ é¡¹ç›® å†…å®¹ ä½œç”¨ ç¼“å­˜ç»„ä»¶æ¸²æŸ“ç»“æœï¼Œé¿å…ä¸å¿…è¦æ¸²æŸ“ ç±»å‹ é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰ æ¯”è¾ƒæœºåˆ¶ æµ…å±‚æ¯”è¾ƒ propsï¼ˆå¯è‡ªå®šä¹‰ï¼‰ æ¨èæ­é… useCallback, useMemo ä¿æŒ props å¼•ç”¨ç¨³å®š é€‚ç”¨åœºæ™¯ å­ç»„ä»¶ç¨³å®šã€çˆ¶ç»„ä»¶é¢‘ç¹æ¸²æŸ“ã€æ€§èƒ½ä¼˜åŒ– ğŸŒŸ ä¸€å¥è¯æ€»ç»“ï¼š React.memo å°±åƒæ˜¯å‡½æ•°ç»„ä»¶çš„â€œPureComponentâ€ã€‚å½“ props æ²¡å˜æ—¶ï¼Œè·³è¿‡æ¸²æŸ“ï¼Œæé«˜æ€§èƒ½ã€‚ ä¸ƒã€ React 19 æ–°ç‰¹æ€§React 19 å¸¦æ¥äº†è®¸å¤šä»¤äººå…´å¥‹çš„æ–°ç‰¹æ€§ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹ æ€§èƒ½ä¼˜åŒ– å’Œ æœåŠ¡ç«¯ç»„ä»¶ï¼ˆRSCï¼‰ çš„æ·±åº¦é›†æˆã€‚æœ€å¼•äººæ³¨ç›®çš„æ˜¯ React Compilerï¼ˆReact ç¼–è¯‘å™¨ï¼‰çš„å¼•å…¥ï¼Œå®ƒæ—¨åœ¨è‡ªåŠ¨å¤„ç† memoizationï¼Œå‡å°‘æ‰‹åŠ¨ä¼˜åŒ–çš„è´Ÿæ‹…ã€‚ 7.1 React Compiler (React ç¼–è¯‘å™¨)è¿™æ˜¯ React 19 æœ€å…·é©å‘½æ€§çš„å˜åŒ–ã€‚ è¿‡å»ï¼šä¸ºäº†é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ä½¿ç”¨ useMemoã€useCallback å’Œ React.memoã€‚ ç°åœ¨ï¼šReact Compiler å¯ä»¥åœ¨æ„å»ºæ—¶è‡ªåŠ¨åˆ†æä»£ç ï¼Œå¹¶è‡ªåŠ¨åº”ç”¨ä¼˜åŒ–ã€‚è¿™æ„å‘³ç€ä½ å¯èƒ½ä¸å†éœ€è¦æ‰‹åŠ¨å†™ useMemo å’Œ useCallback äº†ï¼ âš ï¸ æ³¨æ„ï¼šè¿™æ˜¯ä¸€ä¸ªæ„å»ºå·¥å…·å±‚é¢çš„ä¼˜åŒ–ï¼Œè€Œä¸æ˜¯è¿è¡Œæ—¶ APIã€‚ 7.2 Actions (Server Actions)React 19 æ›´åŠ æ‹¥æŠ±æœåŠ¡ç«¯èƒ½åŠ›ï¼Œå¼•å…¥äº† Actions æ¦‚å¿µï¼Œç®€åŒ–æ•°æ®æäº¤å’Œå˜æ›´ã€‚ 1ï¼‰useActionState (åŸ useFormState)ç”¨äºç®¡ç†è¡¨å•æäº¤çš„çŠ¶æ€ï¼ˆå¦‚åŠ è½½ä¸­ã€æˆåŠŸã€å¤±è´¥ã€é”™è¯¯ä¿¡æ¯ï¼‰ã€‚ 12345678910111213141516171819202122import &#123; useActionState &#125; from &quot;react&quot;;async function updateName(error, formData) &#123; const name = formData.get(&quot;name&quot;); if (!name) return &quot;Name required&quot;; await api.updateUser(name); return null;&#125;function ChangeName() &#123; const [error, submitAction, isPending] = useActionState(updateName, null); return ( &lt;form action=&#123;submitAction&#125;&gt; &lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt; &lt;button type=&quot;submit&quot; disabled=&#123;isPending&#125;&gt; &#123;isPending ? &quot;Updating...&quot; : &quot;Update&quot;&#125; &lt;/button&gt; &#123;error &amp;&amp; &lt;p&gt;&#123;error&#125;&lt;/p&gt;&#125; &lt;/form&gt; );&#125; 2ï¼‰useFormStatusè®©æˆ‘ä»¬åœ¨å­ç»„ä»¶ä¸­ç›´æ¥è·å–çˆ¶çº§ &lt;form&gt; çš„çŠ¶æ€ï¼Œè€Œä¸éœ€è¦é€šè¿‡ props ä¼ é€’ loading çŠ¶æ€ã€‚ 123456789101112131415import &#123; useFormStatus &#125; from &quot;react-dom&quot;;function SubmitButton() &#123; const &#123; pending &#125; = useFormStatus(); return &lt;button disabled=&#123;pending&#125;&gt;&#123;pending ? &quot;æäº¤ä¸­...&quot; : &quot;æäº¤&quot;&#125;&lt;/button&gt;;&#125;function App() &#123; return ( &lt;form action=&#123;submitAction&#125;&gt; &lt;input name=&quot;name&quot; /&gt; &lt;SubmitButton /&gt; &#123;/* è‡ªåŠ¨æ„ŸçŸ¥ form çŠ¶æ€ */&#125; &lt;/form&gt; );&#125; 7.3 æ–°çš„ use APIuse æ˜¯ä¸€ä¸ªæ–°çš„ APIï¼Œç”¨äºåœ¨ render ä¸­è¯»å–èµ„æºï¼ˆPromise æˆ– Contextï¼‰ã€‚ 1ï¼‰è¯»å– Contextä¸å†å—é™äºåªèƒ½åœ¨é¡¶å±‚ä½¿ç”¨ useContextï¼Œuse å¯ä»¥åœ¨æ¡ä»¶è¯­å¥å’Œå¾ªç¯ä¸­ä½¿ç”¨ï¼ˆå°½ç®¡ä»å»ºè®®åœ¨é¡¶å±‚ï¼‰ã€‚ 1234567891011import &#123; use &#125; from &quot;react&quot;;import ThemeContext from &quot;./ThemeContext&quot;;function Heading(&#123; children &#125;) &#123; if (children == null) &#123; return null; &#125; // âœ… å¯ä»¥åœ¨æ¡ä»¶åˆ¤æ–­ä¸­ä½¿ç”¨ const theme = use(ThemeContext); return &lt;h1 style=&#123;&#123; color: theme.color &#125;&#125;&gt;&#123;children&#125;&lt;/h1&gt;;&#125; 2ï¼‰è¯»å– Promiseå¯ä»¥ç›´æ¥åœ¨ç»„ä»¶ä¸­ç­‰å¾… Promise è§£æï¼ˆé…åˆ Suspenseï¼‰ã€‚ 1234567891011121314151617import &#123; use, Suspense &#125; from &quot;react&quot;;function Comments(&#123; commentsPromise &#125;) &#123; // âŒ ä»¥å‰ï¼šéœ€è¦ useEffect + useState // âœ… ç°åœ¨ï¼šç›´æ¥ use(promise) const comments = use(commentsPromise); return comments.map((c) =&gt; &lt;p key=&#123;c.id&#125;&gt;&#123;c.text&#125;&lt;/p&gt;);&#125;function Page(&#123; post &#125;) &#123; return ( &lt;Suspense fallback=&quot;åŠ è½½è¯„è®ºä¸­...&quot;&gt; &lt;Comments commentsPromise=&#123;fetchComments(post.id)&#125; /&gt; &lt;/Suspense&gt; );&#125; 7.4 Ref ä½œä¸º Propç»ˆäºï¼åœ¨ React 19 ä¸­ï¼Œä½ ä¸å†éœ€è¦ forwardRef äº†ã€‚ref ç°åœ¨åªæ˜¯ä¸€ä¸ªæ™®é€šçš„ propã€‚ 1234567// React 19 å†™æ³•function MyInput(&#123; placeholder, ref &#125;) &#123; return &lt;input placeholder=&#123;placeholder&#125; ref=&#123;ref&#125; /&gt;;&#125;// çˆ¶ç»„ä»¶&lt;MyInput ref=&#123;inputRef&#125; /&gt;; 7.5 æ–‡æ¡£å…ƒæ•°æ®æ”¯æŒç›´æ¥åœ¨ç»„ä»¶ä¸­æ¸²æŸ“ &lt;title&gt;ã€&lt;meta&gt; å’Œ &lt;link&gt; æ ‡ç­¾ï¼ŒReact ä¼šè‡ªåŠ¨å°†å®ƒä»¬æå‡åˆ° &lt;head&gt; ä¸­ã€‚ 123456789function HomePage() &#123; return ( &lt;&gt; &lt;title&gt;é¦–é¡µ - æˆ‘çš„åº”ç”¨&lt;/title&gt; &lt;meta name=&quot;description&quot; content=&quot;è¿™æ˜¯é¦–é¡µ&quot; /&gt; &lt;h1&gt;æ¬¢è¿&lt;/h1&gt; &lt;/&gt; );&#125; å…«ã€ æœ€ä½³å®è·µ8.1 ç»„ä»¶æ‹†åˆ†ä¸ç»“æ„ å•ä¸€èŒè´£åŸåˆ™ï¼šæ¯ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹ã€‚å¦‚æœä¸€ä¸ªç»„ä»¶è¶…è¿‡ 200 è¡Œï¼Œæˆ–è€…åŒ…å«å¤šä¸ª useEffect å¤„ç†ä¸åŒé€»è¾‘ï¼Œè€ƒè™‘æ‹†åˆ†ã€‚ å®¹å™¨ä¸å±•ç¤ºç»„ä»¶åˆ†ç¦»ï¼š å±•ç¤ºç»„ä»¶ (Presentational)ï¼šåªè´Ÿè´£æ¸²æŸ“ UIï¼Œé€šè¿‡ props æ¥æ”¶æ•°æ®å’Œå›è°ƒï¼ˆå¦‚ Button, Cardï¼‰ã€‚ å®¹å™¨ç»„ä»¶ (Container)ï¼šè´Ÿè´£è·å–æ•°æ®ã€å¤„ç†é€»è¾‘ï¼Œå°†æ•°æ®ä¼ ç»™å±•ç¤ºç»„ä»¶ã€‚ 8.2 æ€§èƒ½ä¼˜åŒ–æŒ‡å— å˜åŠ¨åˆ†ç¦»ï¼šå°†å˜åŠ¨é¢‘ç¹çš„éƒ¨åˆ†ï¼ˆå¦‚è¾“å…¥æ¡†æ–‡å­—ï¼‰æŠ½ç¦»æˆç‹¬ç«‹ç»„ä»¶ï¼Œé¿å…å¸¦åŠ¨çˆ¶ç»„ä»¶é‡æ¸²æŸ“ã€‚ åˆ—è¡¨è™šæ‹ŸåŒ–ï¼šå¯¹äºé•¿åˆ—è¡¨ï¼ˆè¶…è¿‡ 50 æ¡ï¼‰ï¼Œä½¿ç”¨ react-window æˆ– react-virtuoso ä»…æ¸²æŸ“å¯è§†åŒºåŸŸçš„å…ƒç´ ã€‚ æ‡’åŠ è½½ (Lazy Loading)ï¼šå¯¹äºéé¦–å±è·¯ç”±æˆ–å¤§å‹ç»„ä»¶ï¼Œä½¿ç”¨ lazy å’Œ Suspenseã€‚ 12345const AdminPanel = lazy(() =&gt; import(&quot;./AdminPanel&quot;));&lt;Suspense fallback=&#123;&lt;Spinner /&gt;&#125;&gt; &lt;AdminPanel /&gt;&lt;/Suspense&gt;; é¿å…æ»¥ç”¨ Contextï¼šContext é€‚åˆå…¨å±€é…ç½®ï¼ˆä¸»é¢˜ã€ç”¨æˆ·ã€è¯­è¨€ï¼‰ï¼Œä¸é€‚åˆé«˜é¢‘å˜åŠ¨çš„æ•°æ®ã€‚é«˜é¢‘æ•°æ®åº”è€ƒè™‘ Zustand æˆ– Redux ç­‰ä¸“é—¨çš„çŠ¶æ€ç®¡ç†åº“ã€‚ 8.3 è‡ªå®šä¹‰ Hooks å°è£…é€»è¾‘ä¸è¦åœ¨ç»„ä»¶é‡Œå †ç Œ useEffectã€‚å°†ç›¸å…³çš„é€»è¾‘ï¼ˆå¦‚ data fetching, event listenersï¼‰å°è£…åˆ°è‡ªå®šä¹‰ Hook ä¸­ã€‚ 12345678910111213141516// âŒ ä¸æ¨èfunction Component() &#123; const [width, setWidth] = useState(window.innerWidth); useEffect(() =&gt; &#123; const handle = () =&gt; setWidth(window.innerWidth); window.addEventListener(&quot;resize&quot;, handle); return () =&gt; window.removeEventListener(&quot;resize&quot;, handle); &#125;, []); // ...&#125;// âœ… æ¨èfunction Component() &#123; const width = useWindowSize(); // é€»è¾‘å¤ç”¨ä¸”æ¸…æ™° // ...&#125; 8.4 é”™è¯¯è¾¹ç•Œ (Error Boundaries)ä½¿ç”¨é”™è¯¯è¾¹ç•Œæ•è·ç»„ä»¶æ ‘ä¸­çš„ JS é”™è¯¯ï¼Œé˜²æ­¢æ•´ä¸ªåº”ç”¨å´©æºƒï¼ˆç™½å±ï¼‰ã€‚æ¨èä½¿ç”¨ react-error-boundary åº“ã€‚ 12345import &#123; ErrorBoundary &#125; from &quot;react-error-boundary&quot;;&lt;ErrorBoundary fallback=&#123;&lt;div&gt;å‡ºé”™äº†ï¼&lt;/div&gt;&#125;&gt; &lt;MyWidget /&gt;&lt;/ErrorBoundary&gt;; ä¹ã€ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆQ1: ä¸ºä»€ä¹ˆæˆ‘çš„ç»„ä»¶æ¸²æŸ“äº†ä¸¤æ¬¡ï¼ŸA: è¿™æ˜¯ React 18+ åœ¨ å¼€å‘æ¨¡å¼ (Strict Mode) ä¸‹çš„é¢„æœŸè¡Œä¸ºã€‚React ä¼šæ•…æ„å¸è½½å¹¶é‡æ–°æŒ‚è½½ç»„ä»¶ï¼ˆmount -&gt; unmount -&gt; mountï¼‰ï¼Œä¸»è¦ä¸ºäº†æ£€æµ‹ï¼š useEffect æ¸…ç†å‡½æ•°æ˜¯å¦æ­£ç¡®ã€‚ æ˜¯å¦æœ‰ä¸çº¯çš„å‰¯ä½œç”¨ã€‚ ç”Ÿäº§ç¯å¢ƒåªä¼šæ¸²æŸ“ä¸€æ¬¡ï¼Œæ— éœ€æ‹…å¿ƒæ€§èƒ½ã€‚ Q2: â€œToo many re-rendersâ€ æŠ¥é”™A: é€šå¸¸æ˜¯å› ä¸ºä½ åœ¨æ¸²æŸ“é˜¶æ®µç›´æ¥è°ƒç”¨äº† setStateã€‚ 1234567891011// âŒ é”™è¯¯function App() &#123; const [count, setCount] = useState(0); setCount(1); // ğŸ”´ æ¯æ¬¡æ¸²æŸ“åˆè§¦å‘æ›´æ–° -&gt; æ­»å¾ªç¯ return &lt;div&gt;&#123;count&#125;&lt;/div&gt;;&#125;// âœ… æ­£ç¡®useEffect(() =&gt; &#123; setCount(1);&#125;, []); // ä»…åœ¨æŒ‚è½½æ—¶æ‰§è¡Œ Q3: useEffect ä¾èµ–è­¦å‘Š (exhaustive-deps)A: ESLint è­¦å‘Šä½ é—æ¼äº†ä¾èµ–é¡¹ã€‚ ä¸è¦å¿½ç•¥å®ƒï¼šå¿½ç•¥é€šå¸¸ä¼šå¯¼è‡´é—­åŒ…é™·é˜±ï¼ˆè¯»åˆ°æ—§å€¼ï¼‰ã€‚ è§£å†³æ–¹æ¡ˆï¼š å°†å‡½æ•°ç§»åˆ° useEffect å†…éƒ¨ã€‚ ä½¿ç”¨ useCallback åŒ…è£¹å‡½æ•°ã€‚ å¦‚æœçœŸçš„åªéœ€è¦æ‰§è¡Œä¸€æ¬¡ï¼Œæ£€æŸ¥é€»è¾‘æ˜¯å¦æ­£ç¡®ï¼Œæˆ–è€…ç”¨ useRef ä¿å­˜ä¸éœ€è¦è§¦å‘æ›´æ–°çš„å€¼ã€‚ Q4: ä¸ºä»€ä¹ˆ console.log æ‰“å° State æ€»æ˜¯æ—§å€¼ï¼ŸA: setState æ˜¯å¼‚æ­¥ï¼ˆæ‰¹å¤„ç†ï¼‰çš„ã€‚è°ƒç”¨åçŠ¶æ€ä¸ä¼šç«‹åˆ»æ”¹å˜ï¼Œè€Œæ˜¯ç­‰åˆ°ä¸‹ä¸€æ¬¡æ¸²æŸ“ã€‚ 123456789const handleClick = () =&gt; &#123; setCount(10); console.log(count); // ä»ç„¶æ˜¯ 0 (æ—§å€¼)&#125;;// è§£å†³æ–¹æ³•ï¼šä½¿ç”¨ useEffect ç›‘å¬å˜åŒ–useEffect(() =&gt; &#123; console.log(count); // 10 (æ–°å€¼)&#125;, [count]); Q5: A component is changing an uncontrolled input to be controlledA: è¿™é€šå¸¸æ˜¯å› ä¸ºä½ ç»™ input çš„ value ä¼ äº† undefined æˆ– nullã€‚ 123456// âŒ é”™è¯¯ï¼šåˆå§‹æ˜¯ undefined (éå—æ§)ï¼Œåæ¥å˜æˆ &#x27;hello&#x27; (å—æ§)const [text, setText] = useState();&lt;input value=&#123;text&#125; /&gt;;// âœ… æ­£ç¡®ï¼šç»™åˆå§‹å€¼const [text, setText] = useState(&quot;&quot;); Q6: å¦‚ä½•å¤„ç†ç»„ä»¶å¸è½½åçš„å¼‚æ­¥çŠ¶æ€æ›´æ–°ï¼ŸA: åœ¨ useEffect ä¸­å‘èµ·å¼‚æ­¥è¯·æ±‚æ—¶ï¼Œå¦‚æœç»„ä»¶åœ¨è¯·æ±‚å®Œæˆå‰è¢«å¸è½½ï¼Œå°è¯•æ›´æ–°çŠ¶æ€å¯èƒ½ä¼šå¯¼è‡´è­¦å‘Šï¼ˆReact 18 å‰ï¼‰æˆ–æ½œåœ¨çš„ç«æ€æ¡ä»¶ã€‚ ğŸ¤” ä¸ºä»€ä¹ˆè¯´â€œç»„ä»¶å¯èƒ½å·²å¸è½½â€ï¼Ÿ ç”±äº fetch æ˜¯å¼‚æ­¥çš„ï¼ˆç½‘ç»œè¯·æ±‚éœ€è¦æ—¶é—´ï¼‰ï¼Œåœ¨è¯·æ±‚å‘å‡ºååˆ°å“åº”è¿”å›å‰çš„è¿™æ®µæ—¶é—´å†…ï¼Œç”¨æˆ·å¯èƒ½å·²ç»ç‚¹å‡»äº†è·¯ç”±è·³è½¬ã€å…³é—­äº†å¼¹çª—æˆ–æ¡ä»¶æ¸²æŸ“å¯¼è‡´è¯¥ç»„ä»¶è¢«é”€æ¯ã€‚æ­¤æ—¶ä»£ç æ‰§è¡Œåˆ° .then(setUser) æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨è¯•å›¾æ›´æ–°ä¸€ä¸ªâ€œå·²ç»ä¸å­˜åœ¨çš„ç»„ä»¶â€çš„çŠ¶æ€ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// âŒ é—®é¢˜ï¼šç»„ä»¶å¸è½½åæ›´æ–°çŠ¶æ€function UserData(&#123; userId &#125;) &#123; const [user, setUser] = useState(null); useEffect(() =&gt; &#123; fetch(`/api/users/$&#123;userId&#125;`) .then((res) =&gt; res.json()) .then((data) =&gt; setUser(data)); // å¦‚æœæ­¤æ—¶ç”¨æˆ·å·²ç»ç¦»å¼€å½“å‰é¡µé¢ï¼Œç»„ä»¶å·²å¸è½½ï¼Œè¿™é‡Œå°±ä¼šæŠ¥é”™ &#125;, [userId]);&#125;// âœ… è§£å†³ï¼šä½¿ç”¨ AbortController (æ¨è)function UserData(&#123; userId &#125;) &#123; const [user, setUser] = useState(null); useEffect(() =&gt; &#123; const controller = new AbortController(); // 1. åˆ›å»ºæ§åˆ¶å™¨ fetch(`/api/users/$&#123;userId&#125;`, &#123; signal: controller.signal &#125;) // 2. ç»‘å®š signal .then((res) =&gt; res.json()) .then((data) =&gt; setUser(data)) .catch((err) =&gt; &#123; // 3. å¿½ç•¥å› å–æ¶ˆå¯¼è‡´çš„é”™è¯¯ if (err.name !== &quot;AbortError&quot;) throw err; &#125;); // 4. ç»„ä»¶å¸è½½æˆ– userId å˜åŒ–æ—¶å–æ¶ˆè¯·æ±‚ return () =&gt; controller.abort(); &#125;, [userId]);&#125;// âš ï¸ ä¼ ç»Ÿè§£æ³•ï¼šä½¿ç”¨ cleanup function + æ ‡è®°å˜é‡ (isMounted)// è¿™ç§æ–¹æ³•ä¸ç»ˆæ­¢ç½‘ç»œè¯·æ±‚ï¼Œåªæ˜¯ä¸æ‰§è¡Œ setStateï¼Œæµªè´¹æµé‡ä½†èƒ½é¿å…æŠ¥é”™function UserDataFallback(&#123; userId &#125;) &#123; const [user, setUser] = useState(null); useEffect(() =&gt; &#123; let isMounted = true; // 1. è®¾ç½®æ ‡è®° fetch(`/api/users/$&#123;userId&#125;`) .then((res) =&gt; res.json()) .then((data) =&gt; &#123; // 2. åªæœ‰ç»„ä»¶è¿˜åœ¨æŒ‚è½½ä¸­æ—¶æ‰æ›´æ–°çŠ¶æ€ if (isMounted) setUser(data); &#125;); // 3. æ¸…ç†å‡½æ•°ï¼šç»„ä»¶å¸è½½æ—¶å°†æ ‡è®°è®¾ä¸º false return () =&gt; &#123; isMounted = false; &#125;; &#125;, [userId]);&#125;","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"react18","slug":"react18","permalink":"http://example.com/tags/react18/"},{"name":"react19","slug":"react19","permalink":"http://example.com/tags/react19/"}]},{"title":"React ç±»ç»„ä»¶å¼€å‘å…¨æ”»ç•¥","slug":"46-Reactç±»ç»„ä»¶å¼€å‘å…¨æ”»ç•¥","date":"2025-12-02T09:28:38.000Z","updated":"2026-03-01T16:07:38.352Z","comments":true,"path":"posts/4179c0b9543543.html","permalink":"http://example.com/posts/4179c0b9543543.html","excerpt":"","text":"ä¸€ã€ç»„ä»¶ä¸ç±»ç»„ä»¶ç»„ä»¶å…¶å®å°±æ˜¯ä¸€æ®µå°è£…äº† HTMLã€CSSã€JS çš„ä»£ç ï¼Œæœ€ç»ˆè¡¨ç°ä¸ºä¸€ä¸ªè‡ªå®šä¹‰æ ‡ç­¾ã€‚ ç»„ä»¶éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ä½œç”¨åŸŸï¼š React ä¸­çš„ç»„ä»¶åˆ†ä¸ºä¸¤å¤§ç±»ï¼š ç±»ç»„ä»¶ï¼ˆæœ¬æ‰‹å†Œé‡ç‚¹ï¼‰ å‡½æ•°ç»„ä»¶ 2.1ã€ç±»ç»„ä»¶è¦å°† React ç»„ä»¶å®šä¹‰ä¸ºç±»ï¼Œè¯·ç»§æ‰¿å†…ç½®çš„ Component ç±»å¹¶å®šä¹‰ render æ–¹æ³•ï¼š åŸºæœ¬ç»“æ„ 12345678910111213141516var container = document.getElementById(&quot;app&quot;);var root = ReactDOM.createRoot(container);class Welcome extends React.Component &#123; render() &#123; return &lt;div&gt;è‡ªå®šä¹‰ç±»ç»„ä»¶&lt;/div&gt;; // returnåé¢ä¸å†™htmlæ ‡ç­¾ç›´æ¥æ¢è¡Œ åˆ™éœ€è¦ç”¨æ‹¬å·åŒ…è£¹ // return ( // &lt;div&gt;è‡ªå®šä¹‰ç±»ç»„ä»¶&lt;/div&gt; // ) &#125;&#125;// ä½¿ç”¨ç»„ä»¶root.render(&lt;Welcome /&gt;); 1ï¼‰å…³äºFragment è¿™ä¸ªç©ºæ ‡ç­¾è¢«ç§°ä½œ Fragmentã€‚React Fragment å…è®¸ä½ å°†å­å…ƒç´ åˆ†ç»„ï¼Œè€Œä¸ä¼šåœ¨ HTML ç»“æ„ä¸­æ·»åŠ é¢å¤–èŠ‚ç‚¹ã€‚ ç±»ä¼¼vueä¸­çš„&lt;templete&gt;&lt;/templete&gt; 12345678910111213141516171819var container = document.getElementById(&quot;app&quot;);var root = ReactDOM.createRoot(container);let arr = [&lt;h1 key=&quot;1&quot;&gt;111&lt;/h1&gt;, &lt;h1 key=&quot;2&quot;&gt;222&lt;/h1&gt;];class Welcome extends React.Component &#123; render() &#123; return ( &lt;&gt; &lt;p&gt;1&lt;/p&gt; &lt;p&gt;2&lt;/p&gt; &lt;/&gt; ); &#125;&#125;root.render( &lt;&gt; &lt;Welcome /&gt; &lt;Welcome /&gt; &lt;/&gt;,); 2ï¼‰propsç»„ä»¶çš„å±æ€§ç±»ä¼¼äºå‡½æ•°çš„å‚æ•°ï¼Œå¯ä»¥è®©ç»„ä»¶æ¥æ”¶å¤–é¢çš„æ•°æ®ï¼Œå±•ç°å‡ºä¸åŒçš„ç»“æœã€‚ propsæ˜¯ç±»ç»„ä»¶â¾ƒå¸¦çš„å±æ€§ï¼Œä»£è¡¨æ‰€æœ‰å±æ€§çš„é›†åˆ **æ³¨æ„ï¼š**å±æ€§ä¸èƒ½æ›´æ”¹ï¼Œå› ä¸ºå±æ€§æ˜¯ä»å¤–éƒ¨ä¼ â¼Šçš„å¹¶ä¸æ˜¯ç»„ä»¶è‡ªå·±çš„æ•°æ®ï¼Œæ‰€æœ‰æ²¡æƒåˆ©æ›´æ”¹ã€‚å¦‚æœæƒ³æ›´æ”¹åªèƒ½å»ä¿®æ”¹æ•°æ®æºï¼Œè®©ä»–é‡æ–°ä¼ â¼€ä¸ªæ–°å±æ€§ã€‚ 1234567891011121314class Welcome extends React.Component &#123; render() &#123; let &#123; name &#125; = this.props; return &lt;h1&gt;helloï¼Œ&#123;name&#125; &lt;/h1&gt;; &#125;&#125;root.render( &lt;&gt; &lt;Welcome name=&quot;å¼ ä¸‰&quot; /&gt; &lt;Welcome name=&quot;æå››&quot; /&gt; &lt;Welcome name=&quot;ç‹äº”&quot; /&gt; &lt;Welcome name=&quot;èµµå…­&quot; /&gt; &lt;/&gt;,); aã€props.children ç±»ä¼¼vueä¸­çš„æ’æ§½ å¦‚æœåœ¨ç»„ä»¶æ ‡ç­¾å†…å†™å†…å®¹ï¼Œé€šè¿‡props.childrenè¯»å–å¦‚æœä¼ â¼Šå•ä¸ªå†…å®¹ï¼Œè¿”å›çš„å°±æ˜¯â¼€ä¸ªå¯¹è±¡ï¼Œå¦‚æœä¼ â¼Šå¤šä¸ªå†…å®¹çš„è¯ï¼Œè¿”å›çš„å°±æ˜¯æ•°ç»„ 12345678910111213141516171819202122232425262728293031323334353637383940414243class Welcome extends React.Component &#123; render() &#123; let &#123; children &#125; = this.props; return ( &lt;&gt; &lt;h1&gt;ä¸€çº§æ ‡é¢˜&lt;/h1&gt; &#123;children&#125; &lt;/&gt; ); &#125;&#125;root.render( &lt;&gt; &lt;Welcome&gt; &lt;h3&gt;äºŒçº§ä¸»é¢˜&lt;/h3&gt; &lt;p&gt;è¿™æ˜¯å†…å®¹&lt;/p&gt; &lt;/Welcome&gt; &lt;/&gt;,);// å¦‚æœæƒ³æŠŠç»„ä»¶æ ‡ç­¾å†…çš„å¤šä¸ªå†…å®¹æ¸²æŸ“åˆ°ä¸åŒä½ç½®,é€šè¿‡æ•°ç»„ç´¢å¼•è®¿é—®å³å¯class Welcome extends React.Component &#123; render() &#123; console.log(this.props); let &#123; children &#125; = this.props; return ( &lt;&gt; &#123;children[1]&#125; &lt;h1&gt;ä¸€çº§æ ‡é¢˜&lt;/h1&gt; &#123;children[0]&#125; &lt;/&gt; ); &#125;&#125;root.render( &lt;&gt; &lt;Welcome&gt; &lt;h3&gt;äºŒçº§ä¸»é¢˜&lt;/h3&gt; &lt;p&gt;è¿™æ˜¯å†…å®¹&lt;/p&gt; &lt;/Welcome&gt; &lt;/&gt;,); 3ï¼‰state stateæ˜¯å±äºç»„ä»¶å†…éƒ¨ç§æœ‰çš„ï¼Œå¤–éƒ¨æ— æ³•è®¿é—® state ç”¨äºå­˜å‚¨ç»„ä»¶çš„åŠ¨æ€æ•°æ®ï¼Œå½“ç»„ä»¶çš„ state æ›´æ–°æ—¶ï¼Œå°±ä¼šæ‰§è¡Œrenderå‡½æ•°ï¼Œç»„ä»¶ä¼šé‡æ–°æ¸²æŸ“ä»¥æ›´æ–°é¡µé¢ ä½¿ç”¨stateå¿…é¡»å…ˆå®šä¹‰åˆå§‹å€¼ï¼š 1234567891011121314// å®šä¹‰åˆå§‹çŠ¶æ€çš„ä¸¤ç§â½…å¼// 1.åœ¨æ„é€ å™¨â¾¥å®šä¹‰constructor() &#123; super(); this.state = &#123; num: 1 &#125;&#125;// 2.åœ¨ç±»ä¸­ç›´æ¥å®šä¹‰state = &#123; num: 1&#125; aã€ä½•æ—¶ä½¿ç”¨çŠ¶æ€ï¼Ÿ ç»„ä»¶ä¸­ä»€ä¹ˆä¸œè¥¿å°†æ¥ä¼šå˜åŒ–ï¼Œå°±æŠŠä»€ä¹ˆä¸œè¥¿å®šä¹‰æˆçŠ¶æ€ åªè¦ä¿®æ”¹äº†çŠ¶æ€ï¼Œç»„ä»¶å°±ä¼šé‡æ–°æ¸²æŸ“ bã€state çš„ä½¿ç”¨1ã€ä¸èƒ½ç›´æ¥ä¿®æ”¹stateï¼Œå¿…é¡»é‡‡å–setStateæ–¹æ³•å»æ›´æ”¹ 12345678910111213141516171819202122232425262728class Welcome extends React.Component &#123; state = &#123; num: 1, &#125;; add = () =&gt; &#123; // æ–¹å¼ä¸€ï¼š // this.setState(&#123; // æ–¹å¼äºŒï¼šæ¨è ä¼ å…¥å‡½æ•° this.setState((prevState) =&gt; (&#123; num: prevState.num + 1, &#125;)); &#125;; render() &#123; const &#123; num &#125; = this.state; return ( &lt;&gt; &lt;h1&gt;&#123;num&#125;&lt;/h1&gt; &lt;button onClick=&#123;this.add&#125;&gt;ç‚¹å‡»å¢åŠ &lt;/button&gt; &lt;/&gt; ); &#125;&#125;root.render( &lt;&gt; &lt;Welcome /&gt; &lt;/&gt;,); 2ã€æ•°ç»„å’Œå¯¹è±¡çš„æ›´æ”¹ å¯¹äºæ•°ç»„å’Œå¯¹è±¡ï¼Œå¿…é¡»æ•´ä½“æ›¿æ¢ï¼Œå³ 1234this.setState(&#123; æ•°ç»„å: æ–°æ•°ç»„ å¯¹è±¡: æ–°å¯¹è±¡&#125;) ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829class Welcome extends React.Component &#123; state = &#123; num: 1, score: [&quot;è¯­æ–‡90&quot;, &quot;æ•°å­¦99&quot;], information: &#123; name: &quot;JACK&quot;, age: 18, &#125;, &#125;; change = () =&gt; &#123; this.setState(&#123; num: this.state.num + 1, score: [...this.state.score, &quot;è‹±è¯­59&quot;], information: &#123; ...this.state.information, links: &quot;å”±æ­Œ&quot; &#125;, &#125;); &#125;; render() &#123; const &#123; num, score, information &#125; = this.state; return ( &lt;&gt; &lt;h1&gt;&#123;num&#125;&lt;/h1&gt; &lt;p&gt;æˆç»©ï¼š&#123;score&#125;&lt;/p&gt; &lt;p&gt;ä¿¡æ¯ï¼š&#123;JSON.stringify(information)&#125;&lt;/p&gt; &lt;button onClick=&#123;this.change&#125;&gt;ä¿®æ”¹&lt;/button&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Welcome /&gt;); 3ã€stateçš„æ›´æ–°å¯èƒ½æ˜¯å¼‚æ­¥çš„ï¼ˆå‡ºäºæ€§èƒ½è€ƒè™‘ï¼‰ 123456789101112131415161718192021class Welcome extends React.Component &#123; state = &#123; num: 1, &#125;; change = () =&gt; &#123; this.setState(&#123; num: this.state.num + 1, &#125;); console.log(this.state.num); // ç¬¬ä¸€æ¬¡ç‚¹å‡»ä¿®æ”¹æ—¶ä¸ºï¼š1 å› æ­¤è¯æ˜æ›´æ–°æ˜¯å¼‚æ­¥çš„ &#125;; render() &#123; const &#123; num &#125; = this.state; return ( &lt;&gt; &lt;h1&gt;&#123;num&#125;&lt;/h1&gt; &lt;button onClick=&#123;this.change&#125;&gt;ä¿®æ”¹&lt;/button&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Welcome /&gt;); å¦‚æœæƒ³åŒæ­¥è·å–æ•°æ®ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨setStateçš„ç¬¬â¼†ä¸ªå‚æ•° 12345678910111213141516171819202122232425class Welcome extends React.Component &#123; state = &#123; num: 1, &#125;; change = () =&gt; &#123; this.setState( &#123; num: this.state.num + 1, &#125;, () =&gt; &#123; console.log(this.state.num); &#125;, ); &#125;; render() &#123; const &#123; num &#125; = this.state; return ( &lt;&gt; &lt;h1&gt;&#123;num&#125;&lt;/h1&gt; &lt;button onClick=&#123;this.change&#125;&gt;ä¿®æ”¹&lt;/button&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Welcome /&gt;); 4ã€stateçš„æ›´æ–°å¯èƒ½ä¼šè¢«åˆå¹¶ è¿ç»­å¤šæ¬¡ä¿®æ”¹stateï¼Œå‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œä¼šåªæ‰§è¡Œâ¼€æ¬¡ã€‚ å› ä¸ºstateä¸­çš„å€¼å‘ç”Ÿå˜åŒ–renderå‡½æ•°å°±ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå³é¡µé¢æ¸²æŸ“ä¸€æ¬¡ã€‚å¦‚æœè¿™é‡Œéå†åæ¬¡é¡µé¢æ¸²æŸ“åæ¬¡å°±ä¼šå½±å“æ€§èƒ½ã€‚ 1234567891011121314151617181920212223class Welcome extends React.Component &#123; state = &#123; num: 1, &#125;; change = () =&gt; &#123; for (let index = 0; index &lt; 10; index++) &#123; console.log(this.state.num); // æ‰“å°10ä¸ª1 this.setState(&#123; num: this.state.num + 1, &#125;); &#125; &#125;; render() &#123; const &#123; num &#125; = this.state; return ( &lt;&gt; &lt;h1&gt;&#123;num&#125;&lt;/h1&gt; // é¡µé¢å±•ç¤ºçš„ç¡®æ˜¯2 &lt;button onClick=&#123;this.change&#125;&gt;ä¿®æ”¹&lt;/button&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Welcome /&gt;); å¦‚æœä¸æƒ³åˆå¹¶å¤šæ¬¡æ›´æ”¹stateçš„æ“ä½œï¼Œå¯ä»¥é€šè¿‡ç»™setStateä¼ å…¥å‡½æ•°çš„å½¢å¼ï¼Œè¿”å›æ–°çš„çŠ¶æ€ 123456789101112131415161718192021222324252627class Welcome extends React.Component &#123; state = &#123; num: 1, &#125;; change = () =&gt; &#123; for (let i = 0; i &lt; 10; i++) &#123; this.setState((prev) =&gt; &#123; // ä»£è¡¨çš„æ˜¯ä¸Šâ¼€æ¬¡æ›´æ–°çš„çŠ¶æ€ console.log(prev.num); // 1,2,3,4,5,6,7,8,9,10 return &#123; // è¿”å›å€¼å°±æ˜¯ä½ æƒ³æŠŠä»€ä¹ˆçŠ¶æ€æ”¹æˆä»€ä¹ˆ num: prev.num + 1, &#125;; &#125;); &#125; &#125;; render() &#123; const &#123; num &#125; = this.state; return ( &lt;&gt; &lt;h1&gt;&#123;num&#125;&lt;/h1&gt; &lt;button onClick=&#123;this.change&#125;&gt;ä¿®æ”¹&lt;/button&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Welcome /&gt;); 4ï¼‰ç±»ç»„ä»¶å®Œæ•´ç»“æ„123456789101112131415161718192021222324class Qq extends React.Component &#123; // å®šä¹‰æ•°æ® state = &#123; nickname: &quot;çˆ·å‚²å¥ˆæˆ‘ä½•&quot;, &#125;; // jsé€»è¾‘ fn = () =&gt; &#123; this.setState(&#123; nickname: &quot;æ›´æ¢æ•°æ®äº†&quot;, &#125;); &#125;; // html render() &#123; const &#123; nickname &#125; = this.state; return ( &lt;&gt; &lt;h1&gt;&#123;nickname&#125;&lt;/h1&gt; &lt;button onClick=&#123;this.fn&#125;&gt;ç‚¹å‡»&lt;/button&gt; &lt;/&gt; ); &#125;&#125; ä¸‰ã€äº‹ä»¶å¤„ç†3.1ã€åŸºæœ¬è¯­æ³• React äº‹ä»¶ç»‘å®šå±æ€§çš„å‘½åé‡‡ç”¨é©¼å³°å¼å†™æ³•ï¼Œè€Œä¸æ˜¯å°å†™ ç­‰å·åé¢è·Ÿçš„ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯å‡½æ•°å 123456789class Welcome extends React.Component &#123; fn() &#123; alert(1); &#125; render() &#123; return &lt;button onClick=&#123;this.fn&#125;&gt;æŒ‰é’®&lt;/button&gt;; &#125;&#125;root.render(&lt;Welcome /&gt;); 3.2ã€å…³äºthisæŒ‡å‘é—®é¢˜12345678910111213class Welcome extends React.Component &#123; state = &#123; msg: &quot;æˆ‘æ˜¯ä¸€ä¸ªçŠ¶æ€&quot;, &#125;; fn() &#123; console.log(this); // undefined console.log(this.state.msg); &#125; render() &#123; return &lt;button onClick=&#123;this.fn&#125;&gt;æŒ‰é’®&lt;/button&gt;; &#125;&#125;root.render(&lt;Welcome /&gt;); è¿™é‡Œçš„thisæ˜¯undefinedreactä¸­çš„onClickæ˜¯â¼€ä¸ªè‡ªå®šä¹‰çš„äº‹ä»¶åï¼Œä¸­é—´ç»å†è¿‡â¼€æ¬¡èµ‹å€¼ï¼ˆonClick&#x3D;{this.fn}ï¼‰ï¼Œå°±æ˜¯æŠŠç­‰å·åé¢çš„å‡½æ•°åèµ‹ç»™äº†å‰é¢çš„onClickï¼Œæ‰€ä»¥å¯¼è‡´thisä¸¢å¤±ã€‚ ä»¥ä¸‹ä»£ç å¯ä»¥æ¼”ç¤ºä¸ºä»€ä¹ˆç»å†è¿‡â¼€æ¬¡èµ‹å€¼ï¼Œthisä¼šä¸¢å¤±ï¼š 12345678910111213141516171819// æ­£å¸¸è°ƒç”¨èƒ½å–åˆ°this&quot;use strict&quot;;let obj = &#123; display: function () &#123; console.log(this); &#125;,&#125;;obj.display();// å°†å‡½æ•°å½“åšä¸€ä¸ªå®å‚ä¼ ç»™fnå‡½æ•°çš„å½¢å‚ï¼Œè¿™é‡Œç›¸å½“äºä¸€æ¬¡èµ‹å€¼ï¼Œä¸¢å¤±thislet obj = &#123; display: function () &#123; console.log(this); // undefined &#125;,&#125;;function fn(cb) &#123; cb();&#125;fn(obj.display); 3.3ã€å¦‚ä½•è§£å†³thisä¸¢å¤±çš„é—®é¢˜ï¼Ÿ1ï¼‰åœ¨æ„é€ å™¨ä¸­ç»‘å®šthis1234567891011121314151617class Welcome extends React.Component &#123; constructor() &#123; super(); this.fn = this.fn.bind(this); // åœ¨æ„é€ å™¨â¾¥å®Œæˆthisç»‘å®š &#125; state = &#123; msg: &quot;æˆ‘æ˜¯ä¸€ä¸ªçŠ¶æ€&quot;, &#125;; fn() &#123; console.log(this); console.log(this.state.msg); &#125; render() &#123; return &lt;button onClick=&#123;this.fn&#125;&gt;æŒ‰é’®&lt;/button&gt;; &#125;&#125;root.render(&lt;Welcome /&gt;); 2ï¼‰è°ƒç”¨çš„æ—¶å€™ç»‘å®š 1&lt;button onClick=&#123;this.fn.bind(this)&#125;&gt;æŒ‰é’®&lt;/button&gt; 3ï¼‰ä½¿ç”¨ç®­å¤´å‡½æ•°(æœ€æ¨è) 1234567891011121314class Welcome extends React.Component &#123; state = &#123; msg: &quot;æˆ‘æ˜¯ä¸€ä¸ªçŠ¶æ€&quot;, &#125;; fn = () =&gt; &#123; // ä½¿â½¤ç®­å¤´å‡½æ•° console.log(this); console.log(this.state.msg); &#125;; render() &#123; return &lt;button onClick=&#123;this.fn&#125;&gt;æŒ‰é’®&lt;/button&gt;; &#125;&#125;root.render(&lt;Welcome /&gt;); 3.4ã€å‡½æ•°å‚æ•°çš„ä¼ é€’ æ³¨æ„ä¸€å®šä¸èƒ½ç›´æ¥å†™ å‡½æ•°å()ï¼Œè¿™ç§æ˜¯å‡½æ•°è°ƒç”¨è¯­å¥ã€‚React ä¸­çš„äº‹ä»¶åé¢è·Ÿçš„æ˜¯å‡½æ•°åæˆ–è€…å‡½æ•°ä½“ï¼ˆåŒ¿åå‡½æ•°ï¼‰ã€‚ 1ï¼‰ä¼ å…¥åŒ¿åå‡½æ•°çš„å½¢å¼1234567891011121314151617181920class Welcome extends React.Component &#123; state = &#123; msg: &quot;æˆ‘æ˜¯ä¸€ä¸ªçŠ¶æ€&quot;, &#125;; fn = (val) =&gt; &#123; console.log(val); &#125;; render() &#123; return ( &lt;button onClick=&#123;() =&gt; &#123; this.fn(66); &#125;&#125; &gt; æŒ‰é’® &lt;/button&gt; ); &#125;&#125;root.render(&lt;Welcome /&gt;); 2ï¼‰bindçš„æ–¹å¼1&lt;button onClick=&#123;this.fn.bind(this, 5)&#125;&gt;æŒ‰é’®&lt;/button&gt; 3ï¼‰æ¡ˆä¾‹12345678910111213141516171819202122232425262728class Welcome extends React.Component &#123; state = &#123; bgColor: &quot;rgb(255,255,255)&quot;, &#125;; fn = () =&gt; &#123; const r = Math.floor(Math.random() * 256); const g = Math.floor(Math.random() * 256); const b = Math.floor(Math.random() * 256); this.setState(&#123; bgColor: `rgb($&#123;r&#125;,$&#123;g&#125;,$&#123;b&#125;)`, &#125;); &#125;; render() &#123; const box = &#123; width: &quot;100px&quot;, height: &quot;100px&quot;, border: &quot;1px solid #ccc&quot;, background: this.state.bgColor, &#125;; return ( &lt;&gt; &lt;div style=&#123;box&#125;&gt;&lt;/div&gt; &lt;button onClick=&#123;this.fn&#125;&gt;åˆ‡æ¢&lt;/button&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Welcome /&gt;); å››ã€ç»„ä»¶ä¹‹é—´çš„ä¼ å€¼4.1ã€çˆ¶ä¼ å­(props)1234567891011121314151617181920212223242526272829303132class Parent extends React.Component &#123; state = &#123; msg: &quot;æˆ‘æ˜¯çˆ¶ç»„ä»¶çš„æ•°æ®&quot;, &#125;; render() &#123; const &#123; msg &#125; = this.state; return ( &lt;&gt; &lt;h1&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶&lt;/h1&gt; &lt;Child a=&#123;msg&#125; /&gt; &lt;/&gt; ); &#125;&#125;class Child extends React.Component &#123; render() &#123; const &#123; a &#125; = this.props; return ( &lt;&gt; &lt;h3&gt;æˆ‘æ˜¯å­ç»„ä»¶ï¼Œ&#123;a&#125;&lt;/h3&gt; &lt;GrandChild b=&#123;a&#125; /&gt; &lt;/&gt; ); &#125;&#125;function GrandChild(props) &#123; return &lt;h5&gt;æˆ‘æ˜¯å­™å­ç»„ä»¶ï¼Œ&#123;props.b&#125;&lt;/h5&gt;;&#125;root.render(&lt;Parent /&gt;); 4.2ã€å­ä¼ çˆ¶(å›è°ƒå‡½æ•°)123456789101112131415161718192021222324252627282930313233343536373839class Parent extends React.Component &#123; state = &#123; msg: &quot;&quot;, &#125;; fn = (val) =&gt; &#123; this.setState(&#123; msg: val, &#125;); &#125;; render() &#123; return ( &lt;&gt; &lt;h1&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶, è¿™æ˜¯å­ç»„ä»¶ä¼ æ¥çš„æ•°æ®ï¼š&#123;this.state.msg || &quot;______&quot;&#125;&lt;/h1&gt; &lt;Child fn=&#123;this.fn&#125; /&gt; // 1ã€å°†fnæ–¹æ³• é€šè¿‡æ–¹æ³•ä¼ ç»™å­ç»„ä»¶ &lt;/&gt; ); &#125;&#125;class Child extends React.Component &#123; state = &#123; msg: &quot;æˆ‘æ˜¯å­ç»„ä»¶çš„æ•°æ®&quot;, &#125;; fn1 = () =&gt; &#123; // 2ã€å­ç»„ä»¶é€šè¿‡propsæ¥æ”¶fnæ–¹æ³• å¹¶ä¸”è°ƒç”¨ä¼ å‚ this.props.fn(this.state.msg); &#125;; render() &#123; return ( &lt;&gt; &lt;button onClick=&#123;this.fn1&#125;&gt; æˆ‘æ˜¯å­ç»„ä»¶ï¼Œç‚¹å‡»å¯å°†å­ç»„ä»¶æ•°æ®ä¼ ç»™çˆ¶ç»„ä»¶ &lt;/button&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Parent /&gt;); 4.3ã€æ¡ˆä¾‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354var container = document.getElementById(&quot;app&quot;);var root = ReactDOM.createRoot(container);class Qq extends React.Component &#123; state = &#123; nickname: &quot;çˆ·å‚²å¥ˆæˆ‘ä½•&quot;, show: &quot;none&quot;, &#125;; edit = () =&gt; &#123; this.setState(&#123; show: &quot;block&quot;, &#125;); &#125;; nclose = () =&gt; &#123; this.setState(&#123; show: &quot;none&quot;, &#125;); &#125;; changeName = (nickname) =&gt; &#123; this.setState(&#123; nickname, &#125;); &#125;; render() &#123; let &#123; nickname, show &#125; = this.state; return ( &lt;div className=&quot;box&quot;&gt; &lt;h1&gt;&#123;nickname&#125;&lt;/h1&gt; &lt;button onClick=&#123;this.edit&#125;&gt;ç¼–è¾‘&lt;/button&gt; &lt;Modal nkname=&#123;nickname&#125; show=&#123;show&#125; nclose=&#123;this.nclose&#125; changeName=&#123;this.changeName&#125; /&gt; &lt;/div&gt; ); &#125;&#125;class Modal extends React.Component &#123; render() &#123; let &#123; nkname, show, nclose, changeName &#125; = this.props; return ( &lt;div className=&quot;sbox&quot; style=&#123;&#123; display: show &#125;&#125;&gt; &lt;h1&gt;&#123;nkname&#125;&lt;/h1&gt; &lt;button onClick=&#123;nclose&#125;&gt;å…³é—­å¼¹çª—&lt;/button&gt; &lt;button onClick=&#123;() =&gt; changeName(&quot;ä¸åƒé¦™èœ&quot;)&#125;&gt;æ”¹åç§°&lt;/button&gt; &lt;/div&gt; ); &#125;&#125;root.render(&lt;Qq /&gt;); äº”ã€æ¡ä»¶æ¸²æŸ“é€šå¸¸ä½ çš„ç»„ä»¶ä¼šéœ€è¦æ ¹æ®ä¸åŒçš„æƒ…å†µæ˜¾ç¤ºä¸åŒçš„å†…å®¹ã€‚åœ¨ React ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ JavaScript çš„ if è¯­å¥ã€&amp;&amp; å’Œ ? : è¿ç®—ç¬¦æ¥é€‰æ‹©æ€§åœ°æ¸²æŸ“ JSXã€‚ 5.1ã€åŸºæœ¬å†™æ³•12345678910111213141516var container = document.getElementById(&quot;app&quot;);var root = ReactDOM.createRoot(container);function Welcome(props) &#123; // è¿™é‡Œä¹Ÿå¯ä»¥ç”¨è§£æ„ &#123;flag&#125; if (props.flag) &#123; return &lt;h1&gt;æ¬¢è¿æ‚¨å°Šè´µçš„ä¼šå‘˜&lt;/h1&gt;; &#125; else &#123; return &lt;h1&gt;ä¸‹åˆå¥½ï¼Œæ™®é€šç”¨æˆ·&lt;/h1&gt;; &#125;&#125;root.render( &lt;&gt; &lt;Welcome flag=&#123;true&#125; /&gt; &lt;Welcome flag=&#123;false&#125; /&gt; &lt;/&gt;,); 5.2ã€å¯ä»¥è¿”å›null123456789101112131415161718var container = document.getElementById(&quot;app&quot;);var root = ReactDOM.createRoot(container);function Welcome(props) &#123; if (props.flag) &#123; return &lt;Vip /&gt;; &#125; else &#123; return null; &#125;&#125;function Vip() &#123; return &lt;h1&gt;æˆ‘æ˜¯å°Šè´µçš„vip&lt;/h1&gt;;&#125;root.render( &lt;&gt; &lt;Welcome flag=&#123;true&#125; /&gt; &lt;Welcome flag=&#123;false&#125; /&gt; &lt;/&gt;,); 5.3ã€&amp;&amp;è¿ç®—ç¬¦123456789var container = document.getElementById(&quot;app&quot;);var root = ReactDOM.createRoot(container);function Email(&#123; msg &#125;) &#123; return msg.length &gt; 0 &amp;&amp; &lt;h1&gt;ä½ æœ‰&#123;msg.length&#125;æ¡æ¶ˆæ¯å¾…å¤„ç†&lt;/h1&gt;;&#125;let arr = [&quot;ä¸‹åˆåƒä»€ä¹ˆ&quot;, &quot;æ™šä¸Šåƒä»€ä¹ˆ&quot;, &quot;æ˜å¤©åƒä»€ä¹ˆ&quot;];root.render(&lt;Email msg=&#123;arr&#125; /&gt;); 5.4ã€ä¸‰å…ƒè¡¨è¾¾å¼12345678910111213var container = document.getElementById(&quot;app&quot;);var root = ReactDOM.createRoot(container);function Welcome(&#123; flag &#125;) &#123; return flag ? &lt;Vip /&gt; : &lt;Normal /&gt;;&#125;function Vip() &#123; return &lt;h1&gt;æˆ‘æ˜¯å°Šè´µçš„vip&lt;/h1&gt;;&#125;function Normal() &#123; return &lt;h1&gt;æˆ‘æ˜¯é»„é‡‘æ™®é€šç”¨æˆ·&lt;/h1&gt;;&#125;root.render(&lt;Welcome flag=&#123;true&#125; /&gt;); å…­ã€åˆ—è¡¨æ¸²æŸ“123456789101112131415161718192021222324252627282930const container = document.getElementById(&quot;app&quot;);const root = ReactDOM.createRoot(container);function Week(&#123; courseList &#125;) &#123; return ( &lt;ul&gt; &#123;courseList.map((item, index) =&gt; ( &lt;li key=&#123;item.id&#125;&gt;&#123;item.courseName&#125;&lt;/li&gt; ))&#125; &lt;/ul&gt; );&#125;const courseList = [ &#123; id: &quot;1&quot;, courseName: &quot;ç¬¬ä¸€èŠ‚è¯¾&quot;, &#125;, &#123; id: &quot;2&quot;, courseName: &quot;ç¬¬äºŒèŠ‚è¯¾&quot;, &#125;, &#123; id: &quot;3&quot;, courseName: &quot;ç¬¬ä¸‰èŠ‚è¯¾&quot;, &#125;, &#123; id: &quot;4&quot;, courseName: &quot;ç¬¬å››èŠ‚è¯¾&quot;, &#125;,];root.render(&lt;Week courseList=&#123;courseList&#125; /&gt;); ä¸ºä»€ä¹ˆéœ€è¦keyï¼Ÿ keyæ˜¯ç”¨æ¥ç»™åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹åšæ ‡è®°ï¼Œåç»­æ›´æ–°åªæ›´æ–°æœ‰å·®åˆ«çš„éƒ¨åˆ†ï¼Œä¸å˜çš„éƒ¨åˆ†å°±ä¸æ›´æ–° ä¸è¦ç”¨indexå½“keyï¼Œkeyè¦æ±‚æ˜¯ç‹¬ä¸€æ— äºŒçš„å­—ç¬¦ä¸²ï¼Œä¸€èˆ¬ç”±åç«¯è¿”å› 123456789101112131415// åœ¨åŸç”Ÿjsä¸­ï¼Œå‡å¦‚æœ‰ä¸€ä¸ªæ¸²æŸ“çš„åˆ—è¡¨å¦‚ä¸‹ï¼š&lt;li&gt;1&lt;/li&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;3&lt;/li&gt;&lt;li&gt;4&lt;/li&gt;// å½“æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œå˜æˆï¼š&lt;li&gt;1&lt;/li&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;4&lt;/li&gt;&lt;li&gt;3&lt;/li&gt;// å¯¹äºjsæ¥è¯´ä¸ä¼šå› ä¸ºåªå˜äº†ä¸€ä¸ªå°±åªåˆ é™¤è¿™ä¸€ä¸ªç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œè€Œæ˜¯æ•´ä¸ªåˆ—è¡¨éƒ½åˆ é™¤ï¼Œåˆ›å»ºæ–°çš„å…¨éƒ¨é‡æ–°åˆ›å»ºï¼Œè¿™æ ·åˆ—è¡¨æ•°æ®å¤šäº†å°±ä¼šé€ æˆæ€§èƒ½é—®é¢˜// åœ¨reactå’Œvueä¸­è¿™ç§åˆ—è¡¨å¦‚æœå˜åŒ–äº†ï¼Œä¸ä¼šç«‹é©¬å»æ›´æ–°ã€‚å› ä¸ºreactå’Œvueæœ‰ä¸€ä¸ªè™šæ‹Ÿdomï¼Œæ¯æ¬¡åˆ—è¡¨æ•°æ®æ›´æ–°ï¼Œå°±ä¼šå…ˆå»æ›´æ–°è™šæ‹Ÿdomï¼ˆæ›´æ–°å¾ˆå¿«ï¼‰ï¼Œç„¶åå’ŒçœŸå®domåšå¯¹æ¯”ï¼ˆè¿™ç§å¯¹æ¯”å°±æ˜¯diffç®—æ³•ï¼‰å»æ›´æ–°æ”¹åŠ¨çš„åœ°æ–¹ã€‚// keyæ˜¯ç”¨æ¥ç»™åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹åšæ ‡è®°ï¼Œåç»­æ›´æ–°åªæ›´æ–°æœ‰å·®åˆ«çš„éƒ¨åˆ†ï¼Œä¸å˜çš„éƒ¨åˆ†å°±ä¸æ›´æ–° ä¸è¦ç”¨indexå½“keyï¼Œkeyè¦æ±‚æ˜¯ç‹¬ä¸€æ— äºŒçš„å­—ç¬¦ä¸² 12// ä¸ºä»€ä¹ˆä¸ç”¨indexç´¢å¼•å»å½“keyå‘¢ï¼Ÿå¦‚æœç”¨ç´¢å¼•å½“keyï¼Œé‚£ä¹ˆå›¾ä¸€åˆ—è¡¨ä»¥æ­¤æ˜¯012345ã€‚å¦‚æœæŸå¤©å°†åˆ—è¡¨ç¬¬äºŒä¸ªåˆ é™¤äº†(å›¾2)ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯åˆ—è¡¨ç¬¬ä¸€ä¸ªä¹‹åçš„keyå…¨éƒ¨éƒ½å‘ç”Ÿå˜åŒ–äº†ï¼ŒåŸæ¥åˆ—è¡¨å†…å®¹3çš„keyæ˜¯2ï¼Œç°åœ¨åˆ—è¡¨å†…å®¹3keyæ˜¯1äº†ï¼Œè¿™æ—¶å€™éœ€æ±‚demoå’ŒçœŸå®domä¸€å¯¹æ¯”ï¼Œä¼šå»æ›´æ–°å˜åŒ–çš„åœ°æ–¹å³åˆ—è¡¨å†…å®¹2 3 4 5 6çš„éƒ½è¦å»åšæ›´æ–°ï¼Œå¦‚æœåˆåç«¯è¿”å›ä¸€ä¸ªå”¯ä¸€idå€¼ï¼Œé‚£ä¹ˆå°±ä¸å­˜åœ¨è¿™ç§é—®é¢˜ ä¸ƒã€è¡¨å•å¤„ç†åœ¨reactä¸­è¡¨å•çš„å¤„ç†é€šå¸¸å’Œå…¶ä»–å…ƒç´ ä¸ä¸€æ ·ï¼Œ æ­£å¸¸æƒ…å†µä¸‹æˆ‘ä»¬æŠŠhtmlä¸­ä¼šå‘ä¸Šå˜åŒ–çš„åœ°æ–¹éƒ½è®¾ç½®ä¸ºstateï¼Œç„¶åé€šè¿‡æ›´æ”¹stateçš„æ›´æ–°è§†å›¾ åœ¨ HTML ä¸­ï¼Œè¡¨å•å…ƒç´ ï¼ˆå¦‚&lt;input&gt;ã€ &lt;textarea&gt; å’Œ &lt;select&gt;ï¼‰é€šå¸¸è‡ªå·±ç»´æŠ¤ stateï¼Œå¹¶æ ¹æ®ç”¨æˆ·è¾“å…¥è¿›è¡Œæ›´æ–°ã€‚è€Œåœ¨ React ä¸­ï¼Œå¯å˜çŠ¶æ€ï¼ˆmutable stateï¼‰é€šå¸¸ä¿å­˜åœ¨ç»„ä»¶çš„ state å±æ€§ä¸­ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡ä½¿ç”¨ setState()æ¥æ›´æ–°ã€‚ æ¸²æŸ“è¡¨å•çš„ React ç»„ä»¶è¿˜æ§åˆ¶ç€ç”¨æˆ·è¾“å…¥è¿‡ç¨‹ä¸­è¡¨å•å‘ç”Ÿçš„æ“ä½œã€‚è¢« React ä»¥è¿™ç§æ–¹å¼æ§åˆ¶å–å€¼çš„è¡¨å•è¾“å…¥å…ƒç´ å°±å«åšâ€œå—æ§ç»„ä»¶â€ã€‚ 7.1ã€åŸºæœ¬ä½¿ç”¨1234567891011121314151617181920class Input extends React.Component &#123; state = &#123; value: &quot;&quot;, &#125;; handleChange = (e) =&gt; &#123; console.log(e.target.value); this.setState(&#123; value: e.target.value, &#125;); &#125;; render() &#123; return ( &lt;&gt; &lt;input onChange=&#123;this.handleChange&#125; value=&#123;this.state.value&#125; /&gt; &lt;p&gt;&#123;this.state.value&#125;&lt;/p&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Input /&gt;); 7.2ã€å¤šä¸ªè¡¨å•å…ƒç´ 12345678910111213141516171819202122232425262728293031323334const container = document.getElementById(&quot;app&quot;);const root = ReactDOM.createRoot(container);class Input extends React.Component &#123; state = &#123; userValue: &quot;&quot;, emailValue: &quot;&quot;, &#125;; handleChange = (e) =&gt; &#123; const name = e.target.name === &quot;user&quot; ? &quot;userValue&quot; : &quot;emailValue&quot;; this.setState(&#123; [name]: e.target.value, &#125;); console.log(this.state.userValue); console.log(this.state.emailValue); &#125;; render() &#123; return ( &lt;&gt; &lt;input onChange=&#123;this.handleChange&#125; value=&#123;this.state.userValue&#125; name=&quot;user&quot; /&gt; &lt;br /&gt; &lt;input onChange=&#123;this.handleChange&#125; value=&#123;this.state.emailValue&#125; name=&quot;email&quot; /&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Input /&gt;); 7.3ã€selectã€checkboxã€radioç­‰ç‰¹æ®Šå…ƒç´ 1ï¼‰selectç”¨æ³•123456789101112131415161718192021222324const container = document.getElementById(&quot;app&quot;);const root = ReactDOM.createRoot(container);class Input extends React.Component &#123; state = &#123; value: &quot;shanghai&quot;, &#125;; change = (e) =&gt; &#123; this.setState(&#123; value: e.target.value, &#125;); &#125;; render() &#123; return ( &lt;&gt; &lt;select value=&#123;this.state.value&#125; onChange=&#123;this.change&#125;&gt; &lt;option value=&quot;beijing&quot;&gt;åŒ—äº¬&lt;/option&gt; &lt;option value=&quot;shanghai&quot;&gt;ä¸Šæµ·&lt;/option&gt; &lt;option value=&quot;shenzhen&quot;&gt;æ·±åœ³&lt;/option&gt; &lt;/select&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Input /&gt;); 2ï¼‰checkboxç”¨æ³•æ“ä½œä»–çš„checkedå±æ€§ 1234567891011121314151617181920212223242526const container = document.getElementById(&quot;app&quot;);const root = ReactDOM.createRoot(container);class Input extends React.Component &#123; state = &#123; isChecked: false, &#125;; change = (e) =&gt; &#123; this.setState(&#123; isChecked: e.target.checked, &#125;); &#125;; render() &#123; return ( &lt;&gt; &lt;input type=&quot;checkbox&quot; name=&quot;1&quot; value=&quot;beijing&quot; checked=&#123;this.state.isChecked&#125; onChange=&#123;this.change&#125; /&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Input /&gt;); 3ï¼‰radioçš„ç”¨æ³•é€šè¿‡æ›´æ”¹valueï¼Œé—´æ¥æ“ä½œcheckedå±æ€§ 123456789101112131415161718192021222324252627282930313233const container = document.getElementById(&quot;app&quot;);const root = ReactDOM.createRoot(container);class Input extends React.Component &#123; state = &#123; n: &quot;option2&quot;, &#125;; change = (e) =&gt; &#123; this.setState(&#123; n: e.target.value, &#125;); &#125;; render() &#123; return ( &lt;&gt; &lt;input type=&quot;radio&quot; name=&quot;city&quot; value=&quot;option1&quot; checked=&#123;this.state.n == &quot;option1&quot;&#125; onChange=&#123;this.change&#125; /&gt; &lt;input type=&quot;radio&quot; name=&quot;city&quot; value=&quot;option2&quot; checked=&#123;this.state.n == &quot;option2&quot;&#125; onChange=&#123;this.change&#125; /&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Input /&gt;); å…«ã€ref ä»€ä¹ˆæ˜¯refï¼šrefæ˜¯Reactæä¾›çš„ç”¨æ¥æ“çºµReactç»„ä»¶å®ä¾‹æˆ–è€…DOMå…ƒç´ çš„æ¥å£ã€‚ åŸºæœ¬è·Ÿvueä¸­çš„refç”¨æ³•ä¸€æ · refæ‹¿åˆ°çš„æ˜¯çœŸå®dom ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æä¾›äº†ä¸€ç§æ–¹å¼èƒ½è®©ä½ ç›´æ¥è·å–åˆ°domå…ƒç´ å¯¹è±¡æˆ–è€…ç»„ä»¶å®ä¾‹ã€‚ refä¸èƒ½ç”¨äºå‡½æ•°ç»„ä»¶ä¸Šï¼ˆå‡½æ•°ç»„ä»¶æ²¡æœ‰å®ä¾‹ï¼‰ï¼Œrefåªé€‚ç”¨äºå®ä¾‹å¯¹è±¡ä¸Šï¼Œä¾‹å¦‚classç±» 8.1ã€å›è°ƒå½¢å¼çš„ref ï¼ˆè€ç‰ˆæœ¬æ¨èï¼‰1ï¼‰åœ¨å…ƒç´ ä¸­1234567891011121314151617181920212223const container = document.getElementById(&quot;app&quot;);const root = ReactDOM.createRoot(container);class Dome extends React.Component &#123; test = () =&gt; &#123; console.log(this.ins); // è·å–åˆ°pæ ‡ç­¾è¿™ä¸ªdom &#125;; render() &#123; return ( &lt;&gt; &lt;p ref=&#123;(dom) =&gt; &#123; this.ins = dom; &#125;&#125; &gt; ä½ å¥½å•Š &lt;/p&gt; &lt;button onClick=&#123;this.test&#125;&gt;æµ‹è¯•&lt;/button&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Dome /&gt;); 2ï¼‰åœ¨ç»„ä»¶ä¸­123456789101112131415161718192021222324252627282930313233343536const container = document.getElementById(&quot;app&quot;);const root = ReactDOM.createRoot(container);class Dome extends React.Component &#123; test = () =&gt; &#123; console.log(this.ins); console.log(this.ins1.state.msg); this.ins1.fn(); &#125;; render() &#123; return ( &lt;&gt; &lt;p ref=&#123;(dom) =&gt; &#123; this.ins = dom; &#125;&#125; &gt; ä½ å¥½å•Š &lt;/p&gt; &lt;button onClick=&#123;this.test&#125;&gt;æµ‹è¯•&lt;/button&gt; &lt;Child ref=&#123;(dom) =&gt; (this.ins1 = dom)&#125; /&gt; &lt;/&gt; ); &#125;&#125;class Child extends React.Component &#123; state = &#123; msg: &quot;æˆ‘æ˜¯å­ç»„ä»¶çš„æ•°æ®&quot;, &#125;; fn = () =&gt; &#123; console.log(666666666); &#125;; render() &#123; return &lt;div&gt;æˆ‘æ˜¯å­ç»„ä»¶&lt;/div&gt;; &#125;&#125;root.render(&lt;Dome /&gt;); 8.2ã€React.createRef ï¼ˆé€‚ç”¨äºç±»ç»„ä»¶ï¼‰ é€šè¿‡åœ¨classä¸­ä½¿ç”¨React.createRef()æ–¹æ³•åˆ›å»ºä¸€äº›å˜é‡ï¼Œå¯ä»¥å°†è¿™äº›å˜é‡ç»‘å®šåˆ°æ ‡ç­¾çš„refä¸­ é‚£ä¹ˆè¯¥å˜é‡çš„currentåˆ™æŒ‡å‘ç»‘å®šçš„æ ‡ç­¾dom 1ï¼‰åœ¨å…ƒç´ ä¸­1234567891011121314151617const container = document.getElementById(&quot;app&quot;);const root = ReactDOM.createRoot(container);class Demo extends React.Component &#123; myRef = React.createRef(); fn = () =&gt; &#123; console.log(this.myRef.current); &#125;; render() &#123; return ( &lt;&gt; &lt;p ref=&#123;this.myRef&#125;&gt;è¿™æ˜¯ä¸€ä¸ªç»„ä»¶&lt;/p&gt; &lt;button onClick=&#123;this.fn&#125;&gt;æŒ‰é’®&lt;/button&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Demo /&gt;); 2ï¼‰åœ¨ç»„ä»¶ä¸­1234567891011121314151617181920212223242526272829303132const container = document.getElementById(&quot;app&quot;);const root = ReactDOM.createRoot(container);class Demo extends React.Component &#123; myRef = React.createRef(); myRef1 = React.createRef(); fn = () =&gt; &#123; console.log(this.myRef.current); console.log(this.myRef1.current.state.msg); this.myRef1.current.childFn(); &#125;; render() &#123; return ( &lt;&gt; &lt;p ref=&#123;this.myRef&#125;&gt;è¿™æ˜¯ä¸€ä¸ªç»„ä»¶&lt;/p&gt; &lt;button onClick=&#123;this.fn&#125;&gt;æŒ‰é’®&lt;/button&gt; &lt;Child ref=&#123;this.myRef1&#125; /&gt; &lt;/&gt; ); &#125;&#125;class Child extends React.Component &#123; state = &#123; msg: &quot;æˆ‘æ˜¯ä¸€ä¸ªå­ç»„ä»¶æ•°æ®&quot;, &#125;; childFn = () =&gt; &#123; console.log(6666666); &#125;; render() &#123; return &lt;div&gt;æˆ‘æ˜¯å­ç»„ä»¶&lt;/div&gt;; &#125;&#125;root.render(&lt;Demo /&gt;); 8.3ã€useRef ï¼ˆé€‚ç”¨äºå‡½æ•°ç»„ä»¶ï¼‰ æ˜¯ä¸€ä¸ªhooksï¼Œåé¢è®² 8.4ã€ç»¼åˆæ¡ˆä¾‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455const container = document.getElementById(&quot;app&quot;);const root = ReactDOM.createRoot(container);class Demo extends React.Component &#123; myRef = React.createRef(); state = &#123; value: &quot;&quot;, list: [], &#125;; change = (e) =&gt; &#123; this.setState(&#123; value: e.target.value, &#125;); &#125;; add = () =&gt; &#123; if (this.state.value) &#123; this.setState(&#123; list: [...this.state.list, this.state.value], value: &quot;&quot;, &#125;); this.myRef.current.focus(); &#125; &#125;; del = (index) =&gt; &#123; // æ³¨æ„ï¼šåœ¨ React ä¸­ä¸å»ºè®®ç›´æ¥ä¿®æ”¹åŸçŠ¶æ€ï¼ˆsplice ä¼šä¿®æ”¹åŸæ•°ç»„ï¼‰ // æ¨èåšæ³•ï¼šconst newList = this.state.list.filter((_, i) =&gt; i !== index); this.state.list.splice(index, 1); this.setState(&#123; list: [...this.state.list], &#125;); &#125;; render() &#123; const &#123; list &#125; = this.state; return ( &lt;&gt; &lt;input value=&#123;this.state.value&#125; onChange=&#123;this.change&#125; ref=&#123;this.myRef&#125; type=&quot;text&quot; /&gt; &lt;button onClick=&#123;this.add&#125;&gt;æ·»åŠ &lt;/button&gt; &lt;ul&gt; &#123;list.length &gt; 0 &amp;&amp; list.map((item, index) =&gt; ( &lt;li onClick=&#123;() =&gt; this.del(index)&#125; key=&#123;index&#125;&gt; &#123;item&#125; &lt;/li&gt; ))&#125; &lt;/ul&gt; &lt;/&gt; ); &#125;&#125;root.render(&lt;Demo /&gt;); ä¹ã€è„šæ‰‹æ¶æ­å»ºé¡¹ç›®9.1ã€åŸºäºwebpackåˆ›å»ºé¡¹ç›® åŸºäºwebpackåˆ›å»ºæ˜¯ä½¿ç”¨create-react-appæ­å»ºé¡¹ç›®ï¼ŒCreate React App æ˜¯ä¸€ä¸ªå®˜æ–¹æ”¯æŒçš„åˆ›å»º React å•é¡µåº”ç”¨ç¨‹åºçš„æ–¹æ³•ã€‚ 1ï¼‰å®‰è£…12345678910// æ–¹å¼ä¸€//å…¨å±€å®‰è£…è„šæ‰‹æ¶npm install -g create-react-app//åˆ©ç”¨è„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®create-react-app my-app// æ–¹å¼äºŒï¼ˆæ¨èï¼‰npx create-react-app my-appcd my-appnpm start npx æ˜¯ npm5.2.0ç‰ˆæœ¬æ–°å¢çš„ä¸€ä¸ªå·¥å…·åŒ…ï¼Œå®šä¹‰ä¸ºnpmåŒ…çš„æ‰§è¡Œè€…ï¼Œç›¸æ¯” npmï¼Œnpx ä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–åŒ…å¹¶æ‰§è¡ŒæŸä¸ªå‘½ä»¤ã€‚ ä½¿ç”¨npxåˆ›å»ºé¡¹ç›®ï¼Œåˆ›å»ºçš„æ—¶å€™ä¼šæ£€æŸ¥ç”µè„‘æ˜¯å¦æœ‰create-react-appï¼Œæ²¡æœ‰å°±å®‰è£…create-react-appï¼Œæœ‰å°±è·³è¿‡ã€‚ 2ï¼‰ç”Ÿæˆçš„é¡¹ç›®æ–‡ä»¶è§£è¯» node_modules:é¡¹ç›®çš„æ ¸å¿ƒæ¨¡å—ï¼Œä¾èµ–åŒ… publicï¼šå­˜æ”¾é™æ€èµ„æºæ–‡ä»¶ .ico:é¡µç­¾çš„logo index.html:å”¯ä¸€çš„é¡µé¢æ–‡ä»¶ï¼Œåªæä¾›æ ¹èŠ‚ç‚¹ manifest.json:ç§»åŠ¨ç«¯çš„é…ç½®ä¸€æ–‡ä»¶ robots.txt:å‘Šè¯‰çˆ¬è™«è€…ï¼Œä¸å¯çˆ¬çš„é¡µé¢ï¼Œæ²¡æœ‰å®è´¨ä½œç”¨åªæ˜¯è­¦å‘Š .gitignore:å£°æ˜ä¸€äº›å†åœ¨gitä¸Šä¼ çš„æ—¶å€™éœ€è¦å¿½ç•¥çš„æ–‡ä»¶ package.json:é¡¹ç›®çš„è¯´æ˜æ–‡ä»¶ï¼Œæœ‰å“ªäº›ä¾èµ–ï¼Œä¾èµ–äº†å“ªä¸ªç‰ˆæœ¬ package-lock.jsonï¼šé¡¹ç›®ä¾èµ–çš„å®‰è£…åŒ…çš„ä¸€äº›ç‰ˆæœ¬ä¼šåšä¸€äº›é™åˆ¶ï¼Œè¿›è¡Œç‰ˆæœ¬é”å®š Readme.md:ä½œè€…çš„ä¸€äº›è¯ src App.css:Appç»„ä»¶çš„æ ·å¼æ–‡ä»¶ App.js é¡¹ç›®çš„æ ¹ç»„ä»¶ App.test.jsï¼šè‡ªåŠ¨åŒ–æµ‹è¯•æ–‡ä»¶ index.csså…¨å±€æ ·å¼æ–‡ä»¶ index.jsï¼šé¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œhtmlåªä¼šåŠ è½½è¿™ä¸ªjsæ–‡ä»¶(ç±»ä¼¼vueä¸­main.js) reportWebVitals.js:è°·æ­Œæµè§ˆå™¨é€€å‡ºçš„ä¸€ä¸ªæµè§ˆå™¨æ€§èƒ½ä¼˜åŒ–çš„åº“ setupTestsï¼šé’ˆå¯¹index.jsçš„å•å…ƒæµ‹è¯•åŸä»¶ React.StrictModeçš„ä½œç”¨ 1.è¯†åˆ«ä¸€äº›ä¸å®‰å…¨çš„ç”Ÿå‘½å‘¨æœŸ 2.æ£€æµ‹æ„å¤–çš„å‰¯ä½œç”¨ 3.æ£€æµ‹è¿‡æ—¶çš„context api 9.2ã€åŸºäºViteåˆ›å»ºé¡¹ç›® node ç‰ˆæœ¬è¦å¤§äº 18 ä»¥ä¸Šï¼Œå»ºè®®ç”¨ 20 ç‰ˆæœ¬ï¼Œå¦åˆ™è¿è¡Œä¼šæŠ¥é”™ ä½¿ç”¨ NPM: 1npm create vite@latest ä½¿ç”¨ Yarn: 1yarn create vite ä½¿ç”¨ PNPM: 1pnpm create vite 9.3ã€é¡¹ç›®çš„åŸºæœ¬ä½¿ç”¨ ç»„ä»¶çš„åç¼€åæˆ‘ä»¬æ¨èç”¨jsxï¼Œè¡¨ç¤ºæ˜¯ä¸€ä¸ªç»„ä»¶ æ™®é€šjsåç¼€åå°±ç”¨.js é»˜è®¤å¼•å…¥ï¼š å¼•å…¥çš„æ—¶å€™å¯ä»¥ä¸éœ€è¦åŠ æ–‡ä»¶åç¼€ï¼Œç¼–è¾‘å™¨ä¼šè‡ªåŠ¨æŸ¥æ‰¾.jsxåç¼€çš„æ–‡ä»¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œä¼šæ¥ç€æŸ¥æ‰¾åç¼€ä¸º.jsçš„æ–‡ä»¶ å¦‚æœç›´æ¥å¼•å…¥çš„æ˜¯æ–‡ä»¶å¤¹çš„åå­—ï¼Œé‚£ä¹ˆé»˜è®¤å»æŸ¥æ‰¾è¯¥æ–‡ä»¶å¤¹ä¸‹çš„index.jsxæ–‡ä»¶ã€‚ åã€æ¨¡å—åŒ–æ ·å¼10.1ã€xxx.module.css åªéœ€è¦å°†æ ·å¼æ–‡ä»¶åå­—æ”¹ ï¼šåå­—.module.csså³å¯ CSS Modules å…è®¸é€šè¿‡è‡ªåŠ¨åˆ›å»º [filename]_[classname]__[hash] æ ¼å¼çš„å”¯ä¸€ classname æ¥ç¡®å®š CSS çš„ä½œç”¨åŸŸ,å¦‚ä¸‹ 12345678910111213import Child from &quot;./Child&quot;;import style from &quot;./App.module.css&quot;;function App() &#123; return ( &lt;div&gt; &lt;h1 className=&#123;style.App&#125;&gt;ä½ å¥½&lt;/h1&gt; &lt;h2 className=&#123;style.title&#125;&gt;å“ˆå“ˆå“ˆå“ˆå“ˆ&lt;/h2&gt; &lt;Child /&gt; &lt;/div&gt; );&#125;export default App; 10.2ã€é¢„å¤„ç†å™¨ï¼ˆSass&#x2F;Less&#x2F;Stylusï¼‰ 12345$text-color: blue;.component &#123; color: $text-color; font-size: 20px;&#125; 123456// Component.jsimport &quot;./Component.scss&quot;;function Component() &#123; return &lt;div className=&quot;component&quot;&gt;Styled Text&lt;/div&gt;;&#125; 10.3ã€css-in-jsåº“ ä½¿ç”¨JSç¼–å†™CSSçš„åº“ï¼Œå¦‚styled-componentsã€emotionç­‰ 1234567891011// ä½¿ç”¨styled-componentsimport styled from &quot;styled-components&quot;;const StyledDiv = styled.div` color: blue; font-size: 20px;`;function Component() &#123; return &lt;StyledDiv&gt;Styled Text&lt;/StyledDiv&gt;;&#125; åä¸€ã€ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ11.1ã€ç”Ÿå‘½å‘¨æœŸå›¾è°± ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å°±æ˜¯åœ¨ç‰¹å®šæ—¶é—´èŠ‚ç‚¹ä¸Šä¼šè‡ªåŠ¨è¿è¡Œçš„å‡½æ•° é‡ç‚¹ï¼šå‡½æ•°ç»„ä»¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849import Child from &quot;./Child&quot;;import React from &quot;react&quot;;class App extends React.Component &#123; constructor() &#123; super(); console.log(&quot;constructor&quot;); &#125; state = &#123; msg: &quot;hello&quot;, info: &quot;hahahaha&quot;, flag: true, &#125;; componentDidUpdate() &#123; //ç»„ä»¶æ›´æ–°å®Œæ¯•çš„æ—¶å€™æ‰§è¡Œ console.log(&quot;componentDidUpdate&quot;); &#125; componentDidMount() &#123; //ç»„ä»¶æŒ‚è½½å®Œæ¯•çš„æ—¶å€™æ‰§è¡Œ console.log(&quot;componentDidMount&quot;); &#125; componentWillUnmount() &#123; //ç»„ä»¶å³å°†å¸è½½çš„æ—¶å€™æ‰§è¡Œ console.log(&quot;componentWillUnmount&quot;); &#125; fn = () =&gt; &#123; this.setState(&#123; flag: false, &#125;); &#125;; change = () =&gt; &#123; this.setState(&#123; info: &quot;å‘µå‘µå‘µå‘µ&quot;, &#125;); &#125;; render() &#123; console.log(&quot;render&quot;); return ( &lt;div&gt; &lt;h1&gt;æˆ‘æ˜¯Appç»„ä»¶&#123;this.state.msg&#125;&lt;/h1&gt; &lt;button onClick=&#123;this.fn&#125;&gt;æŒ‰é’®&lt;/button&gt; &lt;button onClick=&#123;this.change&#125;&gt;æ”¹info&lt;/button&gt; &#123;this.state.flag &amp;&amp; &lt;Child /&gt;&#125; &lt;/div&gt; ); &#125;&#125;export default App; 11.2ã€shouldComponentUpdate shouldComponentUpdate æ˜¯ä¸€ä¸ªå¯ä»¥åœ¨**ç»„ä»¶æ›´æ–°ä¹‹å‰**è§¦å‘çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå®ƒå…è®¸ä½ é€šè¿‡è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼æ¥å†³å®šä¸€ä¸ªç»„ä»¶çš„è¾“å‡ºæ˜¯å¦å—å½“å‰çŠ¶æ€æˆ–å±æ€§çš„æ”¹å˜å½±å“è€Œæ›´æ–°ã€‚å¦‚æœ shouldComponentUpdate è¿”å› falseï¼Œé‚£ä¹ˆç»„ä»¶å°±ä¸ä¼šè¿›è¡Œæ›´æ–°ã€‚ ç®€å•æ¥è¯´å°±æ˜¯ç”¨äºæ›´æ–°æ•°æ®æ—¶ï¼Œå¦‚æœæ›´æ–°çš„æ•°æ®å’Œä¸Šä¸€æ¬¡æ•°æ®æ˜¯ä¸€æ ·çš„ï¼Œç†è®ºä¸Šåº”è¯¥ä¸éœ€è¦å†æ¬¡æ›´æ–°ç»„ä»¶äº†ï¼Œä½†æ˜¯å®é™…ä¸Šç¡®å®ä¼šæ›´æ–°ï¼Œä½¿ç”¨shouldComponentUpdate åˆ™ä¼šé¿å…è¿™ç§æƒ…å†µï¼Œå¦‚æœshouldComponentUpdate è¿”å›falseå°±è¯´æ˜æ•°æ®ä¸€æ ·ï¼Œé‚£ä¹ˆç»„ä»¶å°±ä¸éœ€è¦æ›´æ–°ã€‚ 1ï¼‰åŸºæœ¬ç”¨æ³•shouldComponentUpdate æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šnextProps å’Œ nextStateï¼Œåˆ†åˆ«è¡¨ç¤ºç»„ä»¶å³å°†æ¥æ”¶çš„æ–°å±æ€§å’Œæ–°çŠ¶æ€ã€‚ä½ éœ€è¦åœ¨è¿™ä¸ªæ–¹æ³•ä¸­æ¯”è¾ƒå½“å‰ç»„ä»¶çš„å±æ€§å’ŒçŠ¶æ€ä¸æ–°çš„å±æ€§å’ŒçŠ¶æ€ï¼Œç„¶åè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼æ¥å†³å®šç»„ä»¶æ˜¯å¦éœ€è¦æ›´æ–°ã€‚ 1234567shouldComponentUpdate(nextProps,nextState)&#123; if(nextState.msg===this.state.msg)&#123; return false &#125;else&#123; return true &#125;&#125; 2ï¼‰æ¡ˆä¾‹123456789101112131415161718192021222324252627282930313233343536// app.jsximport React from &quot;react&quot;;class App extends React.Component &#123; state = &#123; msg: &quot;hello&quot;, &#125;; fn = () =&gt; &#123; this.setState(&#123; msg: &quot;world&quot;, &#125;); &#125;; shouldComponentUpdate(nextProps, nextState) &#123; if (nextState.msg === this.state.msg) &#123; return false; &#125; else &#123; return true; &#125; &#125; componentDidUpdate() &#123; console.log(&quot;ç»„ä»¶æ›´æ–°äº†&quot;); &#125; render() &#123; console.log(&quot;render&quot;); return ( &lt;div&gt; &lt;h1&gt;æˆ‘æ˜¯Appç»„ä»¶&#123;this.state.msg&#125;&lt;/h1&gt; &lt;button onClick=&#123;this.fn&#125;&gt;æŒ‰é’®&lt;/button&gt; // ç¬¬äºŒæ¬¡ç‚¹å‡»ä¸ä¼šæ‰§è¡Œäº† &lt;/div&gt; ); &#125;&#125;export default App; è‡ªReact 16.3ç‰ˆæœ¬èµ·ï¼Œæ¨èä½¿ç”¨ PureComponentï¼ˆå¯¹äºç±»ç»„ä»¶ï¼‰ æˆ– React.memo (å¯¹äºå‡½æ•°ç»„ä»¶) æ¥è¿›è¡Œæµ…æ¯”è¾ƒï¼Œè¿™æ ·å¯ä»¥å‡å°‘æ‰‹åŠ¨ç¼–å†™ shouldComponentUpdate çš„éœ€æ±‚ã€‚ 11.3ã€PureComponent React.PureComponent ä¸ React.Component å¾ˆç›¸ä¼¼ï¼Œä¸¤è€…çš„åŒºåˆ«åœ¨äº React.Component å¹¶æœªå®ç° shouldComponentUpdate()ï¼Œè€Œ React.PureComponent ä¸­ä»¥æµ…å±‚å¯¹æ¯” prop å’Œ state çš„æ–¹å¼æ¥å®ç°äº†è¯¥å‡½æ•°ã€‚ setStateå­˜åœ¨ä¸¤ä¸ªä¸åˆç†ä¹‹å¤„: setStateæ— è®ºæ˜¯å¦æ›´æ–°äº†stateï¼Œrenderå‡½æ•°éƒ½ä¼šé‡ç°è°ƒç”¨ï¼Œè¿™æ˜¯ä¸åˆç†çš„ å¦‚æœçˆ¶ç»„ä»¶æ›´æ–°äº†ï¼Œæ— è®ºå­ç»„ä»¶ç”¨æ²¡ç”¨åˆ°çˆ¶ç»„ä»¶çš„æ•°æ®ä¹Ÿéƒ½ä¼šé‡æ–°æ¸²æŸ“å­ç»„ä»¶ï¼Œè¿™æ˜¯ä¸åˆç†çš„ ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆï¼š é€šè¿‡ç”Ÿå‘½å‘¨æœŸå‡½æ•°shouldComponentUpdate(){}åˆ¤æ–­ä¸¤æ¬¡ä¸ä¸€è‡´å†æ›´æ–°ï¼Œå¦åˆ™ä¸æ›´æ–° 12345678 shouldComponentUpdate(nextProps,nextState)&#123; if(this.props.someprops===nextProps.someprops)&#123; return false &#125;else&#123; return true &#125; &#125;// ä½†æ˜¯è¿™ä»…ä»…æ˜¯ä¸€ä¸ªå±æ€§ï¼Œå¦‚æœæœ‰å¤šä¸ªå±æ€§çš„è¯ï¼Œä¸€ä¸ªä¸€ä¸ªå¯¹æ¯”ä¼šæ¯”è¾ƒéº»çƒ¦ å› æ­¤ä½¿ç”¨PureComponentï¼š ç›´æ¥å°†React.Componentæ›¿æ¢æˆReact.PureComponent 123class Mouse extends React.PureComponent &#123; // ä¸ä¹‹å‰å†™æ³•ç›¸åŒï¼Œåªä¸è¿‡ä¸ç”¨å†™shouldComponentUpdateäº†ï¼Œä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åˆ¤æ–­&#125; 12345678910111213141516171819202122232425262728// app.jsximport React from &quot;react&quot;;class App extends React.PureComponent &#123; state = &#123; msg: &quot;hello&quot;, &#125;; fn = () =&gt; &#123; this.setState(&#123; msg: &quot;world&quot;, &#125;); &#125;; componentDidUpdate() &#123; console.log(&quot;ç»„ä»¶æ›´æ–°äº†&quot;); &#125; render() &#123; console.log(&quot;render&quot;); return ( &lt;div&gt; &lt;h1&gt;æˆ‘æ˜¯Appç»„ä»¶&#123;this.state.msg&#125;&lt;/h1&gt; &lt;button onClick=&#123;this.fn&#125;&gt;æŒ‰é’®&lt;/button&gt; &lt;/div&gt; ); &#125;&#125;export default App; æ³¨æ„ï¼š React.PureComponent ä¸­çš„ shouldComponentUpdate() ä»…ä½œå¯¹è±¡çš„æµ…å±‚æ¯”è¾ƒã€‚å¦‚æœå¯¹è±¡ä¸­åŒ…å«å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œåˆ™æœ‰å¯èƒ½å› ä¸ºæ— æ³•æ£€æŸ¥æ·±å±‚çš„å·®åˆ«ï¼Œäº§ç”Ÿé”™è¯¯çš„æ¯”å¯¹ç»“æœã€‚ä»…åœ¨ä½ çš„ props å’Œ state è¾ƒä¸ºç®€å•æ—¶ï¼Œæ‰ä½¿ç”¨React.PureComponentï¼Œæˆ–è€…åœ¨æ·±å±‚æ•°æ®ç»“æ„å‘ç”Ÿå˜åŒ–æ—¶è°ƒç”¨ forceUpdate() æ¥ç¡®ä¿ç»„ä»¶è¢«æ­£ç¡®åœ°æ›´æ–°ã€‚ åäºŒã€contextå¤šå±‚çº§ä¼ å€¼Context æä¾›äº†ä¸€ä¸ªæ— éœ€ä¸ºæ¯å±‚ç»„ä»¶æ‰‹åŠ¨æ·»åŠ  propsï¼Œå°±èƒ½åœ¨ç»„ä»¶æ ‘é—´è¿›è¡Œæ•°æ®ä¼ é€’çš„æ–¹æ³•ã€‚ ä½¿ç”¨æ­¥éª¤ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879// 1.åˆ›å»ºéœ€è¦ä¼ é€’çš„æ•°æ®React.Context()å®ä¾‹ï¼šæ‹¬å·é‡Œå­˜æ”¾é»˜è®¤åˆå§‹æ•°æ®// src\\utils\\context.jsimport React from &quot;react&quot;const MyContext=React.createContext(&quot;&quot;);export default MyContext// 2.çˆ¶ç»„ä»¶ æä¾›Contextæ•°æ®ï¼š// src\\App.jsximport React from &quot;react&quot;;import Child from &quot;./components/Child&quot;;import MyContext from &quot;./utils/context&quot;;class App extends React.PureComponent &#123; state = &#123; msg: &quot;çˆ¶ç»„ä»¶æ•°æ®&quot;, &#125;; render() &#123; return ( &lt;div&gt; &lt;MyContext.Provider value=&#123;this.state.msg&#125;&gt; &lt;h1&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶&lt;/h1&gt; &lt;Child msg=&#123;this.state.msg&#125;/&gt; &lt;/MyContext.Provider&gt; &lt;/div&gt; ); &#125;&#125;export default App;// 3.åä»£ç»„ä»¶è·å–Contextæ•°æ®// src\\components\\GrandChild.jsx// æ–¹å¼ä¸€ï¼šé€šè¿‡consumerimport React from &#x27;react&#x27;import MyContext from &#x27;../utils/context&#x27;class GrandChild extends React.PureComponent &#123; render() &#123; return( &lt;MyContext.Consumer&gt; &#123; (value) =&gt; ( &lt;&gt; &lt;h1&gt;æˆ‘æ˜¯å­™å­ç»„ä»¶ &lt;/h1&gt; &lt;p&gt;&#123;value&#125;&lt;/p&gt; &lt;/&gt; ) &#125; &lt;/MyContext.Consumer&gt; ) &#125;&#125;export default GrandChild// æ–¹å¼äºŒï¼šé€šè¿‡Class.contextType (ç±»ç»„ä»¶ä½¿ç”¨)å¯ä»¥é€šè¿‡Class.contextTypeç›´æ¥å°†Contextå¯¹è±¡æŒ‚è½½åˆ°classçš„contextTypeå±æ€§ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨this.contextå¯¹contextå¯¹è±¡è¿›è¡Œä½¿ç”¨contextTypeå±äºç±»çš„å±æ€§ï¼Œä¸å±äºæŸä¸ªå®ä¾‹ï¼Œæ‰€ä»¥åªèƒ½åœ¨å¤–éƒ¨æ·»åŠ æˆ–è€…ä½¿ç”¨staticå°†å…¶æ·»åŠ ç»™ç±»å±æ€§class GrandChild extends React.PureComponent &#123; // static contextType=MyContext; // è¿™é‡Œå†™åœ¨ç±»é‡Œé¢å¹¶æ²¡æœ‰æ·»åŠ åˆ°å®ä¾‹ä¸Šå»ï¼Œå› ä¸ºæ·»åŠ äº†static render() &#123; return( &lt;&gt; &lt;h1&gt;æˆ‘æ˜¯å­™å­ç»„ä»¶ &lt;/h1&gt; &lt;p&gt;&#123;this.context&#125;&lt;/p&gt; &lt;/&gt; ) &#125;&#125;GrandChild.contextType = MyContext; // æ·»åŠ åœ¨ç±»å±æ€§ä¸Šé¢export default GrandChild åä¸‰ã€é«˜é˜¶ç»„ä»¶ (HOC)é«˜é˜¶ç»„ä»¶ï¼ˆHigher-Order Componentï¼Œç®€ç§°HOCï¼‰æ˜¯Reactä¸­ç”¨äºå¤ç”¨ç»„ä»¶é€»è¾‘çš„ä¸€ç§é«˜çº§æŠ€æœ¯ã€‚æœ¬è´¨ä¸Šï¼Œé«˜é˜¶ç»„ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªç»„ä»¶å¹¶è¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ã€‚å®ƒä¸»è¦ç”¨äºé€»è¾‘çš„å…±äº«å’Œé‡ç”¨ï¼Œè€Œä¸æ˜¯ç›´æ¥æ¸²æŸ“UIã€‚è¿™ç§æ¨¡å¼ç±»ä¼¼äºJavaScriptä¸­çš„é«˜é˜¶å‡½æ•°ï¼Œé‚£äº›ä»¥å‡½æ•°ä¸ºå‚æ•°æˆ–è¿”å›ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°ã€‚ HOC åº”å½“æ˜¯çº¯å‡½æ•°ï¼Œæ— å‰¯ä½œç”¨ã€‚ ä¸è¦åœ¨ HOC å†…éƒ¨ä¿®æ”¹åŸå§‹ç»„ä»¶ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°ç»„ä»¶ é«˜é˜¶ç»„ä»¶çš„å‘½åä¸€èˆ¬ä»¥ â€œwithâ€ å¼€å¤´ï¼Œè¡¨ç¤ºå®ƒæ˜¯ä¸ºç»„ä»¶æä¾›é™„åŠ åŠŸèƒ½çš„ã€‚ 13.1ã€åŸºæœ¬ä½¿ç”¨ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546import React from &quot;react&quot;;class Demo1 extends React.PureComponent &#123; render() &#123; return &lt;div&gt;æˆ‘æ˜¯demo1 &#123;this.props.a&#125;&lt;/div&gt;; &#125;&#125;class Demo2 extends React.PureComponent &#123; render() &#123; return &lt;div&gt;æˆ‘æ˜¯demo2&lt;/div&gt;; &#125;&#125;function withLog(WrapComponent) &#123; // é«˜é˜¶å‡½æ•° return class extends React.Component &#123; componentDidMount() &#123; console.log(&quot;æŒ‚è½½äº†&quot;); &#125; render() &#123; return &lt;WrapComponent &#123;...this.props&#125; /&gt;; // ä¼ å€¼å¿…é¡»åœ¨è¿™é‡Œè§£æ„propsï¼Œè¦ä¸ç„¶Demo1ç»„ä»¶æ‹¿ä¸åˆ°ä¼ çš„å‚æ•°aå’Œc &#125; &#125;;&#125;// ä½¿ç”¨é«˜é˜¶å‡½æ•°const MyCom = withLog(Demo1);const MyCom1 = withLog(Demo2);class App extends React.PureComponent &#123; state = &#123; msg: &quot;çˆ¶ç»„ä»¶æ•°æ®&quot;, &#125;; render() &#123; return ( &lt;&gt; &lt;MyCom a=&#123;this.state.msg&#125; c=&quot;1231231&quot; /&gt; &lt;MyCom1 /&gt; &lt;/&gt; ); &#125;&#125;export default App; 13.2ã€é«˜é˜¶ç»„ä»¶å®æˆ˜è¯·æ±‚åœ°å€ dogApiï¼šhttps://dog.ceo/api/breeds/image/random catApiï¼šhttps://api.thecatapi.com/v1/images/search 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960import axios from &quot;axios&quot;;import React from &quot;react&quot;;class MyCat extends React.Component &#123; render() &#123; return ( &lt;&gt; &lt;img src=&#123;this.props.url&#125; width=&quot;200&quot; alt=&quot;&quot; /&gt; &lt;div&gt;è¿™æ˜¯ä¸€åªçŒ«&lt;/div&gt; &lt;/&gt; ); &#125;&#125;class MyDog extends React.Component &#123; render() &#123; return ( &lt;&gt; &lt;img src=&#123;this.props.url&#125; width=&quot;200&quot; alt=&quot;&quot; /&gt; &lt;div&gt;è¿™æ˜¯ä¸€åªç‹—&lt;/div&gt; &lt;/&gt; ); &#125;&#125;function withAnimal(WrapComponent, url, type) &#123; return class extends React.Component &#123; state = &#123; imgUrl: &quot;&quot;, &#125;; componentDidMount() &#123; axios.get(url).then((res) =&gt; &#123; this.setState(&#123; imgUrl: type ? res.data.message : res.data[0].url, &#125;); &#125;); &#125; render() &#123; return &lt;WrapComponent url=&#123;this.state.imgUrl&#125; /&gt;; &#125; &#125;;&#125;const Cat = withAnimal(MyCat, &quot;https://api.thecatapi.com/v1/images/search&quot;, 0);const Dog = withAnimal(MyDog, &quot;https://dog.ceo/api/breeds/image/random&quot;, 1);class App extends React.Component &#123; render() &#123; console.log(&quot;æ¸²æŸ“&quot;); return ( &lt;&gt; &lt;Cat&gt;&lt;/Cat&gt; &lt;Dog&gt;&lt;/Dog&gt; &lt;/&gt; ); &#125;&#125;export default App;","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"React","slug":"React","permalink":"http://example.com/tags/React/"},{"name":"React18","slug":"React18","permalink":"http://example.com/tags/React18/"},{"name":"ç±»ç»„ä»¶","slug":"ç±»ç»„ä»¶","permalink":"http://example.com/tags/%E7%B1%BB%E7%BB%84%E4%BB%B6/"}]},{"title":"Cusrosçš„ä½¿ç”¨","slug":"45-Cusrosçš„ä½¿ç”¨","date":"2025-12-02T00:38:45.000Z","updated":"2026-03-01T16:07:38.352Z","comments":true,"path":"posts/aed47f69.html","permalink":"http://example.com/posts/aed47f69.html","excerpt":"","text":"ä¸€ã€è§£å†³é™åˆ¶å›½å†…ä½¿ç”¨ åŸå› æ˜¯ç¾å›½é‚£è¾¹åˆ¶è£äº† claude ï¼Œé™åˆ¶å’±ä»¬å›½å†…åœ°åŒºçš„ipä½¿ç”¨ï¼Œå› æ­¤æˆ‘ä»¬å°±æ— æ³•ä½¿ç”¨äº†ã€‚ è§£å†³æ­¥éª¤ æ‰“å¼€è‡ªå·±çš„é­”æ³•å·¥å…·ï¼ˆå¤§å®¶æ‡‚å¾—ï¼‰ åœ¨Cursorç¼–è¾‘å™¨è®¾ç½®ä»£ç†ï¼Œipçš„ç«¯å£å·è®¾ç½®æˆé­”æ³•å·¥å…·çš„ç«¯å£å· å°†http&#x2F;2è®¾ç½®æˆhttp&#x2F;1.1å³å¯ æµ‹è¯• äºŒã€Cusroså¯¹è¯æ¨¡å¼æ¨¡æ¿æç¤ºè¯æŠ€å·§æ€»ç»“: æä¾›ä¸Šä¸‹æ–‡:æåŠé¡¹ç›®è¯­è¨€ã€æ¡†æ¶ã€ä¸šåŠ¡èƒŒæ™¯ç­‰ä¿¡æ¯ åˆ†ç‚¹æè¿°:å°†å¤æ‚éœ€æ±‚æ‹†è§£ä¸ºå…·ä½“æ­¥éª¤æˆ–è¦æ±‚ ä½¿ç”¨æŠ€æœ¯æœ¯è¯­:å‡†ç¡®çš„æœ¯è¯­èƒ½å¸®åŠ© AI æ›´ç²¾å‡†ç†è§£éœ€æ±‚ æ˜ç¡®è¾¹ç•Œ:è¯´æ˜å¿…é¡»ä¿ç•™çš„ç°æœ‰åŠŸèƒ½æˆ–ç¦æ­¢çš„å®ç°æ–¹å¼ ç¤ºä¾‹å¼•å¯¼:é™„ä¸ŠæœŸæœ›è¾“å‡ºç¤ºä¾‹æˆ–å‚è€ƒä»£ç é£æ ¼ 2.1ã€ä»£ç ç”Ÿæˆç±»123456[ä»»åŠ¡ç±»å‹]:è¯·ç”Ÿæˆä¸€ä¸ª&#123;åŠŸèƒ½æè¿°&#125;çš„&#123;ç¼–ç¨‹è¯­è¨€/æ¡†æ¶&#125;å®ç°[å…·ä½“è¦æ±‚]:1.ä½¿ç”¨&#123;ç‰¹å®šæŠ€æœ¯/åº“&#125;2.åŒ…å«&#123;ç‰¹å®šåŠŸèƒ½ç‚¹&#125;3.ç¬¦åˆ&#123;ç¼–ç è§„èŒƒ/è®¾è®¡æ¨¡å¼&#125; ç¤ºä¾‹ï¼š 123456789è¯·ç”Ÿæˆä¸€ä¸ªå­¦ä¹ è®¡åˆ’é¡µé¢çš„HTML+CSS+Javascriptå®ç°[å…·ä½“è¦æ±‚]:1.ä½¿ç”¨Tailwind Css v3å’ŒFont Awesome2.åŒ…å«ä»»åŠ¡æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤åŠŸèƒ½3.åŒ…å«æ—¥å†è§†å›¾å±•ç¤ºå­¦ä¹ è®¡åˆ’4.åŒ…å«å­¦ä¹ è¿›åº¦å¯è§†åŒ–å›¾è¡¨5.ç¬¦åˆç°ä»£UIè®¾è®¡åŸåˆ™å’Œå“åº”å¼è®¾è®¡6.å…·æœ‰å¹³æ»‘çš„åŠ¨ç”»å’Œäº¤äº’æ•ˆæœ 2.2ã€ä»£ç ä¿®æ”¹ç±»12345678[ä»»åŠ¡ç±»å‹]:è¯·å¸®æˆ‘ä¿®æ”¹&#123;ä¸Šä¸‹æ–‡:å…·ä½“æ–‡ä»¶/ä»£ç ç‰‡æ®µ&#125;ï¼Œå®ç°&#123;é¢„æœŸåŠŸèƒ½&#125;[å½“å‰é—®é¢˜]:&#123;ç°æœ‰çš„é”™è¯¯/ä¸è¶³æè¿°&#125;[å…·ä½“è¦æ±‚]:1.ä¿æŒ&#123;ç°æœ‰åŠŸèƒ½/ç»“æ„&#125;ä¸å˜2.ä½¿ç”¨&#123;ç‰¹å®šæ–¹æ³•/æŠ€æœ¯&#125;&#125;æ”¹è¿›3.ä¿®å¤&#123;å…·ä½“é”™è¯¯/è­¦å‘Š&#125; ç¤ºä¾‹ï¼š 12345è¯·å¸®æˆ‘ä¿®æ”¹å½“å‰çš„ React ç»„ä»¶ï¼Œä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“æ€§èƒ½å½“å‰é—®é¢˜:æ»šåŠ¨æ—¶åˆ—è¡¨å¡é¡¿ï¼Œå­˜åœ¨æ˜æ˜¾æ€§èƒ½é—®é¢˜ã€‚è¦æ±‚:1.ä¿æŒç°æœ‰ UI ä¸å˜2.ä½¿ç”¨ React.memo å’Œè™šæ‹Ÿåˆ—è¡¨æŠ€æœ¯ä¼˜åŒ–3.æ·»åŠ æ€§èƒ½ç›‘æ§æ—¥å¿— 2.3ã€ä»£ç è§£é‡Šç±»12345678[ä»»åŠ¡ç±»å‹]:è¯·è§£é‡Š&#123;ä»£ç ç‰‡æ®µ/åŠŸèƒ½æ¨¡å—&#125;çš„&#123;å…·ä½“æ–¹é¢&#125;[ä¸Šä¸‹æ–‡ä¿¡æ¯]:&#123;ç›¸å…³ä¸šåŠ¡èƒŒæ™¯/æŠ€æœ¯æ ˆ&#125;[å…·ä½“é—®é¢˜]1.&#123;ä¸ç†è§£çš„è¯­æ³•/é€»è¾‘&#125;2.&#123;ç‰¹å®šè®¾è®¡é€‰æ‹©çš„åŸå› ]3.&#123;æ½œåœ¨çš„é—®é¢˜/ä¼˜åŒ–ç‚¹&#125; ç¤ºä¾‹ï¼š 123456è¯·è§£é‡Šè¿™æ®µ Typescript ä»£ç çš„æ³›å‹çº¦æŸå’Œç±»å‹æ¨å¯¼é€»è¾‘ã€‚ä¸Šä¸‹æ–‡:è¿™æ˜¯ä¸€ä¸ªç”¨äºæ•°æ®éªŒè¯çš„å·¥å…·å‡½æ•°ã€‚å…·ä½“é—®é¢˜:1.&lt;T extends object&gt;è¿™é‡Œä¸ºä»€ä¹ˆè¦åŠ  extends object?2.ç±»å‹æ¨å¯¼æ˜¯å¦‚ä½•å·¥ä½œçš„?3.æ˜¯å¦å­˜åœ¨ç±»å‹å®‰å…¨éšæ‚£? 2.4ã€æµç¨‹è‡ªåŠ¨åŒ–ç±»123456789101112[ä»»åŠ¡ç±»å‹]:è¯·åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨åŒ–æµç¨‹ï¼Œå®ç°&#123;ç›®æ ‡æè¿°&#125;[æ“ä½œæ­¥éª¤]:1.ä»&#123;æ•°æ®æº&#125;è·å–&#123;æ•°æ®ç±»å‹&#125;2.æ‰§è¡Œ&#123;æ•°æ®å¤„ç†/è½¬æ¢æ“ä½œ&#125;3.å°†ç»“æœä¿å­˜åˆ°&#123;ç›®æ ‡ä½ç½®&#125;4.è§¦å‘&#123;åç»­æ“ä½œ/é€šçŸ¥&#125;[å…·ä½“è¦æ±‚]:1.ä½¿ç”¨&#123;ç‰¹å®šå·¥å…·/API&#125;2.æ·»åŠ &#123;é”™è¯¯å¤„ç†/é‡è¯•æœºåˆ¶&#125;3.ç”Ÿæˆ&#123;æ—¥å¿—/æŠ¥å‘Š&#125; ç¤ºä¾‹ï¼š 12345è¯·åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨åŒ–æµç¨‹ï¼Œæ¯å¤©å‡Œæ™¨ä» GitHub API è·å–ä»“åº“æ˜Ÿæ ‡æ•°ï¼Œä¿å­˜åˆ° Goog1e sheets å¹¶ç”Ÿæˆè¶‹åŠ¿å›¾ã€‚è¦æ±‚:1.ä½¿ç”¨ GitHub REST API V32.æ·»åŠ å¼‚å¸¸å¤„ç†å’Œé‚®ä»¶é€šçŸ¥3.ç”Ÿæˆå‘¨/æœˆå¢é•¿è¶‹åŠ¿å›¾è¡¨ 2.5ã€å‘½ä»¤è¡Œè¾…åŠ©ç±»123456[ä»»åŠ¡ç±»å‹]:è¯·æä¾›&#123;æ“ä½œåœºæ™¯&#125;çš„&#123;æ“ä½œç³»ç»Ÿ&#125;å‘½ä»¤[å…·ä½“éœ€æ±‚]:1.&#123;æ‰§è¡Œçš„å…·ä½“æ“ä½œ&#125;2.åŒ…å«&#123;ç‰¹å®šå‚æ•°/é€‰é¡¹&#125;3.å¤„ç†&#123;ç‰¹æ®Šæƒ…å†µ/é”™è¯¯&#125; ç¤ºä¾‹ï¼š 1234è¯·æä¾›åœ¨ macos ä¸Šæ‰¹é‡å‹ç¼©å›¾ç‰‡çš„å‘½ä»¤è¡Œæ–¹æ¡ˆã€‚éœ€æ±‚:1.å°†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ PNG/JPG å›¾ç‰‡å‹ç¼© 50%2.ä¿ç•™åŸå§‹æ–‡ä»¶å¹¶æ·»åŠ â€œ-compressedâ€åç¼€3.æ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶çš„å‹ç¼©å‰åå¤§å°å¯¹æ¯” ä¸‰ã€Cursorç²¾å‡†ä¸Šä¸‹æ–‡æŒ‡å®šåœ¨ Cursor å·¥å…·é‡Œï¼Œâ€œä¸Šä¸‹æ–‡ï¼ˆContextï¼‰â€ å¯ç†è§£ä¸º è®© AI å‡†ç¡®ç†è§£éœ€æ±‚ã€è¾…åŠ©ç¼–ç çš„ â€œä¿¡æ¯å‚è€ƒèŒƒå›´â€ ï¼Œæ˜¯ AI è¯»æ‡‚ä»£ç ã€ç²¾å‡†å“åº”çš„å…³é”®! 3.1 Codebase Indexing ä»£ç åº“ç´¢å¼•1ï¼‰ã€æ¦‚å¿µå’Œä½œç”¨æ‰“å¼€é¡¹ç›®æ—¶ï¼Œæ¯ä¸ª Cursor å®ä¾‹éƒ½å°†åˆå§‹åŒ–è¯¥å·¥ä½œåŒºçš„ç´¢å¼•ã€‚åˆå§‹ç´¢å¼•è®¾ç½®å®Œæˆåï¼ŒCursor å°†è‡ªåŠ¨ä¸ºæ·»åŠ åˆ°å·¥ä½œåŒºçš„ä»»ä½•æ–°æ–‡ä»¶ç¼–åˆ¶ç´¢å¼•ï¼Œä»¥ä½¿æ‚¨çš„ä»£ç åº“ä¸Šä¸‹æ–‡ä¿æŒæœ€æ–°ï¼š å¿«é€Ÿ â€œè¯»æ‡‚â€ ä½ çš„é¡¹ç›®ç»“æ„ï¼ˆå“ªäº›æ˜¯å·¥å…·æ–‡ä»¶ã€å“ªäº›æ˜¯ä¸šåŠ¡é€»è¾‘ï¼‰ å®šä½ç›¸å…³ä»£ç ï¼ˆå¦‚æœç´¢ getUser æ—¶ï¼ŒçŸ¥é“ä¼˜å…ˆæŸ¥ userService.jsï¼‰ ç†è§£ä»£ç å…³ç³»ï¼ˆå¦‚ Order ç±»å’Œ Product ç±»çš„å…³è”ï¼‰ Cursor ä¸­çš„ä½œç”¨ï¼šAI åˆ†æç´¢å¼•å†…å®¹åï¼Œç”Ÿæˆä»£ç æ—¶ä¼šæ›´è´´åˆé¡¹ç›®å®é™…ï¼ˆå¦‚ä½¿ç”¨å·²æœ‰å·¥å…·å‡½æ•°ã€éµå¾ªå‘½åè§„èŒƒï¼‰ã€‚ 2ï¼‰ã€ä»£ç åº“ç´¢å¼•é…ç½®å’Œç¤ºä¾‹ä»£ç åº“ç´¢å¼•çš„çŠ¶æ€ä½äºcursor settings &gt; Indexing &amp; Docs 3)ã€å¿½ç•¥æ–‡ä»¶é…ç½®Cursor è¯»å–é¡¹ç›®çš„ä»£ç åº“å¹¶ä¸ºå…¶ç¼–åˆ¶ç´¢å¼•ä»¥æ”¯æŒå…¶åŠŸèƒ½ã€‚å¯ä»¥é€šè¿‡å°†.cursorignore æ–‡ä»¶æ·»åŠ åˆ°æ ¹ç›®å½•æ¥æ§åˆ¶å“ªäº›æ–‡ä»¶è¢«å¿½ç•¥å’ŒCursoré™åˆ¶è®¿é—®ã€‚ æå‡ç´¢å¼•é€Ÿåº¦ï¼šæ’é™¤å¤§å‹ä¾èµ–ã€ç”Ÿæˆæ–‡ä»¶(å¦‚node_modu1esã€dist) é¿å…å¹²æ‰°ï¼šæŸäº›é…ç½®æ–‡ä»¶å¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯æˆ–ä¸å½“å‰ä»»åŠ¡æ— å…³ é…ç½®.cursorignoreå¿½ç•¥æ–‡ä»¶çš„ä¸¤ç§æ–¹æ³•ï¼š è‡ªå·±åˆ›å»º .cursorignore æ–‡ä»¶æ·»åŠ åˆ°ä»£ç åº“ç›®å½•çš„æ ¹ç›®å½•ä¸‹ï¼Œå¹¶åˆ—å‡ºè¦å¿½ç•¥çš„ç›®å½•å’Œæ–‡ä»¶ ä½¿ç”¨cursoré…ç½®å¿«æ·åˆ›å»ºå¿½ç•¥æ–‡ä»¶&#96;cursorsetting&gt;indexing&gt;Configure ignored files 3.2ã€Rulesè§„åˆ™1ï¼‰è§„åˆ™ä»‹ç»Rulesæ˜¯ç»™Cursor AIåŠŸèƒ½(è§„åˆ™é€‚ç”¨äºChatå’ŒCmd K)ç”Ÿæˆç»“æœæ·»åŠ è§„åˆ™å’Œé™åˆ¶ï¼Œè®© AIç”Ÿæˆçš„ä»£ç è´´åˆå›¢é˜Ÿè§„èŒƒï¼Œå‡å°‘äººå·¥äºŒæ¬¡ä¿®æ”¹æˆæœ¬ï¼Œä¸»è¦çš„ä½œç”¨å¦‚ä¸‹: å¯çº¦æŸä»£ç é£æ ¼(å¦‚å¼ºåˆ¶ç”¨é©¼å³°å‘½åã€è¦æ±‚å‡½æ•°å¿…é¡»å†™æ³¨é‡Š) èƒ½é™å®šæŠ€æœ¯é€‰å‹(å¦‚ç¦æ­¢ä½¿ç”¨æŸè€æ—§åº“ã€ä¼˜å…ˆç”¨é¡¹ç›®æŒ‡å®šå·¥å…·ç±») æå‰æŒ‡å®šæ ¸å¿ƒå‚æ•°(å¦‚æå‰è®¾ç½®è¿æ¥æ•°æ®åº“çš„åœ°å€å’Œè´¦å·å¯†ç ç­‰) ç»´åº¦ é¡¹ç›®è§„åˆ™(Project Rules) ç”¨æˆ·è§„åˆ™(User Rules) ä½œç”¨èŒƒå›´ ä»…å¯¹å½“å‰é¡¹ç›®ç”Ÿæ•ˆï¼Œå›¢é˜Ÿæˆå‘˜å…±äº«ç›¸åŒè§„åˆ™ å¯¹æ‰€æœ‰é¡¹ç›®ç”Ÿæ•ˆï¼Œä¸ªäººä¸“å±é…ç½® å­˜å‚¨ä½ç½® é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„.cursor&#x2F;rules&#x2F;éšæ„.mdc æ–‡ä»¶ ç”¨æˆ·é…ç½®ç›®å½•(å¦‚~&#x2F;.cursor&#x2F;ru1es) åŒæ­¥æ–¹å¼ éšé¡¹ç›®ä»£ç æäº¤åˆ°ç‰ˆæœ¬åº“(å¦‚ Git)ï¼Œå›¢é˜Ÿå…±äº« ä»…æœ¬åœ°ç”Ÿæ•ˆï¼Œä¸éšé¡¹ç›®åŒæ­¥ é€‚ç”¨åœºæ™¯ ç»Ÿä¸€å›¢é˜Ÿç¼–ç è§„èŒƒ(å¦‚å‡½æ•°æ³¨é‡Šæ ¼å¼ã€ä¾èµ–ç‰ˆæœ¬) ä¸ªäººä¹ æƒ¯(å¦‚å¿«æ·é”®ã€AI å“åº”é£æ ¼) æ³¨æ„ï¼šé¡¹ç›®è§„åˆ™å’Œç”¨æˆ·è§„åˆ™åŒæ—¶å­˜åœ¨å¹¶ä¸”è§„åˆ™å†²çªï¼Œé¡¹ç›®è§„åˆ™ä¼˜å…ˆçº§æ›´é«˜â€“ 2ï¼‰é¡¹ç›®è§„åˆ™é…ç½®aã€é¡¹ç›®ä¸‹åˆ›å»ºè§„åˆ™æ–‡ä»¶çš„ä¸¤ç§æ–¹æ³• åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶å¤¹.cursor/rules/éšæ„å‘½å.mdc å¿«æ·å‘½ä»¤æ–¹å¼åˆ›å»º ctr1+ shift +P &gt; â€œNew Cursor Ruleâ€ bã€ç¼–å†™é¡¹ç›®è§„åˆ™æ–‡ä»¶ 1234567891011121314---alwaysApply: truedescription: &quot;å›¢é˜Ÿå‰ç«¯é¡¹ç›®è§„èŒƒ&quot;priority: 1000---# ä»£ç é£æ ¼1. å‡½æ•°å¿…é¡»åŒ…å« JSDoc æ³¨é‡Š2. ç¦æ­¢ä½¿ç”¨`var`, ç»Ÿä¸€ä½¿ç”¨ `const`/`let`3. å‡½æ•°å‘½åå¿…é¡»æ·»åŠ  zwf_å‰ç¼€ï¼Œä¾‹å¦‚:zwf_login# æŠ€æœ¯é€‰å‹- ä¼˜å…ˆä½¿ç”¨é¡¹ç›®å†…å·²æœ‰çš„å·¥å…·å‡½æ•°(å¦‚ `uti1s/request`)- ç¦æ­¢å¼•å…¥ä½ç‰ˆæœ¬çš„ 1odash(&lt;4.0.0) cã€é¡¹ç›®è§„åˆ™æ–‡ä»¶ç”Ÿæ•ˆæµ‹è¯• ctrl+kè°ƒå‡ºå†…è”æ™ºèƒ½è¾“å…¥ 3ï¼‰ç”¨æˆ·è§„åˆ™é…ç½®ctrl+shift+jå¿«æ·æ‰“å¼€Cursor Settingsï¼Œç”¨æˆ·è§„åˆ™ä¸æ”¯æŒ MDCï¼Œå®ƒä»¬åªæ˜¯çº¯æ–‡æœ¬ã€‚ å®ç°æ¯è¡Œä»£ç éƒ½ç”¨ä¸­æ–‡æ³¨é‡Šäº† 3.3ã€mdcè¯­æ³•äº†è§£Cursor çš„ MDCï¼ˆMarkdown with Cursorï¼‰è¯­æ³•æ˜¯ä¸“é—¨ä¸ºç¼–å†™é¡¹ç›®è§„åˆ™è®¾è®¡çš„è½»é‡çº§æ ¼å¼ï¼Œå®ƒç»“åˆäº† Markdown çš„å¯è¯»æ€§å’Œå…ƒæ•°æ®é…ç½®èƒ½åŠ›ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥è¯´æ˜ä¸‹mdcæ–‡ä»¶è¯­æ³•ã€‚ 1ï¼‰ MDC æ–‡ä»¶ç»„æˆéƒ¨åˆ† å‰ç½®å…ƒæ•°æ®ï¼ˆFrontmatterï¼‰ ç”¨ --- åŒ…è£¹çš„ YAML æ ¼å¼é…ç½® å®šä¹‰è§„åˆ™çš„åŸºæœ¬å±æ€§ï¼ˆå¦‚ä½œç”¨èŒƒå›´ã€ä¼˜å…ˆçº§ï¼‰ è§„åˆ™å†…å®¹ï¼ˆMarkdown æ­£æ–‡ï¼‰ ç”¨ Markdown è¯­æ³•å†™å…·ä½“è§„åˆ™ 2ï¼‰å‰ç½®å…ƒæ•°æ®1234567891011---# å®˜æ–¹çº¦å®šå­—æ®µï¼ˆæ¨èç”¨ï¼ŒAI æ›´æ˜“ç†è§£ï¼‰description: &quot;å‰ç«¯é¡¹ç›®è§„åˆ™&quot;globs: &quot;src/**/*.tsx&quot;priority: 1000# è‡ªå®šä¹‰å­—æ®µï¼ˆè‡ªå·±æˆ–å›¢é˜Ÿçº¦å®šå«ä¹‰ï¼‰author: &quot;æŠ€æœ¯å›¢é˜Ÿ&quot;review_date: &quot;2025-06-04&quot;special_rule: &quot;ä»…å‘¨ä¸€è‡³å‘¨äº”ç”Ÿæ•ˆ&quot;--- å­—æ®µ ä½œç”¨ ç¤ºä¾‹ description æè¿°è§„åˆ™ç”¨é€”ï¼ŒæŒ‡å¯¼ AI å¦‚ä½•åº”ç”¨è§„åˆ™ &quot;å‰ç«¯ç»„ä»¶ç¼–ç è§„èŒƒ&quot; globs æŒ‡å®šè§„åˆ™ç”Ÿæ•ˆçš„æ–‡ä»¶èŒƒå›´ï¼ˆæ”¯æŒ glob è¯­æ³•ï¼‰ &quot;src/**/*.&#123;js,ts,jsx&#125;&quot; priority è§„åˆ™ä¼˜å…ˆçº§ï¼ˆæ•°å€¼è¶Šå¤§è¶Šä¼˜å…ˆï¼‰ï¼Œè§£å†³è§„åˆ™å†²çª 1000 version è§„åˆ™ç‰ˆæœ¬å·ï¼ˆå¯é€‰ï¼‰ &quot;1.0.0&quot; 3ï¼‰è§„åˆ™å†…å®¹ï¼ˆMarkdown æ­£æ–‡ï¼‰ç”¨ Markdown çš„æ ‡é¢˜ã€åˆ—è¡¨ã€ä»£ç å—ç­‰è¯­æ³•å†™å…·ä½“è§„åˆ™ï¼Œå¸¸è§ç»“æ„ï¼š ä»£ç é£æ ¼è§„åˆ™ï¼ˆæœ€å¸¸ç”¨ï¼‰ 123456789# ä¸€ã€ä»£ç é£æ ¼1. å‡½æ•°å¿…é¡»åŒ…å« JSDoc æ³¨é‡Š - è‡³å°‘åŒ…å« `@param` å’Œ `@return` æè¿° 2. å˜é‡å‘½åå¿…é¡»ä½¿ç”¨é©¼å³°å‘½åæ³•ï¼ˆcamelCaseï¼‰ 3. æ¯è¡Œä»£ç é•¿åº¦ä¸è¶…è¿‡ 120 ä¸ªå­—ç¬¦ # äºŒã€æŠ€æœ¯é€‰å‹- ç¦æ­¢ç›´æ¥ä½¿ç”¨åŸç”Ÿ fetchï¼Œå¿…é¡»é€šè¿‡é¡¹ç›®å°è£…çš„ request å·¥å…· - ä¼˜å…ˆä½¿ç”¨ React Hooks è€Œé Class ç»„ä»¶ å®‰å…¨çº¦æŸè§„åˆ™ 1234# å®‰å…¨è§„èŒƒ1. ç¦æ­¢ä½¿ç”¨ eval() å‡½æ•° 2. SQL æŸ¥è¯¢å¿…é¡»ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼Œé˜²æ­¢æ³¨å…¥æ”»å‡» 3. æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚ API å¯†é’¥ï¼‰å¿…é¡»ä»ç¯å¢ƒå˜é‡è¯»å– ç‰¹æ®Šè¯­æ³•ï¼šå¼•ç”¨é¡¹ç›®æ–‡ä»¶ ç”¨ @file å¼•ç”¨é¡¹ç›®å†…çš„é…ç½®æ–‡ä»¶ï¼Œè®© AI å‚è€ƒï¼š 123# å·¥å…·é“¾é…ç½®1. ESLint è§„åˆ™å¿…é¡»ç¬¦åˆ @file .eslintrc.js 2. æµ‹è¯•ç”¨ä¾‹å¿…é¡»éµå¾ª Jest æ¡†æ¶è§„èŒƒ 4ï¼‰å®Œæ•´ç¤ºä¾‹ï¼ˆTypeScript é¡¹ç›®è§„åˆ™ï¼‰12345678910111213141516171819---description: &quot;TypeScript é¡¹ç›®ç¼–ç è§„èŒƒ&quot;globs: &quot;src/**/*.ts&quot;priority: 1000---# ä¸€ã€åŸºç¡€è§„èŒƒ1. æ‰€æœ‰æ–‡ä»¶å¿…é¡»ä½¿ç”¨ UTF-8 ç¼–ç  2. ç»Ÿä¸€ä½¿ç”¨ 2 ç©ºæ ¼ç¼©è¿› # äºŒã€ç±»å‹çº¦æŸ1. ç¦æ­¢ä½¿ç”¨éšå¼ any ç±»å‹ - ç¤ºä¾‹ï¼š`const num: number = 123`ï¼ˆæ˜¾å¼ï¼‰ - ç¦æ­¢ï¼š`const num = 123`ï¼ˆéšå¼ï¼‰ 2. æ¥å£å‘½åå¿…é¡»ä»¥ `I` å¼€å¤´ï¼ˆå¦‚ `interface IUser`ï¼‰ # ä¸‰ã€é¡¹ç›®çº¦æŸ- æ‰€æœ‰ HTTP è¯·æ±‚å¿…é¡»é€šè¿‡ @file src/utils/request.ts å°è£…çš„å·¥å…· - çŠ¶æ€ç®¡ç†å¿…é¡»ä½¿ç”¨ Redux Toolkitï¼Œç¦æ­¢ç›´æ¥ä¿®æ”¹ state 3.4ã€@ ç¬¦å·åœ¨ Cursor ä¸­ä½¿ç”¨ @ ç¬¦å·åœ¨èŠå¤©ä¸­å¼•ç”¨ä»£ç ã€æ–‡ä»¶ã€æ–‡æ¡£å’Œå…¶ä»–ä¸Šä¸‹æ–‡çš„æŒ‡å—ï¼Œç›´æ¥æ›´å…·ä½“çš„æŒ‡å®šä¸Šä¸‹æ–‡ç¯å¢ƒï¼ ä»¥ä¸‹æ˜¯æ‰€æœ‰å¯ç”¨ @ ç¬¦å·çš„åˆ—è¡¨ï¼š @Files &amp; Folders - å¼•ç”¨é¡¹ç›®ä¸­çš„ç‰¹å®šæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ âœ… @Docs- è®¿é—®æ–‡æ¡£å’ŒæŒ‡å—âœ… @Git- è®¿é—® git å†å²è®°å½•å’Œæ›´æ”¹ 1ï¼‰@Files &amp; Folders æ–‡ä»¶å’Œæ–‡ä»¶å¤¹é€‰æ‹© @Files &amp; Foldersï¼Œç„¶åé€‰æ‹©è¦æœç´¢çš„æ–‡ä»¶åå³å¯å¼•ç”¨æ•´ä¸ªæ–‡ä»¶ã€‚ä½ ä¹Ÿå¯ä»¥å°†ä¾§è¾¹æ ä¸­çš„æ–‡ä»¶ç›´æ¥æ‹–æ‹½åˆ° Agent ä¸­ä½œä¸ºä¸Šä¸‹æ–‡ã€‚ é€‰æ‹©æ–‡ä»¶å¤¹åï¼Œè¾“å…¥ â€œ&#x2F;â€ ä»¥ç»§ç»­ä¸‹é’»å¹¶æŸ¥çœ‹æ‰€æœ‰å­æ–‡ä»¶å¤¹ã€‚ 2ï¼‰@Docs@Docs åŠŸèƒ½å¯è®©ä½ ç”¨æ–‡æ¡£æ¥è¾…åŠ©å†™ä»£ç  æ·»åŠ æ–‡æ¡£ æé—®","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://example.com/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"Cursor","slug":"Cursor","permalink":"http://example.com/tags/Cursor/"},{"name":"AI","slug":"AI","permalink":"http://example.com/tags/AI/"}]},{"title":"UniAppå¤šç«¯å¼€å‘","slug":"44-UniAppå¤šç«¯å¼€å‘","date":"2025-12-02T00:29:04.000Z","updated":"2026-03-01T16:07:38.352Z","comments":true,"path":"posts/57fa3c28.html","permalink":"http://example.com/posts/57fa3c28.html","excerpt":"","text":"ä¸€ã€uniAppç”Ÿå‘½å‘¨æœŸ 1-1ã€åº”ç”¨ç”Ÿå‘½å‘¨æœŸ å‡½æ•°å è¯´æ˜ å¹³å°å…¼å®¹ onLaunch å½“uni-app åˆå§‹åŒ–å®Œæˆæ—¶è§¦å‘ï¼ˆå…¨å±€åªè§¦å‘ä¸€æ¬¡ï¼‰ï¼Œå‚æ•°ä¸ºåº”ç”¨å¯åŠ¨å‚æ•°ï¼ŒåŒ uni.getLaunchOptionsSync çš„è¿”å›å€¼ onShow å½“ uni-app å¯åŠ¨ï¼Œæˆ–ä»åå°è¿›å…¥å‰å°æ˜¾ç¤ºï¼Œå‚æ•°ä¸ºåº”ç”¨å¯åŠ¨å‚æ•°ï¼ŒåŒ uni.getLaunchOptionsSync çš„è¿”å›å€¼ onHide å½“ uni-app ä»å‰å°è¿›å…¥åå° onError å½“ uni-app æŠ¥é”™æ—¶è§¦å‘ app-uvue ä¸æ”¯æŒ onUniNViewMessage å¯¹ nvue é¡µé¢å‘é€çš„æ•°æ®è¿›è¡Œç›‘å¬ï¼Œå¯å‚è€ƒ nvue å‘ vue é€šè®¯ app-uvue ä¸æ”¯æŒ onUnhandledRejection å¯¹æœªå¤„ç†çš„ Promise æ‹’ç»äº‹ä»¶ç›‘å¬å‡½æ•°ï¼ˆ2.8.1+ app-uvue æš‚ä¸æ”¯æŒï¼‰ app-uvue ä¸æ”¯æŒ onPageNotFound é¡µé¢ä¸å­˜åœ¨ç›‘å¬å‡½æ•° app-uvue ä¸æ”¯æŒ onThemeChange ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ– app-uvue ä¸æ”¯æŒ onLastPageBackPress æœ€åä¸€ä¸ªé¡µé¢æŒ‰ä¸‹Android backé”®ï¼Œå¸¸ç”¨äºè‡ªå®šä¹‰é€€å‡º app-uvue-android 3.9+ onExit ç›‘å¬åº”ç”¨é€€å‡º app-uvue-android 3.9+ åº”ç”¨ç”Ÿå‘½å‘¨æœŸä»…å¯åœ¨App.vueä¸­ç›‘å¬ï¼Œåœ¨å…¶å®ƒé¡µé¢ç›‘å¬æ— æ•ˆã€‚ 1-2ã€é¢ç”Ÿå‘½å‘¨æœŸ å‡½æ•°å è¯´æ˜ å¹³å°å·®å¼‚è¯´æ˜ onInit ç›‘å¬é¡µé¢åˆå§‹åŒ–ï¼Œå…¶å‚æ•°åŒ onLoad å‚æ•°ï¼Œä¸ºä¸Šä¸ªé¡µé¢ä¼ é€’çš„æ•°æ®ï¼Œå‚æ•°ç±»å‹ä¸º Objectï¼ˆç”¨äºé¡µé¢ä¼ å‚ï¼‰ï¼Œè§¦å‘æ—¶æœºæ—©äº onLoad ç™¾åº¦å°ç¨‹åº onLoad ç›‘å¬é¡µé¢åŠ è½½ï¼Œè¯¥é’©å­è¢«è°ƒç”¨æ—¶ï¼Œå“åº”å¼æ•°æ®ã€è®¡ç®—å±æ€§ã€æ–¹æ³•ã€ä¾¦å¬å™¨ã€propsã€slots å·²è®¾ç½®å®Œæˆï¼Œå…¶å‚æ•°ä¸ºä¸Šä¸ªé¡µé¢ä¼ é€’çš„æ•°æ®ï¼Œå‚æ•°ç±»å‹ä¸º Objectï¼ˆç”¨äºé¡µé¢ä¼ å‚ï¼‰ onShow ç›‘å¬é¡µé¢æ˜¾ç¤ºï¼Œé¡µé¢æ¯æ¬¡å‡ºç°åœ¨å±å¹•ä¸Šéƒ½è§¦å‘ï¼ŒåŒ…æ‹¬ä»ä¸‹çº§é¡µé¢ç‚¹è¿”å›éœ²å‡ºå½“å‰é¡µé¢ onReady ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆï¼Œæ­¤æ—¶ç»„ä»¶å·²æŒ‚è½½å®Œæˆï¼ŒDOM æ ‘($el)å·²å¯ç”¨ï¼Œæ³¨æ„å¦‚æœæ¸²æŸ“é€Ÿåº¦å¿«ï¼Œä¼šåœ¨é¡µé¢è¿›å…¥åŠ¨ç”»å®Œæˆå‰è§¦å‘ onHide ç›‘å¬é¡µé¢éšè— onUnload ç›‘å¬é¡µé¢å¸è½½ onResize ç›‘å¬çª—å£å°ºå¯¸å˜åŒ– Appã€å¾®ä¿¡å°ç¨‹åºã€å¿«æ‰‹å°ç¨‹åº onPullDownRefresh ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œï¼Œä¸€èˆ¬ç”¨äºä¸‹æ‹‰åˆ·æ–° onReachBottom é¡µé¢æ»šåŠ¨åˆ°åº•éƒ¨çš„äº‹ä»¶ï¼ˆä¸æ˜¯scroll-viewæ»šåˆ°åº•ï¼‰ï¼Œå¸¸ç”¨äºä¸‹æ‹‰ä¸‹ä¸€é¡µæ•°æ®ã€‚å…·ä½“è§ä¸‹æ–¹æ³¨æ„äº‹é¡¹ onTabItemTap ç‚¹å‡» tab æ—¶è§¦å‘ï¼Œå‚æ•°ä¸ºObjectï¼Œå…·ä½“è§ä¸‹æ–¹æ³¨æ„äº‹é¡¹ å¾®ä¿¡å°ç¨‹åºã€QQå°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åºã€ç™¾åº¦å°ç¨‹åºã€H5ã€Appã€å¿«æ‰‹å°ç¨‹åºã€äº¬ä¸œå°ç¨‹åº onShareAppMessage ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’åˆ†äº« å¾®ä¿¡å°ç¨‹åºã€QQå°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åºã€æŠ–éŸ³å°ç¨‹åºã€é£ä¹¦å°ç¨‹åºã€å¿«æ‰‹å°ç¨‹åºã€äº¬ä¸œå°ç¨‹åº onPageScroll ç›‘å¬é¡µé¢æ»šåŠ¨ï¼Œå‚æ•°ä¸ºObject nvueä¸æ”¯æŒ onNavigationBarButtonTap ç›‘å¬åŸç”Ÿæ ‡é¢˜æ æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼Œå‚æ•°ä¸ºObject Appã€H5 onBackPress ç›‘å¬é¡µé¢è¿”å›ï¼Œè¿”å› event &#x3D; {from:backbuttonã€ navigateBack} ï¼Œbackbutton è¡¨ç¤ºæ¥æºæ˜¯å·¦ä¸Šè§’è¿”å›æŒ‰é’®æˆ– android è¿”å›é”®ï¼›navigateBackè¡¨ç¤ºæ¥æºæ˜¯ uni.navigateBackï¼›è¯¦è§ appã€H5ã€æ”¯ä»˜å®å°ç¨‹åº onNavigationBarSearchInputChanged ç›‘å¬åŸç”Ÿæ ‡é¢˜æ æœç´¢è¾“å…¥æ¡†è¾“å…¥å†…å®¹å˜åŒ–äº‹ä»¶ Appã€H5 onNavigationBarSearchInputConfirmed ç›‘å¬åŸç”Ÿæ ‡é¢˜æ æœç´¢è¾“å…¥æ¡†æœç´¢äº‹ä»¶ï¼Œç”¨æˆ·ç‚¹å‡»è½¯é”®ç›˜ä¸Šçš„â€œæœç´¢â€æŒ‰é’®æ—¶è§¦å‘ã€‚ Appã€H5 onNavigationBarSearchInputClicked ç›‘å¬åŸç”Ÿæ ‡é¢˜æ æœç´¢è¾“å…¥æ¡†ç‚¹å‡»äº‹ä»¶ï¼ˆpages.json ä¸­çš„ searchInput é…ç½® disabled ä¸º true æ—¶æ‰ä¼šè§¦å‘ï¼‰ Appã€H5 onShareTimeline ç›‘å¬ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’è½¬å‘åˆ°æœ‹å‹åœˆ å¾®ä¿¡å°ç¨‹åº onAddToFavorites ç›‘å¬ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’æ”¶è— å¾®ä¿¡å°ç¨‹åºã€QQå°ç¨‹åº 1ï¼‰Vue2 é¡µé¢åŠç»„ä»¶ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾ Vue3 é¡µé¢åŠç»„ä»¶ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾ 1-3ã€ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ å‡½æ•°å è¯´æ˜ å¹³å°å·®å¼‚è¯´æ˜ beforeCreate åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹å‰è¢«è°ƒç”¨ã€‚ created åœ¨å®ä¾‹åˆ›å»ºå®Œæˆåè¢«ç«‹å³è°ƒç”¨ã€‚ beforeMount åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ã€‚ mounted æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨ã€‚æ³¨æ„ï¼šæ­¤å¤„å¹¶ä¸èƒ½ç¡®å®šå­ç»„ä»¶è¢«å…¨éƒ¨æŒ‚è½½ï¼Œå¦‚æœéœ€è¦å­ç»„ä»¶å®Œå…¨æŒ‚è½½ä¹‹ååœ¨æ‰§è¡Œæ“ä½œå¯ä»¥ä½¿ç”¨$nextTick beforeUpdate æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰ã€‚ ä»…H5å¹³å°æ”¯æŒ updated ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ï¼Œåœ¨è¿™ä¹‹åä¼šè°ƒç”¨è¯¥é’©å­ã€‚ ä»…H5å¹³å°æ”¯æŒ beforeDestroy å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ã€‚ destroyed Vue å®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è°ƒç”¨åï¼ŒVue å®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚ äºŒã€å¤šç«¯è°ƒè¯•ç¯å¢ƒé…ç½® 2-1ã€å®‰å“çœŸæœºè°ƒè¯•é…ç½®ä»¥å°ç±³æ‰‹æœºä¸ºä¾‹ï¼š 2-2ã€IOSçœŸæœºè°ƒè¯•é…ç½®2022å¹´9æœˆï¼Œå› æ”¶åˆ°è‹¹æœå…¬å¸è­¦å‘Šï¼Œç›®å‰å¼€å‘è€…å·²æ— æ³•åœ¨iOSçœŸæœºè®¾å¤‡ä½¿ç”¨æœªç­¾åçš„æ ‡å‡†åŸºåº§ï¼Œæ‰€ä»¥ç°åœ¨è¦è¿è¡Œåˆ° IOS ï¼Œä¹Ÿéœ€è¦è¿›è¡Œç­¾åã€‚Windowsç³»ç»Ÿï¼Œå¼€å‘è€…å°±å¯ä»¥ä½¿ç”¨ä¸‰æ–¹å·¥å…·ï¼ˆå¦‚çˆ±æ€åŠ©æ‰‹ï¼‰å¯¹æ ‡å‡†åŸºåº§ç­¾åã€‚ æ³¨æ„ï¼šä½¿ç”¨Apple IDç­¾åçš„IPAæ–‡ä»¶æœ‰æ•ˆæœŸä¸º7å¤©ï¼Œ7å¤©åéœ€è¦é‡ç­¾ã€‚å¦‚æœéœ€è¦â€œè‡ªåŠ¨ç»­ç­¾â€åŠŸèƒ½ï¼ŒIOSæ‰‹æœºéœ€è¦è¶Šç‹± 1ï¼‰å‰æœŸå‡†å¤‡ HBuilder 3.6.9+(ä¸€èˆ¬æˆ‘ä¼šæŠŠè½¯ä»¶æ›´æ–°åˆ°æœ€æ–°ç‰ˆï¼Œç‰ˆæœ¬è·Ÿä¸ä¸Šå®¹æ˜“å‡ºç°é—®é¢˜) iosè®¾å¤‡ åŸè£…æ•°æ®çº¿ çˆ±æ€åŠ©æ‰‹è½¯ä»¶ï¼ˆè¿˜æœ‰iTuneså·¥å…·ï¼Œä¸‹è½½çˆ±æ€åŠ©æ‰‹åä¼šè‡ªåŠ¨å®‰è£…è¯¥å·¥å…·ï¼‰ å®‰è£…åŸºåº§ï¼šåœ¨HBuildexå®‰è£…ç›®å½•ä¸‹é¢çš„plugins\\launcher\\base ç›®å½•ä¸‹æ‰¾åˆ°å®‰è£…çš„iosåŸºåº§ï¼šiPhone_base.ipa ï¼ˆå¦‚æœæ²¡æœ‰éœ€è¦å®‰è£…ï¼‰ï¼Œåé¢æ·»åŠ IPAæ–‡ä»¶çš„æ—¶å€™ç”¨åˆ°ã€‚ 2ï¼‰æ“ä½œæ­¥éª¤ ä¸‹è½½çˆ±æ€åŠ©æ‰‹ï¼Œæ‰“å¼€çˆ±æ€åŠ©æ‰‹å¹¶ç”¨æ•°æ®çº¿è¿æ¥iosè®¾å¤‡ã€‚ è¿›è¡Œç­¾åï¼š ä½¿ç”¨Apple ID ç­¾åï¼Œä¾æ¬¡ç‚¹å‡»ä½¿ç”¨Apple IDç­¾åâ€”&gt;æ·»åŠ Apple IDâ€”&gt; è¾“å…¥Apple IDå’Œå¯†ç ï¼ˆè´¦å·æœ€å¥½æ˜¯é‚®ç®±ï¼Œ å¦‚æœ Apple ID è´¦å·æ˜¯æ‰‹æœºå·ç ï¼Œåœ¨ç­¾åè¾“å…¥ ID è´¦å·æ—¶ï¼Œæ‰‹æœºå·å‰é¢éœ€è¦åŠ  86ã€‚ä¾‹å¦‚ï¼š8615012345678ã€‚ ï¼‰â€”&gt;ç¡®å®šã€‚ å¦‚æœç­¾åæˆåŠŸï¼Œæ‰“å¼€å·²ç­¾åIPAçš„ä½ç½®ï¼Œæ‰¾åˆ°ç­¾ååçš„ipaæ–‡ä»¶ï¼Œå¹¶å‘½åä¸ºiPhone_base_signed.ipaï¼Œç„¶åå°†å…¶æ‹·è´åˆ°HBuilderXå®‰è£…ç›®å½•\\plugins\\launcher\\base æ‰“å¼€HBuilderXï¼Œé€‰æ‹©è¦è¿è¡Œçš„é¡¹ç›®ï¼Œç‚¹å‡»å·¥å…·æ è¿è¡Œå›¾æ ‡ï¼Œé€‰æ‹©ã€è¿è¡Œåˆ°iOS AppåŸºåº§ã€‘ å¦‚æœæ²¡è¿è¡Œå‡ºæ¥ï¼Œå¯èƒ½æ˜¯ç”±äº iphone æ²¡æœ‰å¼€å¯ â€œå¼€å‘è€…æ¨¡å¼â€ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨å°†å¼€å‘è€…æ¨¡å¼æ‰“å¼€ã€‚ æ‰“å¼€å¼€å‘è€…æ¨¡å¼ è®¾ç½®â€”&gt;éšç§ä¸å®‰å…¨â€”&gt;å¼€å‘è€…æ¨¡å¼ ï¼Œæ‰“å¼€åä¼šæç¤ºé‡å¯æ‰‹æœºã€‚ å¦‚æœä½ çš„iosç³»ç»Ÿã€‚æ˜¯ 16 ä»¥ä¸Šï¼Œå¯èƒ½åœ¨ è®¾ç½®â€”éšç§ä¸å®‰å…¨ é‡Œé¢æ²¡æœ‰ â€œå¼€å‘è€…æ¨¡å¼è¿™ä¸€é¡¹â€ ï¼Œéœ€è¦åˆ©ç”¨ çˆ±æ€åŠ©æ‰‹ æ¥å°†é€‰é¡¹æ‰“å¼€ æ‰“å¼€çˆ±æ€åŠ©æ‰‹ å·¥å…·ç®±â€”&gt;è™šæ‹Ÿå®šä½ï¼Œ éšä¾¿è¾“å…¥ä¸€ä¸ªç»çº¬åº¦ï¼Œç‚¹å‡»ä¿®æ”¹ ç¡®å®šå¼€å‘è€…æ¨¡å¼å·²å¼€å¯ ï¼šåœ¨æ‰‹æœºä¸Šï¼Œè®¾ç½®â€”éšç§ä¸å®‰å…¨æ€§ é‡Œé¢ï¼Œå°±èƒ½çœ‹åˆ°æœ‰â€å¼€å‘è€…é€‰é¡¹â€œäº†ï¼Œå¼€å¯ï¼Œç„¶åæç¤ºé‡å¯æ‰‹æœºã€‚å®Œæˆå³å¯ã€‚ è¿è¡ŒiosåŸºåº§é‡åˆ°çš„é—®é¢˜ ä¸‹å›¾è¿è¡Œåˆ°iosåŸºåº§æˆåŠŸ 1.iosä¸Šé¢å®‰è£…äº†HBuilderè°ƒè¯•åŸºåº§ï¼Œä½†æ˜¯ç§»åŠ¨ç«¯æœªå‡ºç°è¿è¡Œappçš„ç•Œé¢ï¼Œç‚¹å‡»å®‰è£…çš„HBuilderè°ƒè¯•åŸºåº§ï¼Œå¼¹å‡º éœ€è¦äº’è”ç½‘è¿æ¥ä»¥éªŒè¯æ˜¯å¦ä¿¡ä»»å¼€å‘è€…iphoneâ€¦..ï¼Œæ­¤æ—¶ç¡®ä¿ç½‘ç»œæ˜¯å¦é“¾æ¥æ˜¯å¦é€šç•…ï¼Œå¦‚æœè®¾å¤‡å·²ç»è¿æ¥åˆ°äº’è”ç½‘ï¼Œä»ç„¶æ²¡è§£å†³ï¼Œæˆ‘é€‰æ‹©äº†é‡å¯è®¾å¤‡ï¼Œè§£å†³äº†ä¸Šè¿°é—®é¢˜ï¼› 2.é‡å¯è®¾å¤‡ä¹‹åï¼Œå†æ¬¡ç‚¹å‡»HBuilderè°ƒè¯•åŸºåº§ï¼Œæç¤ºä¸æ”¶ä¿¡ä»»çš„å¼€å‘è€…ï¼Œæ­¤æ—¶åœ¨è®¾å¤‡ä¸Šæ‰¾åˆ°è®¾ç½®&gt;é€šç”¨&gt;vpnä¸è®¾å¤‡ç®¡ç†è¿™ä¸ªé€‰é¡¹ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„å¼€å‘è€…APPå½“å‰æ˜¯ä¸å—ä¿¡ä»»çš„ æˆ‘ä»¬åªéœ€ç‚¹å¼€ï¼Œä¿¡ä»»å½“å‰å¼€å‘APPå°±å¯ä»¥äº† å†é‡æ–°æ‰“å¼€è¿™ä¸ªAPPï¼Œå°±å¯ä»¥å‘ç°å·²ç»å¯ä»¥è¿›è¡ŒiOSçœŸæœºé¢„è§ˆäº†ã€‚ 2-3ã€å¾®ä¿¡å°ç¨‹åºè°ƒè¯•é…ç½® 2-4ã€æ”¯ä»˜å®å°ç¨‹åºè°ƒè¯•é…ç½® ä¸‰ã€å¤šç«¯è°ƒè¯•ç¯å¢ƒé…ç½®","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"Uniapp","slug":"Uniapp","permalink":"http://example.com/tags/Uniapp/"},{"name":"å¤šç«¯å¼€å‘","slug":"å¤šç«¯å¼€å‘","permalink":"http://example.com/tags/%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91/"}]},{"title":"VMware17 Proå®‰è£…CentOS 8","slug":"43-VMware17 Proå®‰è£…CentOS 8","date":"2025-11-25T22:29:48.000Z","updated":"2026-03-01T16:07:38.352Z","comments":true,"path":"posts/f6649ba0.html","permalink":"http://example.com/posts/f6649ba0.html","excerpt":"","text":"è½¯ä»¶ç‰ˆæœ¬ VMware 17 Pro 17.5.2 build-23775571 CentOS-8.1.1911-x86_64-dvd1.iso ä¸€ã€ åˆ›å»ºè™šæ‹Ÿæœº äºŒã€ é…ç½®è™šæ‹Ÿæœº è™šæ‹ŸåŒ–å¤„äºç¦ç”¨çŠ¶æ€AMDå¤„ç†å™¨æç¤ºAMD-Vå¤„äºç¦ç”¨çŠ¶æ€ã€‚ Intelå¤„ç†å™¨æç¤ºntel VT-xå¤„äºç¦ç”¨çŠ¶æ€ã€‚ å› ä¸ºæˆ‘æ˜¯AMDçš„å¤„ç†å™¨ä»¥åŠROGçš„ä¸»æ¿ï¼Œå› ä¸ºè¿™é‡Œä¸»è¦æ“ä½œæ€ä¹ˆåœ¨ROGä¸»æ¿çš„BIOSä¸Šå¼€å¯è™šæ‹ŸåŒ–æŠ€æœ¯ å¼€å¯æ­¥éª¤ ç”µè„‘å¼€å¯çš„æ—¶å€™ä¸€ç›´æŒ‰F2æˆ–Delè¿›å…¥BIOSç•Œé¢ æ‰¾åˆ°Advancedè¿›å…¥CPU Configgurationä¸­æ‰¾åˆ°SVM Modeå°†å…¶çŠ¶æ€æ”¹æˆEnabled ä¸‰ã€ ç³»ç»Ÿå®‰è£…å¼•å¯¼ç•Œé¢ å››ã€ å®šåˆ¶åŒ–å†…å®¹ 4.1ã€è°ƒæ•´æ—¶é—´å·® 4.2ã€é…ç½®ç£ç›˜åˆ†åŒº 1ï¼‰é»˜è®¤ç£ç›˜åˆ†åŒºé…ç½® 2ï¼‰è‡ªå®šä¹‰ç£ç›˜åˆ†åŒº aã€æ‰‹åŠ¨æ·»åŠ åˆ†åŒº bã€æ·»åŠ  boot åŒº ç»™ä¸Š 1G å®¹é‡åç‚¹å‡»æ·»åŠ æŒ‚è½½ç‚¹ æŒ‚è½½ç‚¹/bootæ˜¯ç³»ç»Ÿå¯åŠ¨çš„å¼•å¯¼åˆ†åŒº æ–‡ä»¶ç³»ç»Ÿé»˜è®¤é€‰æ‹©ext4ï¼Œå³ç¬¬å››ä»£æ–‡ä»¶æ‰©å±•ç³»ç»Ÿï¼Œå…¶å®¹é‡å¯ä»¥è¾¾åˆ°EBï¼ˆGBâ†’TBâ†’EBï¼‰å•ä¸ªæ–‡ä»¶å®¹é‡å¯ä»¥è¾¾åˆ°16TBã€‚ æˆ‘ä»¬é€‰æ‹©xfsæ–‡ä»¶ç³»ç»Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½æ—¥å¿—æ–‡ä»¶ç³»ç»Ÿï¼Œç‰¹åˆ«æ“…é•¿å¤„ç†å¤§æ–‡ä»¶ï¼Œ64ä½ç³»ç»Ÿä¸­æœ€å¤§èƒ½å¤Ÿæ”¯æŒ8EBçš„æ–‡ä»¶ç³»ç»Ÿï¼Œç›®å‰æ€§èƒ½æœ€å¼ºã€‚ cã€æ·»åŠ  swap äº¤æ¢åˆ†åŒº swapäº¤æ¢åˆ†åŒºï¼š â€‹ åœ¨ç¡¬ç›˜ä¸­å•ç‹¬åˆ›å»ºä¸€å—åˆ†åŒºæ¥ï¼Œå•ç‹¬å»ä½œä¸ºæ‰©å±•å†…å­˜ã€‚å°±æ˜¯æˆ‘ä»¬åœ¨é…ç½®è™šæ‹Ÿæœºçš„æ—¶å€™è®¾ç½®çš„é‚£ä¸ªå†…å­˜ä¸è¶³æ—¶ï¼Œåˆ™å¯ä»¥å°†swapäº¤æ¢åˆ†åŒºä½œä¸ºè£¸æˆ˜å†…å­˜æ¥ä½¿ç”¨ï¼ˆæˆ‘ä»¬å½“æ—¶æ˜¯åˆ†äº†8Gå†…å­˜ï¼‰ã€‚ æ‰§è¡Œçš„ä¸€ä¸ªè¿‡ç¨‹ï¼š dã€é…ç½®æ ¹ç›®å½•/ eã€åˆ†åŒºé…ç½®å®Œæ¯•ï¼Œç‚¹å‡»å®Œæˆï¼Œç„¶åç‚¹å‡»å¼¹çª—çš„æ¥å—æ›´æ”¹ 4.3ã€é…ç½®kdumpå…³é—­ kdump æœ¬èº«è™šæ‹Ÿæœºå†…å­˜å°±ä¸å¤Ÿï¼Œä»–ä¼šåƒæ‰ä¸€éƒ¨åˆ†å†…å­˜ï¼Œæˆ‘ä»¬å°½é‡çœä¸€ç‚¹ 4.4ã€é…ç½®ç½‘ç»œå’Œä¸»æœºå 4.5ã€å¼€å§‹å®‰è£…1ï¼‰è®¾ç½®Rootç”¨æˆ·å¯†ç é»˜è®¤æœ‰ä¸ªrootç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯è¶…çº§ç®¡ç†å‘˜ 2ï¼‰åˆ›å»ºç”¨æˆ·æ–°åˆ›å»ºäº†ä¸€ä¸ªzhbç”¨æˆ· ç­‰å¾…å®‰è£… 4.6ã€è™šæ‹Ÿæœºçš„ä½¿ç”¨å¼•å¯¼ç•Œé¢é‡å¯è¿›å…¥å¼•å¯¼ç•Œé¢ å®‰è£…å®Œæˆ äº”ã€ åˆ‡æ¢ root ç”¨æˆ·å½“å‰ç™»å½•çš„ç”¨æˆ·æ˜¯åˆšåˆšåˆ›å»ºçš„ç”¨æˆ·ï¼Œæƒé™ä¼šç¼ºå°‘ï¼Œæ‰€ä»¥ä½¿ç”¨ rootï¼Œä¿®æ”¹ä¸€äº›å†…å®¹æ›´åŠ æ–¹ä¾¿ å…­ã€ ç½‘ç»œé…ç½®linuxç³»ç»Ÿä¸‹ï¼ŒæŸ¥çœ‹ç½‘ç»œé…ç½®IPåœ°å€ 1ifconfig windowsç³»ç»Ÿä¸‹ï¼ŒæŸ¥çœ‹ç½‘ç»œé…ç½®IPåœ°å€ 1ipconfig æµ‹è¯•ä½ çš„è®¡ç®—æœºä¸ç›®æ ‡ä¸»æœºï¼ˆå¯ä»¥æ˜¯åŸŸåæˆ–IPåœ°å€ï¼‰ä¹‹é—´çš„è¿é€šæ€§ 1ping + ipåœ°å€ VMwareæä¾›äº†ä¸‰ç§ç½‘ç»œè¿æ¥æ¨¡å¼ï¼š æ¡¥æ¥æ¨¡å¼ï¼šè™šæ‹Ÿæœºç›´æ¥è¿æ¥å¤–éƒ¨ç‰©ç†ç½‘ç»œçš„æ¨¡å¼ï¼Œä¸»æœºèµ·åˆ°äº†ç½‘æ¡¥çš„ä½œç”¨ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œè™šæ‹Ÿæœºå¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç½‘ç»œï¼Œå¹¶ä¸”å¯¹å¤–éƒ¨ç½‘ç»œæ˜¯å¯è§çš„ NATæ¨¡å¼ï¼šè™šæ‹Ÿæœºå’Œä¸»æœºæ„å»ºä¸€ä¸ªä¸“ç”¨ç½‘ç»œï¼Œå¹¶é€šè¿‡è™šæ‹Ÿç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰è®¾å¤‡å¯¹IPè¿›è¡Œè½¬æ¢ã€‚è™šæ‹Ÿæœºé€šè¿‡å…±äº«ä¸»æœºIPå¯ä»¥è®¿é—®å¤–éƒ¨ç½‘ç»œï¼Œä½†å¤–éƒ¨ç½‘ç»œæ— æ³•è®¿é—®è™šæ‹Ÿæœºã€‚ ä»…ä¸»æœºæ¨¡å¼ï¼šè™šæ‹Ÿæœºåªä¸ä¸»æœºå…±äº«ä¸€ä¸ªä¸“ç”¨ç½‘ç»œï¼Œä¸å¤–éƒ¨ç½‘ç»œæ— æ³•é€šä¿¡ è·å–åˆ°è™šæ‹Ÿæœºçš„ip 6.1ã€è™šæ‹Ÿæœºä¿®æ”¹é™æ€ip1ï¼‰ä¸ºä»€ä¹ˆè¦ä¿®æ”¹é™æ€ipå› ä¸ºè™šæ‹Ÿé»˜è®¤æ˜¯åŠ¨æ€ipçš„ï¼Œæ¯æ¬¡é‡æ–°éƒ½ä¼šæ›´æ–°ipçš„ï¼Œå› æ­¤éœ€è¦ä¿®æ”¹æˆé™æ€ipæ–¹ä¾¿ç½‘ç»œç®¡ç†ï¼Œæ¯”å¦‚ä½ è¦é€šè¿‡SSHã€è¿œç¨‹æ¡Œé¢ç­‰æ–¹å¼è¿æ¥è™šæ‹Ÿæœºï¼Œå›ºå®šIPæ›´å®¹æ˜“è®°å¿†å’Œé…ç½®ã€‚ 2ï¼‰ä¿®æ”¹é™æ€ipLinuxçš„æ‰€æœ‰é…ç½®æ–‡ä»¶æ”¾åœ¨ &#x2F;etc ç›®å½•ä¸‹ ä¿®æ”¹ä¸ºBOOTPROTO&#x3D;â€staticâ€åœ¨åº•éƒ¨æ·»åŠ  123456#IPåœ°å€IPADDR=192.168.244.100#ç½‘å…³GATEWAY=192.168.244.2#åŸŸåè§£æå™¨DNS1=192.168.244.2 æœ€åéœ€è¦é‡å¯ç½‘ç»œï¼Œæ³¨æ„ï¼šconterOS7å’Œ8çš„å‘½ä»¤ä¸ä¸€æ ·æ³¨æ„åŒºåˆ†ï¼Œæˆ‘è¿™é‡Œæ˜¯ç›´æ¥é‡å¯è™šæ‹Ÿæœº è¿™é‡Œçš„ipåœ°å€è¦å’Œè™šæ‹Ÿç½‘ç»œçš„VMnet8çš„å­ç½‘IPçš„ç½‘æ®µä¿æŒä¸€è‡´ï¼ˆå°±æ˜¯å‰ä¸‰ä½ä¿æŒä¸€è‡´ï¼Œåä¸€ä½å¯è‡ªè¡Œå‘½åï¼‰ ç½‘å…³å’ŒåŸŸåè§£æå™¨åˆ™å’ŒVMnet8çš„NATè®¾ç½®ä¸­çš„ç½‘å…³IPä¿æŒä¸€è‡´ 6.2ã€ä¿®æ”¹ä¸»æœºå1hostname # æŸ¥çœ‹ä¸»æœºå 1vim /etc/hostname # ä¿®æ”¹hostnameçš„é…ç½®ï¼Œæ­¤æ–¹å¼éœ€è¦é‡å¯æ‰ä¼šç”Ÿæ•ˆ 1hostnamectl set-hostname hadop100 # æ­¤æ–¹å¼ä¸éœ€è¦é‡å¯ï¼Œå°±å¯ä»¥ç”Ÿæ•ˆ ä¿®æ”¹ä¸»æœºåä¸ºhadop100","categories":[{"name":"åç«¯ä¸è¿ç»´","slug":"åç«¯ä¸è¿ç»´","permalink":"http://example.com/categories/%E5%90%8E%E7%AB%AF%E4%B8%8E%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"CentOS 8","slug":"CentOS-8","permalink":"http://example.com/tags/CentOS-8/"},{"name":"è™šæ‹Ÿæœº","slug":"è™šæ‹Ÿæœº","permalink":"http://example.com/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/"},{"name":"VMware17","slug":"VMware17","permalink":"http://example.com/tags/VMware17/"}]},{"title":"Hexoæ­å»ºä¸ªäººåšå®¢","slug":"42-Hexoæ­å»ºä¸ªäººåšå®¢","date":"2025-11-25T21:57:23.000Z","updated":"2026-03-01T16:07:38.352Z","comments":true,"path":"posts/ec7d7221.html","permalink":"http://example.com/posts/ec7d7221.html","excerpt":"","text":"ä¸€ã€å‰ç½®æ¡ä»¶1.1ã€è¦æ±‚âœï¸å®‰è£… Hexo ç›¸å½“ç®€å•ï¼Œåªéœ€è¦å…ˆå®‰è£…ä¸‹åˆ—åº”ç”¨ç¨‹åºå³å¯ï¼š Node.js (Node.js ç‰ˆæœ¬éœ€ä¸ä½äº 10.13ï¼Œå»ºè®®ä½¿ç”¨ Node.js 12.0 åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œæœ¬æ¬¡ä½¿ç”¨çš„æ˜¯18.18.0ç‰ˆæœ¬) Git å¦‚æœæ‚¨çš„ç”µè„‘ä¸­å·²ç»å®‰è£…ä¸Šè¿°å¿…å¤‡ç¨‹åºï¼Œé‚£ä¹ˆæ­å–œæ‚¨ï¼ ä½ å¯ä»¥ç›´æ¥å‰å¾€ å®‰è£… Hexo æ­¥éª¤ã€‚ 1.2ã€å®‰è£… Hexoåœ¨ç”µè„‘ä¸Šå…¨å±€å®‰è£…Hexo 1$ npm install -g hexo-cli äºŒã€åˆ›å»ºåšå®¢å®‰è£… Hexo å®Œæˆåï¼Œè¯·æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ŒHexo å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºåšå®¢é¡¹ç›®æ–‡ä»¶ 1$ hexo init &lt;folder&gt; 12$ npm install$ hexo server 2.1ã€ç›®å½•ç»“æ„åˆå§‹åŒ–åï¼Œæ‚¨çš„é¡¹ç›®æ–‡ä»¶å¤¹å°†å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567.â”œâ”€â”€ _config.ymlâ”œâ”€â”€ package.jsonâ”œâ”€â”€ scaffoldsâ”œâ”€â”€ source| â””â”€â”€ _postsâ””â”€â”€ themes 2.1ã€_config.ymlç½‘ç«™çš„ é…ç½® æ–‡ä»¶ã€‚ æ‚¨å¯ä»¥åœ¨æ­¤é…ç½®å¤§éƒ¨åˆ†çš„å‚æ•°ã€‚ ä¸‰ã€ä¸»é¢˜Hexo Themesåˆ—è¡¨ æˆ‘ä»¬è¿™æ¬¡ä½¿ç”¨åæ˜¯Asnippetä¸»é¢˜ 3.1ã€ä¸‹è½½ä¸»é¢˜æœ‰ä¸¤ç§æ–¹å¼è·å–æœ¬ä¸»é¢˜â€“ä¸‹è½½ *.zip æ–‡ä»¶å’Œé€šè¿‡ gitæ–¹å¼ï¼š ä¸‹è½½ Snippet ä¸»é¢˜ æ–‡ä»¶è§£å‹åæ”¾åœ¨ themes ç›®å½•ä¸‹ï¼Œå’Œåšå®¢ä¸­çš„ landscape ä¸ºåŒçº§ç›®å½• Git æ–¹å¼ï¼Œåœ¨ Hexo æ ¹ç›®å½•æ‰§è¡Œï¼š 1$ git clone git://github.com/shenliyang/hexo-theme-snippet.git themes/hexo-theme-snippet 3.2ã€åˆ‡æ¢ä¸»é¢˜åœ¨æ ¹ç›®å½•çš„_config.ymlæ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ° theme: landscapeï¼Œå°†landscapeæ›¿æ¢æˆæ–°çš„ä¸»é¢˜å 1theme: hexo-theme-snippet 3.3ã€å®‰è£…ä¸»é¢˜æ’ä»¶1ï¸âƒ£å› ä¸º hexo-theme-snippet ä½¿ç”¨äº† ejs æ¨¡ç‰ˆå¼•æ“ ã€ Less CSS é¢„ç¼–è¯‘è¯­è¨€ä»¥åŠåœ¨å®˜æ–¹æ’ä»¶çš„åŸºç¡€ä¸Š è¿›è¡ŒåŠŸèƒ½çš„å¼€å‘ï¼Œä»¥ä¸‹ä¸ºå¿…è£…æ’ä»¶ï¼š 1$ pnpm i hexo-renderer-ejs hexo-renderer-less hexo-deployer-git -S 2ï¸âƒ£å¯ç”¨ç«™å†…æœ¬åœ°æœç´¢åŠŸèƒ½ å¦‚æœè¦ä½¿ç”¨æœ¬åœ°ç«™ç‚¹æœç´¢ï¼Œå¿…é¡»å®‰è£…æ’ä»¶ hexo-generator-json-content æ¥åˆ›å»ºæœ¬åœ°æœç´¢ json æ–‡ä»¶ 1$ pnpm i hexo-generator-json-content@2.2.0 -S ç„¶åä¿®æ”¹ä¸»é¢˜é…ç½®_config.yml æ–‡ä»¶ä¸‹jsonContentç›¸å…³å‚æ•°ã€‚ 3.4ã€éƒ¨ç½²ä¸»é¢˜1ï¼‰æœªä¿®æ”¹è¿‡ä¸»é¢˜æºæ–‡ä»¶1ï¸âƒ£ æ¸…ç©º hexo é™æ€æ–‡ä»¶å’Œç¼“å­˜ï¼Œå¹¶é‡æ–°ç”Ÿæˆ 1$ hexo clean &amp;&amp; hexo g //æ¸…ç©ºç¼“å­˜å¹¶ç”Ÿæˆé™æ€æ–‡ä»¶ 2ï¸âƒ£ æœ¬åœ°é¢„è§ˆï¼Œç¡®æ²¡æœ‰é—®é¢˜å†è¿›è¡Œå‘å¸ƒ 1$ hexo s -p 4000 æˆ–è€… hexo s //å¯åŠ¨æœ¬åœ°æœåŠ¡é»˜è®¤ 3ï¸âƒ£ å½“ gulp æ‰§è¡Œå®Œæˆï¼Œå¹¶æç¤º please executeï¼š hexo d æ—¶ï¼Œå¯ä»¥è¿›è¡Œå‘å¸ƒ 1$ hexo d æˆ–è€… gulp deploy //éƒ¨ç½²å‘å¸ƒ 2ï¼‰ä¿®æ”¹è¿‡ä¸»é¢˜æºæ–‡ä»¶1ï¸âƒ£ æ‹·è´ä¸»é¢˜ç›®å½•ä¸‹package.jsonæ–‡ä»¶åˆ° Hexo æ ¹ç›®å½•ä¸‹ï¼Œç„¶åå®‰è£…é¡¹ç›®çš„å¼€å‘ä¾èµ–ã€‚ å¦‚ä¸‹æ˜¯æ‹·è´è¿‡æ¥çš„ï¼Œå¹¶åˆ é™¤äº†å¤šä½™çš„ä»£ç ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&#123; &quot;name&quot;: &quot;blog&quot;, &quot;version&quot;: &quot;0.0.0&quot;, &quot;private&quot;: true, &quot;type&quot;: &quot;module&quot;, &quot;scripts&quot;: &#123; &quot;deploy&quot;: &quot;hexo deploy&quot;, &quot;dev&quot;: &quot;hexo s&quot;, &quot;gulp&quot;: &quot;gulp --gulpfile gulpfile.js&quot;, &#125;, &quot;hexo&quot;: &#123; &quot;version&quot;: &quot;7.3.0&quot; &#125;, &quot;dependencies&quot;: &#123; &quot;ejs&quot;: &quot;^3.1.10&quot;, &quot;hexo&quot;: &quot;^7.3.0&quot;, &quot;hexo-abbrlink&quot;: &quot;^2.2.1&quot;, &quot;hexo-deployer-git&quot;: &quot;^4.0.0&quot;, &quot;hexo-generator-archive&quot;: &quot;^2.0.0&quot;, &quot;hexo-generator-category&quot;: &quot;^2.0.0&quot;, &quot;hexo-generator-feed&quot;: &quot;^3.0.0&quot;, &quot;hexo-generator-index&quot;: &quot;^4.0.0&quot;, &quot;hexo-generator-json-content&quot;: &quot;^4.2.3&quot;, &quot;hexo-generator-sitemap&quot;: &quot;^3.0.1&quot;, &quot;hexo-generator-tag&quot;: &quot;^2.0.0&quot;, &quot;hexo-renderer-ejs&quot;: &quot;^2.0.0&quot;, &quot;hexo-renderer-marked&quot;: &quot;^7.0.1&quot;, &quot;hexo-server&quot;: &quot;^3.0.0&quot; &#125;, &quot;devDependencies&quot;: &#123; &quot;gulp&quot;: &quot;^5.0.1&quot;, &quot;gulp-autoprefixer&quot;: &quot;^9.0.0&quot;, &quot;gulp-clean-css&quot;: &quot;^4.3.0&quot;, &quot;gulp-htmlclean&quot;: &quot;^2.7.22&quot;, &quot;gulp-htmlmin&quot;: &quot;^5.0.1&quot;, &quot;gulp-jshint&quot;: &quot;^2.1.0&quot;, &quot;gulp-less&quot;: &quot;^5.0.0&quot;, &quot;gulp-notify&quot;: &quot;^5.0.0&quot;, &quot;gulp-path&quot;: &quot;^4.0.0&quot;, &quot;gulp-plumber&quot;: &quot;^1.2.1&quot;, &quot;gulp-rename&quot;: &quot;^2.0.0&quot;, &quot;gulp-rev-append&quot;: &quot;^0.1.8&quot;, &quot;gulp-sequence&quot;: &quot;^1.0.0&quot;, &quot;gulp-uglify&quot;: &quot;^3.0.2&quot;, &quot;gulp-watch&quot;: &quot;^5.0.1&quot;, &quot;jshint&quot;: &quot;^2.13.6&quot;, &quot;jshint-stylish&quot;: &quot;^2.2.1&quot;, &quot;notify-send&quot;: &quot;^0.1.2&quot; &#125;&#125; 2ï¸âƒ£ åœ¨ Hexo æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º gulpfile.js çš„æ–‡ä»¶å¹¶å¼•å…¥ä¸»é¢˜ä¸­çš„gulpfile.mjsï¼š 1234import * as gulpTasks from &#x27;./themes/hexo-theme-snippet/gulpfile.mjs&#x27;;export default gulpTasks.default;export const &#123; build, dev, watchFiles, compileLess &#125; = gulpTasks; 3ï¸âƒ£ ç¼–è¯‘lessâ†’css åœ¨ Hexo æ ¹ç›®å½•ä¸‹package.jsonæ·»åŠ å¹¶æ‰§è¡Œ 123&quot;scripts&quot;: &#123; &quot;compile-less&quot;: &quot;gulp --gulpfile themes/hexo-theme-snippet/gulpfile.mjs compileLess&quot; &#125;, 1$ pnpm run compile-less 4ï¸âƒ£ æ¸…ç©º hexo é™æ€æ–‡ä»¶å’Œç¼“å­˜ï¼Œå¹¶é‡æ–°ç”Ÿæˆ 1$ hexo clean &amp;&amp; hexo g //æ¸…ç©ºç¼“å­˜å¹¶ç”Ÿæˆé™æ€æ–‡ä»¶ 5ï¸âƒ£ è¿è¡Œ gulpï¼š 1$ pnpm run gulp pnpm run gulp æ‰§è¡Œçš„æ˜¯gulpfile.jsä¸­çš„é»˜è®¤ä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡å¼•ç”¨è‡ªä¸»é¢˜ç›®å½•ä¸­çš„gulpfile.mjs gulpé»˜è®¤æ‰§è¡Œçš„buildä»»åŠ¡ä¸»è¦åŠŸèƒ½æ˜¯ä¼˜åŒ–å·²å­˜åœ¨çš„publicç›®å½•ä¸­çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬ï¼š å‹ç¼©CSSå¹¶æ·»åŠ å‰ç¼€ å‹ç¼©JS æ·»åŠ ç‰ˆæœ¬å·åˆ°HTMLæ–‡ä»¶ å‹ç¼©HTMLæ–‡ä»¶ ä½†æ˜¯ï¼Œgulpä»»åŠ¡æ˜¯åœ¨ .&#x2F;public ç›®å½•ä¸‹å·¥ä½œçš„ï¼Œå®ƒ ä¸ä¼š è‡ªåŠ¨ç”Ÿæˆpublicç›®å½• åœ¨Hexoåšå®¢æ¡†æ¶ä¸­ï¼Œpublicç›®å½•æ˜¯ç”± hexo g (hexo generate)å‘½ä»¤ç”Ÿæˆçš„ï¼Œè¯¥å‘½ä»¤ä¼šå°†sourceç›®å½•ä¸­çš„Markdownæ–‡ä»¶ç­‰è½¬æ¢ä¸ºé™æ€HTMLæ–‡ä»¶ **ğŸ”šç»“è®º ï¼š**è¦å®Œæˆå®Œæ•´çš„æ‰“åŒ…æµç¨‹ï¼Œä½ éœ€è¦å…ˆæ‰§è¡Œ hexo g æ¥ç”Ÿæˆpublicç›®å½•ï¼Œç„¶åå†æ‰§è¡Œ pnpm run gulp æ¥ä¼˜åŒ–publicç›®å½•ä¸­çš„æ–‡ä»¶ 6ï¸âƒ£ æœ¬åœ°é¢„è§ˆï¼Œç¡®æ²¡æœ‰é—®é¢˜å†è¿›è¡Œå‘å¸ƒ 1$ hexo s -p 4000 æˆ–è€… hexo s //å¯åŠ¨æœ¬åœ°æœåŠ¡é»˜è®¤ 7ï¸âƒ£ å½“ gulp æ‰§è¡Œå®Œæˆï¼Œå¹¶æç¤º please executeï¼š hexo d æ—¶ï¼Œå¯ä»¥è¿›è¡Œå‘å¸ƒ 1$ hexo d æˆ–è€… gulp deploy //éƒ¨ç½²å‘å¸ƒ 3ï¼‰æ‹“å±•ä¼˜åŒ–ğŸ’¡1ï¸âƒ£ æœ¬åœ°å¼€å‘å¯åŠ¨ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ï¼Œç›‘å¬ä¸»é¢˜ä¸­çš„Lesså’ŒJSæ–‡ä»¶å˜åŒ–ï¼Œå½“æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶è‡ªåŠ¨è¿›è¡Œç¼–è¯‘æˆ–æ ¡éªŒï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚ åœ¨ Hexo æ ¹ç›®å½•ä¸‹package.jsonæ·»åŠ å¹¶æ‰§è¡Œ 123&quot;scripts&quot;: &#123; &quot;gulp:dev&quot;: &quot;gulp --gulpfile themes/hexo-theme-snippet/gulpfile.mjs watchFiles&quot;,&#125;, 1$ pnpm run &quot;gulp:dev&quot; å¼€å‘è€…åœ¨ä¿®æ”¹æ ·å¼æˆ–è„šæœ¬æ–‡ä»¶åæ— éœ€æ‰‹åŠ¨æ‰§è¡Œç¼–è¯‘å‘½ä»¤ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å¤„ç†æ–‡ä»¶å˜åŒ– 2ï¸âƒ£ä¼˜åŒ–æŒ‡ä»¤ 3.5ã€æ›´æ–°ä¸»é¢˜âŒä¸å»ºè®®æ›´æ–°ï¼Œå¦‚æœè‡ªå·±æ›´æ”¹è¿‡ä¸»é¢˜æºæ–‡ä»¶ï¼Œæ›´æ–°ä¸»é¢˜ä¼šæŠŠè‡ªå·±æ”¹åŠ¨çš„å…¨éƒ¨æ›¿æ¢æ‰ ä¸»é¢˜å¯èƒ½ä¼šä¸å®šæ—¶ä¼˜åŒ–å’Œæ›´æ–°ï¼Œæ›´æ–°ä¸»é¢˜ä»£ç ï¼š 12$ cd themes/hexo-theme-snippet$ git pull 3.6ã€ä¸»é¢˜é…ç½®123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244## menu -- å¯¼èˆªèœå•æ˜¾ç¤º&#123;[@page:åå­—,@url:åœ°å€,@icon:å›¾æ ‡]&#125;menu: - page: home url: / icon: fa-home## favicon -- ç½‘ç«™å›¾æ ‡ä½ç½®&#123;@favicon&#125;favicon: /favicon.ico## rss --rssæ–‡ä»¶ä½ç½®&#123;@rss&#125;rss: /atom.xml# å„ä¸ªå°å·¥å…·çš„è®¾ç½®## widgets -- 6ä¸ªå·¦è¾¹å°å·¥å…·&#123;@widgets:[notification,category,archive,tagcloud,friends]&#125;widgets: - search - notification - social - category - archive - tagcloud - friends# å„ä¸ªå°å·¥å…·çš„è®¾ç½®## æœç´¢jsonContent: searchLocal: true // æ˜¯å¦å¯ç”¨æœ¬åœ°æœç´¢ searchGoogle: true //æ˜¯å¦å¯ç”¨è°·æ­Œæœç´¢ posts: title: true text: true content: true categories: false tags: false## notification config --ç½‘ç«™å…¬å‘Šè®¾ç½®,æ”¯æŒ html å’Œ çº¯æ–‡æœ¬notification: |- &lt;p&gt;ä¸»é¢˜å·²ç»ä¸Šçº¿ï¼æ¬¢è¿ä¸‹è½½æˆ–æ›´æ–°~ &lt;br/&gt; ä¸»é¢˜ä¸‹è½½ï¼š&lt;a href=&quot;https://github.com/shenliyang/hexo-theme-snippet&quot; title=&quot;fork me&quot; target=&quot;_blank&quot;&gt;Snippetä¸»é¢˜&lt;/a&gt; &lt;br/&gt; &lt;hr/&gt;æ¥å—è´¡çŒ®ï¼ŒåŒ…æ‹¬ä¸é™äºæäº¤é—®é¢˜ä¸éœ€æ±‚ï¼Œä¿®å¤ä»£ç ã€‚æ¬¢è¿Pull Request&lt;br/&gt;æ”¯æŒä¸»é¢˜ï¼š&lt;a href=&quot;https://github.com/shenliyang/hexo-theme-snippet/stargazers&quot;&gt;Starä¸€ä¸‹&lt;/a&gt;&lt;/p&gt;## ç¤¾äº¤è®¾ç½®&#123;@name:ç¤¾äº¤å·¥å…·åå­—ï¼Œ@icon:ç¤¾äº¤å·¥å…·å›¾æ ‡ï¼Œ@href:è®¾ç½®å·¥å…·é“¾æ¥&#125; [å‚è€ƒå›¾æ ‡](http://fontawesome.io/icons/)social: - name: Github icon: git href: //github.com/shenliyang## æ–‡ç« åˆ†ç±»è®¾ç½®&#123;@cate_config:&#123;@show_count:æ˜¯å¦æ˜¾ç¤ºæ•°å­—ï¼Œ@show_current: æ˜¯å¦é«˜äº®å½“å‰category&#125;&#125;cate_config: show_count: true show_current: true## æ–‡ç« å½’æ¡£è®¾ç½®&#123;@arch_config:/*å‚æ•°å‚è€ƒï¼šhttps://hexo.io/zh-cn/docs/helpers.html#list-archives*/&#125;## æ¨èç»„åˆæ–¹å¼ï¼š[&#123;type: &#x27;monthly&#x27;,format: &#x27;YYYYå¹´MMæœˆ&#x27;&#125;,&#123;type: &#x27;yearly&#x27;,format: &#x27;YYYYå¹´&#x27;&#125;]arch_config: type: &#x27;monthly&#x27; format: &#x27;YYYYå¹´MMæœˆ&#x27; show_count: true order: -1## æ ‡ç­¾äº‘è®¾ç½®&#123;/*å‚æ•°å‚è€ƒï¼šhttp://www.goat1000.com/tagcanvas-options.php */&#125;tagcloud: tag3d: false // æ˜¯å¦å¯ç”¨3Dæ ‡ç­¾äº‘ textColour: &#x27;#444&#x27; // å­—ä½“é¢œè‰² outlineMethod: &#x27;block&#x27; // é€‰ä¸­æ¨¡å¼(outline|classic|block|colour|size|none) outlineColour: &#x27;#FFDAB9&#x27; // é€‰ä¸­æ¨¡å¼çš„é¢œè‰² interval: 30 // åŠ¨ç”»å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå€¼è¶Šå¤§ï¼Œè½¬åŠ¨å¹…åº¦è¶Šå¤§ freezeActive: true // é€‰ä¸­çš„æ ‡ç­¾æ˜¯å¦ç»§ç»­æ»šåŠ¨ frontSelect: true // ä¸é€‰æ ‡ç­¾äº‘åéƒ¨çš„æ ‡ç­¾ reverse: true // æ˜¯å¦åå‘è§¦å‘ wheelZoom: false // æ˜¯å¦å¯ç”¨é¼ æ ‡æ»šè½®## å‹é“¾è®¾ç½®&#123;@é“¾æ¥åç§°ï¼šé“¾æ¥åœ°å€&#123;@links:[,,,]&#125;&#125;links: - Hexoå®˜ç½‘: https://hexo.io/zh-cn/# ä¸»é¢˜è‡ªå®šä¹‰ä¸ªæ€§åŒ–é…ç½®## ç½‘ç«™å®£ä¼ è¯­&#123;@brandingï¼šç½‘ç«™å®£ä¼ è¯­(ä¸è®¾ç½®æ˜¾ç¤ºæœ¬åœ°å›¾ç‰‡)&#125;branding: ä»æœªå¦‚æ­¤ç®€å•æœ‰è¶£## è®¾ç½®bannerèƒŒæ™¯å›¾ç‰‡&#123;@img:è‡ªå®šä¹‰å›¾ç‰‡åœ°å€(æ”¯æŒç»å¯¹å’Œç›¸å¯¹è·¯å¾„),ä¸»é¢˜é»˜è®¤&#123;&quot;é™æ€èƒŒæ™¯&quot;:&quot;banner.jpg&quot;&#125;,&#123;&quot;åŠ¨æ€èƒŒæ™¯&quot;:&quot;banner2.jpg&quot;&#125;,&#123;&quot;åŠ¨æ€æ˜Ÿç©ºèƒŒæ™¯&quot;:&quot;banner3.jpg&quot;&#125;&#125;## ä¾‹å¦‚ï¼šhttps://hexo-theme-snippet-1251680922.cos.ap-beijing.myqcloud.com/img/banner|2|3.jpg, æˆ–è€… &#x27;./img/banner-img.jpg&#x27;(ç›¸å¯¹æœ¬åœ°èµ„æºåœ°å€)banner: img: https://hexo-theme-snippet-1251680922.cos.ap-beijing.myqcloud.com/img/banner.jpg## è®¾ç½®carousel&#123;@img:å›¾ç‰‡åœ°å€,@url:ç‚¹å‡»è·³è½¬é“¾æ¥(é»˜è®¤å€¼:&quot;javascript:&quot;)&#125;carousel: img: &#x27;img/head-img.jpg&#x27; url: &#x27;javascript:&#x27;## é¦–é¡µåˆ—è¡¨åº•éƒ¨é¢æ¿&#123;@homePanel: æ˜¯å¦å¼€å¯&#125;homePanel: true## é¦–é¡µæ–‡ç« åˆ—è¡¨ç¼©ç•¥å›¾### åŠ è½½è§„åˆ™: è‡ªå®šä¹‰æ–‡ç« ç¼©ç•¥å›¾(åœ¨Front-matterä¸­æ·»åŠ çš„&#x27;img&#x27;å­—æ®µ) &gt; æ–‡ç« å†…çš„å›¾ç‰‡ &gt; defaultImgs(éšæœºè·å–) &gt; æ— å›¾æ¨¡å¼åˆ—è¡¨## è‡ªå®šä¹‰éšæœºå›¾ç‰‡defaultImgs: - http://www.example.jpg //è¿œç¨‹å›¾ç‰‡é“¾æ¥ç¤ºä¾‹ - /img/default-1.jpg //æœ¬åœ°å›¾ç‰‡é“¾æ¥ç¤ºä¾‹### æ–‡ç« æ‘˜è¦&#123;@æ‘˜è¦æ˜¾ç¤ºä¼˜å…ˆçº§ï¼šè‡ªå®šä¹‰æ‘˜è¦ &gt; è‡ªåŠ¨æˆªå–æ‘˜è¦ &#125;### è‡ªå®šä¹‰æ‘˜è¦èŒƒå›´&#123;@&lt;!--more--&gt;:æˆªå–moreä¹‹å‰çš„å†…å®¹ä¸ºæ‘˜è¦&#125;### è‡ªåŠ¨æˆªå–æ‘˜è¦&#123;@excerptLength:è‡ªåŠ¨æˆªå–æ–‡ç« å‰å¤šå°‘ä¸ªå­—ä¸ºæ‘˜è¦ï¼Œä¸é…ç½®é»˜è®¤ï¼š120å­—&#125;excerptLength: 120## æ˜¯å¦å¼€å¯æ–‡ç« ç›®å½•toc: true## ä»£ç é«˜äº®é…ç½®&#123;@highlightTheme: ä¸»é¢˜åç§°,(é…ç½®æš‚æ—¶ä¸å¯ç”¨ï¼Œåç»­å¼€å‘ä¸­â€¦)&#125;highlightTheme: default //TODO## æ–‡ç« è¿‡æœŸæé†’åŠŸèƒ½ &#123;@warning:&#123;days:ä¸´ç•Œå¤©æ•°(é»˜è®¤300å¤©,è®¾ç½®0å…³é—­åŠŸèƒ½),text:æé†’æ–‡å­—/*%dä¸ºè¿‡æœŸæ€»å¤©æ•°å ä½ç¬¦*/&#125;&#125;warning: days: 300 text: &#x27;æœ¬æ–‡äº%då¤©ä¹‹å‰å‘è¡¨ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ã€‚&#x27;## æ–‡ç« å†…å£°æ˜&#123;@declaration: &#123;enable:æ˜¯å¦å¼€å¯,title:å£°æ˜æ ‡é¢˜,tip:æç¤ºå†…å®¹&#125;&#125;declaration: enable: true title: &#x27;è½¬è½½å£°æ˜&#x27; tip: |- å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒ,éå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ Â© &lt;a href=&quot;&quot; target=&quot;_blank&quot;&gt;Snippet&lt;/a&gt;## æ–‡ç« æ‰“èµ&#123;@reward: &#123;alipay:æ”¯ä»˜å®æ‰“èµ,wepay:å¾®ä¿¡æ‰“èµ,tip:æ‰“èµæç¤ºè¯­; é“¾æ¥éƒ½ä¸ºç©º,å…³é—­æ‰“èµåŠŸèƒ½&#125;&#125;reward: alipay: &#x27;&#x27; wepay: &#x27;../img/reward-wepay.jpg&#x27; tip: èµèµæ˜¯ä¸è€æµæ°“çš„é¼“åŠ±## ä¸»é¢˜è¯„è®º## utterancesè¯„è®º: ä¸€æ¬¾åŸºäº GitHub issues çš„è¯„è®ºå·¥å…·; é¦–å…ˆåœ¨ github ä¸Šè¿›è¡Œå®‰è£… utterancesï¼Œè®¿é—® [utterancesåº”ç”¨ç¨‹åº](https://github.com/apps/utterances)ï¼›ç„¶ååœ¨ä¸»é¢˜å†…é…ç½® [utterancesæ›´å¤šé…ç½®](https://utteranc.es/)utterances: enable: true repo: shenliyang/snippet-comment // githubä»“åº“åå­—, æ ¼å¼ä¸º user-name/repo-name issueTerm: pathname // æ ‡è¯†issueç±»å‹ 1. pathname(æ¨è); 2. url; 3.title; 3. og:title; 4. issue-number 5. specific-term; issueNumber: 123 // éå¿…å¡«ï¼Œå½“é…ç½® issueTerm = &quot;issue-number&quot;æ—¶ï¼Œéœ€è¦é…ç½®issueå· theme: github-light // ä¸»é¢˜é…ç½® 1. github-light(æ¨è); 2. github-dark; 3. preferred-color-scheme; 4. github-dark-orange; 5. icy-dark; 6. dark-blue; 7. photon-dark; 8. boxy-light label: // éå¿…å¡« cdn: // ä½¿ç”¨è‡ªå®šä¹‰utterancè„šæœ¬åŠ è½½ã€‚ éå¿…å¡«ï¼Œé»˜è®¤ï¼š&quot;https://utteranc.es/client.js&quot;### gitmentgitment: enable: false owner: repo: client_id: client_secret: labels: perPage: maxCommentHeight:### æ¥å¿…åŠ›livere: enable: false livere_uid:### å‹è¨€è¯„è®º(æœåŠ¡ä¸ç¨³å®šï¼Œç»å¸¸æ— æ³•åŠ è½½)uyan: enable: false uyan_id:### Disqusè¯„è®º(éœ€è¦ç¿»å¢™ï¼Œæˆ–è€…æ­å»ºä»£ç†)disqus: enable: false shortname: snippet count: false### ç•…è¨€è¯„è®º(éœ€è¦ICPå¤‡æ¡ˆ)changyan: enable: false appid: conf:### Valineè¯„è®º(leancloudéœ€è¦å®åè®¤è¯) å‚è€ƒç½‘ç«™: [valineè¯„è®º](https://valine.js.org/)valine: enable: false appId: appKey: placeholder: è¯´ç‚¹ä»€ä¹ˆå§ notify: false // é‚®ä»¶é€šçŸ¥ verify: false // éªŒè¯ç  avatar: mm // avatarå¤´åƒ meta: nick,mail // è¾“å…¥æ¡†å†…å®¹ï¼Œå¯é€‰å€¼nick,mail,link pageSize: 10## Gitalkè¯„è®º å‚è€ƒç½‘ç«™: [ä¸€ä¸ªåŸºäºGithub Issueå’ŒPreactå¼€å‘çš„è¯„è®ºæ’ä»¶](https://gitalk.github.io/)gitalk: enable: false clientID: &quot;&quot; // Github åº”ç”¨ID clientSecret: &quot;&quot; // Github åº”ç”¨å¯†é’¥ repo: shenliyang.github.io // Githubä»“åº“åœ°å€ owner: shenliyang // Github ç”¨æˆ·å(Githubä»“åº“æ‹¥æœ‰è€…) admin: shenliyang // GitHub repository çš„æ‰€æœ‰è€…å’Œåˆä½œè€… (å¯¹è¿™ä¸ª repository æœ‰å†™æƒé™çš„ç”¨æˆ·)å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œå¦‚æœæœ‰å¤šåå¯ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼šadmin: admin1,admin2 é…ç½® perPage: 10 // æ¯æ¬¡åŠ è½½çš„æ•°æ®å¤§å°ï¼Œæœ€å¤š100 distractionFreeMode: true // æ˜¯å¦å¯ç”¨æ— å¹²æ‰°æ¨¡å¼ï¼Œç±»ä¼¼Facebookè¯„è®ºæ¡†çš„å…¨å±é®ç½©æ•ˆæœ // ä»¥ä¸‹å‚æ•°ä¸»é¢˜ä¼šé»˜è®¤å¤„ç†ï¼Œä¸éœ€è¦é…ç½® language // è¯­è¨€ç±»å‹ï¼Œé»˜è®¤ä¸ºç«™ç‚¹é…ç½®ä¸­é€‰é¡¹ id // é¡µé¢çš„å”¯ä¸€æ ‡è¯†, å·²ä½¿ç”¨md5å¯¹pathnameè½¬æ¢ç”Ÿæˆå”¯ä¸€idå¤„ç†## ç½‘ç«™è®¿å®¢ç»Ÿè®¡ [ä¸è’œå­ç»Ÿè®¡](http://busuanzi.ibruce.info/)visit_counter: site: true // æ€»è®¿é—®é‡å’Œè®¿é—®äººæ•°ç»Ÿè®¡ page: true // æ–‡ç« é˜…è¯»é‡ç»Ÿè®¡## ç½‘ç«™è®¿é—®ç»Ÿè®¡### ç½‘ç›ŸCNZZç»Ÿè®¡ å‚è€ƒç½‘ç«™: [ç½‘ç›ŸCNZZ](http://www.umeng.com/)cnzz_anaylytics:### ç™¾åº¦ç»Ÿè®¡ å‚è€ƒç½‘ç«™: [ç™¾åº¦ç»Ÿè®¡](https://tongji.baidu.com/)baidu_anaylytics:### è°·æ­Œç»Ÿè®¡ å‚è€ƒç½‘ç«™ï¼š[è°·æ­Œç»Ÿè®¡](https://www.google-analytics.com/)google_anaylytics:### è…¾è®¯åˆ†æ å‚è€ƒç½‘ç«™ï¼š[è…¾è®¯åˆ†æ](http://ta.qq.com/)tencent_analytics:### ç™¾åº¦ç«™ç‚¹è®¤è¯baidu-site-verification:### ç™¾åº¦è‡ªåŠ¨æ¨é€(@baidu_push: æ˜¯å¦å¯ç”¨ç™¾åº¦è‡ªåŠ¨æ¨é€) å‚è€ƒç½‘ç«™: [ç™¾åº¦ç«™é•¿èµ„æº](https://ziyuan.baidu.com/college/courseinfo?id=267&amp;page=2#h2_article_title18)baidu_push:## ICONé…ç½® (ä¸é…åˆ™å¯ç”¨æœ¬åœ°Font Icon)fontAwesome: //cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css## ç½‘ç«™ä¸»é¢˜é…ç½®since: 2017 //å»ºç«™æ—¶é—´beian: &#x27;äº¬ICPå¤‡04000001å·&#x27; //ç½‘ç«™å¤‡æ¡ˆå·robot: &#x27;all&#x27; //æ§åˆ¶æœç´¢å¼•æ“çš„æŠ“å–å’Œç´¢å¼•ç¼–åˆ¶è¡Œä¸ºï¼Œé»˜è®¤ä¸ºallversion: 1.3.0 //å½“å‰ä¸»é¢˜ç‰ˆæœ¬å· 3.7ã€ä¸»é¢˜ä½¿ç”¨æŠ€å·§åŠåŠŸèƒ½æ‰©å±•ä¿®æ”¹æ–°å¢æ–‡ç«  Front-matter æ¨¡æ¿,ä¿®æ”¹scaffoldsç›®å½•ä¸‹çš„post.mdæ¨¡æ¿ 12345678---title: &#123;&#123; title &#125;&#125; // æ ‡é¢˜date: &#123;&#123; date &#125;&#125; // æ—¶é—´categories: [&#x27;åˆ†ç±»1&#x27;,&#x27;åˆ†ç±»2&#x27;] // åˆ†ç±»tags: [&#x27;æ ‡ç­¾1&#x27;,&#x27;æ ‡ç­¾2&#x27;] // æ ‡ç­¾comments: false // æ˜¯å¦å¼€å¯è¯„è®ºimg: // è‡ªå®šä¹‰ç¼©ç•¥å›¾--- å››ã€è‡ªå®šä¹‰è·¯ç”±(å¯¼èˆª)ä»¥æˆ‘ä»¬è¿™æ¬¡Asnippetä¸»é¢˜ä¸ºä¾‹ å‰ç½®å…ƒæ•°æ®è¯¦è§£(å‰ç½®çŸ¥è¯†ï¼Œå¿…å…ˆï¼šctrl+å·¦é”®ç‚¹å‡»æŸ¥çœ‹) 4.1ã€é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¯¼èˆªé¡¹ ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ç¼–è¾‘ themes&#x2F;hexo-theme-snippet&#x2F;_config.yml åœ¨ menu éƒ¨åˆ†æ·»åŠ æ–°çš„èœå•é¡¹ï¼ˆåˆ†ç±»&#x2F;å…³äºï¼‰ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š 4.2ã€åˆ›å»ºé¡µé¢å†…å®¹1ï¼‰åˆ›å»ºçš„é¡µé¢å°±æ˜¯ä»¥.mdæ–‡ä»¶å†…å®¹ä¸ºå±•ç¤ºçš„è·¯ç”±é¡µé¢ åœ¨Hexoé¡¹ç›®çš„æ ¹ç›®å½•çš„sourceç›®å½•ä¸‹åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ ä¾‹å¦‚ï¼Œè¦åˆ›å»º /about/è·¯ç”±ï¼Œéœ€è¦åœ¨ source ç›®å½•ä¸‹åˆ›å»º source\\about\\index.mdæ–‡ä»¶ åœ¨ index.md ä¸­æ·»åŠ é¡µé¢å†…å®¹å’Œå‰ç½®å…ƒæ•°æ® 1234---title: å…³äºæˆ‘date: 2025-10-28 16:03:32--- 2ï¼‰åˆ›å»ºè‡ªå®šä¹‰é¡µé¢æ¨¡æ¿ å¦‚æœéœ€è¦è‡ªå®šä¹‰é¡µé¢æ¨¡æ¿ï¼Œå¯ä»¥åœ¨themes\\hexo-theme-snippet\\layout\\ç›®å½•ä¸‹åˆ›å»ºæ–°çš„.ejs æ–‡ä»¶ï¼ˆcategories.ejsï¼‰ åœ¨é¡µé¢çš„å‰ç½®å…ƒæ•°æ®ä¸­æŒ‡å®šå¸ƒå±€æ–‡ä»¶ã€‚ä¾‹å¦‚åœ¨layoutæ–‡ä»¶å¤¹ä¸­åˆ›å»ºcategories.ejsæ–‡ä»¶ï¼Œé‚£ä¹ˆåœ¨å…ƒæ•°æ®ä¸­layoutçš„å±æ€§å€¼å°±å¾—è®¾ç½®æˆcategorieså’Œlayoutæ–‡ä»¶å¤¹ä¸­åˆ›å»ºçš„.ejs æ–‡ä»¶åä¿æŒä¸€è‡´ 12345---title: åˆ†ç±»date: 2025-10-28 16:15:28layout: categories--- äº”ã€å‰ç½®å…ƒæ•°æ®(Front-matter)åœ¨Hexoä¸­ï¼Œé¡µé¢çš„å‰ç½®å…ƒæ•°æ®ï¼ˆFront-matterï¼‰å’Œå†…å®¹çš„ç»„ç»‡æ˜¯åˆ›å»ºè‡ªå®šä¹‰é¡µé¢çš„å…³é”®ã€‚ å‰ç½®å…ƒæ•°æ®æ˜¯ä½äºæ–‡ä»¶é¡¶éƒ¨ã€ç”± â€” åŒ…å›´çš„YAMLæˆ–JSONæ ¼å¼æ•°æ®ï¼Œå®ƒå®šä¹‰äº†é¡µé¢çš„å„ç§å±æ€§ã€‚ 5.1ã€åŸºæœ¬ç»“æ„12345678---title: é¡µé¢æ ‡é¢˜date: 2025-10-28 16:03:32layout: å¸ƒå±€åç§°# å…¶ä»–å±æ€§...---# è¿™é‡Œå¼€å§‹æ˜¯é¡µé¢å†…å®¹ 5.2ã€å¸¸ç”¨å‰ç½®å…ƒæ•°æ®å±æ€§æ ¹æ®æ‚¨çš„é¡¹ç›®ä¸­çš„ç¤ºä¾‹ï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨çš„å±æ€§ï¼š title : é¡µé¢æ ‡é¢˜ date : åˆ›å»ºæ—¥æœŸï¼Œæ ¼å¼ä¸º YYYY-MM-DD HH:mm:ss layout : æŒ‡å®šä½¿ç”¨çš„å¸ƒå±€æ¨¡æ¿ï¼ˆå¦‚ categories ï¼‰ comments : æ˜¯å¦å¼€å¯è¯„è®ºï¼ˆtrue&#x2F;falseï¼‰ categories : åˆ†ç±» tags : æ ‡ç­¾ permalink : è‡ªå®šä¹‰æ°¸ä¹…é“¾æ¥ å…­ã€åšå®¢éƒ¨ç½²åˆ°Github Pages6.1ã€æ–°å»ºä»“åº“åˆ›å»ºä¸€ä¸ªå’Œä½ ç”¨æˆ·åç›¸åŒçš„ä»“åº“ï¼Œåé¢åŠ  .github.io 6.2ã€å®ç°å…å¯†ç™»å½•ä¸ºäº†å®ç°å®‰å…¨çš„å…å¯†è®¿é—® GitHub ä»“åº“ï¼Œä¹Ÿå°±æ˜¯åœ¨ä½ æ¯æ¬¡éƒ¨ç½²æˆ–æ¨é€å†…å®¹åˆ° GitHub Pages æ—¶ï¼Œä¸å†éœ€è¦è¾“å…¥è´¦å·å¯†ç ï¼ŒåŒæ—¶ä¿è¯ä¼ è¾“æ˜¯å®‰å…¨åŠ å¯†çš„ã€‚ 1ï¼‰é…ç½® Git ç”¨æˆ·ä¿¡æ¯12git config --global user.name &quot;yourname&quot;git config --global user.email &quot;youremail&quot; è¿™ä¸¤æ¡å‘½ä»¤ä¸æ˜¯ç”¨æ¥ç™»å½•çš„ï¼Œè€Œæ˜¯ï¼š å‘Šè¯‰ Git æ˜¯è°åœ¨æäº¤ä»£ç ã€‚ æ¯ä¸€æ¬¡ commit éƒ½ä¼šå†™å…¥è¿™ä¸¤ä¸ªä¿¡æ¯ï¼Œå½¢æˆç±»ä¼¼ï¼š 1Author: yourname &lt;youremail&gt; ğŸš¨æ³¨æ„ï¼š è¿™ä¸ªé‚®ç®±æœ€å¥½ä¸ä½  GitHub è´¦å·ç»‘å®šçš„é‚®ç®±ä¸€è‡´ï¼Œå¦åˆ™ GitHub æ— æ³•æ­£ç¡®è¯†åˆ«ä¸ºä½ çš„æäº¤ æŸ¥çœ‹å½“å‰é…ç½®ï¼š 12bashgit config user.namegit config user.email 2ï¼‰ç”Ÿæˆ SSH å¯†é’¥1ssh-keygen -t rsa -C &quot;yourEmail&quot; è¿™æ¡å‘½ä»¤æ˜¯åˆ›å»ºä¸€å¯¹ SSH å¯†é’¥ï¼ˆkey pairï¼‰ï¼š ç§é’¥ (id_rsa)ï¼šä¿å­˜åœ¨ä½ ç”µè„‘ä¸Šï¼Œä¸è¦æ³„éœ²ã€‚ å…¬é’¥ (id_rsa.pub)ï¼šå¯ä»¥å®‰å…¨åœ°ä¸Šä¼ åˆ° GitHubï¼ˆæˆ–å…¶ä»–æœåŠ¡å™¨ï¼‰ã€‚ ç„¶åä½ ä¼šå‘ç° C:\\Users\\19584\\ ä¸‹æœ‰ä¸€ä¸ª .ssh ç›®å½•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæ‰“å¼€éšè—æ–‡ä»¶å¤¹ï¼Œ.ssh æ–‡ä»¶å¤¹ä¸‹æœ‰ id_rsa å’Œ id_rsa.pubï¼Œå‰ä¸€ä¸ªæ˜¯ç§é’¥ï¼Œåä¸€ä¸ªæ˜¯å…¬é’¥ 3ï¼‰é…ç½®åˆ° GitHubå°† id_rsa.pub å†…çš„å†…å®¹å¤åˆ¶ä¸‹æ¥ï¼Œç„¶åè¿›å…¥ GitHubï¼Œç‚¹å‡» Settingsï¼Œè¿›å…¥ SSH and GPG keys é€‰é¡¹ï¼Œç‚¹å‡» New SSH keyï¼Œç„¶åå¡«å†™ Title: Blogï¼ŒKey:ä½ åˆšåˆšå¤åˆ¶çš„å…¬é’¥ 6.3ã€ä¸€é”®éƒ¨ç½² å®‰è£… hexo-deployer-git 1pnpm add hexo-deployer-git åœ¨æ ¹ç›®å½• _config.yml ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼ˆå¦‚æœé…ç½®å·²ç»å­˜åœ¨ï¼Œè¯·å°†å…¶æ›¿æ¢ä¸ºå¦‚ä¸‹ï¼‰: 12345deploy: type: git repo: https://github.com/&lt;username&gt;/&lt;username&gt;.github.io # example, https://github.com/hexojs/hexojs.github.io branch: main // å’Œä½ åˆ›å»ºçš„&lt;username&gt;.github.ioåˆ›åº“çš„ä¸»åˆ†æ”¯ä¿æŒä¸€è‡´ æ‰§è¡Œ hexo clean &amp;&amp; hexo deploy ã€‚ æµè§ˆ username.github.ioï¼Œæ£€æŸ¥ä½ çš„ç½‘ç«™èƒ½å¦è¿ä½œã€‚ æ·»åŠ ç»„åˆå‘½ä»¤ 123&quot;scripts&quot;: &#123; &quot;push&quot;: &quot;pnpm run compile-less &amp;&amp; pnpm run del &amp;&amp; pnpm run clean &amp;&amp; pnpm run build &amp;&amp; pnpm run gulp &amp;&amp; pnpm run deploy&quot;, &#125;,","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"http://example.com/categories/%E5%85%B6%E4%BB%96/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://example.com/tags/hexo/"}]},{"title":"UnoCSSçš„ä½¿ç”¨","slug":"41-unocssçš„ä½¿ç”¨","date":"2025-08-23T15:51:08.000Z","updated":"2026-03-01T16:07:38.352Z","comments":true,"path":"posts/74efe575.html","permalink":"http://example.com/posts/74efe575.html","excerpt":"","text":"UnoCSSä¸­æ–‡æ–‡æ¡£ 1ã€å®‰è£… 1pnpm add -D unocss @iconify-json/ep @unocss/preset-rem-to-px unocssï¼šæ ¸å¿ƒåº“ @iconify-jsonp&#x2F;epï¼šä½¿ç”¨elementpluså›¾æ ‡åº“https://iconify.design/ @unocss&#x2F;preset-rem-to-pxï¼šé»˜è®¤æ˜¯remå•ä½ï¼Œå°†remè½¬æˆpx **UnoCSS**å›¾æ ‡é¢„è®¾ï¼šhttps://unocss.jiangruyi.com/presets/icons 123456789// vite.config.tsimport UnoCSS from &#x27;unocss/vite&#x27;import &#123; defineConfig &#125; from &#x27;vite&#x27;export default defineConfig(&#123; plugins: [ UnoCSS(), ],&#125;) 2ã€é…ç½®**UnoCSS**çš„å°ºå¯¸1ï¼ˆm-1ï¼‰è½¬æ¢ä¹‹åæ˜¯4pxï¼Œæ ¹ç›®å½•é»˜è®¤å­—ä½“å¤§å°16pxå³16px &#x3D; 1remï¼Œ4px &#x3D; 0.25remï¼Œå› æ­¤å¾—çŸ¥Unoä¸­çš„1è¡¨ç¤º4pxï¼Œä¹Ÿä»£è¡¨0.25remã€‚å¦‚æœè¦æƒ³å°†UnoCSSä¸­çš„1å˜æˆ1pxï¼Œåˆ™éœ€è¦å®‰è£…@unocss/preset-rem-to-pxæ’ä»¶ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960// uno.config.tsimport presetRemToPx from &#x27;@unocss/preset-rem-to-px&#x27;import &#123; defineConfig, presetAttributify, presetIcons, presetWind3, transformerDirectives, transformerVariantGroup,&#125; from &#x27;unocss&#x27;export default defineConfig(&#123; shortcuts: &#123; // è‡ªå®šä¹‰å±æ€§ ä¸€ä¸ªå±æ€§å¯ä»¥å¯¹åº”å¤šä¸ªUnoCSSç±»å€¼ &#x27;flex-center&#x27;: &#x27;flex justify-center items-center&#x27;, &#x27;flex-x-center&#x27;: &#x27;flex justify-center&#x27;, &#x27;flex-y-center&#x27;: &#x27;flex items-center&#x27;, &#x27;grid-center&#x27;: &#x27;grid place-items-center&#x27;, &#x27;wh-full&#x27;: &#x27;w-full h-full&#x27;, &#x27;flex-x-between&#x27;: &#x27;flex items-center justify-between&#x27;, &#x27;flex-x-end&#x27;: &#x27;flex items-center justify-end&#x27;, &#x27;absolute-lt&#x27;: &#x27;absolute left-0 top-0&#x27;, &#x27;absolute-rt&#x27;: &#x27;absolute right-0 top-0 &#x27;, &#x27;fixed-lt&#x27;: &#x27;fixed left-0 top-0&#x27;, &#125;, theme: &#123; colors: &#123; // è‡ªå®šä¹‰é¢œè‰² primary: &#x27;var(--el-color-primary)&#x27;, red: &#x27;#f53e31&#x27;, gray_888: &#x27;#888&#x27;, gray_999: &#x27;#999&#x27;, &#125;, &#125;, presets: [ presetWind3(&#123; important: &#x27;#app&#x27;, &#125;), // å…è®¸ä½ ç›´æ¥åœ¨HTMLå…ƒç´ ä¸Šä½¿ç”¨å±æ€§æ¥å®šä¹‰æ ·å¼ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨classã€‚ä¾‹å¦‚ï¼Œ&lt;div flex m=&quot;5&quot;&gt;&lt;/div&gt;å¯ä»¥ç­‰ä»·äº&lt;div class=&quot;flex m-5&quot;&gt;&lt;/div&gt; presetAttributify(), presetIcons(&#123; scale: 1.2, warn: true, &#125;), presetRemToPx(&#123; // æ ¹ç›®å½•å­—ä½“è®¾ç½®ä¸º4å³å¯å®ç°unocssçš„1ä¸º1px baseFontSize: 4, &#125;), ], // transformerDirectives() å¯ä»¥ä½¿ç”¨@apply @screen themeå‡½æ•° transformers: [ transformerDirectives(), transformerVariantGroup(), ], rules: [ // ä»¥ä¸‹å®˜ç½‘è§„åˆ™å¯è‡ªå®šä¹‰è½¬æ¢ // [/^m-([.\\d]+)$/, ([_, num]) =&gt; (&#123; margin: `$&#123;num&#125;px` &#125;)], ],&#125;) 12// main.tsimport &#x27;virtual:uno.css&#x27; 3ã€UnoCSSä¸­ä½¿ç”¨å›¾æ ‡ iconifyå®˜ç½‘ä¸­çš„@iconify-jsonp&#x2F;epå›¾æ ‡ @iconify-jsonp&#x2F;ep è¯­æ³•ï¼šiå‰ç¼€-epå›¾æ ‡åº“:xxï¼ˆå›¾æ ‡åç§°ï¼‰ 1&lt;div i-ep:chrome-filled /&gt; 4ã€UnoCSSé¢„è®¾è¯­æ³• é»˜è®¤çš„ @unocss/preset-uno é¢„è®¾ï¼ˆå®éªŒé˜¶æ®µï¼‰æ˜¯ä¸€ç³»åˆ—æµè¡Œçš„åŸå­åŒ–æ¡†æ¶çš„é€šç”¨è¶…é›†ï¼ŒåŒ…æ‹¬äº† Tailwind CSSï¼ŒWindi CSSï¼ŒBootstrapï¼ŒTachyons ç­‰ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950w-10 h-10 width: 10px; height: 10px;max-w-96 min-w-96 max-width: 96px; min-width: 96px;text-30 font-size: 30pxrounded rounded-2 border-radius: 1px; border-radius: 2px;size-50 width: 50px; height: 50px;py-2 padding-top: 2px; padding-bottom: 2px;px-4 padding-left: 4px; padding-right: 4px;font-bold font-weight: 700;border-4 // è¾¹æ¡†å®½åº¦ border-width: 4px;box-border box-sizing: border-box;leading-3 line-height: 3px;text-center text-align: center;å¦‚æœä½ çš„é¡¹ç›®éœ€è¦ä¸€æ¬¡æ€§è‡ªå®šä¹‰é¢œè‰²ï¼Œè¯·è€ƒè™‘ä½¿ç”¨ä»»æ„å€¼ç¬¦å·æ¥æŒ‰éœ€ä¸ºè¯¥é¢œè‰²ç”Ÿæˆä¸€ä¸ªç±»ï¼Œè€Œä¸æ˜¯å°†å…¶æ·»åŠ åˆ°ä½ çš„ä¸»é¢˜ä¸­ï¼šclass=&quot;c-[#f40]&quot; //å¿…é¡»è¦ç”¨classb-b-2 b-solid b-red border-bottom: 2px solid redgap10 gap: 10px; flexå¸ƒå±€ç›’å­ä¹‹é—´è·ç¦»","categories":[{"name":"å·¥ç¨‹åŒ–ä¸è´¨é‡","slug":"å·¥ç¨‹åŒ–ä¸è´¨é‡","permalink":"http://example.com/categories/%E5%B7%A5%E7%A8%8B%E5%8C%96%E4%B8%8E%E8%B4%A8%E9%87%8F/"}],"tags":[{"name":"css","slug":"css","permalink":"http://example.com/tags/css/"},{"name":"unocss","slug":"unocss","permalink":"http://example.com/tags/unocss/"}]},{"title":"element-PlusæŒ‰éœ€åŠ è½½ä»¥åŠæ³¨æ„äº‹é¡¹","slug":"40-element-PlusæŒ‰éœ€åŠ è½½ä»¥åŠæ³¨æ„äº‹é¡¹","date":"2025-08-22T15:51:08.000Z","updated":"2026-03-01T16:07:38.352Z","comments":true,"path":"posts/e3b10f75.html","permalink":"http://example.com/posts/e3b10f75.html","excerpt":"","text":"ä¸€ã€ä¾èµ–åŒ…å®‰è£…1$ pnpm install element-plus äºŒã€Volar æ”¯æŒ1234567/ tsconfig.json&#123; &quot;compilerOptions&quot;: &#123; // ... &quot;types&quot;: [&quot;element-plus/global&quot;] &#125;&#125; ä¸‰ã€æŒ‰éœ€è‡ªåŠ¨å¯¼å…¥3.1ã€å®‰è£… å®‰è£…è‡ªåŠ¨å¯¼å…¥ç»„ä»¶å’Œå‡½æ•°çš„æ’ä»¶ 1$ pnpm add unplugin-vue-components unplugin-auto-import -D 3.2ã€é…ç½® å®‰è£…å®Œæˆä¼šé»˜è®¤åœ¨æ ¹ç›®å½•ç”Ÿæˆauto-imports.d.tså’Œcomponents.d.tsä¸¤ä¸ªæ–‡ä»¶tså£°æ˜æ–‡ä»¶ 12345678910111213141516171819/ vite.config.tsé…ç½®import &#123; defineConfig &#125; from &#x27;vite&#x27;import AutoImport from &#x27;unplugin-auto-import/vite&#x27;import Components from &#x27;unplugin-vue-components/vite&#x27;import &#123; ElementPlusResolver &#125; from &#x27;unplugin-vue-components/resolvers&#x27;export default defineConfig(&#123; // ... plugins: [ // ... AutoImport(&#123; resolvers: [ElementPlusResolver()], &#125;), Components(&#123; resolvers: [ElementPlusResolver()], &#125;), ],&#125;) å°†ç”Ÿæˆçš„å£°æ˜æ–‡ä»¶å…³è”åˆ°tsçš„é…ç½®æ–‡ä»¶ä¸­å» 123456/ tsconfig.app.json// å°†auto-imports.d.tså’Œcomponents.d.tså’Œenv.d.tsä¸‰ä¸ªæ–‡ä»¶ç»Ÿä¸€æ”¾åˆ°æ ¹ç›®å½•çš„typesæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶ååœ¨includeä¸­ç›´æ¥å¼•å…¥typeså³å¯&#123; // ... &quot;include&quot;: [&quot;types&quot;, &quot;src/**/*&quot;, &quot;src/**/*.vue&quot;], // TypeScriptç¼–è¯‘å™¨ç¼–è¯‘çš„æ–‡ä»¶&#125; é—®é¢˜ï¼šåªè¦æ–°åŠ ç»„ä»¶å’Œå’Œå‡½æ•°å°±åˆä¼šåœ¨æ ¹ç›®å½•ç”Ÿæˆä¸¤ä¸ªå£°æ˜æ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘éœ€è¦ç”Ÿæˆçš„æ–‡ä»¶åœ¨typesæ–‡ä»¶ä¸­ï¼Œæ€ä¹ˆåšå‘¢ï¼Ÿ åœ¨vite.config.tsæ–‡ä»¶ä¸­é…ç½®å£°æ˜æ–‡ä»¶å­˜å‚¨çš„è·¯å¾„ 123456789101112131415161718192021222324/ vite.config.tsimport &#123; defineConfig &#125; from &#x27;vite&#x27;import AutoImport from &#x27;unplugin-auto-import/vite&#x27;import Components from &#x27;unplugin-vue-components/vite&#x27;import &#123; ElementPlusResolver &#125; from &#x27;unplugin-vue-components/resolvers&#x27;export default defineConfig(&#123; // ... plugins: [ // ... AutoImport(&#123; // è‡ªåŠ¨å¯¼å…¥ Vue ç›¸å…³å‡½æ•°ï¼Œå¦‚ï¼šref, reactive, toRef ç­‰ imports: [&#x27;vue&#x27;, &#x27;pinia&#x27;, &#x27;vue-router&#x27;], resolvers: [ElementPlusResolver()], // æŒ‡å®šè‡ªåŠ¨å¯¼å…¥ å‡½æ•° TSç±»å‹å£°æ˜æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤è‡ªåŠ¨å¯¼å…¥åœ¨æ ¹ç›®å½•ã€‚ dts: &#x27;types/auto-imports.d.ts&#x27;, &#125;), Components(&#123; resolvers: [ElementPlusResolver()], // æŒ‡å®šè‡ªåŠ¨å¯¼å…¥ ç»„ä»¶ TSç±»å‹å£°æ˜æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤è‡ªåŠ¨å¯¼å…¥åœ¨æ ¹ç›®å½•ã€‚ dts: &#x27;types/components.d.ts&#x27;, &#125;), ],&#125;) æ€ä¹ˆæŸ¥çœ‹components.d.tså£°æ˜æ–‡ä»¶ç”Ÿæ•ˆï¼Ÿé¼ æ ‡æ”¾åˆ°ä½¿ç”¨çš„elementPlusç»„ä»¶ä¸Šï¼Œä¼šå‡ºç°å¦‚å›¾çš„tsã€‚ å¿½ç•¥auto-imports.d.tså’Œcomponents.d.tsä¸Šä¼ è‡³ä»“åº“ 12types/*!types/env.d.ts å››ã€element-plus æ ·å¼é—®é¢˜å½“ä½ ä½¿ç”¨unplugin-vue-componentsæ¥å¼•å…¥uiåº“çš„æ—¶å€™ï¼Œmessage, notificationï¼Œtoast ç­‰å¼•å…¥æ ·å¼ä¸ç”Ÿæ•ˆï¼ˆå¼¹çª—åœ¨åº•éƒ¨ï¼‰ 4.1ã€å…¨é‡å¼•å…¥ï¼ˆä¸æ¨èï¼‰ åœ¨main.tsä¸­å¼•å…¥ 1import &#x27;element-plus/dist/index.css&#x27; 4.1ã€æŒ‰éœ€è‡ªåŠ¨å¼•å…¥1ï¼‰å®‰è£… 1$ pnpm add vite-plugin-style-import -D 2ï¼‰é…ç½®æ–‡ä»¶ åœ¨ vite.config.ts é…ç½® 1234567891011121314151617import &#123; createStyleImportPlugin, ElementPlusResolve &#125; from &#x27;vite-plugin-style-import&#x27;export default defineConfig(&#123; plugins: [ createStyleImportPlugin(&#123; // é¢„è®¾çš„å’Œè‡ªå®šä¹‰äºŒé€‰ä¸€ resolves: [ElementPlusResolve()], // é¢„è®¾çš„æ ·å¼è§£æå™¨ // libs: [&#123; // è‡ªå®šä¹‰æ ·å¼çš„åŠ è½½æ–¹å¼ // libraryName: &#x27;element-plus&#x27;, // esModule: true, // resolveStyle: (name: string) =&gt; &#123; // return `element-plus/theme-chalk/$&#123;name&#125;.css` // &#125;, // &#125;], &#125;), ],&#125;) äº”ã€iconå›¾æ ‡è‡ªåŠ¨å¯¼å…¥å¦‚æœä½¿ç”¨unocssåŸå­CSSå¼•æ“ï¼Œä¹Ÿå¯ä½¿ç”¨unocssçš„iconå›¾æ ‡å¼•å…¥ï¼Œè¯¦ç»†è§unocssä½¿ç”¨æ•™ç¨‹ 5.1ã€å®‰è£… ä½¿ç”¨unplugin-iconså’Œunplugin-auto-importä»iconifyä¸­è‡ªåŠ¨å¯¼å…¥ä»»ä½•å›¾æ ‡é›†ï¼Œè‹¥å®‰è£…unplugin-auto-importåˆ™ä¸éœ€å†æ¬¡å®‰è£… 1$ pnpm add -D unplugin-icons unplugin-auto-import 5.2ã€é…ç½®æ–‡ä»¶1ï¼‰vite.config.tsé…ç½® 12345678910111213141516171819import Icons from &#x27;unplugin-icons/vite&#x27;import IconsResolver from &#x27;unplugin-icons/resolver&#x27;export default defineConfig(&#123; plugins: [ Components(&#123; resolvers: [ IconsResolver(), // IconsResolver(&#123; // prefix: &#x27;i&#x27;, // enabledCollections: [&#x27;ep&#x27;], // &#125;), ], &#125;), Icons(&#123; autoInstall: true, &#125;), ]&#125;) ç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹æœ‰å†™åœ¨AutoImportä¸­ä¹Ÿéœ€è®¾ç½®IconsResolver()ï¼Œå®é™…åœ¨AutoImport ä¸‹çš„ IconsResolver ä¸­å¯ä»¥ä¸æ·»åŠ  IconsResolver é…ç½®ï¼Œåªåœ¨ Components ä¸‹çš„ IconsResolver ä¸­è¿›è¡Œç›¸åº”é…ç½®å°±è¡Œ 2ï¼‰è‡ªåŠ¨å¯¼å…¥icon å›¾æ ‡çš„æ ¼å¼{prefix}-{collection}-{icon} å³ ~ â€œå‰ç¼€-ä½¿ç”¨çš„å›¾æ ‡åº“åç§°-å›¾æ ‡åâ€ æ ¼å¼å½¢å¼æ¥ä½¿ç”¨çš„ï¼Œelement-plus çš„å›¾æ ‡åº“åç§°æ˜¯ â€œepâ€ï¼Œé»˜è®¤å‰ç¼€æ˜¯ â€œiâ€ï¼Œéœ€è¦æ”¹çš„è¯å¯ä»¥åœ¨ Components é…ç½®é¡¹ çš„ IconsResolver çš„prefixä¸­è¿›è¡Œç›¸åº”é…ç½® ä»¥elementPlusçš„iconä¸ºä¾‹ï¼ˆiconifyå›¾æ ‡åº“ä¸­çš„ä¹Ÿä¸€æ ·ï¼‰ 12345&lt;i-ep-Bowl /&gt;&lt;!-- æˆ–è€… --&gt;&lt;el-icon&gt; &lt;i-ep-alarmClock /&gt;&lt;/el-icon&gt; å¦‚æœè®¾ç½®å±æ€§ä¾‹å¦‚é¢œè‰²ã€å¤§å†™åˆ™å¿…é¡»ä½¿ç”¨&lt;el-icon&gt;åŒ…è£¹ï¼Œç„¶ååœ¨å…¶ä¸Šå†™å±æ€§ 123&lt;el-icon :size=&quot;60&quot; color=&quot;red&quot;&gt; &lt;i-ep-Plus /&gt;&lt;/el-icon&gt; 3ï¼‰IconsResolveré…ç½®è§£æå½“IconsResolver()ä¸è®¾ç½®å‚æ•°çš„æ—¶å€™ï¼Œiconifyå›¾æ ‡åº“ä¸­çš„å›¾æ ‡éƒ½èƒ½ä½¿ç”¨ï¼ˆè¿™é‡Œé¢ä¹ŸåŒ…å«äº†elementPlusçš„å›¾æ ‡ï¼‰ 123456789101112131415import Icons from &#x27;unplugin-icons/vite&#x27;import IconsResolver from &#x27;unplugin-icons/resolver&#x27;export default defineConfig(&#123; plugins: [ Components(&#123; resolvers: [ IconsResolver(), ], &#125;), Icons(&#123; autoInstall: true, &#125;), ]&#125;) æ€ä¹ˆä½¿ç”¨iconifyå›¾æ ‡åº“ä¸­çš„å›¾æ ‡å‘¢ï¼Ÿä¸¾ä¾‹å­ å½“IconsResolver()è®¾ç½®å‚æ•°çš„æ—¶å€™ï¼Œè‡ªå®šä¹‰å›¾æ ‡æ ¼å¼å‰ç¼€ã€é™åˆ¶ä½¿ç”¨å›¾æ ‡åº“ã€‚ 123456789101112131415161718import Icons from &#x27;unplugin-icons/vite&#x27;import IconsResolver from &#x27;unplugin-icons/resolver&#x27;export default defineConfig(&#123; plugins: [ Components(&#123; resolvers: [ IconsResolver(&#123; prefix: &#x27;icon&#x27;, enabledCollections: [&#x27;ep&#x27;, &#x27;mdi&#x27;, &#x27;iconamoon&#x27;], &#125;), ], &#125;), Icons(&#123; autoInstall: true, &#125;), ]&#125;) 1234// xxxx.vue&lt;icon-mdi-Bowl /&gt;&lt;icon-mdi-alarmClock /&gt;&lt;icon-iconamoon-arrow-bottom-right-1-fill /&gt; æ€ä¹ˆå»çœ‹enabledCollectionsä¸­å®šä¹‰çš„è¿™ä¸ªå›¾æ ‡åº“åç§°å‘¢ï¼Ÿ æ³¨æ„ å½“æ²¡åšå›¾æ ‡åº“é™åˆ¶çš„æ—¶å€™ï¼Œä½¿ç”¨äº†å“ªäº›å›¾æ ‡åº“å°±ä¼šè‡ªåŠ¨å®‰è£…è¿™ä¸ªå›¾æ ‡åº“çš„ä¾èµ–ï¼Œå› æ­¤æ›´å»ºè®®ä½¿ç”¨IconsResolver({})è‡ªå®šä¹‰çš„å»é™åˆ¶å›¾æ ‡åº“","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"vue3","slug":"vue3","permalink":"http://example.com/tags/vue3/"},{"name":"element-Plus","slug":"element-Plus","permalink":"http://example.com/tags/element-Plus/"}]},{"title":"0-1æ­å»ºvue3é¡¹ç›®åŠé…ç½®","slug":"39- 0-1æ­å»ºvue3é¡¹ç›®","date":"2025-08-20T15:51:08.000Z","updated":"2026-03-01T16:07:38.352Z","comments":true,"path":"posts/eb0b56b0.html","permalink":"http://example.com/posts/eb0b56b0.html","excerpt":"","text":"ç”±äºviteè„šæ‰‹æ¶è¦ç¦æ­¢*.cjs å’Œ eslintç‰ˆæœ¬å‡çº§åºŸå¼ƒrcé…ç½®æ–‡ä»¶ï¼Œ æ•…é‡æ–°æ­å»ºã€‚ æ ¸å¿ƒé‡‡ç”¨**antfu**å¤§ç¥é¢„è®¾é…ç½® æ›¿ä»£prettierå’Œeslintè®¾ç½®ï¼Œä¿ç•™stylelintåŸå› æ˜¯æš‚æ—¶antfuä¸æ”¯æŒã€‚ 1ã€å‰ç½®æ¡ä»¶1.1ã€nodeç‰ˆæœ¬node æœ€å¥½&gt;20 å› ä¸ºeslint9çš„éœ€è¦ æœ¬æ¬¡é¡¹ç›®nodeä¸º20.15.1 1.2ã€åŒ…ç®¡ç†å™¨åŒ…ç®¡ç†å™¨ é‡‡ç”¨pnpm 1.3ã€VsCodeæ’ä»¶123456789101112131415.vscode/extensions.jsonå®ƒçš„ä½œç”¨æ˜¯ï¼šå½“å…¶ä»–å¼€å‘è€…ç”¨ VS Code æ‰“å¼€ä½ çš„é¡¹ç›®æ—¶ï¼ŒVS Code ä¼šè‡ªåŠ¨å¼¹å‡ºæç¤ºï¼Œå»ºè®®å®‰è£…è¿™äº›æ’ä»¶ã€‚recommendationsï¼šæ•°ç»„ï¼Œåˆ—å‡ºæ¨èç»™å›¢é˜Ÿæˆå‘˜çš„ VS Code æ‰©å±•æ’ä»¶ IDã€‚&#123; &quot;recommendations&quot;: [ &quot;Vue.volar&quot;, &quot;dbaeumer.vscode-eslint&quot;, &quot;esbenp.prettier-vscode&quot;, &quot;csstools.postcss&quot;, &quot;stylelint.vscode-stylelint&quot;, &quot;antfu.unocss&quot;, &quot;simonhe.to-unocss&quot; ]&#125; 2ã€åˆ›å»ºé¡¹ç›®123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051# åˆ›å»ºï¼ˆäºŒé€‰ä¸€ï¼‰pnpm create vite (viteå®˜æ–¹)pnpm create vue@latest (vueå®˜æ–¹)# å‘½å? Project name: Â» vite-project# é€‰æ‹©æ¡†æ¶ Vanilla&gt; Vue React Preact Lit Svelte Solid Qwik Others# é€‰æ‹©è‡ªå·±éœ€è¦çš„è¯­è¨€? Select a variant: Â» TypeScript JavaScript&gt; Customize with create-vue (ç°æˆçš„æ¨¡æ¿â€”â€”æ¨è) Nuxt# é€‰é…âˆš æ˜¯å¦ä½¿ç”¨ TypeScript è¯­æ³•ï¼Ÿ Â» æ˜¯âˆš æ˜¯å¦å¯ç”¨ JSX æ”¯æŒï¼Ÿ Â» æ˜¯âˆš æ˜¯å¦å¼•å…¥ Vue Router è¿›è¡Œå•é¡µé¢åº”ç”¨å¼€å‘ï¼Ÿ Â» æ˜¯âˆš æ˜¯å¦å¼•å…¥ Pinia ç”¨äºçŠ¶æ€ç®¡ç†ï¼Ÿ Â» æ˜¯âˆš æ˜¯å¦å¼•å…¥ Vitest ç”¨äºå•å…ƒæµ‹è¯•ï¼Ÿ Â» æ˜¯âˆš æ˜¯å¦è¦å¼•å…¥ä¸€æ¬¾ç«¯åˆ°ç«¯ï¼ˆEnd to Endï¼‰æµ‹è¯•å·¥å…·ï¼Ÿ Â» ä¸éœ€è¦âˆš æ˜¯å¦å¼•å…¥ ESLint ç”¨äºä»£ç è´¨é‡æ£€æµ‹ï¼Ÿ Â» å¦# åˆå§‹åŒ–ä¾èµ–dependencies: + pinia 2.3.1 + vue 3.5.13 + vue-router 4.5.0devDependencies: + @tsconfig/node22 22.0.0 + @types/node 22.10.10 + @vitejs/plugin-vue 5.2.1 + @vitejs/plugin-vue-jsx 4.1.1 + @vue/tsconfig 0.7.0 + npm-run-all2 7.0.2 + typescript 5.7.3 + vite 6.0.11 + vite-plugin-vue-devtools 7.7.1 + vue-tsc 2.2.0 å¦‚æœpnpmç‰ˆæœ¬æ˜¯ v10.1.0 åŠä»¥ä¸Šï¼Œå®‰è£…ä¾èµ–åŒ…çš„æ—¶å€™pnpm iä¼šæœ‰è¿™ä¸ªè­¦å‘Šæç¤ºã€‚å› ä¸ºpnpm ä» v10.1.0 å¼€å§‹å¼•å…¥å®‰å…¨æœºåˆ¶ï¼Œé»˜è®¤ç¦æ­¢ä¾èµ–åŒ…è¿è¡Œæ„å»ºè„šæœ¬ï¼ˆå¦‚ postinstallï¼‰ï¼Œéœ€è¦æ‰‹åŠ¨æ‰¹å‡†ã€‚è‹¥æœªæ˜ç¡®å…è®¸ esbuild çš„è„šæœ¬æ‰§è¡Œï¼Œåˆ™ä¼šå‡ºç°æ­¤è­¦å‘Šã€‚ è§£å†³ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆé€‚åˆé•¿æœŸé…ç½®ï¼‰ 12345&#123; &quot;pnpm&quot;: &#123; &quot;onlyBuiltDependencies&quot;: [&quot;esbuild&quot;] &#125;&#125; 3ã€å¼ºåˆ¶ä½¿ç”¨pnpmengines å­—æ®µç”¨äºæŒ‡å®šæ”¯æŒçš„ Node.js ç‰ˆæœ¬ä»¥åŠå…¶ä»–ä¾èµ–åŒ…çš„ç‰ˆæœ¬èŒƒå›´ã€‚å®ƒæ—¢ä¸å…·æœ‰æç¤ºä½œç”¨ä¹Ÿä¸å…·æœ‰é™åˆ¶ä½œç”¨ï¼Œå®ƒä»…ä»…æ˜¯ä¸€ä¸ªæ ‡å‡†ï¼Œå‘Šè¯‰ä½¿ç”¨è€…è¯¥è½¯ä»¶åŒ…æ”¯æŒå“ªäº›ç‰ˆæœ¬çš„ç¯å¢ƒã€‚ &quot;preinstall&quot;: &quot;npx only-allow pnpm&quot;åˆ™å…·æœ‰å¼ºåˆ¶ä½œç”¨ï¼Œå¿…é¡»ä½¿ç”¨pnpmã€‚ 12345678/ package.json&quot;engines&quot;: &#123; &quot;node&quot;: &quot;&gt;=20.15.1&quot;, &quot;pnpm&quot;: &quot;&gt;=9.0.6&quot;&#125;,&quot;scripts&quot;: &#123; &quot;preinstall&quot;: &quot;npx only-allow pnpm&quot;&#125;, 4ã€.vscode é…ç½®æ–‡ä»¶ ç”¨äºä¿å­˜å¸¦ä»£ç æ ¼å¼åŒ–åŠŸèƒ½ .vscode&#x2F;setting.json 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150&#123; // è¿™è¡Œé…ç½®å¼€å¯äº†æ–‡ä»¶åµŒå¥—åŠŸèƒ½ï¼Œä½¿å…¶åœ¨æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸­ç”Ÿæ•ˆã€‚ &quot;explorer.fileNesting.enabled&quot;: true, // è¿™æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­å®šä¹‰äº†å¤šä¸ªæ–‡ä»¶åµŒå¥—çš„æ¨¡å¼ã€‚æ¯ä¸ªé”®å€¼å¯¹å®šä¹‰äº†ä¸€ä¸ªä¸»æ–‡ä»¶å’Œä¸ä¹‹ç›¸å…³è”çš„æ–‡ä»¶æ¨¡å¼ &quot;explorer.fileNesting.patterns&quot;: &#123; &quot;tsconfig.json&quot;: &quot;tsconfig.*.json, env.d.ts&quot;, &quot;vite.config.*&quot;: &quot;jsconfig*, vitest.config.*, cypress.config.*, playwright.config.*&quot;, &quot;package.json&quot;: &quot;package-lock.json, pnpm*, .yarnrc*, yarn*, .eslint*, eslint*, .prettier*, prettier*, .editorconfig, commitlint.config.*, lint-staged.config.*, stylelint.config.*, uno.config.*,.gitignore,.stylelintignore&quot; &#125;, &quot;typescript.tsdk&quot;: &quot;./node_modules/typescript/lib&quot;, // é…ç½® TypeScript è¯­è¨€æœåŠ¡çš„ SDK è·¯å¾„ï¼ŒæŒ‡å‘æœ¬åœ°çš„ TypeScript åº“ã€‚ &quot;npm.packageManager&quot;: &quot;pnpm&quot;, // é…ç½®ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨ä¸º pnpmã€‚ è®¾ç½®ä¸»è¦å½±å“ VS Code å†…ç½®çš„ä¸€äº›è‡ªåŠ¨åŒ–ä»»åŠ¡å’Œè„šæœ¬è¿è¡Œï¼Œä½†å¹¶ä¸ä¼šå½±å“ä½ åœ¨ç»ˆç«¯ä¸­æ‰‹åŠ¨è¾“å…¥çš„å‘½ä»¤ã€‚ &quot;editor.tabSize&quot;: 4, // è®¾ç½®ç¼–è¾‘å™¨ä¸­çš„åˆ¶è¡¨ç¬¦å®½åº¦ä¸º 4 ä¸ªç©ºæ ¼ã€‚ &quot;editor.defaultFormatter&quot;: &quot;esbenp.prettier-vscode&quot;, // æŒ‡å®šé»˜è®¤çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ä¸º esbenp.prettier-vscode // ä¿å­˜æ–‡ä»¶ç¼“æ…¢æ—¶ï¼Œå¯ä»¥è€ƒè™‘å¼€å¯ä»¥ä¸‹ 3 è¡Œé…ç½®ã€‚ &quot;vue.server.maxOldSpaceSize&quot;: 4096, // è®¾ç½® Vue æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„æœ€å¤§å†…å­˜é™åˆ¶ä¸º 4GBã€‚ &quot;vue.server.hybridMode&quot;: true, // å¯ç”¨ Vue æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„æ··åˆæ¨¡å¼ã€‚ &quot;typescript.tsserver.maxTsServerMemory&quot;: 4096, // è®¾ç½® TypeScript è¯­è¨€æœåŠ¡çš„æœ€å¤§å†…å­˜é™åˆ¶ä¸º 4GBã€‚ &quot;files.eol&quot;: &quot;\\n&quot;, // è®¾ç½®æ–‡ä»¶çš„è¡Œç»“æŸç¬¦ä¸ºæ¢è¡Œç¬¦ï¼ˆ\\nï¼‰ã€‚ &quot;editor.guides.bracketPairs&quot;: true, // å¯ç”¨æ‹¬å·å¯¹é«˜äº®æ˜¾ç¤ºåŠŸèƒ½ã€‚ &quot;editor.bracketPairColorization.enabled&quot;: true, // å¯ç”¨æ‹¬å·å¯¹é¢œè‰²çªå‡ºæ˜¾ç¤ºåŠŸèƒ½ã€‚ &quot;vue.inlayHints.missingProps&quot;: true, // å¯ç”¨ Vue ç»„ä»¶çš„å±æ€§æç¤ºåŠŸèƒ½ã€‚ &quot;vue.autoInsert.dotValue&quot;: true, // è‡ªåŠ¨æ’å…¥ç¼ºå¤±çš„å±æ€§å€¼ã€‚ &quot;explorer.copyRelativePathSeparator&quot;: &quot;/&quot;, // è®¾ç½®å¤åˆ¶ç›¸å¯¹è·¯å¾„æ—¶ä½¿ç”¨çš„åˆ†éš”ç¬¦ä¸ºæ­£æ–œæ ã€‚ &quot;search.exclude&quot;: &#123; // é…ç½®è¦æ’é™¤çš„æ–‡ä»¶å’Œç›®å½•ï¼Œä»¥å‡å°‘ä¸å¿…è¦çš„æœç´¢ã€‚ &quot;**/node_modules&quot;: true, &quot;**/*.log&quot;: true, &quot;**/*.log*&quot;: true, &quot;**/bower_components&quot;: true, &quot;**/dist&quot;: true, &quot;**/elehukouben&quot;: true, &quot;**/.git&quot;: true, &quot;**/.gitignore&quot;: true, &quot;**/.svn&quot;: true, &quot;**/.DS_Store&quot;: true, &quot;**/.idea&quot;: true, &quot;**/.vscode&quot;: false, &quot;**/pnpm i.lock&quot;: true, &quot;**/tmp&quot;: true, &quot;out&quot;: true, &quot;dist&quot;: true, &quot;node_modules&quot;: true, &quot;CHANGELOG.md&quot;: true, &quot;examples&quot;: true, &quot;res&quot;: true, &quot;screenshots&quot;: true, &quot;pnpm i-error.log&quot;: true, &quot;**/.pnpm i&quot;: true &#125;, &quot;files.exclude&quot;: &#123; // é…ç½®è¦æ’é™¤çš„æ–‡ä»¶å’Œç›®å½•ï¼Œä»¥å‡å°‘ä¸å¿…è¦çš„æ–‡ä»¶æœç´¢å’Œå¤„ç†ã€‚ &quot;**/.cache&quot;: true, &quot;**/.editorconfig&quot;: true, &quot;**/.eslintcache&quot;: true, &quot;**/bower_components&quot;: true, &quot;**/.idea&quot;: true, &quot;**/tmp&quot;: true, &quot;**/.git&quot;: true, &quot;**/.svn&quot;: true, &quot;**/.hg&quot;: true, &quot;**/CVS&quot;: true, &quot;**/.DS_Store&quot;: true &#125;, &quot;files.watcherExclude&quot;: &#123; // é…ç½®æ–‡ä»¶ç›‘è§†å™¨ä¸­è¦æ’é™¤çš„æ–‡ä»¶å’Œç›®å½•ï¼Œä»¥å‡å°‘ä¸å¿…è¦çš„æ–‡ä»¶ç›‘è§†ã€‚ &quot;**/.git/objects/**&quot;: true, &quot;**/.git/subtree-cache/**&quot;: true, &quot;**/.vscode/**&quot;: true, &quot;**/node_modules/**&quot;: true, &quot;**/tmp/**&quot;: true, &quot;**/bower_components/**&quot;: true, &quot;**/dist/**&quot;: true, &quot;**/pnpm i.lock&quot;: true &#125;, &quot;eslint.useFlatConfig&quot;: true, // å¯ç”¨ ESLint çš„æ‰å¹³åŒ–é…ç½®ã€‚ &quot;stylelint.enable&quot;: true, // å¯ç”¨ stylelint éªŒè¯ã€‚ &quot;stylelint.validate&quot;: [ // é…ç½®è¦éªŒè¯çš„æ–‡ä»¶ç±»å‹ï¼ŒåŒ…æ‹¬ CSSã€LESSã€SCSSã€Vueã€Sassã€‚ &quot;css&quot;, &quot;less&quot;, &quot;postcss&quot;, &quot;scss&quot;, &quot;vue&quot;, &quot;sass&quot; ], &quot;path-intellisense.mappings&quot;: &#123; // é…ç½®è·¯å¾„åˆ«åï¼Œç”¨äºæé«˜ä»£ç å¯è¯»æ€§å’Œå¼€å‘æ•ˆç‡ã€‚ &quot;@/&quot;: &quot;$&#123;workspaceRoot&#125;/src&quot; &#125;, // &quot;i18n-ally.localesPaths&quot;: [&quot;src/locales/lang&quot;], // é…ç½® i18n-ally æ’ä»¶çš„è¯­è¨€æ–‡ä»¶è·¯å¾„ã€‚ // &quot;i18n-ally.keystyle&quot;: &quot;nested&quot;, // é…ç½® i18n-ally æ’ä»¶çš„é”®é£æ ¼ä¸ºåµŒå¥—ã€‚ // &quot;i18n-ally.sortKeys&quot;: true, // é…ç½® i18n-ally æ’ä»¶çš„é”®æ’åºã€‚ // &quot;i18n-ally.namespace&quot;: true, // é…ç½® i18n-ally æ’ä»¶çš„å‘½åç©ºé—´ã€‚ // &quot;i18n-ally.pathMatcher&quot;: &quot;&#123;locale&#125;/&#123;namespaces&#125;.&#123;ext&#125;&quot;, // é…ç½® i18n-ally æ’ä»¶çš„è·¯å¾„åŒ¹é…å™¨ã€‚ // &quot;i18n-ally.enabledParsers&quot;: [&quot;json&quot;], // é…ç½® i18n-ally æ’ä»¶çš„å¯ç”¨è§£æå™¨ã€‚ // &quot;i18n-ally.sourceLanguage&quot;: &quot;en&quot;, // é…ç½® i18n-ally æ’ä»¶çš„æºè¯­è¨€ã€‚ // &quot;i18n-ally.displayLanguage&quot;: &quot;zh-CN&quot;, // é…ç½® i18n-ally æ’ä»¶çš„æ˜¾ç¤ºè¯­è¨€ã€‚ // &quot;i18n-ally.enabledFrameworks&quot;: [&quot;vue&quot;, &quot;react&quot;], // é…ç½® i18n-ally æ’ä»¶çš„å¯ç”¨æ¡†æ¶ã€‚ // ç¦ç”¨é»˜è®¤æ ¼å¼åŒ–ç¨‹åºï¼Œæ”¹ç”¨eslint &quot;prettier.enable&quot;: false, &quot;editor.formatOnSave&quot;: false, // è‡ªåŠ¨ä¿®å¤ &quot;editor.codeActionsOnSave&quot;: &#123; // ä¿å­˜æ—¶æ ¼å¼åŒ– // ä¿å­˜æ—¶å¯ç”¨eslintæ ¼å¼åŒ– &quot;source.fixAll.eslint&quot;: &quot;explicit&quot;, // &quot;never&quot;è¡¨ç¤ºåœ¨ä¿å­˜æ–‡ä»¶æ—¶ï¼Œä¸ä¼šè‡ªåŠ¨æ•´ç†æˆ–æ’åºimportè¯­å¥ã€‚æ€§èƒ½æ¶ˆè€—å¤§ï¼Œå› æ­¤å…³é—­ã€‚ &quot;source.organizeImports&quot;: &quot;never&quot;, // ä¿å­˜æ—¶å¯ç”¨stylelintæ ¼å¼åŒ–lessæˆ–æ˜¯sass &quot;source.fixAll.stylelint&quot;: &quot;explicit&quot; &#125;, // è‡ªå®šä¹‰ ESLint è§„åˆ™çš„è¡Œä¸ºï¼Œå…³é—­æŸäº›é£æ ¼è§„åˆ™çš„è­¦å‘Šï¼Œä½†ä»ç„¶å…è®¸è‡ªåŠ¨ä¿®å¤ã€‚ &quot;eslint.rules.customizations&quot;: [ &#123; &quot;rule&quot;: &quot;style/*&quot;, &quot;severity&quot;: &quot;off&quot;, &quot;fixable&quot;: true &#125;, &#123; &quot;rule&quot;: &quot;format/*&quot;, &quot;severity&quot;: &quot;off&quot;, &quot;fixable&quot;: true &#125;, &#123; &quot;rule&quot;: &quot;*-indent&quot;, &quot;severity&quot;: &quot;off&quot;, &quot;fixable&quot;: true &#125;, &#123; &quot;rule&quot;: &quot;*-spacing&quot;, &quot;severity&quot;: &quot;off&quot;, &quot;fixable&quot;: true &#125;, &#123; &quot;rule&quot;: &quot;*-spaces&quot;, &quot;severity&quot;: &quot;off&quot;, &quot;fixable&quot;: true &#125;, &#123; &quot;rule&quot;: &quot;*-order&quot;, &quot;severity&quot;: &quot;off&quot;, &quot;fixable&quot;: true &#125;, &#123; &quot;rule&quot;: &quot;*-dangle&quot;, &quot;severity&quot;: &quot;off&quot;, &quot;fixable&quot;: true &#125;, &#123; &quot;rule&quot;: &quot;*-newline&quot;, &quot;severity&quot;: &quot;off&quot;, &quot;fixable&quot;: true &#125;, &#123; &quot;rule&quot;: &quot;*quotes&quot;, &quot;severity&quot;: &quot;off&quot;, &quot;fixable&quot;: true &#125;, &#123; &quot;rule&quot;: &quot;*semi&quot;, &quot;severity&quot;: &quot;off&quot;, &quot;fixable&quot;: true &#125; ], // ç¦ç”¨ CSSã€LESS å’Œ SCSS çš„å†…ç½®éªŒè¯ã€‚ &quot;css.validate&quot;: false, &quot;less.validate&quot;: false, &quot;scss.validate&quot;: false, // å¯ç”¨ ESLint æ”¯æŒçš„æ‰€æœ‰è¯­è¨€ç±»å‹ &quot;eslint.validate&quot;: [ &quot;javascript&quot;, &quot;javascriptreact&quot;, &quot;typescript&quot;, &quot;typescriptreact&quot;, &quot;vue&quot;, &quot;html&quot;, &quot;markdown&quot;, &quot;json&quot;, &quot;jsonc&quot;, &quot;yaml&quot;, &quot;toml&quot;, &quot;xml&quot;, &quot;gql&quot;, &quot;graphql&quot;, &quot;astro&quot;, &quot;css&quot;, &quot;less&quot;, &quot;scss&quot;, &quot;pcss&quot;, &quot;postcss&quot; ]&#125; è¿™ä¸¤è¡Œçš„ä½œç”¨å°±æ˜¯æ–‡ä»¶åµŒå¥—ä½œç”¨ 123456&quot;explorer.fileNesting.enabled&quot;: true,&quot;explorer.fileNesting.patterns&quot;: &#123; &quot;tsconfig.json&quot;: &quot;tsconfig.*.json, env.d.ts&quot;, &quot;vite.config.*&quot;: &quot;jsconfig*, vitest.config.*, cypress.config.*, playwright.config.*&quot;, &quot;package.json&quot;: &quot;package-lock.json, pnpm*, .yarnrc*, yarn*, .eslint*, eslint*, .prettier*, prettier*, .editorconfig&quot;&#125; 5ã€styleLint ã€é‡‡ç”¨ã€‘ lesså’Œsass æ¨èåªé€‰ä¸€ä¸ª 5.1ã€ä¾èµ–åŒ… 12345678910devDependencies: + less 4.2.2 + postcss-less 6.0.0 + sass 1.83.4 + postcss-scss 4.0.9 + postcss 8.5.1 + postcss-html 1.8.0 + stylelint 16.13.2 + stylelint-config-recess-order 6.0.0 + stylelint-config-standard 37.0.0 5.2ã€å®‰è£… 12345# é€‰æ‹©sasspnpm i sass postcss postcss-scss postcss-html stylelint stylelint-config-standard-scss stylelint-config-recess-order -D# é€‰æ‹©leespnpm i less postcss postcss-less postcss-html stylelint stylelint-config-standard-less stylelint-config-recess-order -D ä¾èµ– è¯´æ˜ å¤‡æ³¨ stylelint stylelintæ ¸å¿ƒåº“ stylelint stylelint-config-standard Stylelint çš„æ ‡å‡†é…ç½®ï¼Œé€‚ç”¨äºæ™®é€šçš„ CSS æ–‡ä»¶ å¸®åŠ©å¼€å‘è€…ç¼–å†™ä¸€è‡´ã€è§„èŒƒçš„ CSS ä»£ç ã€‚ stylelint-config-standard-scss ä¸“é—¨ä¸º SCSSï¼ˆSassï¼‰æ–‡ä»¶è®¾è®¡çš„æ ‡å‡†é…ç½® åœ¨æ­¤stylelint-config-standardåŸºç¡€ä¸Šæ‰©å±•äº†å¯¹ SCSS è¯­æ³•çš„æ”¯æŒ stylelint-config-standard-less ä¸“é—¨ä¸º lessæ–‡ä»¶è®¾è®¡çš„æ ‡å‡†é…ç½® åœ¨æ­¤stylelint-config-standardåŸºç¡€ä¸Šæ‰©å±•äº†å¯¹ lessè¯­æ³•çš„æ”¯æŒ stylelint-config-recess-order æä¾›ä¼˜åŒ–æ ·å¼é¡ºåºé…ç½® cssæ ·å¼ä¹¦å†™é¡ºåºè§„èŒƒ postcss å¤„ç† CSS çš„å·¥å…· è‡ªåŠ¨æ·»åŠ æµè§ˆå™¨å‰ç¼€ã€CSS è¿›è¡Œå‹ç¼©ã€å»é™¤æœªä½¿ç”¨çš„ CSSã€åˆå¹¶ç›¸åŒçš„é€‰æ‹©å™¨ç­‰ä¼˜åŒ–æ“ä½œç­‰ç­‰ postcss-scss postcssçš„scssè§£æå™¨ postcss-scssæ–‡æ¡£ï¼Œæ”¯æŒcssè¡Œç±»æ³¨é‡Š postcss-html è§£æhtml(ç±»ä¼¼html)çš„postcssè¯­æ³• postcss-htmlæ–‡æ¡£ å¦‚æœé¡¹ç›®ä½¿ç”¨çš„æ˜¯scsså°±ä½¿ç”¨stylelint-config-standard-scssï¼Œå¦‚æœscsså’Œlesséƒ½æ²¡ä½¿ç”¨åˆ™å®‰è£…stylelint-config-standard 5.3ã€é…ç½®æ–‡ä»¶ stylelint.config.mjs 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798/** @type &#123;import(&#x27;stylelint&#x27;).Config&#125; */export default &#123; // stylelint-config-standard åŸºç¡€é…ç½® // stylelint-config-recess-order æ ·å¼é¡ºåº extends: [&#x27;stylelint-config-standard-scss&#x27;, &#x27;stylelint-config-recess-order&#x27;], // ä¸åŒæ–‡ä»¶ç±»å‹ç”¨ä¸åŒè§£æå™¨ overrides: [ &#123; files: [&#x27;**/*.(css|html|vue)&#x27;], customSyntax: &#x27;postcss-html&#x27;, &#125;, // é€‰lesså¯ä»¥æ³¨é‡Šscss // &#123; // files: [&#x27;*.less&#x27;, &#x27;**/*.less&#x27;], // customSyntax: &#x27;postcss-less&#x27;, // &#125;, // é€‰sasså¯ä»¥æ³¨é‡Šä¸Šé¢çš„less &#123; files: [&#x27;*.scss&#x27;, &#x27;**/*.scss&#x27;], customSyntax: &#x27;postcss-scss&#x27;, rules: &#123; &#x27;scss/percent-placeholder-pattern&#x27;: null, &#x27;scss/at-mixin-pattern&#x27;: null, &#125;, &#125;, ], rules: &#123; // &#x27;prettier/prettier&#x27;: true, &#x27;media-feature-range-notation&#x27;: null, &#x27;scss/at-mixin-pattern&#x27;: null, &#x27;selector-not-notation&#x27;: null, &#x27;import-notation&#x27;: null, &#x27;function-no-unknown&#x27;: null, &#x27;selector-class-pattern&#x27;: null, &#x27;selector-pseudo-class-no-unknown&#x27;: [ true, &#123; ignorePseudoClasses: [&#x27;global&#x27;, &#x27;deep&#x27;], &#125;, ], &#x27;selector-pseudo-element-no-unknown&#x27;: [ true, &#123; ignorePseudoElements: [&#x27;v-deep&#x27;, &#x27;:deep&#x27;], &#125;, ], &#x27;at-rule-no-unknown&#x27;: [ true, &#123; ignoreAtRules: [ &#x27;tailwind&#x27;, &#x27;apply&#x27;, &#x27;variants&#x27;, &#x27;responsive&#x27;, &#x27;screen&#x27;, &#x27;function&#x27;, &#x27;if&#x27;, &#x27;each&#x27;, &#x27;include&#x27;, &#x27;mixin&#x27;, &#x27;extend&#x27;, &#x27;use&#x27;, ], &#125;, ], &#x27;no-empty-source&#x27;: null, &#x27;named-grid-areas-no-invalid&#x27;: null, &#x27;no-descending-specificity&#x27;: null, &#x27;font-family-no-missing-generic-family-keyword&#x27;: null, &#x27;rule-empty-line-before&#x27;: [ &#x27;always&#x27;, &#123; ignore: [&#x27;after-comment&#x27;, &#x27;first-nested&#x27;], &#125;, ], &#x27;unit-no-unknown&#x27;: [true, &#123; ignoreUnits: [&#x27;rpx&#x27;] &#125;], &#x27;order/order&#x27;: [ [ &#x27;dollar-variables&#x27;, &#x27;custom-properties&#x27;, &#x27;at-rules&#x27;, &#x27;declarations&#x27;, &#123; type: &#x27;at-rule&#x27;, name: &#x27;supports&#x27;, &#125;, &#123; type: &#x27;at-rule&#x27;, name: &#x27;media&#x27;, &#125;, &#x27;rules&#x27;, ], &#123; severity: &#x27;error&#x27; &#125;, ], &#125;, ignoreFiles: [&#x27;**/*.js&#x27;, &#x27;**/*.jsx&#x27;, &#x27;**/*.tsx&#x27;, &#x27;**/*.ts&#x27;],&#125; 5.4ã€æ–°å¢è„šæœ¬ package.json 123456&#123; &quot;scripts&quot;: &#123; // ä¿®å¤æŠ¥é”™ &quot;lint:stylelint&quot;: &quot;stylelint \\&quot;**/*.&#123;css,scss,less,vue,html&#125;\\&quot; --fix&quot; &#125;&#125; 5.4ã€æ·»åŠ å¿½ç•¥æ–‡ä»¶ .stylelintignore 12/dist/*/public/* 6ã€antfu ç»„åˆprettier&amp;eslint ã€é‡‡ç”¨ã€‘ é…ç½®ç½‘ç«™ https://github.com/antfu/eslint-config/tree/feat/support-eslint-9?tab=readme-ov-file å…ˆé€‰ä¸€ä¸ªunocss å…å¾—åç»­å†å»å®‰è£…unocssçš„@unocss&#x2F;eslint-plugin 6.1ã€å‘½ä»¤è¡Œç•Œé¢ (CLI) å®‰è£… 12/ ç©ºæ ¼é€‰æ‹© å›è½¦ä¸‹ä¸€æ­¥npx @antfu/eslint-config@latest æœ€åä¸€æ­¥é€‰NOï¼Œé…ç½®setting.jsonä¸­çš„å†…å®¹ï¼Œå› ä¸ºä¹‹å‰ä¸€æ¬¡æ€§é…ç½®äº†ï¼Œå› ä¸ºè¿™é‡Œé€‰noã€‚ 12345devDependencies: + @antfu/eslint-config 3.16.0 + @unocss/eslint-plugin 65.4.3 + eslint 9.18.0 + eslint-plugin-format 1.0.1 é»˜è®¤ä¼šæ·»åŠ è¿™äº›ä¾èµ–åˆ°åŒ…ç®¡ç†æ–‡ä»¶package.jsonï¼ˆæœªå®‰è£…ï¼‰ï¼Œå› æ­¤éœ€è¦é‡æ–°å®‰è£…ä¸‹ä¾èµ– 1pnpm i 6.2ã€é…ç½®æ–‡ä»¶ ä¿®æ”¹ç”Ÿæˆé…ç½®æ–‡ä»¶eslint.config.jsä¸ºeslint.config.mjs ç”¨äºeslintè§„åˆ™æ ¡éªŒ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051import antfu from &#x27;@antfu/eslint-config&#x27;export default antfu( &#123; stylistic: &#123; indent: 4, // ç¼©è¿› quotes: &#x27;single&#x27;, // å•å¼•å· &#125;, formatters: true, // typescript: true, // æ”¯æŒts unocss: true, // æ”¯æŒunocss isInEditor: false, // ä¿å­˜åˆ é™¤æœªå¼•å…¥çš„ä»£ç  vue: &#123; overrides: &#123; // vueæ–‡ä»¶é¡ºåº &#x27;vue/block-order&#x27;: [&#x27;error&#x27;, &#123; order: [[&#x27;template&#x27;, &#x27;script&#x27;], &#x27;style&#x27;] &#125;], &#x27;vue/singleline-html-element-content-newline&#x27;: &#x27;off&#x27;, // å…³é—­å•è¡Œå…ƒç´ å†…å®¹æ¢è¡Œ &#125;, &#125;, &#125;, &#123; rules: &#123; &#x27;no-console&#x27;: &#x27;off&#x27;, // å…³é—­consoleæ£€æŸ¥ &#x27;no-debugger&#x27;: &#x27;off&#x27;, // å…³é—­debuggeræ£€æŸ¥ &#x27;antfu/top-level-function&#x27;: &#x27;off&#x27;, // é¡¶çº§å‡½æ•°æ£€æµ‹(å¼€å¯æ—¶ä¼šå°†ç®­å¤´å‡½æ•°è½¬æ¢ä¸ºæ™®é€šå‡½æ•°) &#x27;antfu/if-newline&#x27;: &#x27;off&#x27;, // ç¦æ­¢æ¢è¡Œ ä¾‹å¦‚ if (a) return aä½¿è¿™ç§return aä¸ä¼šæ¢è¡Œ &#x27;style/brace-style&#x27;: &#x27;off&#x27;, // å…³é—­å¤§æ‹¬å·é£æ ¼æ£€æŸ¥(åªè¦æœ‰å¤§æ‹¬å·å°±ä¼šæ¢è¡Œçš„æƒ…å†µ) &#x27;no-alert&#x27;: &#x27;off&#x27;, // å…³é—­alertæ£€æŸ¥ &#125;, &#125;, &#123; // 9xç‰ˆæœ¬ å¿½ç•¥æ–‡ä»¶è¿™ç§é…ç½®æ–¹å¼ åºŸå¼ƒæ‰eslintignore ignores: [ &#x27;*.md&#x27;, &#x27;**/*.md&#x27;, &#x27;*.sh&#x27;, &#x27;.husky&#x27;, &#x27;.local&#x27;, &#x27;node_modules&#x27;, &#x27;*.md&#x27;, &#x27;*.woff&#x27;, &#x27;*.ttf&#x27;, &#x27;.idea&#x27;, &#x27;docs/**&#x27;, &#x27;public/**&#x27;, &#x27;/bin/**&#x27;, &#x27;Dockerfile&#x27;, ], &#125;,) 6.3ã€æ–°å¢è„šæœ¬ 1234567&#123; &quot;scripts&quot;: &#123; // ... &quot;lint&quot;: &quot;eslint .&quot;, // æ£€æµ‹ &quot;lint:fix&quot;: &quot;eslint . --fix&quot; // ä¿®å¤ &#125;&#125; 7ã€.gitignoreæ–‡ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117# Logslogs*.lognpm-debug.log*yarn-debug.log*yarn-error.log*lerna-debug.log*# Diagnostic reports (https://nodejs.org/api/report.html)report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json# Runtime datapids*.pid*.seed*.pid.lock# Directory for instrumented libs generated by jscoverage/JSCoverlib-cov# Coverage directory used by tools like istanbulcoverage*.lcov# nyc test coverage.nyc_output# Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files).grunt# Bower dependency directory (https://bower.io/)bower_components# node-waf configuration.lock-wscript# Compiled binary addons (https://nodejs.org/api/addons.html)build/Release# Dependency directoriesnode_modules/jspm_packages/# Snowpack dependency directory (https://snowpack.dev/)web_modules/# TypeScript cache*.tsbuildinfo# Optional npm cache directory.npm# Optional eslint cache.eslintcache# Microbundle cache.rpt2_cache/.rts2_cache_cjs/.rts2_cache_es/.rts2_cache_umd/# Optional REPL history.node_repl_history# Output of &#x27;npm pack&#x27;*.tgz# Yarn Integrity file.yarn-integrity# parcel-bundler cache (https://parceljs.org/).cache.parcel-cache# Next.js build output.nextout# Nuxt.js build / generate output.nuxtdist# Gatsby files.cache/# Comment in the public line in if your project uses Gatsby and not Next.js# https://nextjs.org/blog/next-9-1#public-directory-support# public# vuepress build output.vuepress/dist# Serverless directories.serverless/# FuseBox cache.fusebox/# DynamoDB Local files.dynamodb/# TernJS port file.tern-port# Stores VSCode versions used for testing VSCode extensions.vscode-test# yarn v2.yarn/cache.yarn/unplugged.yarn/build-state.yml.yarn/install-state.gz.pnp.*stats.html.stylelintcache 8ã€ä»£ç æäº¤æ£€æŸ¥Husky + Lint-staged + Commitlint æ¥é…ç½® Git æäº¤ä»£ç è§„èŒƒã€‚ æ ¸å¿ƒå†…å®¹æ˜¯é…ç½® Husky çš„pre-commitå’Œ commit-msg ä¸¤ä¸ªé’©å­: **pre-commitï¼š**Husky + Lint-staged æ•´åˆå®ç° Git æäº¤å‰ä»£ç è§„èŒƒæ£€æµ‹&#x2F;æ ¼å¼åŒ– (å‰æï¼šESlint + Prettier + Stylelint ä»£ç ç»Ÿä¸€è§„èŒƒ)ï¼› commit-msgï¼š Husky + Commitlint æ•´åˆå®ç°ç”Ÿæˆè§„èŒƒåŒ–ä¸”é«˜åº¦è‡ªå®šä¹‰çš„ Git commit messageã€‚ 8.1ã€husky Git é’©å­å·¥å…· Husky æ˜¯ Git é’©å­å·¥å…·ï¼Œå¯ä»¥è®¾ç½®åœ¨ git å„ä¸ªé˜¶æ®µï¼ˆpre-commitã€commit-msg ç­‰ï¼‰è§¦å‘ã€‚ å®˜ç½‘https://typicode.github.io/husky æ¨èå®‰è£…æŒ‡ä»¤ å‘½ä»¤è¡Œç•Œé¢ (CLI) å®‰è£… 1npx husky-init é»˜è®¤ä¼šæ·»åŠ è¿™ä¸ªä¾èµ–åˆ°åŒ…ç®¡ç†æ–‡ä»¶package.jsonï¼ˆæœªå®‰è£…ï¼‰ï¼Œå› æ­¤éœ€è¦é‡æ–°å®‰è£…ä¸‹ä¾èµ– 1/ pnpm i 8.2ã€Lint-staged æ£€æµ‹æäº¤ä»£ç  lint-staged æ˜¯ä¸€ä¸ªåœ¨ git add åˆ°æš‚å­˜åŒºçš„æ–‡ä»¶è¿è¡Œ linters (ESLint&#x2F;Prettier&#x2F;StyleLint) çš„å·¥å…·è¿›è¡Œæ£€æµ‹ï¼Œé¿å…åœ¨ git commit æäº¤æ—¶åœ¨æ•´ä¸ªé¡¹ç›®æ‰§è¡Œã€‚ 1ï¼‰å®‰è£… 1pnpm i lint-staged -D 2ï¼‰é…ç½®æ–‡ä»¶ aã€æ–°å»º lint-staged.config.mjs é…ç½®æ–‡ä»¶ cacheç¼“å­˜èƒ½ä½¿é’©å­æ£€æµ‹é€Ÿåº¦æ›´å¿« 1234567891011/** @type &#123;import(&#x27;lint-staged&#x27;).Config&#125; */export default &#123; &#x27;*.&#123;js,ts,tsx,vue&#125;&#x27;: [ &#x27;eslint --fix --cache --cache-location .eslintcache&#x27;, ], &#x27;*.&#123;scss,html&#125;&#x27;: [ &#x27;stylelint --fix --cache --cache-location .stylelintcache --allow-empty-input&#x27;, ], &#x27;*.css&#x27;: [&#x27;prettier --write&#x27;],&#125; bã€package.json ä¸­æ·»åŠ æŒ‡ä»¤ 1234&quot;scripts&quot;: &#123; // ... &quot;lint:lint-staged&quot;: &quot;lint-staged&quot;&#125;, cã€æ–‡ä»¶.husky/pre-commitä¿®æ”¹æäº¤å‰é’©å­å‘½ä»¤ æäº¤çš„æ—¶å€™æ‰§è¡Œpre-commitæ–‡ä»¶ä¸­å‘½ä»¤ï¼Œç„¶åè§¦å‘package.json ä¸­çš„lint:lint-stagedï¼Œä»è€Œæ‰§è¡Œlint-staged.config.mjsé…ç½®æ–‡ä»¶å»åšæ£€æµ‹ã€‚ 12345#!/usr/bin/env sh. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;# æ·»åŠ è¯¥å‘½ä»¤npm run lint:lint-staged --allow-empty 8.3ã€Commitlint æ£€æµ‹æäº¤å‘½å Commitlint æ£€æŸ¥æ‚¨çš„æäº¤æ¶ˆæ¯æ˜¯å¦ç¬¦åˆ Conventional comm it format è§„èŒƒã€‚â€“ Commitlint å®˜ç½‘ 1ï¼‰å®‰è£… 1pnpm i @commitlint/cli @commitlint/config-conventional -D 2ï¼‰è¯­æ³•è§„èŒƒ 1234567891011121314// è¯­æ³•è§„èŒƒ&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;&lt;body&gt;&lt;footer&gt; // ç¤ºä¾‹feat(ç”¨æˆ·æ¨¡å—): æ–°å¢ç”¨æˆ·ç™»å½•åŠŸèƒ½æ­¤æäº¤å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ç”¨æˆ·ç™»å½•åŠŸèƒ½ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡é‚®ç®±å’Œå¯†ç è¿›è¡Œèº«ä»½éªŒè¯ã€‚åŒæ—¶ï¼Œè¿˜åŒ…å«äº†è¾“å…¥å­—æ®µçš„éªŒè¯å’Œé”™è¯¯å¤„ç†ã€‚Closes #123 3ï¼‰è¯­æ³•æ‹†è§£è¯´æ˜ å¤´éƒ¨ï¼ˆHeaderï¼‰ &lt;type&gt;: æäº¤çš„ç±»å‹ï¼Œå¸¸è§çš„ç±»å‹åŒ…æ‹¬ï¼š feat: æ–°å¢åŠŸèƒ½ fix: ä¿®å¤ç¼ºé™· docs: æ–‡æ¡£å˜æ›´ style: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰ refactor: ä»£ç é‡æ„ perf: æ€§èƒ½ä¼˜åŒ– test: æ·»åŠ æµ‹è¯•æˆ–æ”¹åŠ¨å·²æœ‰æµ‹è¯• build: æ„å»ºè¿‡ç¨‹æˆ–å¤–éƒ¨ä¾èµ–çš„å˜æ›´ ci: ä¿®æ”¹ CI é…ç½® chore: å…¶ä»–æ‚é¡¹æ›´æ”¹ revert: å›æ»šæäº¤ &lt;scope&gt;: å¯é€‰ï¼Œè¡¨ç¤ºæäº¤å½±å“çš„èŒƒå›´ï¼ˆå¦‚æ¨¡å—åã€æ–‡ä»¶åç­‰ï¼‰ï¼Œä¾‹å¦‚ ui æˆ– apiã€‚å¯ä»¥ç”¨æ‹¬å·æ‹¬èµ·æ¥ã€‚ &lt;subject&gt;: æäº¤çš„ç®€è¦æè¿°ï¼Œå»ºè®®ä¸è¶…è¿‡ 50 ä¸ªå­—ç¬¦ï¼Œä½¿ç”¨ç¥ˆä½¿å¥ï¼ˆä¾‹å¦‚ï¼šadd login featureï¼‰ã€‚ æ­£æ–‡ï¼ˆBodyï¼‰ å¯é€‰ï¼Œç”¨äºè¯¦ç»†æè¿°æäº¤çš„å†…å®¹å’ŒèƒŒæ™¯ã€‚å¯ä»¥åŒ…å«å¤šè¡Œï¼Œå»ºè®®æ¯è¡Œä¸è¶…è¿‡ 72 ä¸ªå­—ç¬¦ã€‚ è¯´æ˜ä¸ºä»€ä¹ˆè¦åšè¿™äº›æ›´æ”¹ï¼Œä»¥åŠå¦‚ä½•è§£å†³äº†é—®é¢˜æˆ–å®ç°äº†åŠŸèƒ½ã€‚ å°¾éƒ¨ï¼ˆFooterï¼‰ å¯é€‰ï¼Œé€šå¸¸ç”¨äºå¼•ç”¨ç›¸å…³çš„ä»»åŠ¡ã€é—®é¢˜ç¼–å·æˆ–å…¶ä»–é‡è¦çš„å…ƒä¿¡æ¯ã€‚ ä¾‹å¦‚ï¼šCloses #123 æˆ– Fixes #456ï¼Œè¡¨ç¤ºè¿™ä¸ªæäº¤å…³é—­æˆ–ä¿®å¤äº†ç‰¹å®šçš„é—®é¢˜ã€‚ 4ï¼‰æ³¨æ„ 5ï¼‰é…ç½®æ–‡ä»¶ æ ¹ç›®å½•åˆ›å»º commitlint.config.mjs é…ç½®æ–‡ä»¶ 12345678910111213141516171819202122232425262728293031/** @type &#123;import(&quot;@commitlint/types&quot;).UserConfig&#125; */export default &#123; ignores: [(commit) =&gt; commit.includes(&quot;init&quot;)], extends: [&quot;@commitlint/config-conventional&quot;], rules: &#123; &quot;body-leading-blank&quot;: [2, &quot;always&quot;], &quot;footer-leading-blank&quot;: [1, &quot;always&quot;], &quot;header-max-length&quot;: [2, &quot;always&quot;, 108], &quot;subject-empty&quot;: [2, &quot;never&quot;], &quot;type-empty&quot;: [2, &quot;never&quot;], &quot;subject-case&quot;: [0], &quot;type-enum&quot;: [ 2, &quot;always&quot;, [ &quot;feat&quot;, // æ–°å¢åŠŸèƒ½ &quot;fix&quot;, // ä¿®å¤ç¼ºé™· &quot;docs&quot;, // æ–‡æ¡£å˜æ›´ &quot;style&quot;, // ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼Œä¾‹å¦‚ç©ºæ ¼ã€åˆ†å·ç­‰æ ¼å¼ä¿®æ­£ï¼‰ &quot;refactor&quot;, // ä»£ç é‡æ„ï¼ˆä¸åŒ…æ‹¬ bug ä¿®å¤ã€åŠŸèƒ½æ–°å¢ï¼‰ &quot;perf&quot;, // æ€§èƒ½ä¼˜åŒ– &quot;test&quot;, // æ·»åŠ ç–æ¼æµ‹è¯•æˆ–å·²æœ‰æµ‹è¯•æ”¹åŠ¨ &quot;build&quot;, // æ„å»ºæµç¨‹ã€å¤–éƒ¨ä¾èµ–å˜æ›´ï¼ˆå¦‚å‡çº§ npm åŒ…ã€ä¿®æ”¹ webpack é…ç½®ç­‰ï¼‰ &quot;ci&quot;, // ä¿®æ”¹ CI é…ç½®ã€è„šæœ¬ &quot;revert&quot;, // å›æ»š commit &quot;chore&quot;, // å¯¹æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å’Œåº“çš„æ›´æ”¹ï¼ˆä¸å½±å“æºæ–‡ä»¶ã€æµ‹è¯•ç”¨ä¾‹ï¼‰ &#x27;wip&#x27;, // å¼€å‘ä¸­ä¸´æ—¶æäº¤ ], ], &#125;,&#125;; æ‰§è¡Œä¸‹é¢å‘½ä»¤ç”Ÿæˆ commint-msg é’©å­ç”¨äº git æäº¤ä¿¡æ¯æ ¡éªŒ 1npx husky add .husky/commit-msg &quot;npx --no -- commitlint --edit $1&quot; 9ã€å…¶ä»– ä¸ä½¿ç”¨antfu ç›´æ¥ä½¿ç”¨prettier&amp;eslint &amp;styleLint 9.1ã€prettier1ï¼‰å®‰è£… 1pnpm i prettier -D 2ï¼‰é…ç½®æ–‡ä»¶ æ ¹ç›®å½•åˆ›å»º prettier.config.mjs é…ç½®æ–‡ä»¶ 123456789/** @type &#123;import(&#x27;prettier&#x27;).Config&#125; */export default &#123; $schema: &quot;https://json.schemastore.org/prettierrc&quot;, semi: false, tabWidth: 4, singleQuote: true, printWidth: 100, trailingComma: &quot;es5&quot;,&#125;; 9.2ã€eslint ä½¿ç”¨9xç‰ˆæœ¬ æ‰å¹³åŒ–è®¾è®¡ å¯¼è‡´å¾ˆå¤šæ’ä»¶ç‰ˆæœ¬æ»å 1ï¼‰å®‰è£… è„šæ‰‹æ¶å¿«é€Ÿå®‰è£… ç„¶åpnpm iå®‰è£…ç›¸å…³ä¾èµ–åŒ…ï¼ˆå¦‚æœåˆ›å»ºé¡¹ç›®çš„æ—¶å€™å®‰è£…äº†ï¼Œåˆ™ä¸éœ€è¦å®‰è£…ï¼‰ 1pnpm create @eslint/config@latest é¢å¤–å®‰è£… 1pnpm i eslint-define-config eslint-plugin-import -D 2ï¼‰é…ç½®æ–‡ä»¶ ä¿®æ”¹eslint.config.jsä¸ºeslint.config.mjsä¿æŒé£æ ¼ç»Ÿä¸€ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384import globals from &quot;globals&quot;;import pluginJs from &quot;@eslint/js&quot;;import tseslint from &quot;typescript-eslint&quot;;import pluginVue from &quot;eslint-plugin-vue&quot;;import pluginImport from &quot;eslint-plugin-import&quot;;import &#123; defineFlatConfig &#125; from &quot;eslint-define-config&quot;;// ä¿®å¤ https://eslint.nodejs.cn/blog/2024/05/eslint-compatibility-utilities/import &#123; fixupPluginRules &#125; from &quot;@eslint/compat&quot;;export default defineFlatConfig([ // ä¸Šé¢è¿™ä¸€å¤§æˆªæ˜¯å®˜æ–¹çš„ &#123; files: [&quot;**/*.&#123;js,mjs,cjs,ts,vue&#125;&quot;] &#125;, pluginJs.configs.recommended, &#123; languageOptions: &#123; globals: globals.browser &#125;, &#125;, ...tseslint.configs.recommended, ...pluginVue.configs[&quot;flat/essential&quot;], &#123; files: [&quot;**/*.vue&quot;], languageOptions: &#123; parserOptions: &#123; parser: tseslint.parser, &#125;, &#125;, &#125;, // è¿™æ˜¯å¼•å…¥é¡ºåºæ’ä»¶ &#123; files: [&quot;**/*.vue&quot;, &quot;**/*.?([cm])ts&quot;, &quot;**/*.?([cm])tsx&quot;], plugins: &#123; // ä¿®å¤æ’ä»¶è¿˜æ²¡å‡çº§åˆ°9ç‰ˆæœ¬ import: fixupPluginRules(pluginImport), &#125;, rules: &#123; // æ’ä»¶è¿˜æ²¡å‡çº§åˆ°9xç‰ˆæœ¬ &quot;import/first&quot;: &quot;warn&quot;, &quot;import/no-duplicates&quot;: &quot;error&quot;, &quot;import/order&quot;: [ &quot;error&quot;, &#123; groups: [ /* builtin ï¼šå†…ç½®æ¨¡å—ï¼Œå¦‚ pathï¼Œfsç­‰ Node.jså†…ç½®æ¨¡å—ã€‚ external ï¼šå¤–éƒ¨æ¨¡å—ï¼Œå¦‚ lodash ï¼Œreact ç­‰ç¬¬ä¸‰æ–¹åº“ã€‚ internal ï¼šå†…éƒ¨æ¨¡å—ï¼Œå¦‚ç›¸å¯¹è·¯å¾„çš„æ¨¡å—ã€åŒ…åå‰ç¼€ä¸º @ çš„æ¨¡å—ã€‚ unknown ï¼šæœªçŸ¥æ¨¡å—ï¼Œå¦‚æ¨¡å—åæ²¡æœ‰æŒ‡å®šæ‰©å±•åæˆ–æ¨¡å—è·¯å¾„ç¼ºå¤±æ‰©å±•åã€‚ parent ï¼šçˆ¶çº§ç›®å½•çš„æ¨¡å—ã€‚ sibling ï¼šåŒçº§ç›®å½•çš„æ¨¡å—ã€‚ index ï¼šå½“å‰ç›®å½•çš„ index æ–‡ä»¶ã€‚ object ï¼šä½¿ç”¨ES6 å¯¼å…¥çš„æ¨¡å—ã€‚ type ï¼šä½¿ç”¨ import type å¯¼å…¥çš„æ¨¡å—ã€‚ */ [&quot;builtin&quot;, &quot;external&quot;], &quot;internal&quot;, [&quot;parent&quot;, &quot;sibling&quot;], &quot;index&quot;, &quot;type&quot;, &quot;object&quot;, &quot;unknown&quot;, ], pathGroups: [ &#123; pattern: &quot;../**&quot;, group: &quot;parent&quot;, position: &quot;after&quot;, &#125;, &#123; pattern: &quot;./*.scss&quot;, group: &quot;sibling&quot;, position: &quot;after&quot;, &#125;, ], // ä¸åŒç»„ä¹‹é—´æ˜¯å¦æ¢è¡Œã€‚ // &#x27;newlines-between&#x27;: &#x27;always&#x27;, // æ ¹æ®å­—æ¯é¡ºåºå¯¹æ¯ç»„å†…çš„å¼•ç”¨è¿›è¡Œæ’åºã€‚ alphabetize: &#123; order: &quot;asc&quot;, caseInsensitive: true, &#125;, &#125;, ], &#125;, &#125;,]); 10ã€ç®€åŒ–ç»„ä»¶å‘½åæ­£å¸¸ç»„ä»¶å‘½å 12345678910111213&lt;template&gt; &lt;div class=&quot;person&quot;&gt;&lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot;&gt; export default &#123; name:&#x27;Person&#x27;, &#125;&lt;/script&gt;&lt;!-- ä¸‹é¢çš„å†™æ³•æ˜¯setupè¯­æ³•ç³– --&gt;&lt;script setup lang=&quot;ts&quot;&gt;&lt;/script&gt; ä½¿ç”¨vite-plugin-vue-setup-extend 1pnpm add vite-plugin-vue-setup-extend -D 12345678// vite.config.tsimport &#123; defineConfig &#125; from &#x27;vite&#x27;import VueSetupExtend from &#x27;vite-plugin-vue-setup-extend&#x27;export default defineConfig(&#123; plugins: [ VueSetupExtend() ]&#125;) ç»„ä»¶ä¸­ä½¿ç”¨ 1&lt;script setup lang=&quot;ts&quot; name=&quot;Person&quot;&gt;&lt;/script&gt; 11ã€æ‰“åŒ…ç¯å¢ƒåŒºåˆ†vite.config.ts 123export default defineConfig((res) =&gt; &#123; console.log(res)&#125; è¿”å›å››ä¸ªå‚æ•°ï¼š modeï¼šå½“å‰çš„è¿è¡Œæ¨¡å¼ï¼ˆä¾‹å¦‚ development æˆ– productionï¼‰ï¼Œæ²¡é…ç½®envæ–‡ä»¶é»˜è®¤å°±åªæœ‰è¿™ä¸¤ä¸ªå€¼ã€‚ commandï¼šå½“å‰è¿è¡Œçš„å‘½ä»¤ï¼ˆä¾‹å¦‚ serve æˆ– buildï¼‰ï¼Œæœ¬åœ°è¿è¡Œè¿”å›serveï¼Œä½¿ç”¨æ‰“åŒ…ä¹‹åè¿”å›çš„build isSsrBuildï¼šæ˜¯å¦åœ¨è¿›è¡ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“çš„æ„å»ºã€‚ isPreviewï¼šæ˜¯å¦åœ¨é¢„è§ˆæ¨¡å¼ä¸‹è¿è¡Œã€‚ å®è·µå¯çŸ¥ï¼š åœ¨è¿è¡Œæœ¬åœ°é¡¹ç›®æ—¶ï¼š æœ‰æ— .envæ–‡ä»¶æ—¶ï¼Œvite.config.tsæ–‡ä»¶ä¸­resè¿”å›éƒ½æ˜¯mode=&quot;development&quot;ï¼Œcommand=&quot;serve&quot;ï¼› åœ¨è¿è¡Œæ‰“åŒ…é¡¹ç›®æ—¶ï¼š é»˜è®¤æ— .envæ–‡ä»¶æ—¶ï¼Œvite.config.tsæ–‡ä»¶ä¸­resè¿”å›mode=&quot;production&quot;ï¼Œcommand=&quot;build&quot;ï¼› æœ‰.envæ–‡ä»¶æ—¶ï¼Œæ ¹æ®æ‰“åŒ…çš„é…ç½®æ¥çš„ ï¼Œå¦‚æœä½ æ‰“åŒ…è¿è¡Œçš„æ˜¯.env.sitæ–‡ä»¶ï¼Œresè¿”å›çš„åˆ™æ˜¯mode=&quot;sit&quot;ï¼Œcommand=&quot;build&quot;ï¼› 123456789101112// package.json&#123; &quot;scripts&quot;: &#123; &quot;dev&quot;: &quot;vite&quot;, &quot;build&quot;: &quot;run-p type-check \\&quot;build-only &#123;@&#125;\\&quot; --&quot;, &quot;build:sit&quot;: &quot;npm run build -- sit&quot;, &quot;build:uat&quot;: &quot;npm run build -- uat&quot;, &quot;build:prod&quot;: &quot;npm run build -- production&quot;, &quot;type-check&quot;: &quot;vue-tsc --build&quot;, &quot;build-only&quot;: &quot;vite build --mode&quot;, &#125;&#125; vite.config.ts ä¸­è®¿é—®.envæ–‡ä»¶ï¼š 1234567import process from &#x27;node:process&#x27;import &#123; defineConfig, loadEnv &#125; from &#x27;vite&#x27;export default defineConfig((&#123; mode &#125;) =&gt; &#123; const env = loadEnv(mode, process.cwd()) console.log(env)&#125; 1234567891011// .envVITE_NODE_ENV = &#x27;local&#x27;// .env.sitVITE_NODE_ENV = &#x27;sit&#x27;// .env.uatVITE_NODE_ENV = &#x27;sit&#x27;// .env.productVITE_NODE_ENV = &#x27;production&#x27; 12ã€æ·»åŠ åŸºå‡†è·¯å¾„123456789// router/index.tsimport &#123; createRouter, createWebHistory &#125; from &#x27;vue-router&#x27;const router = createRouter(&#123; history: createWebHistory(&#x27;/pc/&#x27;), routes: [],&#125;)export default router 12345678// vite.config.tsimport &#123; defineConfig &#125; from &#x27;vite&#x27;export default defineConfig((&#123; mode &#125;) =&gt; &#123; return &#123; base: env.VITE_BASE_URL, &#125;&#125;) 13ã€æ·»åŠ æ‰“åŒ…çš„distæ–‡ä»¶é¢„è§ˆé…ç½®123456// package.json&#123; &quot;scripts&quot;: &#123; &quot;preview&quot;: &quot;vite preview&quot;, &#125;&#125; 14ã€æœ¬åœ°ä»£ç†æœåŠ¡é…ç½®å®˜ç½‘https://cn.vitejs.dev/config/server-options.html#server-proxy vite.config.tsé…ç½® 1234567891011121314151617export default defineConfig(&#123; server: &#123; // ç›‘å¬æ‰€æœ‰å…¬å…±ip host: &#x27;0.0.0.0&#x27;, cors: true, // å…è®¸æ‰€æœ‰æ¥æºè®¿é—®æœ¬åœ°å¼€å‘æœåŠ¡å™¨çš„èµ„æº port: 3300, proxy: &#123; &#x27;/api&#x27;: &#123; // ä»£ç†å‰ç¼€ // è½¬å‘åœ°å€ å‰ç«¯è¯·æ±‚http://localhost:3000/api/usersä»£ç†åå®é™…è¯·æ±‚ http://www.example.com/users target: &#x27;http://www.example.com&#x27;, changeOrigin: true, // ä¿®æ”¹ Origin å¤´ä¸ºç›®æ ‡åœ°å€ // ç§»é™¤è·¯å¾„ä¸­å¼€å¤´çš„ /api å‰ç¼€ ä¾‹å¦‚ï¼š/api/users â†’ /users rewrite: (path: string) =&gt; path.replace(/^\\/api/, &#x27;&#x27;), &#125;, &#125;, &#125;,&#125;) å‚æ•°è§£æ corså’ŒchangeOrigin åœ¨ vite.config.ts ä¸­ï¼Œcors: true å’Œ changeOrigin: true ç”¨äºè§£å†³ä¸åŒåœºæ™¯ä¸‹çš„è·¨åŸŸé—®é¢˜ï¼Œå…·ä½“åŒºåˆ«å¦‚ä¸‹ï¼š 1ã€cors: true ä½œç”¨ï¼šé…ç½®å¼€å‘æœåŠ¡å™¨ï¼ˆVite Dev Serverï¼‰çš„ CORS å“åº”å¤´ï¼Œå…è®¸æµè§ˆå™¨è·¨åŸŸè®¿é—®æœ¬åœ°å¼€å‘æœåŠ¡å™¨çš„èµ„æºã€‚ å®ç°æ–¹å¼ï¼šå½“è®¾ç½®ä¸º true æ—¶ï¼ŒVite ä¼šé»˜è®¤æ·»åŠ  Access-Control-Allow-Origin: * å“åº”å¤´ï¼Œå…è®¸æ‰€æœ‰æ¥æºçš„è¯·æ±‚ã€‚è‹¥éœ€æ›´ç²¾ç»†æ§åˆ¶ï¼ˆå¦‚æŒ‡å®šå…è®¸çš„åŸŸåï¼‰ï¼Œå¯é€šè¿‡ CorsOptions å¯¹è±¡é…ç½®ã€‚ é€‚ç”¨åœºæ™¯ï¼šç”¨äºæœ¬åœ°å¼€å‘ç¯å¢ƒï¼Œè§£å†³å‰ç«¯èµ„æºï¼ˆå¦‚é™æ€æ–‡ä»¶ï¼‰è¢«å…¶ä»–åŸŸåè®¿é—®æ—¶çš„ CORS é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œä¸»åº”ç”¨åŠ è½½å¾®å‰ç«¯å­åº”ç”¨çš„èµ„æºæ—¶å¯èƒ½éœ€è¦æ­¤é…ç½®ã€‚ 2ã€changeOrigin: true ä½œç”¨ï¼šåœ¨ä»£ç†è¯·æ±‚æ—¶ä¿®æ”¹è¯·æ±‚å¤´çš„ Origin å­—æ®µä¸ºç›®æ ‡æœåŠ¡å™¨çš„åœ°å€ï¼Œç»•è¿‡ç›®æ ‡æœåŠ¡å™¨çš„ CORS æ ¡éªŒã€‚ å®ç°æ–¹å¼ï¼šä»£ç†å°†å‰ç«¯è¯·æ±‚çš„ Originï¼ˆå¦‚ [http://localhost:3000 ](http://localhost:3000 )ï¼‰æ”¹ä¸ºç›®æ ‡æœåŠ¡å™¨çš„åŸŸåï¼ˆå¦‚ [https://apiservice.com ](https://apiservice.com )ï¼‰ï¼Œä½¿ç›®æ ‡æœåŠ¡å™¨è®¤ä¸ºè¯·æ±‚æ¥è‡ªåŒæºï¼Œä»è€Œé¿å… CORS æ‹¦æˆªã€‚ é€‚ç”¨åœºæ™¯ï¼šç”¨äºä»£ç†æ¥å£è¯·æ±‚ï¼Œå°¤å…¶æ˜¯å½“å‰ç«¯ä¸åç«¯åˆ†ç¦»å¼€å‘æ—¶ã€‚ä¾‹å¦‚ï¼Œå°† /api è·¯å¾„çš„è¯·æ±‚ä»£ç†åˆ° [http://localhost:8080 ]ï¼Œå¹¶é€šè¿‡ changeOrigin: true è®©åç«¯æ­£å¸¸å“åº”ã€‚ ä¸¤è€…çš„åŒºåˆ« é…ç½®é¡¹ ä½œç”¨å¯¹è±¡ æ ¸å¿ƒç›®çš„ å…¸å‹ä½¿ç”¨åœºæ™¯ cors: true Vite å¼€å‘æœåŠ¡å™¨ å…è®¸æµè§ˆå™¨è·¨åŸŸè®¿é—®æœ¬åœ°èµ„æº å¾®å‰ç«¯èµ„æºåŠ è½½ã€æœ¬åœ°é™æ€æœåŠ¡ changeOrigin: true ä»£ç†è¯·æ±‚ ç»•è¿‡ç›®æ ‡æœåŠ¡å™¨çš„ CORS æ ¡éªŒ æ¥å£ä»£ç†åˆ°ä¸åŒåŸŸçš„åç«¯æœåŠ¡ æ³¨æ„äº‹é¡¹ ä¼˜å…ˆçº§ï¼šchangeOrigin: true ä»…å½±å“ä»£ç†è¯·æ±‚çš„ Origin å¤´ï¼Œè€Œ cors: true å½±å“çš„æ˜¯ Vite å¼€å‘æœåŠ¡å™¨è‡ªèº«çš„å“åº”å¤´ã€‚ä¸¤è€…å¯åŒæ—¶ä½¿ç”¨ã€‚ ç”Ÿäº§ç¯å¢ƒï¼šcors: true å’Œä»£ç†é…ç½®ä»…åœ¨å¼€å‘ç¯å¢ƒç”Ÿæ•ˆï¼Œç”Ÿäº§ç¯å¢ƒéœ€é€šè¿‡åç«¯æˆ– Nginx é…ç½® CORSã€‚ å†²çªå¤„ç†ï¼šè‹¥åç«¯å¼ºåˆ¶æ ¡éªŒ Originï¼Œéœ€ç¡®ä¿ changeOrigin: true ä¿®æ”¹åçš„å€¼ä¸åç«¯å…è®¸çš„åŸŸåä¸€è‡´ 15ã€axiosäºŒæ¬¡å°è£…utils/request.ts 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576import type &#123; AxiosResponse &#125; from &#x27;axios&#x27;import router from &#x27;@/router&#x27;import Base from &#x27;@/utils/base&#x27;import axios from &#x27;axios&#x27;import dayjs from &#x27;dayjs&#x27;const service = axios.create(&#123; timeout: 30000, headers: &#123; &#x27;Content-Type&#x27;: &#x27;application/json;charset=UTF-8&#x27; &#125;,&#125;)// requestæ‹¦æˆªå™¨service.interceptors.request.use((config: customInternalAxiosRequestConfig) =&gt; &#123; if (config.headersType) &#123; config.headers[&#x27;Content-Type&#x27;] = config.headersType &#125; const base = Base() base.requestTime = dayjs().format(&#x27;YYYYDDMMHmmss&#x27;) const &#123; params, data &#125; = config const newParams = &#123; ...(data || params), ...base &#125; if (params) &#123; config.params = newParams &#125; else &#123; config.data = newParams &#125; return config&#125;, (error) =&gt; &#123; Promise.reject(error)&#125;)// å“åº”æ‹¦æˆªå™¨service.interceptors.response.use( (response: AxiosResponse) =&gt; &#123; const &#123; body, msgCd, msgInfo &#125; = response.data // å¦‚æœå“åº”æ˜¯äºŒè¿›åˆ¶æµï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œç”¨äºä¸‹è½½æ–‡ä»¶ã€Excel å¯¼å‡ºç­‰(å¾…æµ‹è¯•) if (response.config.responseType === &#x27;blob&#x27;) &#123; return response &#125; // æ¥å£è¯·æ±‚æˆåŠŸ if (msgCd.slice(-5) === &#x27;00000&#x27;) &#123; return body &#125; // ç™»å½•å¤±æ•ˆ if (msgCd === &#x27;MPL99001&#x27;) &#123; if (router.currentRoute.value.name !== &#x27;login&#x27;) &#123; router.replace(&#123; name: &#x27;login&#x27;, query: &#123; redirect: router.currentRoute.value.fullPath &#125;, &#125;) &#125; &#125; // å…¶ä»–é”™è¯¯ return Promise.reject(msgInfo || &#x27;é”™è¯¯&#x27;) &#125;, (error) =&gt; &#123; console.log(&#x27;[ajax error]&#x27;, error) let msgInfo = &#x27;&#x27; const &#123; message &#125; = error if (message === &#x27;Network Error&#x27;) &#123; msgInfo = &#x27;æ“ä½œå¤±è´¥ï¼Œç½‘ç»œå¼‚å¸¸ï¼&#x27; &#125; else if (message.includes(&#x27;timeout&#x27;)) &#123; msgInfo = &#x27;æ¥å£è¯·æ±‚è¶…æ—¶ï¼Œè¯·åˆ·æ–°é¡µé¢åé‡è¯•ï¼&#x27; &#125; else if (message.includes(&#x27;Request failed with status code&#x27;)) &#123; msgInfo = `æ¥å£è¯·æ±‚å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ï¼$&#123;message.substr(message.length - 3)&#125;` &#125; return Promise.reject(msgInfo) &#125;,)export default service api/user/index.ts 1234567891011121314151617181920212223242526272829303132333435363738394041import request from &#x27;@/utils/request&#x27;class CommonAPI &#123; /** * è·å–é¦–é¡µä¿¡æ¯ * @param data è¯·æ±‚å‚æ•°ï¼Œé»˜è®¤ä¸ºç©ºå¯¹è±¡ * @returns åŒ…å«é¦–é¡µä¿¡æ¯çš„Promiseå¯¹è±¡ */ static homeInformationQuery(data = &#123;&#125;) &#123; return request&lt;any, HomeInformationQueryResult&gt;(&#123; url: &#x27;/fortune-business/v1/common/home-information-query&#x27;, method: &#x27;post&#x27;, data, &#125;) &#125;&#125;export default CommonAPI/** è¯·æ±‚å‚æ•° *//** å“åº”å‚æ•° */export interface HomeInformationQueryResult &#123; fundInfoList: FundInfoList newUserFlag: boolean userSignFlag: boolean&#125;;export interface FundInfo &#123; fundDesc: string fundName: string fundDayLy: string fundIcon: string fundElectronicAccount?: any fundCorpId: string fundNo: string&#125;// å­˜å‚¨å…¨éƒ¨åŸºé‡‘çš„æ•°ç»„ç±»å‹export type FundInfoList = FundInfo[] ***.vue 12345678910111213141516171819&lt;template&gt; &lt;div class=&quot;&quot;&gt;&lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import &#123; onMounted &#125; from &#x27;vue&#x27;import UserAPI from &#x27;@/api/user&#x27;const login = async () =&gt; &#123; try &#123; const res = await CommonAPI.homeInformationQuery() &#125; catch (error) &#123; console.log(error) &#125;&#125;onMounted(() =&gt; &#123; login()&#125;)&lt;/script&gt; 16ã€æ‰“åŒ…åˆ†ææ’ä»¶ç½‘ç«™https://www.npmjs.com/package/rollup-plugin-visualizer 1pnpm add rollup-plugin-visualizer -D vite.config.ts 1234567891011121314import &#123; defineConfig &#125; from &#x27;vite&#x27;import &#123; visualizer &#125; from &#x27;rollup-plugin-visualizer&#x27;export default defineConfig(&#123; plugins: [ visualizer(&#123; // æ³¨æ„è¿™é‡Œè¦è®¾ç½®ä¸ºtrueï¼Œå¦åˆ™æ— æ•ˆ open: !!((command === &#x27;build&#x27; &amp;&amp; mode === &#x27;development&#x27;)), filename: &#x27;stats.html&#x27;, // åˆ†æå›¾ç”Ÿæˆçš„æ–‡ä»¶å gzipSize: true, // æ”¶é›† gzip å¤§å°å¹¶å°†å…¶æ˜¾ç¤º brotliSize: true, // æ”¶é›† brotli å¤§å°å¹¶å°†å…¶æ˜¾ç¤º &#125;), ],&#125;) 17ã€gzipå‹ç¼©1pnpm i vite-plugin-compression -D vite.config.ts 123456789101112131415161718// å‹ç¼©gzipimport viteCompression from &#x27;vite-plugin-compression&#x27;// https://vitejs.dev/config/export default defineConfig(&#123; // ... plugins: [ // ... viteCompression(&#123; verbose: true, // æ˜¯å¦åœ¨æ§åˆ¶å°è¾“å‡ºå‹ç¼©ç»“æœ disable: false, // æ˜¯å¦ç¦ç”¨å‹ç¼© deleteOriginFile: false, // åˆ é™¤æºæ–‡ä»¶ threshold: 10240, // æ–‡ä»¶å¤§å°è¶…è¿‡æ­¤å€¼æ—¶è¿›è¡Œå‹ç¼©ï¼Œå•ä½ä¸ºå­—èŠ‚å³10kb algorithm: &#x27;gzip&#x27;, // å‹ç¼©ç®—æ³•ï¼Œå¯é€‰ &#x27;gzip&#x27; æˆ– &#x27;brotli&#x27; ext: &#x27;.gz&#x27; // å‹ç¼©åçš„æ–‡ä»¶æ‰©å±•å &#125;) ],&#125;) nginxæœåŠ¡å™¨ä¸Šè¿˜è¦å¯¹åº”é…ç½® åœ¨serverèŠ‚ç‚¹ä¸‹æ–°å¢ä»¥ä¸‹é…ç½® 1234567891011121314151617181920212223242526272829303132server &#123; listen 80; server_name localhost; # è¿½åŠ å¦‚ä¸‹é…ç½® # gzip - åŠ¨æ€å‹ç¼©é…ç½® gzip on; # å¼€å¯gzipå‹ç¼© gzip_vary on; # æ·»åŠ Vary: Accept-Encodingå“åº”å¤´ï¼Œæ”¯æŒCDNç¼“å­˜ gzip_proxied any; # å¯¹æ‰€æœ‰ä»£ç†è¯·æ±‚éƒ½è¿›è¡Œå‹ç¼© gzip_comp_level 6; # å‹ç¼©çº§åˆ«6ï¼ˆ1-9ï¼‰ï¼Œå¹³è¡¡å‹ç¼©ç‡å’ŒCPUå ç”¨ # æŒ‡å®šå“ªäº› MIME ç±»å‹çš„æ–‡ä»¶éœ€è¦å‹ç¼© gzip_types text/plain # .txtæ–‡æœ¬æ–‡ä»¶ text/css # .cssæ ·å¼æ–‡ä»¶ text/xml # .xmlæ–‡ä»¶ text/javascript # .jsæ–‡ä»¶ï¼ˆæ—§MIMEç±»å‹ï¼‰ application/json # .json APIå“åº” application/javascript # .jsæ–‡ä»¶ï¼ˆæ–°MIMEç±»å‹ï¼‰ application/xml # XMLæ–‡ä»¶ application/xml+rss # RSSè®¢é˜… application/rss+xml # RSSè®¢é˜… application/atom+xml # Atomè®¢é˜… image/svg+xml # .svgçŸ¢é‡å›¾ font/ttf # .ttfå­—ä½“æ–‡ä»¶ font/otf # .otfå­—ä½“æ–‡ä»¶ font/woff # .woffå­—ä½“æ–‡ä»¶ï¼ˆè™½ç„¶å·²å‹ç¼©ï¼Œä½†æœ‰æ—¶ä»å¯è·ç›Šï¼‰ application/x-font-ttf # å­—ä½“æ–‡ä»¶ï¼ˆå…¼å®¹æ—§æ ¼å¼ï¼‰ application/x-javascript; # JSæ–‡ä»¶ï¼ˆå…¼å®¹æ—§æ ¼å¼ï¼‰ # gzip_static - ä½¿ç”¨é¢„å…ˆå‹ç¼©çš„.gzæ–‡ä»¶ gzip_static on; # ä¼˜å…ˆä½¿ç”¨æ„å»ºæ—¶ç”Ÿæˆçš„.gzæ–‡ä»¶ï¼Œæå‡æ€§èƒ½ gzip_min_length 1k; # å°äº1KBçš„æ–‡ä»¶ä¸å‹ç¼©&#125; å¦‚æœæ˜¯æ‰“åŒ…æˆdockeré•œåƒï¼ŒDockerfileå¯é…ç½®å¦‚ä¸‹ï¼š 123456789101112131415161718FROM nginx:1.25.2-alpine-slimCOPY dist /usr/share/nginx/html/# å¼€å¯gzipå‹ç¼©é…ç½®RUN sed -i &#x27;/server_name localhost;/a \\ gzip on; gzip_static on; gzip_buffers 4 16k; gzip_min_length 1k; gzip_comp_level 9; gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png; gzip_proxied any; gzip_vary on; gzip_disable &quot;MSIE [1-6]&quot;;&#x27;# æŒ‡å®šäºå¤–ç•Œäº¤äº’çš„ç«¯å£EXPOSE 80 è¿™äº›é…ç½®é¡¹çš„ä½œç”¨å¦‚ä¸‹ï¼š gzip on; å¯ç”¨ Gzip åŠŸèƒ½ã€‚ gzip_static on; å…è®¸ Nginx ç›´æ¥è¿”å›å·²å‹ç¼©çš„é™æ€æ–‡ä»¶ã€‚ gzip_types æŒ‡å®šéœ€è¦å‹ç¼©çš„æ–‡ä»¶ç±»å‹ã€‚ gzip_vary on; æ·»åŠ  Vary: Accept-Encoding å¤´éƒ¨ï¼Œç¡®ä¿æµè§ˆå™¨æ­£ç¡®å¤„ç†å‹ç¼©æ–‡ä»¶ã€‚ gzip_comp_level è®¾ç½®å‹ç¼©çº§åˆ«ï¼Œæ•°å€¼è¶Šå¤§å‹ç¼©ç‡è¶Šé«˜ï¼Œä½†æ€§èƒ½æ¶ˆè€—ä¹Ÿè¶Šå¤§ï¼ˆ1-9ï¼‰ gzip_buffers è®¾ç½®ç¼“å†²åŒºå¤§å°ã€‚ gzip_http_version è®¾ç½® HTTP ç‰ˆæœ¬ã€‚ gzip_disable ç¦ç”¨å¯¹ç‰¹å®šæµè§ˆå™¨çš„ Gzip å‹ç¼©ã€‚ gzip_proxied ç”¨äºæ§åˆ¶ Gzip å‹ç¼©çš„è¡Œä¸ºï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†æ¥è‡ªä»£ç†æœåŠ¡å™¨çš„è¯·æ±‚æ—¶ã€‚any: å¯¹æ‰€æœ‰è¯·æ±‚ï¼ˆåŒ…æ‹¬æ¥è‡ªä»£ç†çš„è¯·æ±‚ï¼‰æ‰§è¡Œ Gzip å‹ç¼© 18ã€å›¾ç‰‡å‹ç¼©æ’ä»¶ç½‘ç«™vite-plugin-image-optimizer ï¼ˆå¼ƒç”¨ï¼‰ 12pnpm add vite-plugin-image-optimizer -Dpnpm add sharp -D vite.config.ts 123456789101112131415161718192021import &#123; defineConfig &#125; from &#x27;vite&#x27;import &#123; ViteImageOptimizer &#125; from &#x27;vite-plugin-image-optimizer&#x27;export default defineConfig(&#123; plugins: [ ViteImageOptimizer(&#123; // å›¾ç‰‡å‹ç¼© png: &#123; quality: 80, &#125;, jpeg: &#123; quality: 80, &#125;, jpg: &#123; quality: 80, &#125;, webp: &#123; quality: 60, &#125; &#125;), ],&#125;) æ’ä»¶ç½‘ç«™vite-plugin-image-toolsï¼ˆæ¨èï¼‰ viteæ’ä»¶ï¼Œæ”¯æŒå›¾ç‰‡å‹ç¼©å’Œè‡ªåŠ¨è½¬webpï¼Œç›®å‰åªæ”¯æŒâ€™pngâ€™, â€˜jpgâ€™, â€˜webpâ€™, â€˜avifâ€™, â€˜tiffâ€™, â€˜gifâ€™ 12pnpm add -D vite-plugin-image-toolspnpm add spritesmith -D vite.config.ts 123456789101112131415import &#123; defineConfig &#125; from &#x27;vite&#x27;import VitePluginImageTools from &#x27;vite-plugin-image-tools&#x27;export default defineConfig(&#123; plugins: [ VitePluginImageTools(&#123; quality: 80, // å›¾ç‰‡è´¨é‡ enableWebp: true, // å¼€å¯webpè½¬æ¢ limitSize: 10 * 1024, // å°äº10KBä¸åšä»»ä½•å‹ç¼©è½¬æ¢å¤„ç†ï¼ˆ10KB = 10 * 1024 bytesï¼‰ webpConfig: &#123; deleteOriginImg: true, // æ‰“åŒ…æ—¶åˆ é™¤åŸå›¾ï¼Œå‡å°‘äº§ç‰©ä½“ç§¯ &#125;, &#125;) ]&#125;) å‚æ•° å‚æ•° ç±»å‹ é»˜è®¤å€¼ Description quality number 80 å›¾ç‰‡è´¨é‡ (1-100) includes string&#x2F;RegExp â€˜â€™ â€˜xxx.png&#39;.includs(inclouds) includes.test(&#39;xxx.png&#39;)jpe?g excludes string&#x2F;RegExp â€˜â€™ æ’é™¤é¡¹ï¼Œå¦‚ï¼š!â€™xxx.png&#39;.includs(inclouds) !includes.test(&#39;xxx.png&#39;) filter function () &#x3D;&gt; true è¿‡æ»¤æ–¹æ³•ï¼Œå¯è‡ªå®šä¹‰è¿‡æ»¤å›¾ç‰‡é€»è¾‘ï¼Œæ”¯æŒasync å‚æ•°ï¼šå›¾ç‰‡è·¯å¾„ å¦‚ï¼š filter: (path) &#x3D;&gt; { return path.includes(â€˜.pngâ€™) } compatibility boolean false æ˜¯å¦å…¼å®¹ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼Œç”Ÿäº§ç¯å¢ƒç”Ÿæ•ˆï¼Œ trueï¼šåªæœ‰cssä¸­çš„å›¾ç‰‡ä¼šè½¬webpï¼ˆæš‚æ—¶åªæ”¯æŒæ‰“åŒ…æ—¶å€™å¤„ç†cssï¼‰ falseï¼šå…¨éƒ¨è½¬webp bodyWebpClassName string webp bodyæ ‡ç­¾çš„webp classï¼Œç”¨äºç”Ÿæˆå…¼å®¹webpçš„class enableWebp boolean false ç”Ÿäº§ç¯å¢ƒæ˜¯å¦è½¬webp enableDev boolean false å¼€å‘ç¯å¢ƒæ˜¯å¦å¼€å¯å‹ç¼© enableDevWebp boolean false å¼€å‘ç¯å¢ƒæ˜¯å¦å¼€å¯è½¬webp cacheDir string â€˜node_modules&#x2F;.cache&#x2F;vite-plugin-imageâ€™ ç¼“å­˜è·¯å¾„ï¼Œ é»˜è®¤ï¼Œåªåœ¨å¼€å‘ç¯å¢ƒç”Ÿæ•ˆ sharpConfig Object { jpeg?: JpegOptions, jpg?: JpegOptions, png?: PngOptions, webp?: WebpOptions, avif?: AvifOptions, tiff?: TiffOptions, gif?: GifOptions} sharpé…ç½® svgoConfig Object {plugins:[â€˜preset-defaultâ€™,{name:â€™removerXMLNSâ€™},{name:â€™removeViewBoxâ€™}],js2svg:{indent:2, pretty: true}} https://svgo.dev/docs/preset-default/ âœ… ç»“è®ºï¼švite-plugin-image-tools é»˜è®¤ä¸ä¼šåˆ é™¤åŸå›¾ï¼Œè¿™æ˜¯æœ‰æ„è®¾è®¡ï¼ˆå…¼å®¹æ€§è€ƒè™‘ï¼‰ã€‚å¦‚æœä½ ç¡®å®šä¸éœ€è¦åŸå›¾ï¼Œå¯ä»¥å†™ Node è„šæœ¬åˆ é™¤åŸå›¾ï¼ˆä¸å»ºè®®åˆ é™¤ï¼‰ 12345678910111213141516171819202122232425262728293031323334353637// vite.config.tsimport fs from &#x27;fs&#x27;import path from &#x27;path&#x27;const removeOriginalImages = () =&gt; &#123; return &#123; name: &#x27;remove-original-images&#x27;, closeBundle() &#123; const outDir = path.resolve(__dirname, &#x27;dist&#x27;) // è¾“å‡ºç›®å½• const extsToRemove = [&#x27;.png&#x27;, &#x27;.jpg&#x27;, &#x27;.jpeg&#x27;] const stack = [outDir] while (stack.length) &#123; const dir = stack.pop()! const files = fs.readdirSync(dir) for (const file of files) &#123; const fullPath = path.join(dir, file) const stat = fs.statSync(fullPath) if (stat.isDirectory()) &#123; stack.push(fullPath) &#125; else if (extsToRemove.includes(path.extname(fullPath).toLowerCase())) &#123; fs.unlinkSync(fullPath) &#125; &#125; &#125; console.log(&#x27;å·²åˆ é™¤åŸå§‹å›¾ç‰‡æ–‡ä»¶&#x27;) &#125; &#125;&#125;export default &#123; plugins: [ // ä½ çš„å…¶ä»–æ’ä»¶ removeOriginalImages() ]&#125; 19ã€è§£å†³tsæ— æ³•è¯†åˆ«è·¯ç”±ä¸­å¯¼å…¥çš„vueç»„ä»¶env.d.ts 123456declare module &#x27;*.vue&#x27; &#123; import type &#123; DefineComponent &#125; from &#x27;vue&#x27; const component: DefineComponent export default component&#125; 20ã€å°†è·¯ç”±å’Œpiniaåˆ†ç¦»åˆ°ç‹¬ç«‹æ¨¡å—å°†è·¯ç”±å’Œpiniaåˆ†ç¦»åˆ°ç‹¬ç«‹æ¨¡å—ï¼Œæé«˜å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ /src/plugins/index.ts 123456789101112import type &#123; App &#125; from &#x27;vue&#x27;import &#123; setupRouter &#125; from &#x27;@/router&#x27;import &#123; setupStore &#125; from &#x27;@/store&#x27;export default &#123; install(app: App) &#123; // è·¯ç”±(router) setupRouter(app) // çŠ¶æ€ç®¡ç†(store) setupStore(app) &#125;,&#125; src/router/index.ts 123456789101112131415161718import type &#123; App &#125; from &#x27;vue&#x27;import &#123; createRouter, createWebHistory &#125; from &#x27;vue-router&#x27;const router = createRouter(&#123; history: createWebHistory(import.meta.env.VITE_BASE_URL), routes: [ &#123; path: &#x27;/&#x27;, name: &#x27;home&#x27;, component: () =&gt; import(&#x27;@/views/home/index.vue&#x27;), meta: &#123; requiresAuth: true, title: &#x27;é¦–é¡µ&#x27; &#125;, &#125;, ],&#125;)export const setupRouter = (app: App) =&gt; &#123; app.use(router)&#125; src/store/index.ts 123456789import type &#123; App &#125; from &#x27;vue&#x27;import &#123; createPinia &#125; from &#x27;pinia&#x27;const pinia = createPinia()// å…¨å±€æ³¨å†Œ storeexport function setupStore(app: App) &#123; app.use(pinia)&#125; src/main.ts 1234567import plugins from &#x27;@/plugins&#x27;import &#123; createApp &#125; from &#x27;vue&#x27;import App from &#x27;./App.vue&#x27;const app = createApp(App)app.use(plugins)app.mount(&#x27;#app&#x27;) 21ã€æ·»åŠ mockå·¥å…·1pnpm add vite-plugin-mock-dev-server -D vite.config.ts 12345678import &#123; defineConfig &#125; from &#x27;vite&#x27;import mockDevServerPlugin from &#x27;vite-plugin-mock-dev-server&#x27;export default defineConfig(&#123; plugins: [ env.VITE_MOCK_DEV_SERVER === &#x27;true&#x27; ? mockDevServerPlugin() : null, ],&#125;) åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ mockæ–‡ä»¶å¤¹ mock/index.ts 1234567import path from &#x27;node:path&#x27;import &#123; createDefineMock &#125; from &#x27;vite-plugin-mock-dev-server&#x27;export const defineMock = createDefineMock((mock) =&gt; &#123; // æ‹¼æ¥url mock.url = path.join(mock.url)&#125;) tsconfig.app. 123456&#123; &quot;include&quot;: [ &quot;mock/**/*.ts&quot;, ],&#125; mock/modules/home.mock.ts è¿™é‡Œå‘½åä¸­é—´ä¸€å®šè¦ç”¨mockï¼Œæ ¼å¼xxx.mock.ts 123456789101112131415161718192021222324252627282930import &#123; defineMock &#125; from &#x27;../index&#x27;export default defineMock([ &#123; // è·å–é¦–é¡µä¿¡æ¯ url: &#x27;/fortune-business/v1/common/home-information-query&#x27;, method: [&#x27;POST&#x27;], body: &#123; msgCd: &#x27;00000&#x27;, mockFlag: true, msg: &#x27;äº¤æ˜“æˆåŠŸ&#x27;, body: &#123; newUserFlag: false, // æ˜¯å¦æ–°ç”¨æˆ· userSignFlag: true, // falseéœ€è¦ç”¨æˆ·ç­¾éšç§åè®® fundInfoList: [ &#123; funType: &#x27;ç¨³å¥ç†è´¢&#x27;, fundDesc: &#x27;ç¨³å¥ç†è´¢ä½ çœŸæ£’&#x27;, fundName: &#x27;æ±‡æ·»å¯Œå’Œèšå®è´§å¸å¸‚åœºåŸºé‡‘&#x27;, fundDayLy: &#x27;4.26&#x27;, fundIcon: &#x27;11&#x27;, fundElectronicAccount: null, fundCorpId: &#x27;MS-BANK&#x27;, fundNo: &#x27;000600&#x27;, &#125;, ], &#125;, &#125;, &#125;,]) 22ã€æ·»åŠ ESLinté…ç½®æ£€æŸ¥å™¨ å¯åŠ¨é¡¹package.json 123&quot;scripts&quot;: &#123; &quot;eslint-config-inspector&quot;: &quot;pnpm dlx eslint --inspect-config&quot;,&#125;, 23ã€æ·»åŠ 404é¡µsrc/router/index.ts 1234567891011121314151617import type &#123; App &#125; from &#x27;vue&#x27;import &#123; createRouter, createWebHistory &#125; from &#x27;vue-router&#x27;const router = createRouter(&#123; history: createWebHistory(import.meta.env.VITE_BASE_URL), routes: [ &#123; path: &#x27;/:pathMatch(.*)*&#x27;, // Vue3 çš„å†™æ³•ï¼Œå…¼å®¹å­è·¯å¾„ component: () =&gt; import(&#x27;@/views/404.vue&#x27;), meta: &#123; requiresAuth: false, title: &#x27;ä¸­å›½ç§»åŠ¨æ”¯ä»˜-404&#x27; &#125;, &#125;, ],&#125;)export const setupRouter = (app: App) =&gt; &#123; app.use(router)&#125; 24ã€å¼•ç”¨scssæ–‡ä»¶æ·»åŠ scssæ–‡ä»¶ src/styles/common.scss src/styles/mixin.scss src/styles/variables.scss vite.config.ts 1234567891011121314import &#123; defineConfig &#125; from &#x27;vite&#x27;export default defineConfig((&#123; mode, command &#125;) =&gt; &#123; css: &#123; // cssé¢„å¤„ç†å™¨ preprocessorOptions: &#123; scss: &#123; additionalData: ` @use &quot;@/styles/variables.scss&quot; as *; @use &quot;@/styles/mixin.scss&quot; as *;`, &#125;, &#125;, &#125;,&#125;) 25ã€æ‰“åŒ…æ‹†åˆ† å°å›¾ç‰‡è½¬base641pnpm add terser -D vite.config.ts 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667export default defineConfig((&#123; mode, command &#125;) =&gt; &#123; build: &#123; assetsInlineLimit: 1024 * 10, // 10kbä»¥ä¸‹ï¼Œè½¬Base64 chunkSizeWarningLimit: 2000, // æ¶ˆé™¤æ‰“åŒ…å¤§å°è¶…è¿‡500kbè­¦å‘Š minify: &#x27;terser&#x27;, // Vite 2.6.x ä»¥ä¸Šéœ€è¦é…ç½® minify: &quot;terser&quot;, terserOptions æ‰èƒ½ç”Ÿæ•ˆ terserOptions: &#123; compress: &#123; keep_infinity: true, // é˜²æ­¢ Infinity è¢«å‹ç¼©æˆ 1/0ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ Chrome ä¸Šçš„æ€§èƒ½é—®é¢˜ drop_console: mode === &#x27;production&#x27;, // ç”Ÿäº§ç¯å¢ƒå»é™¤ console drop_debugger: true, // ç”Ÿäº§ç¯å¢ƒå»é™¤ debugger &#125;, format: &#123; comments: false, // åˆ é™¤æ³¨é‡Š &#125;, &#125;, rollupOptions: &#123; output: &#123; // æ¯ä¸ªnode_modulesæ¨¡å—åˆ†æˆä¸€ä¸ªjsæ–‡ä»¶ manualChunks(id: string) &#123; if (id.includes(&#x27;node_modules&#x27;)) &#123; const packageName = id.toString().split(&#x27;node_modules/.pnpm/&#x27;)[1].split(&#x27;/&#x27;)[0].toString() // 1.ç¬¬ä¸‰æ–¹ä¾èµ–åˆå¹¶åœ¨ä¸€èµ· // return &#x27;vendor&#x27; // 2.æŠŠç¬¬ä¸‰æ–¹ä¾èµ–å•ç‹¬æŠ½ç¦»å‡ºæ¥ // return packageName // 3.å°†è¾ƒå¤§å‹æˆ–å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“å•ç‹¬æ‰“åŒ… if (packageName.includes(&#x27;pinia&#x27;)) &#123; return &#x27;pinia&#x27; &#125; if (packageName.includes(&#x27;axios&#x27;)) &#123; return &#x27;axios&#x27; &#125; if (packageName.includes(&#x27;dayjs&#x27;)) &#123; return &#x27;dayjs&#x27; &#125; if (packageName.includes(&#x27;bowser&#x27;)) &#123; return &#x27;bowser&#x27; &#125; if (packageName.includes(&#x27;vue-router&#x27;)) &#123; return &#x27;vue-router&#x27; &#125; if (packageName.includes(&#x27;vue&#x27;)) &#123; return &#x27;vue&#x27; &#125; return &#x27;vendor&#x27; // å…¶ä»–ç¬¬ä¸‰æ–¹ä¾èµ–åˆå¹¶åœ¨ä¸€èµ· &#125; return undefined &#125;, entryFileNames: &#x27;js/[name].[hash].js&#x27;, chunkFileNames: &#x27;js/[name].[hash].js&#x27;, assetFileNames: (assetInfo: any) =&gt; &#123; const info = assetInfo.name.split(&#x27;.&#x27;) let extType = info[info.length - 1] if (/\\.(?:png|jpe?g|gif|svg|webp)(?:\\?.*)?$/.test(assetInfo.name)) &#123; extType = &#x27;img&#x27; &#125; else if (/\\.(?:mp4|webm|ogg|mp3|wav|aac)(?:\\?.*)?$/i.test(assetInfo.name)) &#123; extType = &#x27;media&#x27; &#125; return `$&#123;extType&#125;/[name].[hash].[ext]` &#125;, &#125;, &#125;,&#125;,&#125;) 26ã€æ·»åŠ Vconsoleæ‰“å°1pnpm add vite-plugin-vconsole vconsole -D vite.config.ts 12345678910111213141516import &#123; defineConfig &#125; from &#x27;vite&#x27;import viteVConsole from &#x27;vite-plugin-vconsole&#x27;export default defineConfig(&#123; plugins: [ viteVConsole(&#123; entry: [path.resolve(&#x27;src/main.ts&#x27;)], // é¡¹ç›®å…¥å£æ–‡ä»¶ [[1, 6]] enabled: mode !== &#x27;production&#x27;, // æ ¹æ®ç¯å¢ƒå¯ç”¨ [[3, 6]] localEnabled: true, // æœ¬åœ°å¼€å‘æ—¶å¼ºåˆ¶å¯ç”¨ [[6]] config: &#123; theme: &#x27;dark&#x27;, // ä¸»é¢˜é…ç½® maxLogNumber: 1000, // æ—¥å¿—æ•°é‡é™åˆ¶ &#125;, &#125;), ]&#125;) 27ã€ç®€åŒ–SVGä½¿ç”¨æ’ä»¶ç½‘ç«™https://www.npmjs.com/package/vite-svg-loader 1pnpm add vite-svg-loader -D vite.config.ts 123456789101112131415import &#123; defineConfig &#125; from &#x27;vite&#x27;import svgLoader from &#x27;vite-svg-loader&#x27;export default defineConfig(&#123; plugins: [ svgLoader(&#123; // &#x27;url&#x27;: imgæ ‡ç­¾å¼•å…¥ &#x27;raw&#x27;ï¼šdemoå…ƒç´  v-htmlå¼•å…¥ &#x27;component&#x27;: ç»„ä»¶å±•ç¤º defaultImport: &#x27;url&#x27;, svgo: true, // å¯ç”¨SVGOä¼˜åŒ– svgoConfig: &#123; multipass: false, // å…³é—­å¯¹SVGæ–‡ä»¶è¿›è¡Œå¤šæ¬¡ä¼˜åŒ–è¿­ä»£ï¼ˆæ›´å½»åº•åœ°å‹ç¼© SVGï¼Œä¼šå¢åŠ å¤„ç†æ—¶é—´ï¼‰ &#125;, &#125;), ],&#125;) 12// env.d.ts æ¨¡å—å£°æ˜/// &lt;reference types=&quot;vite-svg-loader&quot; /&gt; .vueæ–‡ä»¶ä½¿ç”¨ 1234567891011121314&lt;template&gt; &lt;!-- defaultImport: &#x27;url&#x27; --&gt; &lt;img w100 :src=&quot;logo&quot; alt=&quot;&quot;&gt; &lt;!-- defaultImport: &#x27;raw&#x27; --&gt; &lt;div w100 v-html=&quot;logo&quot; /&gt; &lt;!-- defaultImport: &#x27;component&#x27; --&gt; &lt;logo w100 /&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt; import logo from &#x27;@/assets/logo.svg&#x27;&lt;/script&gt; 28ã€pxè½¬æ¢cnjm-postcss-px-to-viewportpxè½¬vw/vh æ’ä»¶ç½‘ç«™https://www.npmjs.com/package/cnjm-postcss-px-to-viewport 1pnpm add cnjm-postcss-px-to-viewport -D vite.config.ts 1234567891011121314151617181920212223242526272829303132333435import &#123; defineConfig &#125; from &#x27;vite&#x27;import px2viewport from &#x27;cnjm-postcss-px-to-viewport&#x27;// https://vite.dev/config/export default defineConfig((&#123; mode &#125;) =&gt; &#123; return &#123; css: &#123; postcss: &#123; plugins: [ px2viewport(&#123; unitToConvert: &#x27;px&#x27;, // è¦è½¬åŒ–çš„å•ä½ viewportWidth: 750, // UIè®¾è®¡ç¨¿çš„å®½åº¦ unitPrecision: 6, // è½¬æ¢åçš„ç²¾åº¦ï¼Œå³å°æ•°ç‚¹ä½æ•° propList: [&#x27;*&#x27;], // æŒ‡å®šè½¬æ¢çš„csså±æ€§çš„å•ä½ï¼Œ*ä»£è¡¨å…¨éƒ¨csså±æ€§çš„å•ä½éƒ½è¿›è¡Œè½¬æ¢ viewportUnit: &#x27;vw&#x27;, // æŒ‡å®šéœ€è¦è½¬æ¢æˆçš„è§†çª—å•ä½ï¼Œé»˜è®¤vw fontViewportUnit: &#x27;vw&#x27;, // æŒ‡å®šå­—ä½“éœ€è¦è½¬æ¢æˆçš„è§†çª—å•ä½ï¼Œé»˜è®¤vw selectorBlackList: [&#x27;ignore&#x27;], // æŒ‡å®šä¸è½¬æ¢ä¸ºè§†çª—å•ä½çš„ç±»åï¼Œ minPixelValue: 1, // é»˜è®¤å€¼1ï¼Œå°äºæˆ–ç­‰äº1pxåˆ™ä¸è¿›è¡Œè½¬æ¢ mediaQuery: true, // æ˜¯å¦åœ¨åª’ä½“æŸ¥è¯¢çš„cssä»£ç ä¸­ä¹Ÿè¿›è¡Œè½¬æ¢ï¼Œé»˜è®¤false replace: true, // æ˜¯å¦è½¬æ¢åç›´æ¥æ›´æ¢å±æ€§å€¼ exclude: [], // è®¾ç½®å¿½ç•¥æ–‡ä»¶ï¼Œç”¨æ­£åˆ™åšç›®å½•ååŒ¹é… landscape: false, // æ˜¯å¦å¤„ç†æ¨ªå±æƒ…å†µ // å¦‚æœæ²¡æœ‰ä½¿ç”¨å…¶ä»–çš„å°ºå¯¸æ¥è®¾è®¡ï¼Œä¸‹é¢è¿™ä¸ªæ–¹æ³•å¯ä»¥ä¸éœ€è¦ï¼Œ è¿™ä¸ªè‡ªå®šä¹‰çš„æ–¹æ³•æ˜¯é’ˆå¯¹å¤„ç†vantç»„ä»¶ä¸‹çš„è®¾è®¡ç¨¿ä¸º375é—®é¢˜ customFun: (&#123; file &#125;: &#123; file: string &#125;) =&gt; &#123; const designWidth = path.join(file).includes(path.join(&#x27;node_modules&#x27;, &#x27;vant&#x27;)) ? 375 : 750 return designWidth &#125;, &#125;), ], &#125;, &#125;, &#125;&#125;) åœ¨ TypeScript ä¸­ï¼Œdeclare module ç”¨äºå£°æ˜ä¸€ä¸ªæ¨¡å—çš„ç±»å‹å®šä¹‰ï¼Œé€šå¸¸åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ä½¿ç”¨ï¼š æ²¡æœ‰ç±»å‹å®šä¹‰æ–‡ä»¶çš„ç¬¬ä¸‰æ–¹åº“ï¼šå¦‚æœä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ cnjm-postcss-px-to-viewportï¼‰ï¼Œä½†è¯¥åº“æ²¡æœ‰æä¾›å®˜æ–¹çš„ç±»å‹å®šä¹‰æ–‡ä»¶ï¼ˆä¾‹å¦‚ .d.ts æ–‡ä»¶ï¼‰ï¼Œä½ å¯ä»¥ä½¿ç”¨ declare module æ¥å‘Šè¯‰ TypeScript è¿™ä¸ªæ¨¡å—å­˜åœ¨ï¼Œä»è€Œé¿å…ç¼–è¯‘æ—¶æŠ¥é”™ã€‚ ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼šè¿™æ˜¯ä¸€ä¸ªä¸´æ—¶çš„å£°æ˜ï¼Œé€šå¸¸ç”¨äºå¿«é€Ÿè§£å†³ç±»å‹æ£€æŸ¥é—®é¢˜ã€‚å®ƒä¸ä¼šä¸ºæ¨¡å—æä¾›å…·ä½“çš„ç±»å‹ä¿¡æ¯ï¼Œåªæ˜¯å‘Šè¯‰ TypeScript è¿™ä¸ªæ¨¡å—æ˜¯æœ‰æ•ˆçš„ã€‚ types/cnjm-postcss-px-to-viewport.d.ts 1declare module &#x27;cnjm-postcss-px-to-viewport&#x27; tsconfig.node.json 1234567&#123; &quot;extends&quot;: &quot;@tsconfig/node22/tsconfig.json&quot;, &quot;compilerOptions&quot;: &#123; &quot;types&quot;: [&quot;node&quot;, &quot;./types/vite.config.d.ts&quot;], &#125;, &quot;include&quot;: []&#125; declare module â€˜cnjm-postcss-px-to-viewport è¿™è¡Œä»£ç çš„æ„æ€æ˜¯ï¼š å£°æ˜ä¸€ä¸ªåä¸º &#39;cnjm-postcss-px-to-viewport&#39; çš„æ¨¡å—ã€‚ TypeScript ä¸ä¼šå¯¹è¯¥æ¨¡å—çš„å¯¼å…¥è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚ ä½ å¯ä»¥åœ¨é¡¹ç›®ä¸­å¯¼å…¥å¹¶ä½¿ç”¨è¿™ä¸ªæ¨¡å—ï¼Œä½†å®ƒçš„ç±»å‹æ˜¯ anyï¼Œå³æ²¡æœ‰å…·ä½“çš„ç±»å‹ä¿¡æ¯ã€‚ vite-plugin-px2rempxè½¬rem æ’ä»¶ç½‘ç«™https://www.npmjs.com/package/vite-plugin-px2rem#vite-plugin-px2rem 1pnpm add vite-plugin-px2rem -D vite.config.ts 12345678910import &#123; defineConfig &#125; from &#x27;vite&#x27;export default defineConfig(&#123; plugins: [ px2rem(&#123; width: 750, rootFontSize: 16, &#125;), ],&#125;) 29ã€é¢„æ„å»ºçš„ä¾èµ–é¡¹å¼ºåˆ¶é¢„æ„å»ºçš„ä¾èµ–é¡¹ï¼Œåœ¨å¼€å‘æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼ŒVite ä¼šé¢„å…ˆå¤„ç†è¿™äº›åº“ï¼Œä»¥ç¡®ä¿å®ƒä»¬å¿«é€ŸåŠ è½½å’Œè§£æ 1234567891011121314import &#123; defineConfig &#125; from &#x27;vite&#x27;export default defineConfig(&#123; plugins: [], optimizeDeps: &#123; include: [ &#x27;vue&#x27;, &#x27;vue-router&#x27;, &#x27;pinia&#x27;, &#x27;axios&#x27;, &#x27;@vueuse/core&#x27;, ], &#125;,&#125;) 30ã€è®¡ç®—ç™½å±æ—¶é—´ç™½å±æ—¶é—´ï¼ˆFirst Paint Timeï¼‰æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æŒ‡æ ‡ã€‚å®ƒæŒ‡çš„æ˜¯ä»ç”¨æˆ·è¾“å…¥ç½‘å€å¹¶æŒ‰ä¸‹å›è½¦é”®ï¼Œåˆ°æµè§ˆå™¨å¼€å§‹æ¸²æŸ“é¡µé¢å†…å®¹çš„æ—¶é—´æ®µã€‚åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œç”¨æˆ·çœ‹åˆ°çš„åªæ˜¯ä¸€ä¸ªç©ºç™½é¡µé¢ï¼Œå› æ­¤ç™½å±æ—¶é—´çš„é•¿çŸ­ç›´æ¥å½±å“äº†ç”¨æˆ·çš„ä½“éªŒã€‚ 30.1ã€ä»€ä¹ˆæ˜¯ç™½å±æ—¶é—´ï¼Ÿç™½å±æ—¶é—´æ˜¯æŒ‡ä»ç”¨æˆ·å‘èµ·é¡µé¢è¯·æ±‚åˆ°æµè§ˆå™¨é¦–æ¬¡å¼€å§‹æ¸²æŸ“é¡µé¢å†…å®¹çš„æ—¶é—´ã€‚å…·ä½“æ¥è¯´ï¼Œç™½å±æ—¶é—´åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š DNSè§£æï¼šæµè§ˆå™¨å°†åŸŸåè§£æä¸ºIPåœ°å€ã€‚ å»ºç«‹TCPè¿æ¥ï¼šæµè§ˆå™¨ä¸æœåŠ¡å™¨å»ºç«‹TCPè¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ã€‚ å‘èµ·HTTPè¯·æ±‚ï¼šæµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€HTTPè¯·æ±‚ã€‚ æœåŠ¡å™¨å“åº”ï¼šæœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å›å“åº”æ•°æ®ã€‚ æµè§ˆå™¨è§£æHTMLï¼šæµè§ˆå™¨è§£æHTMLæ–‡æ¡£å¹¶æ„å»ºDOMæ ‘ã€‚ æµè§ˆå™¨æ¸²æŸ“é¡µé¢ï¼šæµè§ˆå™¨æ ¹æ®DOMæ ‘å’ŒCSSOMæ ‘ç”Ÿæˆæ¸²æŸ“æ ‘ï¼Œå¹¶å¼€å§‹æ¸²æŸ“é¡µé¢ã€‚ é¡µé¢å±•ç¤ºç¬¬ä¸€ä¸ªæ ‡ç­¾ï¼šæµè§ˆå™¨é¦–æ¬¡å°†é¡µé¢å†…å®¹æ¸²æŸ“åˆ°å±å¹•ä¸Šã€‚ ç™½å±æ—¶é—´çš„é•¿çŸ­ç›´æ¥å½±å“äº†ç”¨æˆ·å¯¹ç½‘ç«™çš„ç¬¬ä¸€å°è±¡ã€‚å¦‚æœç™½å±æ—¶é—´è¿‡é•¿ï¼Œç”¨æˆ·å¯èƒ½ä¼šæ„Ÿåˆ°ä¸è€çƒ¦ï¼Œç”šè‡³ç›´æ¥å…³é—­é¡µé¢ã€‚å› æ­¤ï¼Œä¼˜åŒ–ç™½å±æ—¶é—´æ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„é‡è¦ç›®æ ‡ä¹‹ä¸€ã€‚ 30.2ã€ç™½å±æ—¶é—´çš„å½±å“å› ç´ ç™½å±æ—¶é—´çš„é•¿çŸ­å—åˆ°å¤šç§å› ç´ çš„å½±å“ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š ç½‘ç»œæ€§èƒ½ï¼šç½‘ç»œå»¶è¿Ÿã€å¸¦å®½ã€DNSè§£ææ—¶é—´ç­‰éƒ½ä¼šå½±å“ç™½å±æ—¶é—´ã€‚å¦‚æœç½‘ç»œçŠ¶å†µä¸ä½³ï¼ŒDNSè§£æå’ŒTCPè¿æ¥å»ºç«‹çš„æ—¶é—´ä¼šå˜é•¿ï¼Œä»è€Œå¯¼è‡´ç™½å±æ—¶é—´å¢åŠ ã€‚ æœåŠ¡å™¨æ€§èƒ½ï¼šæœåŠ¡å™¨çš„å“åº”é€Ÿåº¦ã€å¤„ç†èƒ½åŠ›ç­‰ä¹Ÿä¼šå½±å“ç™½å±æ—¶é—´ã€‚å¦‚æœæœåŠ¡å™¨å“åº”ç¼“æ…¢ï¼Œæµè§ˆå™¨éœ€è¦ç­‰å¾…æ›´é•¿çš„æ—¶é—´æ‰èƒ½æ¥æ”¶åˆ°HTMLæ–‡æ¡£ã€‚ å‰ç«¯é¡µé¢ç»“æ„ï¼šHTMLæ–‡æ¡£çš„å¤§å°ã€å¤æ‚åº¦ã€å¤–éƒ¨èµ„æºçš„åŠ è½½é¡ºåºç­‰éƒ½ä¼šå½±å“ç™½å±æ—¶é—´ã€‚å¦‚æœHTMLæ–‡æ¡£è¿‡å¤§æˆ–åŒ…å«å¤§é‡å¤–éƒ¨èµ„æºï¼Œæµè§ˆå™¨éœ€è¦æ›´é•¿çš„æ—¶é—´æ¥è§£æå’Œæ¸²æŸ“é¡µé¢ã€‚ æµè§ˆå™¨æ€§èƒ½ï¼šæµè§ˆå™¨çš„æ¸²æŸ“å¼•æ“æ€§èƒ½ã€ç¼“å­˜æœºåˆ¶ç­‰ä¹Ÿä¼šå½±å“ç™½å±æ—¶é—´ã€‚ä¸åŒæµè§ˆå™¨çš„æ¸²æŸ“æ€§èƒ½å¯èƒ½å­˜åœ¨å·®å¼‚ï¼Œå¯¼è‡´ç™½å±æ—¶é—´ä¸åŒã€‚ 12345678910111213141516171819202122232425262728293031323334&lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;title&gt;Vite App&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;app&quot;&gt;&lt;/div&gt; &lt;script type=&quot;module&quot; src=&quot;/src/main.ts&quot;&gt;&lt;/script&gt; &lt;script&gt; // æ€§èƒ½ è§‚å¯Ÿå™¨ è§‚å¯Ÿè€…æ¨¡å¼ const observer = new PerformanceObserver((list) =&gt; &#123; // è·å–æ‰€æœ‰çš„ æ€§èƒ½ æŒ‡æ ‡ const entries = list.getEntries() for (const entry of entries) &#123; // body é‡Œçš„ç¬¬ä¸€ä¸ª æ ‡ç­¾çš„æ¸²æŸ“ // &#x27;first-paint&#x27; è¡¨ç¤ºé¡µé¢é¦–æ¬¡å¼€å§‹ç»˜åˆ¶çš„æ—¶é—´ç‚¹ï¼Œä¹Ÿå°±æ˜¯ç™½å±ç»“æŸçš„æ—¶é—´ç‚¹ if (entry.name === &#x27;first-paint&#x27;) &#123; const whiteScreenTime = entry.startTime // 1s=1000ms console.log(`ç™½å±æ—¶é—´ï¼š$&#123;whiteScreenTime&#125;ms`) &#125; &#125; &#125;) // é¦–æ¬¡ç»˜åˆ¶ first-paint // é¦–æ¬¡å†…å®¹ç»˜åˆ¶ first-contentful-paint äº‹ä»¶ // observe ç›‘å¬æ€§èƒ½æŒ‡æ ‡ // buffered å±æ€§è®¾ç½®ä¸º trueï¼Œè¡¨ç¤ºåŒ…å«æ€§èƒ½æ—¶é—´çº¿ç¼“å†²åŒºä¸­å·²ç»è®°å½•çš„ç›¸å…³äº‹ä»¶ // è¿™æ ·å³ä½¿åœ¨åˆ›å»º PerformanceObserver ä¹‹å‰äº‹ä»¶å·²ç»å‘ç”Ÿï¼Œä¹Ÿèƒ½è¢«æ•è·åˆ° observer.observe(&#123; type: &#x27;paint&#x27;, buffered: true &#125;) &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"vue3","slug":"vue3","permalink":"http://example.com/tags/vue3/"}]},{"title":"TypeScripè£…é¥°å™¨","slug":"38-TypeScripè£…é¥°å™¨","date":"2025-08-17T16:51:08.000Z","updated":"2026-03-01T16:07:38.351Z","comments":true,"path":"posts/5f5fe4d5.html","permalink":"http://example.com/posts/5f5fe4d5.html","excerpt":"","text":"ä¸€ã€ç®€ä»‹ è£…é¥°å™¨æœ¬è´¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒå¯ä»¥å¯¹ï¼šç±»ã€å±æ€§ã€æ–¹æ³•ã€å‚æ•°è¿›è¡Œæ‰©å±•ï¼ŒåŒæ—¶èƒ½è®©ä»£ç æ›´ç®€æ´ã€‚ è£…é¥°å™¨è‡ª2015å¹´åœ¨ECMAScript-6ä¸­è¢«æå‡ºåˆ°ç°åœ¨ï¼Œå·²å°†è¿‘10å¹´ã€‚ æˆªæ­¢ç›®å‰ï¼Œè£…é¥°å™¨ä¾ç„¶æ˜¯å®éªŒæ€§ç‰¹æ€§ ï¼Œéœ€è¦å¼€å‘è€…æ‰‹åŠ¨è°ƒæ•´é…ç½®ï¼Œæ¥å¼€å¯è£…é¥°å™¨æ”¯æŒã€‚ è£…é¥°å™¨æœ‰ 5 ç§ï¼š 1ã€ç±»è£…é¥°å™¨2ã€å±æ€§è£…é¥°å™¨3ã€æ–¹æ³•è£…é¥°å™¨4ã€è®¿é—®å™¨è£…é¥°å™¨5ã€å‚æ•°è£…é¥°å™¨ å¤‡æ³¨ï¼šè™½ç„¶TypeScript5.0ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨**ç±»è£…é¥°å™¨**ï¼Œä½†ä¸ºäº†ç¡®ä¿å…¶ä»–è£…é¥°å™¨å¯ç”¨ï¼Œç°é˜¶æ®µä½¿ç”¨æ—¶ï¼Œä»å»ºè®®ä½¿ç”¨experimentalDecoratorsé…ç½®æ¥å¼€å¯è£…é¥°å™¨æ”¯æŒï¼Œè€Œä¸”ä¸æ’é™¤åœ¨æ¥çš„ç‰ˆæœ¬ä¸­ï¼Œå®˜æ–¹ä¼šè¿›ä¸€æ­¥è°ƒæ•´è£…é¥°å™¨çš„ç›¸å…³è¯­æ³•ï¼å‚è€ƒï¼šã€ŠTypeScript 5.0å‘ç‰ˆå…¬å‘Šã€‹ äºŒã€ç±»è£…é¥°å™¨2.1ã€åŸºæœ¬è¯­æ³•ç±»è£…é¥°å™¨æ˜¯ä¸€ä¸ªåº”ç”¨åœ¨ç±»å£°æ˜ä¸Šçš„å‡½æ•°ï¼Œå¯ä»¥ä¸ºç±»æ·»åŠ é¢å¤–çš„åŠŸèƒ½ï¼Œæˆ–æ·»åŠ é¢å¤–çš„é€»è¾‘ã€‚ 1234567891011121314/* Demoå‡½æ•°ä¼šåœ¨Personç±»å®šä¹‰æ—¶æ‰§è¡Œ targetå‚æ•°æ˜¯è¢«è£…é¥°çš„ç±»ï¼Œå³ï¼šPerson*/function Demo(target: Function) &#123; console.log(target)&#125;// ä½¿ç”¨è£…é¥°å™¨@Democlass Person &#123; // è¢«è£…é¥°çš„ç±» constructor(public name:string) &#123;&#125;&#125;new Person(&#x27;zhangsan&#x27;); 2.2ã€åº”ç”¨ä¸¾ä¾‹éœ€æ±‚ï¼šå®šä¹‰ä¸€ä¸ªè£…é¥°å™¨ï¼Œå®ç°Personå®ä¾‹è°ƒç”¨toStringæ—¶è¿”å›JSON.stringifyçš„æ‰§è¡Œç»“æœã€‚ 12345678910111213141516171819202122232425262728// ä½¿ç”¨è£…é¥°å™¨é‡å†™toStringæ–¹æ³• + å°é—­å…¶åŸå‹å¯¹è±¡function CustomString(target: Function) &#123; // å‘è¢«è£…é¥°ç±»çš„åŸå‹ä¸Šæ·»åŠ è‡ªå®šä¹‰çš„ toString æ–¹æ³• target.prototype.toString = function () &#123; return JSON.stringify(this); &#125;; // å°é—­å…¶åŸå‹å¯¹è±¡ï¼Œç¦æ­¢éšæ„æ“ä½œå…¶åŸå‹å¯¹è±¡ Object.seal(target.prototype)&#125;// ä½¿ç”¨ CustomString è£…é¥°å™¨@CustomStringclass Person &#123; constructor(public name: string, public age: number) &#123; &#125; speak() &#123; console.log(`æˆ‘å«$&#123;this.name&#125;ï¼Œä»Šå¹´$&#123;this.age&#125;å²äº†`); &#125;&#125;const p1 = new Person(&quot;å°æ˜&quot;, 15);console.log(p1.toString()); // [object Object] ä½¿ç”¨è£…é¥°å™¨åï¼š&#x27;&#123;&quot;name&quot;:&quot;å°æ˜&quot;,&quot;age&quot;:15&#125;&#x27;interface Person &#123; a: any;&#125;// å½“å°é—­å…¶åŸå‹å¯¹è±¡ æ­¤è¡Œä¼šæŠ¥é”™ï¼šCannot add property a, object is not extensiblePerson.prototype.a = 100;console.log(p1.a) 2.3ã€å…³äºè¿”å›å€¼ç±»è£…é¥°å™¨æœ‰è¿”å›å€¼ï¼šè‹¥ç±»è£…é¥°å™¨è¿”å›ä¸€ä¸ªæ–°çš„ç±»ï¼Œé‚£è¿™ä¸ªæ–°ç±»å°†æ›¿æ¢æ‰è¢«è£…é¥°çš„ç±»ã€‚ç±»è£…é¥°å™¨æ— è¿”å›å€¼ï¼šè‹¥ç±»è£…é¥°å™¨æ— è¿”å›å€¼æˆ–è¿”å›undefinedï¼Œé‚£è¢«è£…é¥°çš„ç±»ä¸ä¼šè¢«æ›¿æ¢ã€‚ 12345678910111213141516171819function demo(target:Function)&#123; // è£…é¥°å™¨æœ‰è¿”å›å€¼æ—¶ï¼Œè¯¥è¿”å›å€¼ä¼šæ›¿æ¢æ‰è¢«è£…é¥°çš„ç±» return class &#123; test()&#123; console.log(200) console.log(300) console.log(400) &#125; &#125;&#125;@democlass Person &#123; test()&#123; console.log(100) &#125;&#125;console.log(Person) 2.4ã€å…³äºclassæ„é€ ç±»å‹ åœ¨ TypeScript ä¸­ï¼ŒFunction ç±»å‹æ‰€è¡¨ç¤ºçš„èŒƒå›´ååˆ†å¹¿æ³›ï¼ŒåŒ…æ‹¬ï¼šæ™®é€šå‡½æ•°ã€ç®­å¤´å‡½æ•°ã€æ–¹æ³•ç­‰ç­‰ã€‚ä½†å¹¶éFunction ç±»å‹çš„å‡½æ•°éƒ½å¯ä»¥è¢« new å…³é”®å­—å®ä¾‹åŒ–ï¼Œä¾‹å¦‚ç®­å¤´å‡½æ•°æ˜¯ä¸èƒ½è¢«å®ä¾‹åŒ–çš„ï¼Œé‚£ä¹ˆ TypeScript ä¸­æ¦‚å¦‚ä½•å£°æ˜ä¸€ä¸ªæ„é€ ç±»å‹å‘¢ï¼Ÿæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š 12345678910111213/* â—‹ new è¡¨ç¤ºï¼šè¯¥ç±»å‹æ˜¯å¯ä»¥ç”¨newæ“ä½œç¬¦è°ƒç”¨ã€‚ â—‹ ...args è¡¨ç¤ºï¼šæ„é€ å™¨å¯ä»¥æ¥å—ã€ä»»æ„æ•°é‡ã€‘çš„å‚æ•°ã€‚ â—‹ any[] è¡¨ç¤ºï¼šæ„é€ å™¨å¯ä»¥æ¥å—ã€ä»»æ„ç±»å‹ã€‘çš„å‚æ•°ã€‚ â—‹ &#123;&#125; è¡¨ç¤ºï¼šè¿”å›ç±»å‹æ˜¯å¯¹è±¡(énullã€éundefinedçš„å¯¹è±¡)ã€‚*/// å®šä¹‰Constructorç±»å‹ï¼Œå…¶å«ä¹‰æ˜¯æ„é€ ç±»å‹type Constructor = new (...args: any[]) =&gt; &#123;&#125;;function test(fn:Constructor)&#123;&#125;class Person &#123;&#125;test(Person) 123456789101112// å®šä¹‰ä¸€ä¸ªæ„é€ ç±»å‹ï¼Œä¸”åŒ…å«ä¸€ä¸ªé™æ€å±æ€§ wifetype Constructor = &#123; new(...args: any[]): &#123;&#125;; // æ„é€ ç­¾å wife: string; // wifeå±æ€§&#125;;class Person &#123; static wife = &#x27;asd&#x27;&#125;function test(fn:Constructor)&#123;&#125;test(Person) 2.5ã€æ›¿æ¢è¢«è£…é¥°çš„ç±»å¯¹äºé«˜çº§ä¸€äº›çš„è£…é¥°å™¨ï¼Œä¸ä»…ä»…æ˜¯è¦†ç›–ä¸€ä¸ªåŸå‹ä¸Šçš„æ–¹æ³•ï¼Œè¿˜è¦æœ‰æ›´å¤šåŠŸèƒ½ï¼Œä¾‹å¦‚æ·»åŠ æ–°çš„æ–¹æ³•å’ŒçŠ¶æ€ã€‚ **éœ€æ±‚ï¼š**è®¾è®¡ä¸€ä¸ªLogTimeè£…é¥°å™¨ï¼Œå¯ä»¥ç»™å®ä¾‹æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œç”¨äºè®°å½•å®ä¾‹å¯¹è±¡çš„åˆ›å»ºæ—¶é—´ï¼Œå†æ·»åŠ ä¸€ä¸ªæ–¹æ³•ç”¨äºè¯»å–åˆ›å»ºæ—¶é—´ã€‚ 1234567891011121314151617181920212223242526272829303132// Useræ¥å£interface User &#123; getTime(): void;&#125;// è‡ªå®šä¹‰ç±»å‹Classtype Constructor = new (...args: any[]) =&gt; &#123;&#125;;// åˆ›å»ºä¸€ä¸ªè£…é¥°å™¨ï¼Œä¸ºç±»æ·»åŠ æ—¥å¿—åŠŸèƒ½å’Œåˆ›å»ºæ—¶é—´function LogTime&lt;T extends Constructor&gt;(target: T) &#123; return class extends target &#123; // returnä¸€ä¸ªç±»å¹¶ä¸”è¿™ä¸ªç±»ç»§æ‰¿äº†targetä¼ æ¥çš„ç±» createdTime: Date; constructor(...args: any[]) &#123; // æ„é€ å™¨å¯ä»¥æ¥å—ä»»æ„æ•°é‡/ç±»å‹çš„å‚æ•° super(...args); // ç»§æ‰¿ä¼ é€’çš„ä»»æ„å‚æ•° this.createdTime = new Date(); // è®°å½•å¯¹è±¡åˆ›å»ºæ—¶é—´ &#125; getTime() &#123; return `è¯¥å¯¹è±¡åˆ›å»ºæ—¶é—´ä¸ºï¼š$&#123;this.createdTime&#125;`; &#125; &#125;;&#125;@LogTimeclass User &#123; constructor(public name: string, public age: number) &#123; &#125; speak() &#123; console.log(`$&#123;this.name&#125;è¯´ï¼šä½ å¥½å•Šï¼`); &#125;&#125;const user1 = new User(&quot;å¼ ä¸‰&quot;, 13);console.log(user1.getTime()); ä¸‰ã€è£…é¥°å™¨å·¥å‚è£…é¥°å™¨å·¥å‚æ˜¯ä¸€ä¸ªè¿”å›è£…é¥°å™¨å‡½æ•°çš„å‡½æ•°ï¼ˆè£…é¥°å™¨å·¥å‚ä¸­ä¼šåŒ…å«ä¸€ä¸ªè£…é¥°å™¨ï¼‰ï¼Œå¯ä»¥ä¸ºè£…é¥°å™¨æ·»åŠ å‚æ•°ï¼Œå¯ä»¥æ›´çµæ´»åœ°æ§åˆ¶è£…é¥°å™¨çš„è¡Œä¸ºã€‚ **éœ€æ±‚ï¼š**å®šä¹‰ä¸€ä¸ªLogInfoç±»è£…é¥°å™¨å·¥å‚ï¼Œå®ç°Personå®ä¾‹å¯ä»¥è°ƒç”¨åˆ°introduceæ–¹æ³•ï¼Œä¸”introduceä¸­è¾“å‡ºå†…å®¹çš„æ¬¡æ•°ï¼Œç”±LogInfoæ¥æ”¶çš„å‚æ•°å†³å®šã€‚ 123456789101112131415161718192021222324252627282930interface Person &#123; // å› ä¸ºç»™åŸå‹ä¸Šæ·»åŠ äº†ä¸ªæ–¹æ³•ï¼Œå› æ­¤è¦åŠ ä¸ªç±»å‹ introduce: () =&gt; void&#125;// å®šä¹‰ä¸€ä¸ªè£…é¥°å™¨å·¥å‚ LogInfoï¼Œå®ƒæ¥å—ä¸€ä¸ªå‚æ•° nï¼Œè¿”å›ä¸€ä¸ªç±»è£…é¥°å™¨function LogInfo(n: number) &#123; return function (target: Function) &#123; // è£…é¥°å™¨å‡½æ•°ï¼Œtarget æ˜¯è¢«è£…é¥°çš„ç±» target.prototype.introduce = function () &#123; for (let i = 0; i &lt; n; i++) &#123; console.log(`æˆ‘çš„åå­—ï¼š$&#123;this.name&#125;ï¼Œæˆ‘çš„å¹´é¾„ï¼š$&#123;this.age&#125;`) &#125; &#125; &#125;&#125;@LogInfo(5) // è£…é¥°å™¨å·¥å‚éœ€è¦æœ‰ä¸ª()class Person &#123; constructor( public name: string, public age: number ) &#123; &#125; speak() &#123; console.log(&#x27;ä½ å¥½å‘€ï¼&#x27;) &#125;&#125;let p1 = new Person(&#x27;å¼ ä¸‰&#x27;, 18)// console.log(p1) // æ‰“å°çš„p1æ˜¯ï¼š_classThisï¼Œè½¬æ¢çš„JSç‰ˆæœ¬æ¯”è¾ƒæ—§æ—¶ï¼Œä¼šå‡ºç°ï¼Œä¸å¿…çº ç»“p1.speak()p1.introduce() å››ã€è£…é¥°å™¨ç»„åˆ è£…é¥°å™¨ç»„åˆå³è£…é¥°å™¨å·¥å‚å’Œè£…é¥°å™¨çš„ç»„åˆ 4.1ã€æ‰§è¡Œé¡ºåºè£…é¥°å™¨å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œæ‰§è¡Œé¡ºåºä¸ºï¼šå…ˆã€ç”±ä¸Šåˆ°ä¸‹ã€‘çš„æ‰§è¡Œæ‰€æœ‰çš„è£…é¥°å™¨å·¥å‚ï¼Œä¾æ¬¡è·å–åˆ°è£…é¥°å™¨ï¼Œç„¶åå†ã€ç”±ä¸‹åˆ°ä¸Šã€‘æ‰§è¡Œæ‰€æœ‰çš„è£…é¥°å™¨ã€‚ï¼ˆå…ˆæ‰§è¡Œè£…é¥°å™¨å·¥å‚åæ‰§è¡Œè£…é¥°å™¨ï¼Œè£…é¥°å™¨å·¥å‚ç”±ä¸Šå¾€ä¸‹ï¼Œè£…é¥°å™¨ç”±ä¸‹å¾€ä¸Šæ‰§è¡Œï¼‰ 1234567891011121314151617181920212223242526272829303132333435363738//è£…é¥°å™¨function test1(target: Function) &#123; console.log(&#x27;test1&#x27;)&#125;//è£…é¥°å™¨å·¥å‚function test2() &#123; console.log(&#x27;test2å·¥å‚&#x27;) return function (target: Function) &#123; console.log(&#x27;test2&#x27;) &#125;&#125;//è£…é¥°å™¨å·¥å‚function test3() &#123; console.log(&#x27;test3å·¥å‚&#x27;) return function (target: Function) &#123; console.log(&#x27;test3&#x27;) &#125;&#125;//è£…é¥°å™¨function test4(target: Function) &#123; console.log(&#x27;test4&#x27;)&#125;@test1@test2()@test3()@test4class Person &#123; &#125;/* æ§åˆ¶å°æ‰“å°ï¼š test2å·¥å‚ test3å·¥å‚ test4 test3 test2 test1*/ 4.2ã€åº”ç”¨12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061// è‡ªå®šä¹‰ç±»å‹Classtype Constructor = new (...args: any[]) =&gt; &#123;&#125;interface Person &#123; introduce(): void getTime(): void&#125;// ä½¿ç”¨è£…é¥°å™¨é‡å†™toStringæ–¹æ³• + å°é—­å…¶åŸå‹å¯¹è±¡function customToString(target: Function) &#123; // å‘è¢«è£…é¥°ç±»çš„åŸå‹ä¸Šæ·»åŠ è‡ªå®šä¹‰çš„ toString æ–¹æ³• target.prototype.toString = function () &#123; return JSON.stringify(this) &#125; // å°é—­å…¶åŸå‹å¯¹è±¡ï¼Œç¦æ­¢éšæ„æ“ä½œå…¶åŸå‹å¯¹è±¡ Object.seal(target.prototype)&#125;// åˆ›å»ºä¸€ä¸ªè£…é¥°å™¨ï¼Œä¸ºç±»æ·»åŠ æ—¥å¿—åŠŸèƒ½å’Œåˆ›å»ºæ—¶é—´function LogTime&lt;T extends Constructor&gt;(target: T) &#123; return class extends target &#123; createdTime: Date; constructor(...args: any[]) &#123; super(...args); this.createdTime = new Date(); // è®°å½•å¯¹è±¡åˆ›å»ºæ—¶é—´ &#125; getTime() &#123; return `è¯¥å¯¹è±¡åˆ›å»ºæ—¶é—´ä¸ºï¼š$&#123;this.createdTime&#125;`; &#125; &#125;;&#125;// å®šä¹‰ä¸€ä¸ªè£…é¥°å™¨å·¥å‚ LogInfoï¼Œå®ƒæ¥å—ä¸€ä¸ªå‚æ•° nï¼Œè¿”å›ä¸€ä¸ªç±»è£…é¥°å™¨function LogInfo(n: number) &#123; // è£…é¥°å™¨å‡½æ•°ï¼Œtarget æ˜¯è¢«è£…é¥°çš„ç±» return function (target: Function) &#123; target.prototype.introduce = function () &#123; for (let i = 0; i &lt; n; i++) &#123; console.log(`æˆ‘çš„åå­—ï¼š$&#123;this.name&#125;ï¼Œæˆ‘çš„å¹´é¾„ï¼š$&#123;this.age&#125;`) &#125; &#125; &#125;&#125;@customToString@LogInfo(3)@LogTimeclass Person &#123; constructor( public name: string, public age: number ) &#123; &#125; speak() &#123; console.log(&#x27;ä½ å¥½å‘€ï¼&#x27;) &#125;&#125;const p1 = new Person(&#x27;å¼ ä¸‰&#x27;, 18)console.log(p1.toString()) // &#123;&quot;name&quot;:&quot;å¼ ä¸‰&quot;,&quot;age&quot;:18,&quot;createdTime&quot;:&quot;2024-11-22T02:49:25.234Z&quot;&#125;p1.introduce() // æ‰“å°3æ¬¡ï¼šæˆ‘çš„åå­—ï¼šå¼ ä¸‰ï¼Œæˆ‘çš„å¹´é¾„ï¼š18console.log(p1.getTime()) // è¯¥å¯¹è±¡åˆ›å»ºæ—¶é—´ä¸ºï¼šFri Nov 22 2024 10:50:19 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) äº”ã€å±æ€§è£…é¥°å™¨åŸºæœ¬è¯­æ³•123456789101112131415161718192021/* å‚æ•°è¯´æ˜ï¼š â—‹ target: å¯¹äºé™æ€å±æ€§æ¥è¯´å€¼æ˜¯ç±»ï¼Œå¯¹äºå®ä¾‹å±æ€§æ¥è¯´å€¼æ˜¯ç±»çš„åŸå‹å¯¹è±¡ã€‚ â—‹ propertyKey: å±æ€§åã€‚*/function Demo(target: object, propertyKey: string) &#123; console.log(target, propertyKey)&#125;class Person &#123; @Demo name: string @Demo age: number @Demo static school: string constructor(name: string, age: number) &#123; this.name = name this.age = age &#125;&#125;const p1 = new Person(&#x27;å¼ ä¸‰&#x27;, 18) å…³äºå±æ€§é®è”½ å¸¸è§„é€»è¾‘ï¼šç»™å®ä¾‹å¯¹è±¡thisæ·»åŠ ä¸€ä¸ªageå±æ€§ï¼Œjsä¼šå…ˆæŸ¥çœ‹æ˜¯å¦æœ‰è¿™ä¸ªå±æ€§ï¼Œæ²¡æœ‰å°±æŸ¥çœ‹åŸå‹å¯¹è±¡ä¸Šæ˜¯å¦æœ‰ã€‚å¦‚ä¸‹ä»£ç åœ¨ç»™åŸå‹å¯¹è±¡æ·»åŠ ageå±æ€§ä¹‹å‰å°±å·²ç»newäº†ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œå› æ­¤å®ä¾‹ageæ˜¯18 åŸå‹å¯¹è±¡çš„ageæ˜¯130 12345678910111213141516171819202122/ å¸¸è§„class Person &#123; name: string; age: number; constructor(name: string, age: number) &#123; this.name = name; this.age = age; &#125;&#125;const P1 = new Person(&#x27;å°æ˜&#x27;, 18)let value = 130Object.defineProperty(Person.prototype, &#x27;age&#x27;, &#123; get() &#123; return value &#125;, set(v) &#123; value = v &#125;&#125;)console.log(P1); // &#123;name: &#x27;å°æ˜&#x27;, age: 18&#125; åŸå‹å¯¹è±¡ä¸Šageæ˜¯130 **å±æ€§é®è”½ï¼š**å¦‚ä¸‹ä»£ç ä¸­ï¼šå½“æ„é€ å™¨ä¸­çš„this.age = ageè¯•å›¾åœ¨å®ä¾‹ä¸Šèµ‹å€¼æ—¶ï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨äº†åŸå‹ä¸Šageå±æ€§çš„setæ–¹æ³•ã€‚ é€»è¾‘ï¼šç¬¬ä¸€æ¬¡æ‰§è¡Œåˆ°this.age &#x3D; ageçš„æ—¶å€™ã€‚å‘ç°æ²¡æœ‰ageå°±åœ¨åŸå‹å¯¹è±¡æ‰¾æ‰§è¡Œgetæ–¹æ³•è¿™æ—¶å€™å‘ç°ageæ˜¯130ï¼Œå¾€ä¸‹æ‰§è¡Œnewä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„æ—¶å€™ï¼Œå› ä¸ºè¿™æ—¶å€™çš„ageæ˜¯åŸå‹å¯¹è±¡ä¸­çš„ï¼Œå› æ­¤ä¼šæ‰§è¡Œsetå‡½æ•°ï¼Œå°†18èµ‹å€¼ç»™age 12345678910111213141516171819202122class Person &#123; name: string age: number constructor(name: string, age: number) &#123; this.name = name this.age = age &#125;&#125;let value = 130// ä½¿ç”¨definePropertyç»™PersonåŸå‹æ·»åŠ ageå±æ€§ï¼Œå¹¶é…ç½®å¯¹åº”çš„getä¸setObject.defineProperty(Person.prototype, &#x27;age&#x27;, &#123; get() &#123; return value &#125;, set(val) &#123; value = val &#125;&#125;)const p1 = new Person(&#x27;å¼ ä¸‰&#x27;, 18)console.log(p1) åº”ç”¨ä¸¾ä¾‹ éœ€æ±‚ï¼šå®šä¹‰ä¸€ä¸ªStateå±æ€§è£…é¥°å™¨ï¼Œæ¥ç›‘è§†å±æ€§çš„ä¿®æ”¹ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940// å£°æ˜ä¸€ä¸ªè£…é¥°å™¨å‡½æ•° Stateï¼Œç”¨äºæ•è·æ•°æ®çš„ä¿®æ”¹function State(target: object, propertyKey: string) &#123; // å­˜å‚¨å±æ€§çš„å†…éƒ¨å€¼ let key = `__$&#123;propertyKey&#125;`; // ä½¿ç”¨ Object.defineProperty æ›¿æ¢ç±»çš„åŸå§‹å±æ€§ // é‡æ–°å®šä¹‰å±æ€§ï¼Œä½¿å…¶ä½¿ç”¨è‡ªå®šä¹‰çš„ getter å’Œ setter Object.defineProperty(target, propertyKey, &#123; get() &#123; return this[key] &#125;, set(newVal: string) &#123; console.log(`$&#123;propertyKey&#125;çš„æœ€æ–°å€¼ä¸ºï¼š$&#123;newVal&#125;`); this[key] = newVal &#125;, enumerable: true, configurable: true, &#125;);&#125;class Person &#123; name: string; //ä½¿ç”¨Stateè£…é¥°å™¨ @State age: number; school = &#x27;atguigu&#x27;; constructor(name: string, age: number) &#123; this.name = name; this.age = age; &#125;&#125;const p1 = new Person(&#x27;å¼ ä¸‰&#x27;, 18);const p2 = new Person(&#x27;æå››&#x27;, 30);p1.age = 80p2.age = 90console.log(&#x27;------------------&#x27;)console.log(p1.age) //80console.log(p2.age) //90 å…­ã€æ–¹æ³•è£…é¥°å™¨åŸºæœ¬è¯­æ³•12345678910111213141516171819202122232425262728293031/* å‚æ•°è¯´æ˜ï¼š â—‹ target: å¯¹äºé™æ€æ–¹æ³•æ¥è¯´å€¼æ˜¯ç±»ï¼Œå¯¹äºå®ä¾‹æ–¹æ³•æ¥è¯´å€¼æ˜¯ç±»çš„åŸå‹å¯¹è±¡ã€‚ â—‹ propertyKey:æ–¹æ³•çš„åç§°ã€‚ â—‹ descriptor: æ–¹æ³•çš„æè¿°å¯¹è±¡ï¼Œå…¶ä¸­valueå±æ€§æ˜¯è¢«è£…é¥°çš„æ–¹æ³•ã€‚*/// PropertyDescriptor è‡ªå¸¦çš„ç±»å‹function Demo(target: object, propertyKey: string, descriptor: PropertyDescriptor) &#123; console.log(target) console.log(propertyKey) console.log(descriptor)&#125;class Person &#123; constructor( public name: string, public age: number, ) &#123; &#125; // Demoè£…é¥°å®ä¾‹æ–¹æ³• @Demo speak() &#123; console.log(`ä½ å¥½ï¼Œæˆ‘çš„åå­—ï¼š$&#123;this.name&#125;ï¼Œæˆ‘çš„å¹´é¾„ï¼š$&#123;this.age&#125;`) &#125; // Demoè£…é¥°é™æ€æ–¹æ³• @Demo static isAdult(age: number) &#123; return age &gt;= 18; &#125;&#125;const p1 = new Person(&#x27;å¼ ä¸‰&#x27;, 18)p1.speak() åº”ç”¨ä¸¾ä¾‹ å®šä¹‰ä¸€ä¸ªLoggeræ–¹æ³•è£…é¥°å™¨ï¼Œç”¨äºåœ¨æ–¹æ³•æ‰§è¡Œå‰å’Œæ‰§è¡Œåï¼Œå‡è¿½åŠ ä¸€äº›é¢å¤–é€»è¾‘ã€‚ å®šä¹‰ä¸€ä¸ªValidateæ–¹æ³•è£…é¥°å™¨ï¼Œç”¨äºéªŒè¯æ•°æ®ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445function Logger(target: object, propertyKey: string, descriptor: PropertyDescriptor) &#123; // ä¿å­˜åŸå§‹æ–¹æ³• const original = descriptor.value; // æ›¿æ¢åŸå§‹æ–¹æ³• descriptor.value = function (...args: any[]) &#123; console.log(`$&#123;propertyKey&#125;å¼€å§‹æ‰§è¡Œ......`) const result = original.call(this, ...args) console.log(`$&#123;propertyKey&#125;æ‰§è¡Œå®Œæ¯•......`) return result; &#125;&#125;function Validate(maxValue: number) &#123; return function (target: object, propertyKey: string, descriptor: PropertyDescriptor) &#123; // ä¿å­˜åŸå§‹æ–¹æ³• const original = descriptor.value; // æ›¿æ¢åŸå§‹æ–¹æ³• descriptor.value = function (...args: any[]) &#123; // è‡ªå®šä¹‰çš„éªŒè¯é€»è¾‘ if (args[0] &gt; maxValue) &#123; throw new Error(&#x27;å¹´é¾„éæ³•ï¼&#x27;) &#125; // å¦‚æœæ‰€æœ‰å‚æ•°éƒ½ç¬¦åˆè¦æ±‚ï¼Œåˆ™è°ƒç”¨åŸå§‹æ–¹æ³• return original.apply(this, args); &#125;; &#125;&#125;class Person &#123; constructor( public name: string, public age: number, ) &#123; &#125; @Logger speak() &#123; console.log(`ä½ å¥½ï¼Œæˆ‘çš„åå­—ï¼š$&#123;this.name&#125;ï¼Œæˆ‘çš„å¹´é¾„ï¼š$&#123;this.age&#125;`) &#125; @Validate(120) static isAdult(age: number) &#123; return age &gt;= 18; &#125;&#125;const p1 = new Person(&#x27;å¼ ä¸‰&#x27;, 18)p1.speak()console.log(Person.isAdult(100)) ä¸ƒã€è®¿é—®å™¨è£…é¥°å™¨åŸºæœ¬è¯­æ³•123456789101112131415161718192021222324/* å‚æ•°è¯´æ˜ï¼š â—‹ target: 1. å¯¹äºå®ä¾‹è®¿é—®å™¨æ¥è¯´å€¼æ˜¯ã€æ‰€å±ç±»çš„åŸå‹å¯¹è±¡ã€‘ã€‚ 2. å¯¹äºé™æ€è®¿é—®å™¨æ¥è¯´å€¼æ˜¯ã€æ‰€å±ç±»ã€‘ã€‚ â—‹ propertyKey:è®¿é—®å™¨çš„åç§°ã€‚ â—‹ descriptor: æè¿°å¯¹è±¡ã€‚*/function Demo(target: object, propertyKey: string, descriptor: PropertyDescriptor) &#123; console.log(target) console.log(propertyKey) console.log(descriptor)&#125;class Person &#123; @Demo get address()&#123; return &#x27;åŒ—äº¬å®ç¦ç§‘æŠ€å›­&#x27; &#125; @Demo static get country()&#123; return &#x27;ä¸­å›½&#x27; &#125;&#125; åº”ç”¨ä¸¾ä¾‹éœ€æ±‚ï¼šå¯¹Weatherç±»çš„tempå±æ€§çš„setè®¿é—®å™¨è¿›è¡Œé™åˆ¶ï¼Œè®¾ç½®çš„æœ€ä½æ¸©åº¦-50ï¼Œæœ€é«˜æ¸©åº¦50 12345678910111213141516171819202122232425262728293031323334353637383940function RangeValidate(min: number, max: number) &#123; return function (target: object, propertyKey: string, descriptor: PropertyDescriptor) &#123; // ä¿å­˜åŸå§‹çš„ setter æ–¹æ³•ï¼Œä»¥ä¾¿åœ¨åç»­è°ƒç”¨ä¸­ä½¿ç”¨ const originalSetter = descriptor.set; // é‡å†™ setter æ–¹æ³•ï¼ŒåŠ å…¥èŒƒå›´éªŒè¯é€»è¾‘ descriptor.set = function (value: number) &#123; // æ£€æŸ¥è®¾ç½®çš„å€¼æ˜¯å¦åœ¨æŒ‡å®šçš„æœ€å°å€¼å’Œæœ€å¤§å€¼ä¹‹é—´ if (value &lt; min || value &gt; max) &#123; // å¦‚æœå€¼ä¸åœ¨èŒƒå›´å†…ï¼ŒæŠ›å‡ºé”™è¯¯ throw new Error(`$&#123;propertyKey&#125;çš„å€¼åº”è¯¥åœ¨ $&#123;min&#125; åˆ° $&#123;max&#125;ä¹‹é—´ï¼`); &#125; // å¦‚æœå€¼åœ¨èŒƒå›´å†…ï¼Œä¸”åŸå§‹ setter æ–¹æ³•å­˜åœ¨ï¼Œåˆ™è°ƒç”¨åŸå§‹ setter æ–¹æ³• if (originalSetter) &#123; originalSetter.call(this, value); &#125; &#125;; &#125;;&#125;class Weather &#123; private _temp: number; constructor(_temp: number) &#123; this._temp = _temp; &#125; // è®¾ç½®æ¸©åº¦èŒƒå›´åœ¨ -50 åˆ° 50 ä¹‹é—´ @RangeValidate(-50, 50) set temp(value) &#123; this._temp = value; &#125; get temp() &#123; return this._temp; &#125;&#125;const w1 = new Weather(25);console.log(w1)w1.temp = 67console.log(w1) å…«ã€å‚æ•°è£…é¥°å™¨åŸºæœ¬è¯­æ³•123456789101112131415161718192021/* å‚æ•°è¯´æ˜ï¼š â—‹ target: 1.å¦‚æœä¿®é¥°çš„æ˜¯ã€å®ä¾‹æ–¹æ³•ã€‘çš„å‚æ•°ï¼Œtarget æ˜¯ç±»çš„ã€åŸå‹å¯¹è±¡ã€‘ã€‚ 2.å¦‚æœä¿®é¥°çš„æ˜¯ã€é™æ€æ–¹æ³•ã€‘çš„å‚æ•°ï¼Œtarget æ˜¯ã€ç±»ã€‘ã€‚ â—‹ propertyKeyï¼šå‚æ•°æ‰€åœ¨çš„æ–¹æ³•çš„åç§°ã€‚ â—‹ parameterIndex: å‚æ•°åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­çš„ç´¢å¼•ï¼Œä» 0 å¼€å§‹ã€‚*/function Demo(target: object, propertyKey: string, parameterIndex: number) &#123; console.log(target) console.log(propertyKey) console.log(parameterIndex)&#125;// ç±»å®šä¹‰class Person &#123; constructor(public name: string) &#123; &#125; speak(@Demo message1: any, mesage2: any) &#123; console.log(`$&#123;this.name&#125;æƒ³å¯¹è¯´ï¼š$&#123;message1&#125;ï¼Œ$&#123;mesage2&#125;`); &#125;&#125; åº”ç”¨ä¸¾ä¾‹éœ€æ±‚ï¼šå®šä¹‰æ–¹æ³•è£…é¥°å™¨Validateï¼ŒåŒæ—¶æ­é…å‚æ•°è£…é¥°å™¨NotNumberï¼Œæ¥å¯¹speakæ–¹æ³•çš„å‚æ•°ç±»å‹è¿›è¡Œé™åˆ¶ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243function NotNumber(target: any, propertyKey: string, parameterIndex: number) &#123; // åˆå§‹åŒ–æˆ–è·å–å½“å‰æ–¹æ³•çš„å‚æ•°ç´¢å¼•åˆ—è¡¨ let notNumberArr: number[] = target[`__notNumber_$&#123;propertyKey&#125;`] || []; // å°†å½“å‰å‚æ•°ç´¢å¼•æ·»åŠ åˆ°åˆ—è¡¨ä¸­ notNumberArr.push(parameterIndex); // å°†åˆ—è¡¨å­˜å‚¨å›ç›®æ ‡å¯¹è±¡ target[`__notNumber_$&#123;propertyKey&#125;`] = notNumberArr;&#125;// æ–¹æ³•è£…é¥°å™¨å®šä¹‰function Validate(target: any, propertyKey: string, descriptor: PropertyDescriptor) &#123; const method = descriptor.value; descriptor.value = function (...args: any[]) &#123; // è·å–è¢«æ ‡è®°ä¸ºä¸èƒ½ä¸ºç©ºçš„å‚æ•°ç´¢å¼•åˆ—è¡¨ const notNumberArr: number[] = target[`__notNumber_$&#123;propertyKey&#125;`] || []; // æ£€æŸ¥å‚æ•°æ˜¯å¦ä¸º null æˆ– undefined for (const index of notNumberArr) &#123; if (typeof args[index] === &#x27;number&#x27;) &#123; throw new Error(`æ–¹æ³• $&#123;propertyKey&#125; ä¸­ç´¢å¼•ä¸º $&#123;index&#125; çš„å‚æ•°ä¸èƒ½æ˜¯æ•°å­—ï¼`) &#125; &#125; // è°ƒç”¨åŸå§‹æ–¹æ³• return method.apply(this, args); &#125;; return descriptor;&#125;// ç±»å®šä¹‰class Student &#123; name: string; constructor(name: string) &#123; this.name = name; &#125; @Validate speak(@NotNumber message1: any, mesage2: any) &#123; console.log(`$&#123;this.name&#125;æƒ³å¯¹è¯´ï¼š$&#123;message1&#125;ï¼Œ$&#123;mesage2&#125;`); &#125;&#125;// ä½¿ç”¨const s1 = new Student(&quot;å¼ ä¸‰&quot;);s1.speak(100, 200);","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"typeScript","slug":"typeScript","permalink":"http://example.com/tags/typeScript/"}]},{"title":"TypeScriptå¿«é€Ÿä¸Šæ‰‹","slug":"37-TypeScriptå¿«é€Ÿä¸Šæ‰‹","date":"2025-08-17T15:51:08.000Z","updated":"2026-03-01T16:07:38.351Z","comments":true,"path":"posts/9dd4ce81.html","permalink":"http://example.com/posts/9dd4ce81.html","excerpt":"","text":"ä¸€ã€ TypeScriptç®€ä»‹ TypeScript ç”±**å¾®è½¯å¼€å‘ï¼Œæ˜¯åŸºäºJavaScript çš„ä¸€ä¸ªæ‰©å±•è¯­è¨€**ã€‚ TypeScript åŒ…å«äº†JavaScript çš„æ‰€æœ‰å†…å®¹ï¼Œå³: TypeScript æ˜¯JavaScriptçš„**è¶…é›†**ã€‚ TypeScript å¢åŠ äº†ï¼šé™æ€ç±»å‹æ£€æŸ¥ã€æ¥å£ã€æ³›å‹ç­‰å¾ˆå¤š**ç°ä»£å¼€å‘ç‰¹æ€§ï¼Œå› æ­¤æ›´é€‚åˆå¤§å‹é¡¹ç›®**çš„å¼€å‘ã€‚ TypeScript éœ€è¦**ç¼–è¯‘**ä¸ºJavaScript ï¼Œç„¶åäº¤ç»™æµè§ˆå™¨æˆ–å…¶ä»–JavaScript è¿è¡Œç¯å¢ƒæ‰§è¡Œã€‚ äºŒã€ä¸ºä½•éœ€è¦TypeScript2.1ã€ä»Šéæ˜”æ¯”çš„JavaScript (äº†è§£) JavaScriptå½“å¹´è¯ç”Ÿæ—¶çš„å®šä½æ˜¯æµè§ˆå™¨**è„šæœ¬è¯­è¨€ï¼Œç”¨äºåœ¨ç½‘é¡µä¸­åµŒå…¥ä¸€äº›ç®€å•çš„é€»è¾‘**ï¼Œè€Œä¸”ä»£ç é‡å¾ˆå°‘ã€‚ éšç€æ—¶é—´çš„æ¨ç§»ï¼ŒJavaScriptå˜å¾—è¶Šæ¥è¶Šæµè¡Œï¼Œå¦‚ä»Šçš„JavaScriptå·²ç»å¯ä»¥**å…¨æ ˆç¼–ç¨‹**äº†ã€‚ ç°å¦‚ä»Šçš„JavaScript**åº”ç”¨åœºæ™¯æ¯”å½“å¹´ä¸°å¯Œçš„å¤šï¼Œä»£ç é‡ä¹Ÿæ¯”å½“å¹´å¤§å¾ˆå¤š**ï¼Œéšä¾¿ä¸€ ä¸ªJavaScripté¡¹ç›®çš„ä»£ç é‡ï¼Œå¯ä»¥è½»æ¾çš„è¾¾åˆ°å‡ ä¸‡è¡Œï¼Œç”šè‡³åå‡ ä¸‡è¡Œ! ç„¶è€ŒJavaScriptå½“å¹´ â€œå‡ºç”Ÿç®€é™‹â€œï¼Œæ²¡è€ƒè™‘åˆ°å¦‚ä»Šçš„åº”ç”¨åœºæ™¯å’Œä»£ç é‡ï¼Œé€æ¸çš„å°±å‡ºç°äº†**å¾ˆå¤šå›°æ‰°**ã€‚ 2.2ã€JavaScriptä¸­çš„å›°æ‰°1ï¼‰ã€ä¸æ¸…ä¸æ¥šçš„æ•°æ®ç±»å‹12let welcome = &#x27;hello&#x27;welcome() //æ­¤è¡ŒæŠ¥é”™: TypeError: welcome is not a function 2ï¼‰ã€æœ‰æ¼æ´çš„é€»è¾‘123456const str = Date.now() % 2 ? &#x27;å¥‡æ•°&#x27; : &#x27;å¶æ•° &#x27;if (str !== &#x27;å¥‡æ•°&#x27;) &#123; alert(&#x27;hello&#x27;)&#125; else if (str === &#x27;å¶æ•°&#x27;) &#123; alert(&#x27;world&#x27;)&#125; 3ï¼‰ã€è®¿é—®ä¸å­˜åœ¨çš„å±æ€§12345const obj = &#123; width: 10, height: 15&#125;;const area = obj.width * obj.heigth; // heigthå•è¯å†™é”™æ‰¾ä¸åˆ°è¿™ä¸ªå±æ€§ 4ï¼‰ã€ä½çº§çš„æ‹¼å†™é”™è¯¯12const message = &#x27;hello , world&#x27;message.toUperCase() // toUperCaseæ‹¼å†™é”™è¯¯ 2.3ã€é™æ€ç±»å‹æ£€æŸ¥ åœ¨ä»£ç è¿è¡Œå‰è¿›è¡Œæ£€æŸ¥ï¼Œå‘ç°ä»£ç çš„é”™è¯¯æˆ–ä¸åˆç†ä¹‹å¤„ï¼Œå‡å°è¿è¡Œæ—¶å¼‚å¸¸çš„å‡ºç°çš„å‡ ç‡ï¼Œæ­¤ç§æ£€æŸ¥å«**ã€Œé™æ€ç±»å‹æ£€æŸ¥ã€ï¼ŒTypeScript å’Œæ ¸å¿ƒå°±æ˜¯ã€Œé™æ€ç±»å‹æ£€æŸ¥ã€ï¼Œç®€è¨€ä¹‹å°±æ˜¯æŠŠè¿è¡Œæ—¶çš„é”™è¯¯å‰ç½®**ã€‚ åŒæ ·çš„åŠŸèƒ½ï¼ŒTypeScriptçš„ä»£ç é‡è¦**å¤§äºJavaScriptï¼Œä½†ç”±äº TypeScript çš„ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ï¼Œåœ¨åæœŸä»£ç çš„ç»´æŠ¤ä¸­ TypeScript å´è¿œèƒœäº** JavaScriptã€‚ ä¸‰ã€ç¼–è¯‘TypeScriptypeScript å®˜æ–¹æä¾›çš„ç¼–è¯‘å™¨å«åš tscï¼Œå¯ä»¥å°† TypeScript è„šæœ¬ç¼–è¯‘æˆ JavaScript è„šæœ¬ã€‚ æµè§ˆå™¨ä¸èƒ½ç›´æ¥è¿è¡ŒTypeScriptä»£ç ï¼Œéœ€è¦ç¼–è¯‘ä¸ºJavaScriptå†äº¤ç”±æµè§ˆå™¨è§£æå™¨æ‰§è¡Œã€‚ 3.1ã€å‘½ä»¤è¡Œç¼–è¯‘ è¦æŠŠ.ts æ–‡ä»¶ç¼–è¯‘ä¸º.js æ–‡ä»¶ï¼Œéœ€è¦é…ç½®TypeScript çš„ç¼–è¯‘ç¯å¢ƒï¼Œæ­¥éª¤å¦‚ä¸‹: 1ï¼‰ã€åˆ›å»ºä¸€ä¸ªdemo.tsæ–‡ä»¶ 12345const person = &#123; name: &#x27;æå››&#x27;, age: 18&#125;console.log(`æˆ‘å«$&#123;person.name&#125;,æˆ‘ä»Šå¹´$&#123;person.age&#125;å²äº†`) 2ï¼‰ã€å…¨å±€å®‰è£…TypeScript 12npm i typescript -gtsc -v æŸ¥çœ‹ç‰ˆæœ¬å· 3ï¼‰ã€ä½¿ç”¨å‘½ä»¤ç¼–è¯‘.tsæ–‡ä»¶ 1tsc demo.ts 3.2ã€è‡ªåŠ¨åŒ–ç¼–è¯‘1ï¼‰ã€åˆ›å»ºTypeScriptç¼–è¯‘æ§åˆ¶æ–‡ä»¶ 1tsc --init å·¥ç¨‹ä¸­ä¼šç”Ÿæˆä¸€ä¸ªtsconfig. jsoné…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ç€å¾ˆå¤šç¼–è¯‘æ—¶çš„é…ç½®ã€‚è§‚å¯Ÿå‘ç°ï¼Œé»˜è®¤ç¼–è¯‘çš„JSç‰ˆæœ¬æ˜¯ES7ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è°ƒæ•´ä¸ºå…¶ä»–ç‰ˆæœ¬ã€‚ 2ï¼‰ã€ç›‘è§†ç›®å½•ä¸­çš„.ts æ–‡ä»¶å˜åŒ– 12tsc --watch // ç›‘è§†æ•´ä¸ªå·¥ç¨‹çš„tsæ–‡ä»¶tsc --watch index.ts // ç›‘è§†æŒ‡å®šçš„tsæ–‡ä»¶ 3ï¼‰ã€å°ä¼˜åŒ–ï¼šå½“ç¼–è¯‘å‡ºé”™æ—¶ä¸ç”Ÿæˆ.js æ–‡ä»¶ åœ¨tsconfig. jsonæ–‡ä»¶ä¸­é…ç½® â€œnoEmitOnErrorâ€: true, å››ã€ts-node æ¨¡å—ts-node æ˜¯ä¸€ä¸ªéå®˜æ–¹çš„ npm æ¨¡å—ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œ TypeScript ä»£ç ã€‚ 12345å…¨å±€å®‰è£…npm install -g ts-nodeåœ¨å½“å‰ç›®å½•è¿è¡Œ TypeScript è„šæœ¬ts-node index.ts å¦‚æœåªæ˜¯æƒ³ç®€å•è¿è¡Œ TypeScript ä»£ç çœ‹çœ‹ç»“æœï¼Œts-node ä¸å¤±ä¸ºä¸€ä¸ªä¾¿æ·çš„æ–¹æ³•ã€‚ äº”ã€ç±»å‹å£°æ˜ä½¿â½¤ : æ¥å¯¹å˜é‡æˆ–å‡½æ•°å½¢å‚ï¼Œè¿›â¾ç±»å‹å£°æ˜ï¼š 12345678910111213141516171819202122let a: string //å˜é‡aåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²let b: number //å˜é‡båªèƒ½å­˜å‚¨æ•°å€¼let c: boolean //å˜é‡cåªèƒ½å­˜å‚¨å¸ƒå°”å€¼ a = &#x27;hello&#x27;a = 100 //è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œnumberâ€åˆ†é…ç»™ç±»å‹â€œstringâ€b = 666b = &#x27;ä½ å¥½&#x27;//è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œstringâ€åˆ†é…ç»™ç±»å‹â€œnumberâ€c = truec = 666 //è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œnumberâ€åˆ†é…ç»™ç±»å‹â€œbooleanâ€// å‚æ•°xå¿…é¡»æ˜¯æ•°å­—ï¼Œå‚æ•°yä¹Ÿå¿…é¡»æ˜¯æ•°å­—ï¼Œå‡½æ•°è¿”å›å€¼ä¹Ÿå¿…é¡»æ˜¯æ•°å­—function demo(x:number,y:number):number&#123; return x + y&#125;demo(100,200)demo(100,&#x27;200&#x27;) //è­¦å‘Šï¼šç±»å‹â€œstringâ€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œnumberâ€çš„å‚æ•°demo(100,200,300) //è­¦å‘Šï¼šåº”æœ‰ 2 ä¸ªå‚æ•°ï¼Œä½†è·å¾— 3 ä¸ªdemo(100) åœ¨ : åä¹Ÿå¯ä»¥å†™å­—â¾¯é‡ç±»å‹ï¼Œä¸è¿‡å®é™…å¼€å‘ä¸­â½¤çš„ä¸å¤šã€‚ 12345let a: &#x27;ä½ å¥½&#x27; //açš„å€¼åªèƒ½ä¸ºå­—ç¬¦ä¸²â€œä½ å¥½â€let b: 100 //bçš„å€¼åªèƒ½ä¸ºæ•°å­—100a = &#x27;æ¬¢è¿&#x27;//è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œ&quot;æ¬¢è¿&quot;â€åˆ†é…ç»™ç±»å‹â€œ&quot;ä½ å¥½&quot;â€b = 200 //è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œ200â€åˆ†é…ç»™ç±»å‹â€œ100â€ å…­ã€ç±»å‹æ¨æ–­TS ä¼šæ ¹æ®æˆ‘ä»¬çš„ä»£ç ï¼Œè¿›â¾ç±»å‹æ¨å¯¼ï¼Œä¾‹å¦‚ä¸‹â¾¯ä»£ç ä¸­çš„å˜é‡ d ï¼Œåªèƒ½å­˜å‚¨æ•°å­— 12let d = -99 // TypeScriptä¼šæ¨æ–­å‡ºå˜é‡dçš„ç±»å‹æ˜¯æ•°å­—d = false // è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œbooleanâ€åˆ†é…ç»™ç±»å‹â€œnumberâ€ ä½†è¦æ³¨æ„ï¼Œç±»å‹æ¨æ–­ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œâ¾¯å¯¹å¤æ‚ç±»å‹æ—¶æ¨æ–­å®¹æ˜“å‡ºé—®é¢˜ï¼Œæ‰€ä»¥å°½é‡è¿˜æ˜¯æ˜ç¡®çš„ç¼–å†™ç±»å‹å£°æ˜ï¼ ä¸ƒã€ç±»å‹æ€»è§ˆ7.1ã€JavaScript ä¸­çš„æ•°æ®ç±»å‹123456789â‘  stringâ‘¡ numberâ‘¢ booleanâ‘£ nullâ‘¤ undefinedâ‘¥ bigintâ‘¦ symbolâ‘§ objectå¤‡æ³¨ï¼šå…¶ä¸­ object åŒ…å«ï¼š Array ã€ Function ã€ Date ã€ Error ç­‰...... 7.2ã€TypeScript ä¸­çš„æ•°æ®ç±»å‹12345678910111. ä¸Šè¿°æ‰€æœ‰ JavaScript ç±»å‹2. å…­ä¸ªæ–°ç±»å‹ï¼š â‘  any â‘¡ unknown â‘¢ never â‘£ void â‘¤ tuple â‘¥ enum3. ä¸¤ä¸ªâ½¤äºâ¾ƒå®šä¹‰ç±»å‹çš„â½…å¼ï¼š â‘  type â‘¡ interface 7.3ã€æ³¨æ„ç‚¹ åœ¨ JavaScript ä¸­çš„è¿™äº›å†…ç½®æ„é€ å‡½æ•°ï¼š Number ã€ String ã€ Boolean ï¼Œâ½¤äºåˆ›å»ºå¯¹åº”çš„åŒ…è£…å¯¹è±¡ï¼Œ åœ¨â½‡å¸¸å¼€å‘æ—¶å¾ˆå°‘ä½¿â½¤ï¼Œåœ¨ TypeScript ä¸­ä¹Ÿæ˜¯åŒç†ï¼Œæ‰€ä»¥åœ¨ TypeScript ä¸­è¿›â¾ç±»å‹å£°æ˜æ—¶ï¼Œé€šå¸¸éƒ½æ˜¯â½¤â¼©å†™çš„ number ã€ string ã€ boolean ä¾‹å¦‚ä¸‹â¾¯ä»£ç ï¼š 12345678910let str1: stringstr1 = &#x27;hello&#x27;// str1 = new String(&#x27;hello&#x27;) //æŠ¥é”™console.log(typeof str1)let str2: Stringstr2 = &#x27;hello&#x27;str2 = new String(&#x27;hello&#x27;) // åˆ›å»ºä¸€ä¸ªåŒ…è£…å¯¹è±¡console.log(typeof str2) // objectconsole.log(str2.valueOf()) // &#x27;hello&#x27; åŸå§‹ç±»å‹ VS åŒ…è£…å¯¹è±¡ **åŸå§‹ç±»å‹ï¼š**å¦‚ number ã€ string ã€ boolean ï¼Œåœ¨ JavaScript ä¸­æ˜¯ç®€å•æ•°æ®ç±»å‹ï¼Œå®ƒä»¬åœ¨å†…å­˜ä¸­å â½¤ç©ºé—´å°‘ï¼Œå¤„ç†é€Ÿåº¦å¿«ã€‚ **åŒ…è£…å¯¹è±¡ï¼š**å¦‚ Number å¯¹è±¡ã€ String å¯¹è±¡ã€ Boolean å¯¹è±¡ï¼Œæ˜¯å¤æ‚ç±»å‹ï¼Œåœ¨å†…å­˜ä¸­å â½¤æ›´å¤šç©ºé—´ï¼Œåœ¨â½‡å¸¸å¼€å‘æ—¶å¾ˆå°‘ç”±å¼€å‘â¼ˆå‘˜â¾ƒâ¼°åˆ›å»ºåŒ…è£…å¯¹è±¡ã€‚ â¾ƒåŠ¨è£…ç®±ï¼šJavaScript åœ¨å¿…è¦æ—¶ä¼šâ¾ƒåŠ¨å°†åŸå§‹ç±»å‹åŒ…è£…æˆå¯¹è±¡ï¼Œä»¥ä¾¿è°ƒâ½¤â½…æ³•æˆ–è®¿é—®å±æ€§ 1234567891011121314// åŸå§‹ç±»å‹å­—ç¬¦ä¸²let str = &quot;hello&quot;;// å½“è®¿é—®str.lengthæ—¶ï¼ŒJavaScriptå¼•æ“åšäº†ä»¥ä¸‹â¼¯ä½œï¼šlet size = (function () &#123; // 1. â¾ƒåŠ¨è£…ç®±ï¼šåˆ›å»ºâ¼€ä¸ªä¸´æ—¶çš„Stringå¯¹è±¡åŒ…è£…åŸå§‹å­—ç¬¦ä¸² let tempStringObject = new String(str); // 2. è®¿é—®Stringå¯¹è±¡çš„lengthå±æ€§ let lengthValue = tempStringObject.length; // 3. é”€æ¯ä¸´æ—¶å¯¹è±¡ï¼Œè¿”å›â»“åº¦å€¼ // ï¼ˆJavaScriptå¼•æ“â¾ƒåŠ¨å¤„ç†å¯¹è±¡é”€æ¯ï¼Œå¼€å‘è€…â½†æ„ŸçŸ¥ï¼‰ return lengthValue;&#125;)();console.log(size); // è¾“å‡º: 5 å…«ã€å¸¸ç”¨ç±»å‹ä¸è¯­æ³•8.1ã€any any çš„å«ä¹‰æ˜¯ï¼šä»»æ„ç±»å‹ï¼Œâ¼€æ—¦å°†å˜é‡ç±»å‹é™åˆ¶ä¸º any ï¼Œé‚£å°±æ„å‘³ç€æ”¾å¼ƒäº†å¯¹è¯¥å˜é‡çš„ç±»å‹æ£€æŸ¥ã€‚ 123456789101112131415161718192021222324// æ˜ç¡®çš„è¡¨ç¤ºaçš„ç±»å‹æ˜¯ any â€”â€” ã€æ˜¾å¼çš„anyã€‘let a: any// ä»¥ä¸‹å¯¹açš„èµ‹å€¼ï¼Œå‡â½†è­¦å‘Ša = 100a = &#x27;ä½ å¥½&#x27;a = false// æ²¡æœ‰æ˜ç¡®çš„è¡¨ç¤ºbçš„ç±»å‹æ˜¯anyï¼Œä½†TSä¸»åŠ¨æ¨æ–­å‡ºæ¥bæ˜¯any â€”â€” éšå¼çš„anylet b//ä»¥ä¸‹å¯¹bçš„èµ‹å€¼ï¼Œå‡â½†è­¦å‘Šb = 100b = &#x27;ä½ å¥½&#x27;b = false/* æ³¨æ„ç‚¹ï¼šanyç±»å‹çš„å˜é‡ï¼Œå¯ä»¥èµ‹å€¼ç»™ä»»æ„ç±»å‹çš„å˜é‡ */let c:anyc = 9let x: stringx = c // â½†è­¦å‘Š 8.2ã€unknown unknown çš„å«ä¹‰æ˜¯ï¼šæœªçŸ¥ç±»å‹ï¼Œé€‚â½¤äºï¼šèµ·åˆä¸ç¡®å®šæ•°æ®çš„å…·ä½“ç±»å‹ï¼Œè¦åæœŸæ‰èƒ½ç¡®å®š 1ï¼‰ã€unknown å¯ä»¥ç†è§£ä¸ºâ¼€ä¸ªç±»å‹å®‰å…¨çš„ any 1234567891011// è®¾ç½®açš„ç±»å‹ä¸ºunknownlet a: unknown//ä»¥ä¸‹å¯¹açš„èµ‹å€¼ï¼Œå‡ç¬¦åˆè§„èŒƒa = 100a = falsea = &#x27;ä½ å¥½&#x27;// è®¾ç½®xçš„æ•°æ®ç±»å‹ä¸ºstringlet x: stringx = a //è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œunknownâ€åˆ†é…ç»™ç±»å‹â€œstringâ€ 2ï¼‰ã€unknown ä¼šå¼ºåˆ¶å¼€å‘è€…åœ¨ä½¿ç”¨ä¹‹å‰è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œä»è€Œæä¾›æ›´å¼ºçš„ç±»å‹å®‰å…¨æ€§ 12345678910111213141516171819// è®¾ç½®açš„ç±»å‹ä¸ºunknownlet a: unknowna = &#x27;hello&#x27;let x:string// x = a // ä¸èƒ½å°†ç±»å‹â€œunknownâ€åˆ†é…ç»™ç±»å‹â€œstringâ€ã€‚//è§£å†³//ç¬¬â¼€ç§â½…å¼ï¼šåŠ ç±»å‹åˆ¤æ–­if(typeof a === &#x27;string&#x27;)&#123; x = a console.log(x)&#125;//ç¬¬â¼†ç§â½…å¼ï¼šåŠ æ–­â¾”x = a as string//ç¬¬ä¸‰ç§â½…å¼ï¼šåŠ æ–­â¾”x = &lt;string&gt;a 3ï¼‰ã€è¯»å– any ç±»å‹æ•°æ®çš„ä»»ä½•å±æ€§éƒ½ä¸ä¼šæŠ¥é”™ï¼Œè€Œ unknown æ­£å¥½ä¸ä¹‹ç›¸å 123456789101112131415let str1: stringstr1 = &#x27;hello&#x27;str1.toUpperCase() //â½†è­¦å‘Šlet str2: anystr2 = &#x27;hello&#x27;str2.toUpperCase() //â½†è­¦å‘Šlet str3: unknownstr3 = &#x27;hello&#x27;;str3.toUpperCase() //è­¦å‘Šï¼šâ€œstr3â€çš„ç±»å‹ä¸ºâ€œæœªçŸ¥â€// ä½¿â½¤æ–­â¾”å¼ºåˆ¶æŒ‡å®šstr3çš„ç±»å‹ä¸ºstring(str3 as string).toUpperCase() //â½†è­¦å‘Š(&lt;string&gt;str3).toUpperCase() //â½†è­¦å‘Š 8.3ã€never never çš„å«ä¹‰æ˜¯ï¼šä»»ä½•å€¼éƒ½ä¸æ˜¯ï¼Œå³ï¼šä¸èƒ½æœ‰å€¼ï¼Œä¾‹å¦‚ undefined ã€ null ã€ â€˜â€™ ã€ 0 éƒ½ä¸â¾ï¼ æ³¨æ„ï¼šåœ¨å‡½æ•°ä¸­ä¸å†™returnï¼Œé»˜è®¤è¿”å›undeifnedã€‚ 1ï¼‰ã€å‡ ä¹ä¸ç”¨ never å»ç›´æ¥é™åˆ¶å˜é‡ï¼Œå› ä¸ºæ²¡æœ‰æ„ä¹‰ï¼Œä¾‹å¦‚ï¼š 12345678/* æŒ‡å®šaçš„ç±»å‹ä¸ºneverï¼Œé‚£å°±æ„å‘³ç€aä»¥åä¸èƒ½å­˜ä»»ä½•çš„æ•°æ®äº† */let a: never// ä»¥ä¸‹å¯¹açš„æ‰€æœ‰èµ‹å€¼éƒ½ä¼šæœ‰è­¦å‘Ša = 1a = truea = undefineda = null 2ï¼‰ã€never â¼€èˆ¬æ˜¯ TypeScript ä¸»åŠ¨æ¨æ–­å‡ºæ¥çš„ï¼Œä¾‹å¦‚ï¼š 123456789// æŒ‡å®šaçš„ç±»å‹ä¸ºstringlet a: string// ç»™aè®¾ç½®â¼€ä¸ªå€¼a = &#x27;hello&#x27;if (typeof a === &#x27;string&#x27;) &#123; console.log(a.toUpperCase())&#125; else &#123; console.log(a) // TypeScriptä¼šæ¨æ–­å‡ºæ­¤å¤„çš„aæ˜¯neverï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•â¼€ä¸ªå€¼ç¬¦åˆæ­¤å¤„çš„é€»è¾‘&#125; 3ï¼‰ã€never ä¹Ÿå¯ç”¨äºé™åˆ¶å‡½æ•°çš„è¿”å›å€¼ 1234// é™åˆ¶throwErrorå‡½æ•°ä¸éœ€è¦æœ‰ä»»ä½•è¿”å›å€¼ï¼Œä»»ä½•å€¼éƒ½ä¸â¾ï¼Œåƒundeifnedã€nulléƒ½ä¸â¾function throwError(str: string): never &#123; throw new Error(&#x27;ç¨‹åºå¼‚å¸¸é€€å‡º:&#x27; + str)&#125; 8.4ã€void void çš„å«ä¹‰æ˜¯ç©ºï¼Œå³ï¼šå‡½æ•°ä¸è¿”å›ä»»ä½•å€¼ï¼Œè°ƒâ½¤è€…ä¹Ÿä¸åº”ä¾èµ–å…¶è¿”å›å€¼è¿›â¾ä»»ä½•æ“ä½œï¼Œå³ä¸èƒ½å¯¹è¿”å›å€¼è¿›è¡Œæ“ä½œï¼ 1ï¼‰ã€void é€šå¸¸ç”¨äºå‡½æ•°è¿”å›å€¼å£°æ˜ 1234function logMessage(msg: string): void &#123; console.log(msg);&#125;logMessage(&quot;ä½ å¥½&quot;); **æ³¨æ„ï¼š**ç¼–ç è€…æ²¡æœ‰ç¼–å†™ return æŒ‡å®šå‡½æ•°è¿”å›å€¼ï¼Œæ‰€ä»¥ logMessage å‡½æ•°æ˜¯æ²¡æœ‰æ˜¾å¼è¿”å›å€¼çš„ï¼Œä½†ä¼šæœ‰â¼€ä¸ªéšå¼è¿”å›å€¼ ï¼Œæ˜¯ undefined ï¼Œè™½ç„¶å‡½æ•°è¿”å›ç±»å‹ä¸º void ï¼Œä½†ä¹Ÿæ˜¯å¯ä»¥æ¥å— undefined çš„ï¼Œç®€å•è®°ï¼š undefined æ˜¯ void å¯ä»¥æ¥å—çš„â¼€ç§â€œç©ºâ€ã€‚ 2ï¼‰ã€ä»¥ä¸‹å†™æ³•å‡ç¬¦åˆè§„èŒƒ 1234567891011121314// â½†è­¦å‘Šfunction logMessage(msg: string): void &#123; console.log(msg);&#125;// â½†è­¦å‘Šfunction logMessage(msg: string): void &#123; console.log(msg); return;&#125;// â½†è­¦å‘Šfunction logMessage(msg: string): void &#123; console.log(msg); return undefined;&#125; 3ï¼‰ã€é‚£é™åˆ¶å‡½æ•°è¿”å›å€¼æ—¶ï¼Œæ˜¯ä¸æ˜¯ undefined å’Œ void å°±æ²¡åŒºåˆ«å‘¢ï¼Ÿ æœ‰åŒºåˆ«ã€‚å› ä¸ºè¿˜æœ‰è¿™å¥è¯ ï¼šã€è¿”å›å€¼ç±»å‹ä¸º void çš„å‡½æ•°ï¼Œè°ƒç”¨è€…ä¸åº”ä¾èµ–å…¶è¿”å›å€¼è¿›è¡Œä»»ä½•æ“ä½œï¼ã€‘ å¯¹æ¯”ä¸‹é¢ä¸¤æ®µä»£ç ï¼šå¯çŸ¥è¿”å›ç±»å‹ä¸ºvoidçš„ä¸èƒ½æ“ä½œå…¶è¿”å›å€¼ï¼Œè¿”å›ç±»å‹ä¸ºundefinedçš„å¯æ“ä½œå…¶è¿”å›å€¼ 123456789function logMessage(msg: string): void &#123; console.log(msg);&#125;let result = logMessage(&quot;ä½ å¥½&quot;);if (result) &#123; // æ­¤â¾æŠ¥é”™ï¼šâ½†æ³•æµ‹è¯• &quot;void&quot; ç±»å‹çš„è¡¨è¾¾å¼çš„çœŸå®æ€§ console.log(&quot;logMessageæœ‰è¿”å›å€¼&quot;);&#125; 123456789function logMessage(msg: string): undefined &#123; console.log(msg);&#125;let result = logMessage(&quot;ä½ å¥½&quot;);if (result) &#123; // æ­¤â¾â½†è­¦å‘Š console.log(&quot;logMessageæœ‰è¿”å›å€¼&quot;);&#125; ç†è§£ void ä¸ undefined void æ˜¯â¼€ä¸ªå¹¿æ³›çš„æ¦‚å¿µï¼Œâ½¤æ¥è¡¨è¾¾â€œç©ºâ€ï¼Œâ½½ undefined åˆ™æ˜¯è¿™ç§â€œç©ºâ€çš„å…·ä½“å®ç°ã€‚ â€‹ å› æ­¤å¯ä»¥è¯´ undefined æ˜¯ void èƒ½æ¥å—çš„â¼€ç§â€œç©ºâ€çš„çŠ¶æ€ã€‚ â€‹ ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼š void åŒ…å« undefined ï¼Œä½† void æ‰€è¡¨è¾¾çš„è¯­ä¹‰è¶…è¶Šäº† undefined ï¼Œ void æ˜¯â¼€ç§æ„å›¾ä¸Šçš„çº¦å®šï¼Œè€Œä¸ä»…ä»…æ˜¯ç‰¹å®šå€¼çš„é™åˆ¶ã€‚ æ€»ç»“ï¼š å¦‚æœâ¼€ä¸ªå‡½æ•°è¿”å›ç±»å‹ä¸º void ï¼Œé‚£ä¹ˆï¼š ä»è¯­æ³•ä¸Šè®²ï¼šå‡½æ•°æ˜¯å¯ä»¥è¿”å› undefined çš„ï¼Œè‡³äºæ˜¾å¼è¿”å›ï¼Œè¿˜æ˜¯éšå¼è¿”å›ï¼Œè¿™æ— æ‰€è°“ï¼ ä»è¯­ä¹‰ä¸Šè®²ï¼šå‡½æ•°è°ƒç”¨è€…ä¸åº”å…³å¿ƒå‡½æ•°è¿”å›çš„å€¼ï¼Œä¹Ÿä¸åº”ä¾èµ–è¿”å›å€¼è¿›è¡Œä»»ä½•æ“ä½œï¼å³ä½¿æˆ‘ä»¬çŸ¥é“å®ƒè¿”å›äº† undefined ã€‚ 8.5ã€object å…³äº object ä¸ Object ï¼Œç›´æ¥è¯´ç»“è®ºï¼šå®é™…å¼€å‘ä¸­â½¤çš„ç›¸å¯¹è¾ƒå°‘ï¼Œå› ä¸ºèŒƒå›´å¤ªâ¼¤äº†ã€‚ 1ï¼‰ã€objectï¼ˆå°å†™ï¼‰å’ŒObjectï¼ˆå¤§å†™ï¼‰objectï¼ˆå°å†™ï¼‰ object ï¼ˆå°å†™ï¼‰çš„å«ä¹‰æ˜¯ï¼šæ‰€æœ‰**éåŸå§‹ç±»å‹ï¼Œå¯å­˜å‚¨ï¼šå¯¹è±¡ã€å‡½æ•°ã€æ•°ç»„ç­‰ï¼Œç”±äºé™åˆ¶çš„èŒƒå›´æ¯”è¾ƒå®½æ³›ï¼Œåœ¨å®é™…å¼€å‘ä¸­ä½¿ç”¨çš„ç›¸å¯¹è¾ƒå°‘**ã€‚ 1234567891011121314151617let a:object //açš„å€¼å¯ä»¥æ˜¯ä»»ä½•ã€â¾®åŸå§‹ç±»å‹ã€‘ï¼ŒåŒ…æ‹¬ï¼šå¯¹è±¡ã€å‡½æ•°ã€æ•°ç»„ç­‰// ä»¥ä¸‹ä»£ç ï¼Œæ˜¯å°†ã€â¾®åŸå§‹ç±»å‹ã€‘èµ‹ç»™aï¼Œæ‰€ä»¥å‡ç¬¦åˆè¦æ±‚a = &#123;&#125;a = &#123;name:&#x27;å¼ ä¸‰&#x27;&#125;a = [1,3,5,7,9]a = function()&#123;&#125;a = new String(&#x27;123&#x27;)class Person &#123;&#125;a = new Person()// ä»¥ä¸‹ä»£ç ï¼Œæ˜¯å°†ã€åŸå§‹ç±»å‹ã€‘èµ‹ç»™aï¼Œæœ‰è­¦å‘Ša = 1 // è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œnumberâ€åˆ†é…ç»™ç±»å‹â€œobjectâ€a = true // è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œbooleanâ€åˆ†é…ç»™ç±»å‹â€œobjectâ€a = &#x27;ä½ å¥½&#x27; // è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œstringâ€åˆ†é…ç»™ç±»å‹â€œobjectâ€ a = null // è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œnullâ€åˆ†é…ç»™ç±»å‹â€œobjectâ€a = undefined // è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œundefinedâ€åˆ†é…ç»™ç±»å‹â€œobjectâ€ Objectï¼ˆå¤§å†™ï¼‰ å®˜æ–¹æè¿°ï¼šæ‰€æœ‰å¯ä»¥è°ƒç”¨Object æ–¹æ³•çš„ç±»å‹ã€‚ ç®€å•è®°å¿†ï¼šé™¤äº† undefined å’Œ null çš„ä»»ä½•å€¼ã€‚ ç”±äºé™åˆ¶çš„èŒƒå›´å®åœ¨å¤ªå¤§äº†ï¼æ‰€ä»¥å®é™…å¼€å‘ä¸­ä½¿ç”¨é¢‘ç‡æä½ã€‚ 1234567891011121314151617let b:Object //bçš„å€¼å¿…é¡»æ˜¯Objectçš„å®ä¾‹å¯¹è±¡ï¼ˆé™¤å»undefinedå’Œnullçš„ä»»ä½•å€¼ï¼‰// ä»¥ä¸‹ä»£ç ï¼Œå‡â½†è­¦å‘Šï¼Œå› ä¸ºç»™aèµ‹çš„å€¼ï¼Œéƒ½æ˜¯Objectçš„å®ä¾‹å¯¹è±¡b = &#123;&#125;b = &#123;name:&#x27;å¼ ä¸‰&#x27;&#125;b = [1,3,5,7,9]b = function()&#123;&#125;b = new String(&#x27;123&#x27;)class Person &#123;&#125;b = new Person()b = 1 // 1ä¸æ˜¯Objectçš„å®ä¾‹å¯¹è±¡ï¼Œä½†å…¶åŒ…è£…å¯¹è±¡æ˜¯Objectçš„å®ä¾‹b = true // truueä¸æ˜¯Objectçš„å®ä¾‹å¯¹è±¡ï¼Œä½†å…¶åŒ…è£…å¯¹è±¡æ˜¯Objectçš„å®ä¾‹b = &#x27;ä½ å¥½&#x27; // â€œä½ å¥½â€ä¸æ˜¯Objectçš„å®ä¾‹å¯¹è±¡ï¼Œä½†å…¶åŒ…è£…å¯¹è±¡æ˜¯Objectçš„å®ä¾‹// ä»¥ä¸‹ä»£ç å‡æœ‰è­¦å‘Šb = null // è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œnullâ€åˆ†é…ç»™ç±»å‹â€œObjectâ€b = undefined // è­¦å‘Šï¼šä¸èƒ½å°†ç±»å‹â€œundefinedâ€åˆ†é…ç»™ç±»å‹â€œObjectâ€ 2ï¼‰ã€å£°æ˜å¯¹è±¡ç±»å‹A. å®é™…å¼€å‘ä¸­ï¼Œé™åˆ¶ä¸€èˆ¬å¯¹è±¡ï¼Œé€šå¸¸ä½¿ç”¨ä»¥ä¸‹å½¢å¼ 12345678910111213141516171819// é™åˆ¶person1å¯¹è±¡å¿…é¡»æœ‰nameå±æ€§ï¼Œageä¸ºå¯é€‰å±æ€§let person1: &#123; name: string, age?: number &#125;// å«ä¹‰åŒä¸Šï¼Œä¹Ÿèƒ½â½¤åˆ†å·åšåˆ†éš”let person2: &#123; name: string; age?: number &#125;// å«ä¹‰åŒä¸Šï¼Œä¹Ÿèƒ½â½¤æ¢â¾åšåˆ†éš”let person3: &#123; name: string age?: number&#125;// å¦‚ä¸‹èµ‹å€¼å‡å¯ä»¥person1 = &#123;name:&#x27;æå››&#x27;,age:18&#125;person2 = &#123;name:&#x27;å¼ ä¸‰&#x27;&#125;person3 = &#123;name:&#x27;ç‹äº”&#x27;&#125;// å¦‚ä¸‹èµ‹å€¼ä¸åˆæ³•ï¼Œå› ä¸ºperson3çš„ç±»å‹é™åˆ¶ä¸­ï¼Œæ²¡æœ‰å¯¹genderå±æ€§çš„è¯´æ˜person3 = &#123;name:&#x27;ç‹äº”&#x27;,gender:&#x27;ç”·&#x27;&#125; B.ç´¢å¼•ç­¾åï¼š å…è®¸å®šä¹‰å¯¹è±¡å¯ä»¥å…·æœ‰ä»»æ„æ•°é‡çš„å±æ€§ï¼Œè¿™äº›å±æ€§çš„é”®å’Œç±»å‹æ˜¯å¯å˜çš„ï¼Œå¸¸ç”¨äºï¼šæè¿°ç±»å‹ä¸ç¡®å®šçš„å±æ€§ï¼Œï¼ˆå…·æœ‰åŠ¨æ€å±æ€§çš„å¯¹è±¡ï¼‰ 12345678910111213// é™åˆ¶personå¯¹è±¡å¿…é¡»æœ‰nameå±æ€§ï¼Œå¯é€‰ageå±æ€§ä½†å€¼å¿…é¡»æ˜¯æ•°å­—ï¼ŒåŒæ—¶å¯ä»¥æœ‰ä»»æ„æ•°é‡ã€ä»»æ„ç±»å‹çš„å…¶ä»–å±æ€§let person: &#123; name: string age?: number [key: string]: any // ç´¢å¼•ç­¾åï¼Œå®Œå…¨å¯ä»¥ä¸â½¤keyè¿™ä¸ªå•è¯ï¼Œæ¢æˆå…¶ä»–çš„ä¹Ÿå¯ä»¥&#125;// èµ‹å€¼åˆæ³•person = &#123; name:&#x27;å¼ ä¸‰&#x27;, age:18, gender:&#x27;ç”·&#x27;&#125; 3ï¼‰ã€å£°æ˜å‡½æ•°ç±»å‹12345let count: (a: number, b: number) =&gt; numbercount = function (x, y) &#123; return x + y&#125; å¤‡æ³¨ï¼š TypeScript ä¸­çš„ &#x3D;&gt; åœ¨å‡½æ•°ç±»å‹å£°æ˜æ—¶è¡¨ç¤ºå‡½æ•°ç±»å‹ï¼Œæè¿°å…¶å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹ã€‚ JavaScript ä¸­çš„ &#x3D;&gt; æ˜¯â¼€ç§å®šä¹‰å‡½æ•°çš„è¯­æ³•ï¼Œæ˜¯å…·ä½“çš„å‡½æ•°å®ç°ã€‚ å‡½æ•°ç±»å‹å£°æ˜è¿˜å¯ä»¥ä½¿ç”¨ï¼šæ¥å£ã€è‡ªå®šä¹‰ç±»å‹ç­‰æ–¹å¼ï¼Œä¸‹æ–‡ä¸­ä¼šè¯¦ç»†è®²è§£ 4ï¼‰ã€å£°æ˜æ•°ç»„ç±»å‹123456789101112131415let arr1: string[]let arr2: Array&lt;string&gt;let arr3:Array&lt;&#123; name:string, age?:number [key:string]:any&#125;&gt; arr1 = [&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;]arr2 = [&#x27;hello&#x27;,&#x27;world&#x27;]arr3 = [&#123; name:&#x27;123&#x27;, age:123, sex:&#x27;male&#x27;&#125;] å¤‡æ³¨ï¼šä¸Šè¿°ä»£ç ä¸­çš„ Array å±äºæ³›å‹ï¼Œä¸‹â½‚ä¼šè¯¦ç»†è®²è§£ã€‚ 8.6ã€ tuple å…ƒç»„ (Tuple) æ˜¯â¼€ç§ç‰¹æ®Šçš„æ•°ç»„ç±»å‹ï¼Œå¯ä»¥å­˜å‚¨å›ºå®šæ•°é‡çš„å…ƒç´ ï¼Œå¹¶ä¸”æ¯ä¸ªå…ƒç´ çš„ç±»å‹æ˜¯å·²çŸ¥çš„ä¸”å¯ä»¥ä¸åŒã€‚å…ƒç»„â½¤äºç²¾ç¡®æè¿°â¼€ç»„å€¼çš„ç±»å‹ï¼Œ ? è¡¨ç¤ºå¯é€‰å…ƒç´ ã€‚ 12345678910111213141516// ç¬¬â¼€ä¸ªå…ƒç´ å¿…é¡»æ˜¯ string ç±»å‹ï¼Œç¬¬â¼†ä¸ªå…ƒç´ å¿…é¡»æ˜¯ number ç±»å‹ã€‚let arr1: [string,number]// ç¬¬â¼€ä¸ªå…ƒç´ å¿…é¡»æ˜¯ number ç±»å‹ï¼Œç¬¬â¼†ä¸ªå…ƒç´ æ˜¯å¯é€‰çš„ï¼Œå¦‚æœå­˜åœ¨ï¼Œå¿…é¡»æ˜¯ boolean ç±»å‹ã€‚let arr2: [number,boolean?]// ç¬¬â¼€ä¸ªå…ƒç´ å¿…é¡»æ˜¯ number ç±»å‹ï¼Œåâ¾¯çš„å…ƒç´ å¯ä»¥æ˜¯ä»»æ„æ•°é‡çš„ string ç±»å‹let arr3: [number,...string[]]// å¯ä»¥èµ‹å€¼arr1 = [&#x27;hello&#x27;,123]arr2 = [100,false]arr2 = [200]arr3 = [100,&#x27;hello&#x27;,&#x27;world&#x27;]arr3 = [100]// ä¸å¯ä»¥èµ‹å€¼ï¼Œarr1å£°æ˜æ—¶æ˜¯ä¸¤ä¸ªå…ƒarr1 = [&#x27;hello&#x27;,123,false] 8.7ã€enum æšä¸¾ï¼ˆ enum ï¼‰å¯ä»¥å®šä¹‰**â¼€ç»„å‘½åå¸¸é‡**ï¼Œå®ƒèƒ½å¢å¼ºä»£ç çš„å¯è¯»æ€§ï¼Œä¹Ÿè®©ä»£ç æ›´å¥½ç»´æŠ¤ã€‚ å¦‚ä¸‹ä»£ç çš„åŠŸèƒ½æ˜¯ï¼šæ ¹æ®è°ƒç”¨walk æ—¶ä¼ â¼Šçš„ä¸åŒå‚æ•°ï¼Œæ‰§è¡Œä¸åŒçš„é€»è¾‘ï¼Œå­˜åœ¨çš„é—®é¢˜æ˜¯è°ƒç”¨ walk æ—¶**ä¼ å‚æ—¶æ²¡æœ‰ä»»ä½•æç¤ºï¼Œç¼–ç è€…å¾ˆå®¹æ˜“å†™é”™ä¼ å‚å­—ç¬¦ä¸²å†…å®¹**ï¼›å¹¶ä¸”ç”¨äºåˆ¤æ–­é€»è¾‘çš„ up ã€ down ã€ left ã€ right æ˜¯è¿ç»­ä¸”ç›¸å…³çš„â¼€ç»„å€¼ï¼Œé‚£æ­¤æ—¶å°±ç‰¹åˆ«é€‚åˆä½¿ç”¨æšä¸¾ï¼ˆ enum ï¼‰ã€‚ 123456789101112131415161718function walk(str:string) &#123; if (str === &#x27;up&#x27;) &#123; console.log(&quot;å‘ã€ä¸Šã€‘â¾›&quot;); &#125; else if (str === &#x27;down&#x27;) &#123; // æˆ–åœ¨è¿™é‡Œå†™é”™å•è¯å¯¼è‡´å’Œä¼ å…¥çš„å‚æ•°ä¸ä¸€è‡´æ²¡æœ‰æç¤ºæŠ¥é”™ console.log(&quot;å‘ã€ä¸‹ã€‘â¾›&quot;); &#125; else if (str === &#x27;left&#x27;) &#123; console.log(&quot;å‘ã€å·¦ã€‘â¾›&quot;); &#125; else if (str === &#x27;right&#x27;) &#123; console.log(&quot;å‘ã€å³ã€‘â¾›&quot;); &#125; else &#123; console.log(&quot;æœªçŸ¥â½…å‘&quot;); &#125;&#125;walk(&#x27;up&#x27;)walk(&#x27;down&#x27;) // åœ¨è¿™é‡Œå†™é”™ä¼ å‚æ²¡æœ‰æç¤ºwalk(&#x27;left&#x27;)walk(&#x27;right&#x27;) 1ï¼‰ã€æ•°å­—æšä¸¾æ•°å­—æšä¸¾â¼€ç§æœ€å¸¸è§çš„æšä¸¾ç±»å‹ï¼Œå…¶æˆå‘˜çš„å€¼ä¼š**è‡ªåŠ¨é€’å¢ï¼Œä¸”æ•°å­—æšä¸¾è¿˜å…·å¤‡åå‘æ˜ å°„çš„ç‰¹ç‚¹ï¼Œåœ¨ä¸‹é¢ä»£ç çš„æ‰“å°ä¸­ï¼Œä¸éš¾å‘ç°ï¼šå¯ä»¥é€šè¿‡å€¼æ¥è·å–å¯¹åº”çš„æšä¸¾æˆå‘˜åç§°** ã€‚ 12345678910111213141516171819202122232425262728// å®šä¹‰â¼€ä¸ªæè¿°ã€ä¸Šä¸‹å·¦å³ã€‘â½…å‘çš„æšä¸¾Directionenum Direction &#123; Up, Down, Left, Right&#125;console.log(Direction) // æ‰“å°Directionä¼šçœ‹åˆ°å¦‚ä¸‹å†…å®¹/* &#123; 0:&#x27;Up&#x27;, 1:&#x27;Down&#x27;, 2:&#x27;Left&#x27;, 3:&#x27;Right&#x27;, Up:0, Down:1, Left:2, Right:3 &#125; */// åå‘æ˜ å°„console.log(Direction.Up) // 0console.log(Direction[0]) // Up// æ­¤â¾ä»£ç æŠ¥é”™ï¼Œæšä¸¾ä¸­çš„å±æ€§æ˜¯åªè¯»çš„Direction.Up = &#x27;shang&#x27; ä¹Ÿå¯ä»¥æŒ‡å®šæšä¸¾æˆå‘˜çš„åˆå§‹å€¼ï¼Œå…¶åçš„æˆå‘˜å€¼ä¼šè‡ªåŠ¨é€’å¢ã€‚ 12345678enum Direction &#123; Up = 6, Down, Left, Right&#125;console.log(Direction.Up); // è¾“å‡º: 6console.log(Direction.Down); // è¾“å‡º: 7 ä½¿ç”¨æ•°å­—æšä¸¾å®Œæˆåˆšæ‰ walk å‡½æ•°ä¸­çš„é€»è¾‘ï¼Œæ­¤æ—¶æˆ‘ä»¬å‘ç°ï¼š ä»£ç æ›´åŠ ç›´è§‚æ˜“è¯»ï¼Œè€Œä¸”ç±»å‹å®‰å…¨ï¼ŒåŒæ—¶ä¹Ÿæ›´æ˜“äºç»´æŠ¤ã€‚ 1234567891011121314151617181920212223enum Direction &#123; Up, Down, Left, Right,&#125;function walk(n: Direction) &#123; if (n === Direction.Up) &#123; console.log(&quot;å‘ã€ä¸Šã€‘â¾›&quot;); &#125; else if (n === Direction.Down) &#123; console.log(&quot;å‘ã€ä¸‹ã€‘â¾›&quot;); &#125; else if (n === Direction.Left) &#123; console.log(&quot;å‘ã€å·¦ã€‘â¾›&quot;); &#125; else if (n === Direction.Right) &#123; console.log(&quot;å‘ã€å³ã€‘â¾›&quot;); &#125; else &#123; console.log(&quot;æœªçŸ¥â½…å‘&quot;); &#125;&#125;walk(Direction.Up);walk(Direction.Down); 2ï¼‰ã€å­—ç¬¦ä¸²æšä¸¾æšä¸¾æˆå‘˜çš„å€¼æ˜¯å­—ç¬¦ä¸²ï¼Œä¸¢å¤±åå‘æ˜ å°„ã€‚ 123456789enum Direction &#123; Up = &quot;up&quot;, Down = &quot;down&quot;, Left = &quot;left&quot;, Right = &quot;right&quot;&#125;let dir: Direction = Direction.Up;console.log(dir); // è¾“å‡º: &quot;up&quot; 3ï¼‰ã€å¸¸é‡æšä¸¾ å®˜â½…æè¿°ï¼šå¸¸é‡æšä¸¾æ˜¯â¼€ç§ç‰¹æ®Šæšä¸¾ç±»å‹ï¼Œå®ƒä½¿â½¤ const å…³é”®å­—å®šä¹‰ï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šè¢«**å†…è”ï¼Œé¿å…ç”Ÿæˆâ¼€äº›é¢å¤–**çš„ä»£ç ã€‚ ä½•ä¸ºç¼–è¯‘æ—¶å†…è”ï¼Ÿæ‰€è°“â€œå†…è”â€å…¶å®å°±æ˜¯ TypeScript åœ¨ç¼–è¯‘æ—¶ï¼Œä¼šå°†æšä¸¾æˆå‘˜å¼•â½¤æ›¿æ¢ä¸ºå®ƒä»¬çš„å®é™…å€¼ï¼Œè€Œä¸æ˜¯ç”Ÿæˆé¢å¤–çš„æšä¸¾å¯¹è±¡ã€‚è¿™å¯ä»¥å‡å°‘ç”Ÿæˆçš„ JavaScript ä»£ç é‡ï¼Œå¹¶æâ¾¼è¿è¡Œæ—¶æ€§èƒ½ã€‚ ä½¿ç”¨æ™®é€šæšä¸¾çš„ TypeScript ä»£ç å¦‚ä¸‹ 1234567enum Directions &#123; Up, Down, Left, Right&#125;let x = Directions.Up; // 0 ç¼–è¯‘åâ½£æˆçš„ JavaScript ä»£ç é‡è¾ƒâ¼¤ ï¼š 123456789&quot;use strict&quot;;var Directions;(function (Directions) &#123; Directions[Directions[&quot;Up&quot;] = 0] = &quot;Up&quot;; Directions[Directions[&quot;Down&quot;] = 1] = &quot;Down&quot;; Directions[Directions[&quot;Left&quot;] = 2] = &quot;Left&quot;; Directions[Directions[&quot;Right&quot;] = 3] = &quot;Right&quot;;&#125;)(Directions || (Directions = &#123;&#125;));let x = Directions.Up; ä½¿ç”¨å¸¸é‡æšä¸¾çš„ TypeScript ä»£ç å¦‚ä¸‹ï¼š 1234567const enum Directions &#123; Up, Down, Left, Right&#125;let x = Directions.Up; ç¼–è¯‘åç”Ÿæˆçš„ JavaScript ä»£ç é‡è¾ƒå°ï¼š 12&quot;use strict&quot;;let x = 0 /* Directions.Up */; 8.8ã€type type å¯ä»¥ä¸ºä»»æ„ç±»å‹åˆ›å»ºåˆ«åï¼Œè®©ä»£ç æ›´ç®€æ´ã€å¯è¯»æ€§æ›´å¼ºï¼ŒåŒæ—¶èƒ½æ›´â½…ä¾¿åœ°è¿›â¾ç±»å‹å¤â½¤å’Œæ‰©å±•ã€‚ 1ï¼‰ã€åŸºæœ¬ç”¨æ³•ç±»å‹åˆ«åä½¿ç”¨ type å…³é”®å­—å®šä¹‰ï¼Œ typeåè·Ÿç±»å‹åç§°ï¼Œä¾‹å¦‚ä¸‹â¾¯ä»£ç ä¸­ num æ˜¯ç±»å‹åˆ«åã€‚ 1234type num = number;let price: numprice = 100 2ï¼‰ã€è”åˆç±»å‹è”åˆç±»å‹æ˜¯â¼€ç§â¾¼çº§ç±»å‹ï¼Œå®ƒè¡¨ç¤ºâ¼€ä¸ªå€¼å¯ä»¥æ˜¯å‡ ç§ä¸åŒç±»å‹ä¹‹â¼€ã€‚ 1234567891011121314151617type Status = number | stringtype Gender = &#x27;ç”·&#x27; | &#x27;â¼¥&#x27;function printStatus(status: Status) &#123; console.log(status);&#125;function logGender(str:Gender)&#123; console.log(str)&#125;printStatus(404);printStatus(&#x27;200&#x27;);printStatus(&#x27;501&#x27;);logGender(&#x27;ç”·&#x27;)logGender(&#x27;â¼¥&#x27;) 3ï¼‰ã€äº¤å‰ç±»å‹äº¤å‰ç±»å‹ï¼ˆIntersection Typesï¼‰å…è®¸å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºâ¼€ä¸ªç±»å‹ã€‚åˆå¹¶åçš„ç±»å‹å°†æ‹¥æœ‰æ‰€æœ‰è¢«åˆå¹¶ç±»å‹çš„æˆå‘˜ã€‚äº¤å‰ç±»å‹é€šå¸¸â½¤äºå¯¹è±¡ç±»å‹ã€‚ 12345678910111213141516171819202122//â¾¯ç§¯type Area = &#123; height: number; //â¾¼ width: number; //å®½&#125;;//åœ°å€type Address = &#123; num: number; //æ¥¼å· cell: number; //å•å…ƒå· room: string; //æˆ¿é—´å·&#125;;// å®šä¹‰ç±»å‹Houseï¼Œä¸”Houseæ˜¯Areaå’ŒAddressç»„æˆçš„äº¤å‰ç±»å‹type House = Area &amp; Address;const house: House = &#123; height: 180, width: 75, num: 6, cell: 3, room: &quot;702&quot;,&#125;; 8.9ã€â¼€ä¸ªç‰¹æ®Šæƒ…å†µå…ˆæ¥è§‚å¯Ÿå¦‚ä¸‹ä¸¤æ®µä»£ç ï¼š ä»£ç æ®µ1ï¼ˆæ­£å¸¸ï¼‰ åœ¨å‡½æ•°å®šä¹‰æ—¶ï¼Œé™åˆ¶å‡½æ•°è¿”å›å€¼ä¸º void ï¼Œé‚£ä¹ˆå‡½æ•°çš„è¿”å›å€¼å°±å¿…é¡»æ˜¯ç©ºã€‚ 1234567891011function demo(): void &#123; // è¿”å›undefinedåˆæ³• return undefined; // ä»¥ä¸‹è¿”å›å‡ä¸åˆæ³• return 100; return false; return null; return [];&#125;demo(); ä»£ç æ®µ2ï¼ˆç‰¹æ®Šï¼‰ ä½¿ç”¨**ç±»å‹å£°æ˜**é™åˆ¶å‡½æ•°è¿”å›å€¼ä¸º void æ—¶ï¼Œ TypeScript å¹¶ä¸ä¼šä¸¥æ ¼è¦æ±‚å‡½æ•°è¿”å›ç©ºã€‚ 1234567891011type LogFunc = () =&gt; void;const f1: LogFunc = () =&gt; &#123; return 100; // å…è®¸è¿”å›â¾®ç©ºå€¼&#125;;const f2: LogFunc = () =&gt; 200; // å…è®¸è¿”å›â¾®ç©ºå€¼const f3: LogFunc = function () &#123; return 300; // å…è®¸è¿”å›â¾®ç©ºå€¼&#125;; ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ â€‹ æ˜¯ä¸ºäº†ç¡®ä¿å¦‚ä¸‹ä»£ç æˆâ½´ï¼Œæˆ‘ä»¬çŸ¥é“ Array.prototype.push çš„è¿”å›å€¼æ˜¯â¼€ä¸ªæ•°å­—ï¼Œè€Œ Array.prototype.forEach â½…æ³•æœŸæœ›å…¶å›è°ƒçš„è¿”å›ç±»å‹æ˜¯ void ã€‚ 1234const src = [1, 2, 3];const dst = [0];src.forEach((el) =&gt; dst.push(el)); 8.10ã€classç±»ç›¸å…³çŸ¥è¯† é€šè¿‡class å…³é”®å­—åˆ›å»ºç±»ï¼Œç±»åæˆ‘ä»¬è¿˜æ˜¯ä¹ æƒ¯æ€§å®šä¹‰é¦–å­—æ¯å¤§å†™ï¼› ç±»é‡Œé¢æœ‰ä¸ªconstructor å‡½æ•°ï¼Œå¯ä»¥æ¥å—ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼ŒåŒæ—¶è¿”å›å®ä¾‹å¯¹è±¡ï¼› constructor å‡½æ•°ï¼Œåªè¦ new ç”Ÿæˆå®ä¾‹æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¦‚æœæˆ‘ä»¬ä¸å†™è¿™ä¸ªå‡½æ•°ï¼Œç±»ä¹Ÿä¼šè‡ªåŠ¨ç”Ÿæˆè¿™ä¸ªå‡½æ•°ï¼› å¤šä¸ªå‡½æ•°æ–¹æ³•ä¹‹é—´ä¸éœ€è¦æ·»åŠ é€—å·åˆ†éš”ï¼› ç”Ÿæˆå®ä¾‹ new ä¸èƒ½çœç•¥ï¼› è¯­æ³•è§„èŒƒï¼š åˆ›å»ºç±»ï¼Œç±»ååé¢ä¸è¦åŠ å°æ‹¬å·ã€‚ç”Ÿæˆå®ä¾‹ï¼Œç±»ååé¢åŠ å°æ‹¬å·ã€‚æ„é€ å‡½æ•°ä¸éœ€è¦åŠ functionï¼› 123456789101112131415161718192021222324252627282930class Person &#123; // å±æ€§å£°æ˜ name: string age: number hobby: string // æ„é€ å™¨ constructor(name: string, age: number, hobby: string) &#123; this.name = name this.age = age this.hobby = hobby &#125; // â½…æ³• info() &#123; console.log(`ä¸ªäººä¿¡æ¯ï¼šæˆ‘å«$&#123;this.name&#125;ï¼Œä»Šå¹´$&#123;this.age&#125;å²ï¼`); &#125; hobbyCategory() &#123; console.log(`ä¸ªäººçˆ±å¥½ï¼šæˆ‘çˆ±$&#123;this.hobby&#125;ï¼`); this.info() &#125;&#125;// Personå®ä¾‹const p1 = new Person(&quot;è”¡å¾å¤&quot;, 23, &quot;å”±è·³rap&quot;);p1.info()p1.hobbyCategory()// ä¸ªäººä¿¡æ¯ï¼šæˆ‘å«è”¡å¾å¤ï¼Œä»Šå¹´23å²ï¼// ä¸ªäººçˆ±å¥½ï¼šæˆ‘çˆ±å”±è·³rapï¼// ä¸ªäººä¿¡æ¯ï¼šæˆ‘å«è”¡å¾å¤ï¼Œä»Šå¹´23å²ï¼ 1ï¼‰ã€å­ç±»ç»§æ‰¿çˆ¶ç±»â€“extends123456789101112131415161718192021222324252627282930313233class Person &#123; // å±æ€§å£°æ˜ name: string age: number hobby: string // æ„é€ å™¨ constructor(name: string, age: number, hobby: string) &#123; this.name = name this.age = age this.hobby = hobby &#125; // â½…æ³• info() &#123; console.log(`ä¸ªäººä¿¡æ¯ï¼šæˆ‘å«$&#123;this.name&#125;ï¼Œä»Šå¹´$&#123;this.age&#125;å²ï¼`); &#125; hobbyCategory() &#123; console.log(`ä¸ªäººçˆ±å¥½ï¼šæˆ‘çˆ±$&#123;this.hobby&#125;ï¼`); this.info() &#125;&#125;class Student extends Person &#123;&#125;// Studentå®ä¾‹ ç»§æ‰¿äº†çˆ¶ç±»çš„æ„é€ å™¨å’Œæ–¹æ³•ï¼Œå³å­ç±»ä¸­æœ‰äº†ä¸€ä¸ªå’Œçˆ¶ç±»ä¸€æ ·çš„æ„é€ å™¨å’Œæ–¹æ³•const s1 = new Student(&quot;å°é˜¿ç±³&quot;, 18, &quot;æ‰“ç¯®çƒ&quot;);s1.info()s1.hobbyCategory()// ä¸ªäººä¿¡æ¯ï¼šæˆ‘å«å°é˜¿ç±³ï¼Œä»Šå¹´18å²ï¼// ä¸ªäººçˆ±å¥½ï¼šæˆ‘çˆ±æ‰“ç¯®çƒï¼// ä¸ªäººä¿¡æ¯ï¼šæˆ‘å«å°é˜¿ç±³ï¼Œä»Šå¹´18å²ï¼ æ³¨æ„ç‚¹ï¼š å½“åœ¨æœ‰ç»§æ‰¿çš„å­ç±»ä¸­ç»™æ„é€ å™¨æ·»åŠ å±æ€§ï¼Œå¿…é¡»ä½¿ç”¨superï¼Œè¦ä¸ç„¶ä¼šæŠ¥é”™ï¼šæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°å¿…é¡»åŒ…å« â€œsuperâ€ è°ƒç”¨ã€‚ å¦‚ä¸‹ä¾¿æ˜¯superçš„ä½¿ç”¨æ–¹æ³• 2ï¼‰ã€å­ç±»è®¿é—®çˆ¶ç±»â€“super1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950class Person &#123; // å±æ€§å£°æ˜ name: string age: number hobby: string // æ„é€ å™¨ constructor(name: string, age: number, hobby: string) &#123; this.name = name this.age = age this.hobby = hobby &#125; // â½…æ³• info() &#123; console.log(`ä¸ªäººä¿¡æ¯ï¼šæˆ‘å«$&#123;this.name&#125;ï¼Œä»Šå¹´$&#123;this.age&#125;å²ï¼`); &#125; hobbyCategory() &#123; console.log(`ä¸ªäººçˆ±å¥½ï¼šæˆ‘çˆ±$&#123;this.hobby&#125;ï¼`); this.info() &#125; sex() &#123; console.log(&#x27;ç”·/å¥³&#x27;); &#125;&#125;class Student extends Person &#123; // å½“å­ç±»ä½¿ç”¨ç»§æ‰¿extendsæ—¶ï¼Œåœ¨å­ç±»å³ç›¸å½“ç»§æ‰¿äº†çˆ¶ç±»çš„æ„é€ å™¨constructorå’Œæ–¹æ³•ï¼Œå¦‚æœéœ€è¦åœ¨å­ç±»ç»™è‡ªå·±æ·»åŠ å±æ€§ï¼Œåœ¨æ„é€ å™¨çš„å…¥å‚éœ€è¦æ·»åŠ çˆ¶ç±»å±æ€§å¯¹åº”çš„å‚æ•°ã€‚ // ä¾‹å¦‚è¿™é‡Œçˆ¶ç±»æ„é€ å™¨çš„å±æ€§nameã€ageå’Œhobbyï¼Œä¹Ÿè¦å†™åœ¨å­ç±»æ„é€ å™¨çš„å…¥å‚ä¸­ï¼Œæœ€åæ·»åŠ å­ç±»æ·»åŠ è‡ªå·±æ–°å¢çš„å½¢å‚(name: string, age: number, hobby: string, grade: number)ã€‚ // super å¿…é¡»åœ¨å­ç±»thisä¹‹å‰è°ƒç”¨ï¼Œsuper(name, age, hobby) grade: number constructor(name: string, age: number, hobby: string, grade: number) &#123; super(name, age, hobby) this.grade = grade &#125; study() &#123; console.log(`æˆ‘å«$&#123;this.name&#125;ï¼Œä»Šå¹´$&#123;this.age&#125;å²ï¼Œæ•°å­¦è€ƒäº†$&#123;this.grade&#125;åˆ†`); this.info() // super.info() ä¸¤ä¸ªä¸€æ · &#125; override sex() &#123; console.log(&#x27;åœ¨å­ç±»é‡å†™ä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•ï¼šç”·&#x27;); &#125;&#125;const s1 = new Student(&quot;è®¸è¯º&quot;, 16, &quot;æ‰“ç¯®çƒ&quot;, 98);s1.study()s1.sex()// æˆ‘å«è®¸è¯ºï¼Œä»Šå¹´16å²ï¼Œæ•°å­¦è€ƒäº†98åˆ†// ä¸ªäººä¿¡æ¯ï¼šæˆ‘å«è®¸è¯ºï¼Œä»Šå¹´16å²ï¼// åœ¨å­ç±»é‡å†™ä»â½—ç±»ç»§æ‰¿çš„â½…æ³•ï¼šç”· overrideä¿®é¥°ç¬¦çš„ä½œç”¨ åœ¨å­ç±»é‡å†™ä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•æ—¶ï¼Œå¦‚æœæ–¹æ³•åå’Œçˆ¶ç±»ä¸ä¸€è‡´çš„æ—¶å€™ä¼šæŠ¥é”™æç¤ºã€‚ 8.11ã€å±æ€§ä¿®é¥°ç¬¦(tsä¸­æ‰æœ‰) ä¿®é¥°ç¬¦ å«ä¹‰ å…·ä½“è§„åˆ™ public å…¬å¼€çš„ å¯ä»¥è¢«ï¼šç±»å†…éƒ¨ã€å­ç±»ã€**ç±»å¤–éƒ¨**è®¿é—® ã€‚ protected å—ä¿æŠ¤çš„ å¯ä»¥è¢«ï¼šç±»å†…éƒ¨ã€**å­ç±»**è®¿é—®ã€‚ private ç§æœ‰çš„ å¯ä»¥è¢«ï¼š**ç±»å†…éƒ¨**è®¿é—®ã€‚ readonly åªè¯»å±æ€§ å±æ€§â½†æ³•ä¿®æ”¹ã€‚ 1ï¼‰ã€public ä¿®é¥°ç¬¦ä¸€èˆ¬ä¸å†™publicï¼Œé»˜è®¤å°±æ˜¯ publicã€‚å¯ä»¥è¢«ï¼šç±»å†…éƒ¨ã€å­ç±»ã€**ç±»å¤–éƒ¨**è®¿é—® 12345678910111213141516171819202122class Person &#123; public name: string public age: string constructor(name:string, age:string) &#123; // 1ã€ç±»å†…éƒ¨è®¿é—® this.name = name this.age = age &#125;&#125;class Son extends Person &#123; info() &#123; // 2ã€å­ç±»è®¿é—® console.log(this.name); console.log(this.age); &#125;&#125;const p1 = new Person(&#x27;Tom&#x27;, &#x27;45&#x27;)const s1 = new Son(&#x27;Jack&#x27;, &#x27;18&#x27;)// 3ã€å¤–éƒ¨è®¿é—®console.log(s1.name); å±æ€§çš„ç®€å†™å½¢å¼ å¿…é¡»æœ‰ä¿®é¥°ç¬¦æ‰èƒ½ç®€å†™ 123456789/ å®Œæ•´å†™æ³•class Person &#123; public name: string; public age: number; constructor(name: string, age: number) &#123; this.name = name; this.age = age; &#125;&#125; 1234/ ç®€å†™å½¢å¼ class Person &#123; constructor(public name: string, public age: number) &#123;&#125;&#125; 2ï¼‰ã€protected ä¿®é¥°ç¬¦ å¯ä»¥è¢«ï¼šç±»å†…éƒ¨ã€**å­ç±»**è®¿é—®ã€‚ 1234567891011121314151617181920212223242526272829303132333435class Person &#123; constructor( protected name: string, protected age: number ) &#123; &#125; protected getDetails(): string &#123; // ç±»ä¸­èƒ½è®¿é—®å—ä¿æŠ¤çš„nameå’Œageå±æ€§ return `æˆ‘å«ï¼š$&#123;this.name&#125;ï¼Œå¹´é¾„æ˜¯ï¼š$&#123;this.age&#125;` &#125; introduce() &#123; // ç±»ä¸­èƒ½è®¿é—®å—ä¿æŠ¤çš„getDetailsâ½…æ³• console.log(this.getDetails()); &#125;&#125;class Student extends Person &#123; study() &#123; // â¼¦ç±»ä¸­å¯ä»¥è®¿é—®getDetails this.getDetails() // â¼¦ç±»ä¸­å¯ä»¥è®¿é—®name console.log(`$&#123;this.name&#125;æ­£åœ¨åŠªâ¼’å­¦ä¹ `) &#125;&#125;const p1 = new Person(&#x27;æ¨è¶…è¶Š&#x27;, 18)const s1 = new Student(&#x27;æ¨å“ˆå“ˆ&#x27;, 33)p1.introduce()s1.study()// ä»¥ä¸‹ä»£ç å‡æŠ¥é”™// p1.getDetails()// p1.name// p1.age 3ï¼‰ã€private ä¿®é¥°ç¬¦å¯ä»¥è¢«ï¼š**ç±»å†…éƒ¨**è®¿é—®ã€‚ 1234567891011121314151617181920212223242526class Person &#123; constructor( public name: string, public age: number, // IDCardå±æ€§ä¸ºç§æœ‰çš„(private)å±æ€§ï¼Œåªèƒ½åœ¨ã€ç±»å†…éƒ¨ã€‘ä½¿â½¤ private IDCard: string ) &#123; &#125; private getPrivateInfo() &#123; // ç±»å†…éƒ¨å¯ä»¥è®¿é—®ç§æœ‰çš„(private)å±æ€§ â€”â€” IDCard return `èº«ä»½è¯å·ç ä¸ºï¼š$&#123;this.IDCard&#125;` &#125; getInfo() &#123; // ç±»å†…éƒ¨å¯ä»¥è®¿é—®å—ä¿æŠ¤çš„(protected)å±æ€§ â€”â€” nameå’Œage return `æˆ‘å«: $&#123;this.name&#125;, ä»Šå¹´åˆšæ»¡$&#123;this.age&#125;å²`; &#125; getFullInfo() &#123; // ç±»å†…éƒ¨å¯ä»¥è®¿é—®å…¬å¼€çš„getInfoâ½…æ³•ï¼Œä¹Ÿå¯ä»¥è®¿é—®ç§æœ‰çš„getPrivateInfoâ½…æ³• return this.getInfo() + &#x27;ï¼Œ&#x27; + this.getPrivateInfo() &#125;&#125;const p1 = new Person(&#x27;å¼ ä¸‰&#x27;, 18, &#x27;110114198702034432&#x27;)console.log(p1.getFullInfo())console.log(p1.getInfo())// ä»¥ä¸‹ä»£ç å‡æŠ¥é”™// p1.IDCard// p1.getPrivateInfo() 4ï¼‰ã€readonly ä¿®é¥°ç¬¦ å±æ€§æ— æ³•ä¿®æ”¹ã€‚ 1234567891011121314151617181920212223class Car &#123; constructor( public readonly vin: string, //â»‹è¾†è¯†åˆ«ç ï¼Œä¸ºåªè¯»å±æ€§ public readonly year: number, //å‡ºâ¼šå¹´ä»½ï¼Œä¸ºåªè¯»å±æ€§ public color: string, public sound: string ) &#123; &#125; // æ‰“å°â»‹è¾†ä¿¡æ¯ displayInfo() &#123; console.log(` è¯†åˆ«ç ï¼š$&#123;this.vin&#125;, å‡ºâ¼šå¹´ä»½ï¼š$&#123;this.year&#125;, é¢œâ¾Šï¼š$&#123;this.color&#125;, â¾³å“ï¼š$&#123;this.sound&#125; `); &#125;&#125;const car = new Car(&#x27;1HGCM82633A123456&#x27;, 2018, &#x27;â¿Šâ¾Š&#x27;, &#x27;Boseâ¾³å“&#x27;);car.color = &#x27;çº¢è‰²&#x27;car.displayInfo()// ä»¥ä¸‹ä»£ç å‡é”™è¯¯ï¼šä¸èƒ½ä¿®æ”¹ readonly å±æ€§// car.vin = &#x27;897WYE87HA8SGDD8SDGHF&#x27;; // car.year = 2020; 8.12ã€æŠ½è±¡ç±» æ¦‚è¿°ï¼šæŠ½è±¡ç±»æ˜¯â¼€ç§**æ— æ³•è¢«å®ä¾‹åŒ–çš„ç±»ï¼Œä¸“é—¨ç”¨æ¥å®šä¹‰ç±»çš„ç»“æ„å’Œè¡Œä¸ºï¼Œç±»ä¸­å¯ä»¥å†™æŠ½è±¡æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å†™å…·ä½“å®ç°ã€‚æŠ½è±¡ç±»ä¸»è¦ç”¨æ¥ä¸ºå…¶æ´¾ç”Ÿç±»æä¾›â¼€ä¸ªåŸºç¡€ç»“æ„ï¼Œè¦æ±‚å…¶æ´¾ç”Ÿç±»(å­ç±»)å¿…é¡»å®ç°**å…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚ ç®€è®°ï¼šæŠ½è±¡ç±»**ä¸èƒ½å®ä¾‹åŒ–ï¼Œå…¶å±æ€§å’Œæ–¹æ³•æ˜¯å¯ä»¥è¢«ç»§æ‰¿ï¼ŒæŠ½è±¡ç±»â¾¥å¯ä»¥æœ‰æ™®é€šæ–¹æ³•ã€ä¹Ÿå¯ä»¥æœ‰æŠ½è±¡æ–¹æ³•ã€æŠ½è±¡ç±»ä¸­å†™æŠ½è±¡æ–¹æ³•ï¼Œåœ¨å­ç±»å®ç°æŠ½è±¡æ–¹æ³•ã€æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•éœ€è¦ç”¨abstractå®šä¹‰**ã€‚ é€šè¿‡ä»¥ä¸‹åœºæ™¯ï¼Œç†è§£æŠ½è±¡ç±»ï¼š æˆ‘ä»¬å®šä¹‰â¼€ä¸ªæŠ½è±¡ç±» Package ï¼Œè¡¨ç¤ºæ‰€æœ‰åŒ…è£¹çš„åŸºæœ¬ç»“æ„ã€‚ä»»ä½•åŒ…è£¹éƒ½æœ‰é‡é‡å±æ€§ weightï¼ŒåŒ…è£¹éƒ½éœ€è¦è®¡ç®—è¿è´¹ã€‚ä½†ä¸åŒç±»å‹çš„åŒ…è£¹ï¼ˆå¦‚ï¼šæ ‡å‡†é€Ÿåº¦ã€ç‰¹å¿«ä¸“é€’ï¼‰éƒ½æœ‰ä¸åŒçš„è¿è´¹è®¡ç®—æ–¹å¼ï¼Œå› æ­¤ç”¨äºè®¡ç®—è¿è´¹çš„calculateæ–¹æ³•æ˜¯â¼€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå¿…é¡»ç”±å…·ä½“çš„æ´¾ç”Ÿç±»(å­ç±»)å®ç°ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849// å®šä¹‰æŠ½è±¡ç±»abstract class Package &#123; constructor(public weight: number) &#123; &#125; // æŠ½è±¡â½…æ³•ï¼šâ½¤æ¥è®¡ç®—è¿è´¹ï¼Œä¸åŒç±»å‹åŒ…è£¹æœ‰ä¸åŒçš„è®¡ç®—â½…å¼ abstract calculate(): number // é€šâ½¤â½…æ³•ï¼šæ‰“å°åŒ…è£¹è¯¦æƒ… printPackage() &#123; console.log(`åŒ…è£¹é‡é‡ä¸º: $&#123;this.weight&#125;kgï¼Œè¿è´¹ä¸º: $&#123;this.calculate()&#125;å…ƒ`); &#125;&#125;// æ ‡å‡†åŒ…è£¹class StandardPackage extends Package &#123; constructor( weight: number, public unitPrice: number ) &#123; super(weight) &#125; // å®ç°æŠ½è±¡â½…æ³•ï¼šè®¡ç®—è¿è´¹ calculate(): number &#123; return this.weight * this.unitPrice &#125;&#125;// ç‰¹å¿«åŒ…è£¹class ExpressPackage extends Package &#123; constructor ( weight: number, private unitPrice: number, private additional: number ) &#123; super(weight) &#125; calculate(): number &#123; if (this.weight &gt; 0) &#123; return 10 * this.unitPrice + (this.weight - 10) * this.additional &#125; return this.weight * this.unitPrice &#125;&#125;// åˆ›å»ºæ ‡å‡†åŒ…è£¹å®ä¾‹const s1 = new StandardPackage(10, 5)s1.printPackage()// åˆ›å»ºç‰¹å¿«åŒ…è£¹å®ä¾‹const e1 = new ExpressPackage(13,8,2)e1.printPackage() æ€»ç»“ï¼šä½•æ—¶ä½¿ç”¨æŠ½è±¡ç±»ï¼Ÿ å®šä¹‰é€šç”¨æ¥å£ï¼šâ¼€ç»„ç›¸å…³çš„ç±»å®šä¹‰é€šç”¨çš„â¾ä¸ºï¼ˆæ–¹æ³•æˆ–å±æ€§ï¼‰æ—¶ã€‚ æä¾›åŸºç¡€å®ç°ï¼šåœ¨æŠ½è±¡ç±»ä¸­æä¾›æŸäº›æ–¹æ³•æˆ–ä¸ºå…¶æä¾›åŸºç¡€å®ç°ï¼Œè¿™æ ·æ´¾â½£ç±»å°±å¯ä»¥ç»§æ‰¿è¿™äº›å®ç°ã€‚ ç¡®ä¿å…³é”®å®ç°ï¼šå¼ºåˆ¶æ´¾ç”Ÿç±»å®ç°â¼€äº›å…³é”®è¡Œä¸ºã€‚ å…±äº«ä»£ç å’Œé€»è¾‘ï¼šå½“å¤šä¸ªç±»éœ€è¦å…±äº«éƒ¨åˆ†ä»£ç æ—¶ï¼ŒæŠ½è±¡ç±»å¯ä»¥é¿å…ä»£ç é‡å¤ã€‚ 8.13ã€interfaceï¼ˆæ¥å£ï¼‰1ï¼‰ã€å®šä¹‰ç±»æ¥å£ç±»æ˜¯æ— æ³•ç›´æ¥ä½¿ç”¨extendsç»§æ‰¿æ¥å£çš„ï¼Œåªèƒ½ä½¿ç”¨implementså»å®ç°æ¥å£ã€‚ 123456789101112131415161718192021222324252627// PersonInterfaceæ¥â¼ï¼Œâ½¤ä¸é™åˆ¶Personç±»çš„æ ¼å¼interface PersonInterface &#123; name: string age: number speak(n: number): void&#125;// å®šä¹‰â¼€ä¸ªç±» Personï¼Œå®ç° PersonInterface æ¥â¼class Person implements PersonInterface &#123; constructor( public name: string, public age: number ) &#123; &#125; // å®ç°æ¥â¼ä¸­çš„ speak â½…æ³• speak(n: number): void &#123; for (let index = 0; index &lt; n; index++) &#123; console.log(`æˆ‘å«$&#123;this.name&#125;, ä»Šå¹´$&#123;this.age&#125;å²`); &#125; &#125;&#125;// åˆ›å»ºâ¼€ä¸ª Person ç±»çš„å®ä¾‹ p1const p1 = new Person(&#x27;é›·å†›&#x27;, 44)p1.speak(3)// æˆ‘å«é›·å†›, ä»Šå¹´44å²// æˆ‘å«é›·å†›, ä»Šå¹´44å²// æˆ‘å«é›·å†›, ä»Šå¹´44å² 2ï¼‰ã€å®šä¹‰å¯¹è±¡æ¥å£1234567891011121314interface UserInterface &#123; name: string readonly gender: string // åªè¯»å±æ€§ age?: number // å¯é€‰å±æ€§ run: (n: number) =&gt; void&#125;const user: UserInterface = &#123; name: &quot;å¼ ä¸‰&quot;, gender: &#x27;ç”·&#x27;, age: 18, run(n) &#123; console.log(`å¥”è·‘äº†$&#123;n&#125;â½¶`) &#125;&#125;; 3ï¼‰ã€å®šä¹‰å‡½æ•°æ¥å£123456interface CountInterface &#123; (a: number, b: number): number;&#125;const count: CountInterface = (x, y) =&gt; &#123; return x + y&#125; è¿™é‡Œæ³¨æ„åŒºåˆ†æ¥å£å®šä¹‰ç±»å‹å’Œæ™®é€šå®šä¹‰ç±»å‹ 12345let count: (a: number, b: number) =&gt; numbercount = function (x, y) &#123; return x + y&#125; 4ï¼‰ã€æ¥å£ä¹‹é—´çš„ç»§æ‰¿â¼€ä¸ª interface ç»§æ‰¿å¦â¼€ä¸ª interface ï¼Œä»è€Œå®ç°ä»£ç çš„å¤ç”¨ 123456789101112interface PersonInterface &#123; name: string // å§“å age: number // å¹´é¾„&#125;interface StudentInterface extends PersonInterface &#123; grade: string // å¹´çº§&#125;const stu: StudentInterface = &#123; name: &quot;å¼ ä¸‰&quot;, age: 25, grade: &#x27;â¾¼ä¸‰&#x27;,&#125; 5ï¼‰ã€æ¥å£è‡ªåŠ¨åˆå¹¶ï¼ˆå¯é‡å¤å®šä¹‰ï¼‰123456789101112interface PersonInterface &#123; name: string // å§“å age: number // å¹´é¾„&#125;interface PersonInterface &#123; grade: string // å¹´çº§&#125;const stu: PersonInterface = &#123; name: &quot;å¼ ä¸‰&quot;, age: 25, grade: &#x27;â¾¼ä¸‰&#x27;,&#125; æ€»ç»“ï¼šä½•æ—¶ä½¿â½¤æ¥å£ï¼Ÿ å®šä¹‰å¯¹è±¡çš„æ ¼å¼ï¼š æè¿°æ•°æ®æ¨¡å‹ã€API å“åº”æ ¼å¼ã€é…ç½®å¯¹è±¡â€¦â€¦..ç­‰ç­‰ï¼Œæ˜¯å¼€å‘ä¸­ç”¨çš„æœ€å¤šçš„åœºæ™¯ã€‚ ç±»çš„å¥‘çº¦ï¼šè§„å®šâ¼€ä¸ªç±»éœ€è¦å®ç°å“ªäº›å±æ€§å’Œâ½…æ³•ã€‚ æ‰©å±•å·²æœ‰æ¥â¼ï¼šâ¼€èˆ¬ç”¨äºæ‰©å±•ç¬¬ä¸‰â½…åº“çš„ç±»å‹ï¼Œ è¿™ç§ç‰¹æ€§åœ¨â¼¤å‹é¡¹ç›®ä¸­å¯èƒ½ä¼šç”¨åˆ°ã€‚ 8.14ã€ä¸€äº›ç›¸ä¼¼æ¦‚å¿µçš„åŒºåˆ«123456789101112interface PersonInterface &#123; name: string // å§“å age: number // å¹´é¾„&#125;interface StudentInterface extends PersonInterface &#123; grade: string // å¹´çº§&#125;const stu: StudentInterface = &#123; name: &quot;å¼ ä¸‰&quot;, age: 25, grade: &#x27;â¾¼ä¸‰&#x27;,&#125; 1ï¼‰ã€interface ä¸ type çš„åŒºåˆ« ç›¸åŒç‚¹ï¼š interface å’Œ type éƒ½å¯ä»¥â½¤äºå®šä¹‰**å¯¹è±¡ç»“æ„**ï¼Œåœ¨å®šä¹‰å¯¹è±¡ç»“æ„æ—¶ä¸¤è€…å¯ä»¥äº’æ¢ã€‚ ä¸åŒç‚¹ï¼š interface ï¼šæ›´ä¸“æ³¨äºå®šä¹‰**å¯¹è±¡å’Œç±»**çš„ç»“æ„ï¼Œâ½€æŒç»§æ‰¿ã€åˆå¹¶ã€‚ type ï¼šå¯ä»¥å®šä¹‰**ç±»å‹åˆ«åã€è”åˆç±»å‹ã€äº¤å‰ç±»å‹**ï¼Œä½†ä¸æ”¯æŒç»§æ‰¿å’Œè‡ªåŠ¨åˆå¹¶ã€‚ interface å’Œ type éƒ½å¯ä»¥å®šä¹‰å¯¹è±¡ç»“æ„ 12345678910111213141516171819202122232425262728293031// ä½¿â½¤ interface å®šä¹‰ Person å¯¹è±¡interface PersonInterface &#123; name: string; age: number; speak(): void;&#125;// ä½¿â½¤ type å®šä¹‰ Person å¯¹è±¡type PersonType = &#123; name: string; age: number; speak(): void;&#125;;// ä½¿â½¤PersonInterface// let person: PersonInterface = &#123;// name: &#x27;å¼ ä¸‰&#x27;,// age: 18,// speak() &#123;// console.log(`æˆ‘å«ï¼š$&#123;this.name&#125;ï¼Œå¹´é¾„ï¼š$&#123;this.age&#125;`)// &#125;// &#125;// ä½¿â½¤PersonTypelet person: PersonType = &#123; name: &#x27;å¼ ä¸‰&#x27;, age: 18, speak() &#123; console.log(`æˆ‘å«ï¼š$&#123;this.name&#125;ï¼Œå¹´é¾„ï¼š$&#123;this.age&#125;`) &#125;&#125; interface å¯ä»¥ç»§æ‰¿ã€åˆå¹¶ 123456789101112131415161718192021interface PersonInterface &#123; name: string // å§“å age: number // å¹´é¾„&#125;interface PersonInterface &#123; speak: () =&gt; void&#125;interface StudentInterface extends PersonInterface &#123; grade: string // å¹´çº§&#125;const student: StudentInterface = &#123; name: &#x27;æå››&#x27;, age: 18, grade: &#x27;â¾¼â¼†&#x27;, speak() &#123; console.log(this.name, this.age, this.grade) &#125;&#125; type çš„äº¤å‰ç±»å‹ 123456789101112131415161718192021// ä½¿â½¤ type å®šä¹‰ Person ç±»å‹ï¼Œå¹¶é€šè¿‡äº¤å‰ç±»å‹å®ç°å±æ€§çš„åˆå¹¶type PersonType = &#123; name: string; // å§“å age: number; // å¹´é¾„&#125; &amp; &#123; speak: () =&gt; void;&#125;;// ä½¿â½¤ type å®šä¹‰ Student ç±»å‹ï¼Œå¹¶é€šè¿‡äº¤å‰ç±»å‹ç»§æ‰¿ PersonTypetype StudentType = PersonType &amp; &#123; grade: string; // å¹´çº§&#125;;const student: StudentType = &#123; name: &#x27;æå››&#x27;, age: 18, grade: &#x27;â¾¼â¼†&#x27;, speak() &#123; console.log(this.name, this.age, this.grade); &#125;&#125;; 2ï¼‰ã€interface ä¸ æŠ½è±¡ç±»çš„åŒºåˆ« **ç›¸åŒç‚¹ï¼š**éƒ½èƒ½å®šä¹‰â¼€ä¸ªç±»çš„æ ¼å¼ï¼ˆå®šä¹‰ç±»åº”éµå¾ªçš„å¥‘çº¦ï¼‰ ä¸ç›¸åŒï¼š æ¥å£ï¼šåªèƒ½æè¿°ç»“æ„ï¼Œä¸èƒ½æœ‰ä»»ä½•å®ç°ä»£ç ï¼Œâ¼€ä¸ªç±»å¯ä»¥å®ç°**å¤šä¸ª**æ¥å£ã€‚ æŠ½è±¡ç±»ï¼šæ—¢å¯ä»¥åŒ…å«**æŠ½è±¡æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åŒ…å«å…·ä½“æ–¹æ³•ï¼Œ â¼€ä¸ªç±»åªèƒ½ç»§æ‰¿â¼€ä¸ª**æŠ½è±¡ç±»ã€‚ â¼€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥â¼ 1234567891011121314151617181920212223// FlyInterface æ¥â¼interface FlyInterface &#123; fly(): void;&#125;// å®šä¹‰ SwimInterface æ¥â¼interface SwimInterface &#123; swim(): void;&#125;// Duck ç±»å®ç°äº† FlyInterface å’Œ SwimInterface ä¸¤ä¸ªæ¥â¼class Duck implements FlyInterface, SwimInterface &#123; fly(): void &#123; console.log(&#x27;é¸­â¼¦å¯ä»¥â»œ&#x27;); &#125; swim(): void &#123; console.log(&#x27;é¸­â¼¦å¯ä»¥æ¸¸æ³³&#x27;); &#125;&#125;// åˆ›å»ºâ¼€ä¸ª Duck å®ä¾‹const duck = new Duck();duck.fly(); // è¾“å‡º: é¸­â¼¦å¯ä»¥â»œduck.swim(); // è¾“å‡º: é¸­â¼¦å¯ä»¥æ¸¸æ³³ ä¹ã€æ³›å‹ æ³›å‹å…è®¸æˆ‘ä»¬åœ¨å®šä¹‰å‡½æ•°ã€ç±»æˆ–æ¥å£æ—¶ï¼Œä½¿ç”¨ç±»å‹å‚æ•°æ¥**è¡¨ç¤ºæœªæŒ‡å®šçš„ç±»å‹ï¼Œè¿™äº›å‚æ•°åœ¨å…·ä½“ä½¿ç”¨æ—¶ï¼Œæ‰è¢«æŒ‡å®šå…·ä½“çš„ç±»å‹**ï¼Œæ³›å‹èƒ½è®©åŒâ¼€æ®µä»£ç é€‚ç”¨äºå¤šç§ç±»å‹ï¼ŒåŒæ—¶ä»ç„¶ä¿æŒç±»å‹çš„å®‰å…¨æ€§ã€‚ ä¸¾ä¾‹ï¼šå¦‚ä¸‹ä»£ç ä¸­&lt;T&gt;å°±æ˜¯æ³›å‹ï¼Œï¼ˆä¸ä¸€å®šéå« T ï¼‰ï¼Œè®¾ç½®æ³›å‹åå³å¯åœ¨å‡½æ•°ä¸­ä½¿ç”¨ T æ¥è¡¨ç¤ºè¯¥ç±»å‹ï¼š 9.1ã€æ³›å‹å‡½æ•°123456function logData(data: number) &#123; console.log(data);&#125;logData(11)logData(&#x27;hello&#x27;) // æŠ¥é”™ï¼šç±»å‹â€œstringâ€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œnumberâ€çš„å‚æ•° ä¸Šè¿°å½“å®šä¹‰å¥½äº†å‡½æ•°çš„å½¢å‚æ˜¯ä¸€ä¸ªæ•°å€¼ç±»å‹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥çš„å®å‚ä¹Ÿå¿…é¡»æ—¶æ•°å€¼ç±»å‹ã€‚ æ€è€ƒï¼Ÿèƒ½ä¸èƒ½è®©å‡½æ•°çš„å½¢å‚æ˜¯ä¸€ä¸ªåŠ¨æ€çš„ç±»å‹å‘¢ï¼Ÿæ ¹æ®å‡½æ•°å®å‚ä¼ å…¥çš„ç±»å‹è€ŒåŠ¨æ€å˜åŒ–å‘¢â€¦â€¦ 12345678910111213function logData&lt;T&gt;(data: T): void &#123; // è¿™é‡Œçš„&lt;&gt;ä¸­çš„å€¼å°±åƒå½¢å‚çš„ç±»å‹ï¼Œï¼ˆï¼‰ä¸­å°±ç±»ä¼¼ä½¿ç”¨è¯¥ç±»å‹ console.log(data);&#125;logData&lt;number&gt;(11) // &lt;&gt;ä¸­çš„å€¼å°±åƒä¼ çš„å®å‚ç±»å‹logData&lt;string&gt;(&#x27;hello&#x27;)// å‡½æ•°è¿”å›çš„ç»“æœå³ä¼ å…¥å‚æ•°æ—¶function logData&lt;T&gt;(data: T): T &#123; return data&#125;logData&lt;number&gt;(11)logData&lt;string&gt;(&#x27;hello&#x27;) æ³›å‹å¯ä»¥æœ‰å¤šä¸ª 1234567function logData&lt;T, U&gt;(data1: T, data2: U): T | U &#123; console.log(data1, data2) return Date.now() % 2 ? data1 : data2&#125;logData&lt;number, string&gt;(100, &#x27;hello&#x27;)logData&lt;string, boolean&gt;(&#x27;ok&#x27;, false) 9.2ã€æ³›å‹æ¥å£12345678910111213141516171819202122232425262728293031interface PersonInterface&lt;T&gt; &#123; name: string, age: number, extraInfo: T&#125;type JobInfo = &#123; title: string, company: string&#125;let p1:PersonInterface&lt;string&gt; = &#123; name: &#x27;Jack&#x27;, age: 13, extraInfo: &#x27;æˆç»©æ£’æ£’å“’&#x27;&#125;let p2:PersonInterface&lt;number&gt; = &#123; name: &#x27;Jack&#x27;, age: 13, extraInfo: 250&#125;let p3:PersonInterface&lt;JobInfo&gt; = &#123; name: &#x27;Jack&#x27;, age: 13, extraInfo: &#123; title: &#x27;ä½ å¥½&#x27;, company: &#x27;äºšæ–°ç§‘æŠ€&#x27; &#125;&#125; 9.3ã€æ³›å‹çº¦æŸT extends object æ˜¯æ³›å‹çº¦æŸçš„ä¸€ç§è¡¨ç°ã€‚ extendsè¡¨ç¤ºå…·ä½“çš„æ³›å‹ç±»å‹åªèƒ½æ˜¯ object ç±»å‹ï¼Œ æŸä¸ªå˜é‡å¦‚æœèƒ½æ–­è¨€æˆ objectç±»å‹[å˜é‡ as object ] ï¼Œ é‚£ä¹ˆè¿™ä¸ªå˜é‡çš„ç±»å‹ç¬¦åˆ T extends object ã€‚å°±æ˜¯è¯´è¯¥å˜é‡çš„ç±»å‹å¯ä»¥æ˜¯Tçš„å…·ä½“åŒ–ç±»å‹ 1234567891011121314interface LengthInterface &#123; length: number&#125;// çº¦æŸè§„åˆ™æ˜¯ï¼šä¼ â¼Šçš„ç±»å‹Tå¿…é¡»æ»¡è¶³è¿™ä¸ªæ¥å£çš„ç±»å‹function logPerson&lt;T extends LengthInterface&gt;(data: T): void &#123; console.log(data.length)&#125;logPerson&lt;string&gt;(&#x27;hello&#x27;)// æŠ¥é”™ï¼šå› ä¸ºnumberä¸å…·å¤‡lengthå±æ€§// logPerson&lt;number&gt;(100)é€šè¿‡ T extends LengthInterfaceï¼Œæˆ‘ä»¬å‘ŠçŸ¥ TypeScript ç¼–è¯‘å™¨ï¼ŒT å¿…é¡»å…·å¤‡ LengthInterface ä¸­çš„æ‰€æœ‰å±æ€§ï¼ˆå³ length å±æ€§ï¼‰ã€‚ 9.4ã€æ³›å‹ç±»12345678910111213141516171819class Person&lt;T&gt; &#123; constructor( public name: string, public age: number, public extraInfo: T ) &#123; &#125; speak() &#123; console.log(`æˆ‘å«$&#123;this.name&#125;ä»Šå¹´$&#123;this.age&#125;å²äº†`) console.log(this.extraInfo) &#125;&#125;// æµ‹è¯•ä»£ç 1const p1 = new Person&lt;number&gt;(&quot;tom&quot;, 30, 250);// æµ‹è¯•ä»£ç 2type JobInfo = &#123; title: string; company: string;&#125;const p2 = new Person&lt;JobInfo&gt;(&quot;tom&quot;, 30, &#123; title: &#x27;ç ”å‘æ€»ç›‘&#x27;, company: &#x27;å‘å‘å‘ç§‘æŠ€å…¬å¸&#x27; &#125;); åã€ç±»å‹å£°æ˜æ–‡ä»¶ç±»å‹å£°æ˜æ–‡ä»¶æ˜¯ TypeScript ä¸­çš„â¼€ç§ç‰¹æ®Šæ–‡ä»¶ï¼Œé€šå¸¸ä»¥ .d.ts ä½œä¸ºæ‰©å±•åã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ä¸ºç°æœ‰çš„ JavaScript ä»£ç æä¾›ç±»å‹ä¿¡æ¯ï¼Œä½¿å¾— TypeScript èƒ½å¤Ÿåœ¨ä½¿â½¤è¿™äº› JavaScript åº“æˆ–æ¨¡å—æ—¶è¿›è¡Œç±»å‹æ£€æŸ¥å’Œæç¤ºã€‚ 12345678910111213141516171819// demo.jsexport function add(a, b) &#123; return a + b;&#125;export function mul(a, b) &#123; return a * b;&#125;// demo.d.ts è¿™ä¸ªæ–‡ä»¶ä¸€èˆ¬ä¸éœ€è¦è‡ªå·±å†™declare function add(a: number, b: number): number;declare function mul(a: number, b: number): number;export &#123; add, mul &#125;;// index.tsimport &#123; add, mul &#125; from &quot;./demo.js&quot;; // å¦‚æœæ²¡æœ‰æä¾›demo.d.tsæ–‡ä»¶è¿™é‡Œä¼šæŠ¥é”™ã€‚const x = add(2, 3); // x ç±»å‹ä¸º numberconst y = mul(4, 5); // y ç±»å‹ä¸º numberconsole.log(x, y) xxx.d.ts é¡¹ç›®ä¸­è¿™ä¸ªè¿™ç§ç±»å‹çš„æ–‡ä»¶ä¸€èˆ¬éƒ½æ”¾åœ¨@typesæ–‡ä»¶å¤¹ä¸­ï¼Œä¸€èˆ¬ä¸»æµçš„jsåº“éƒ½ä¼šæä¾›è¿™ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚jquery","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"typeScript","slug":"typeScript","permalink":"http://example.com/tags/typeScript/"}]},{"title":"vue3å¿«é€Ÿä¸Šæ‰‹","slug":"36-vue3å¿«é€Ÿä¸Šæ‰‹","date":"2025-08-15T15:51:08.000Z","updated":"2026-03-01T16:07:38.351Z","comments":true,"path":"posts/2b28ddcc.html","permalink":"http://example.com/posts/2b28ddcc.html","excerpt":"","text":"ä¸€ã€ Vue3ç®€ä»‹ 2020å¹´9æœˆ18æ—¥ï¼ŒVue.jså‘å¸ƒç‰ˆ3.0ç‰ˆæœ¬ï¼Œä»£å·ï¼šOne Pieceï¼ˆn ç»å†äº†ï¼š4800+æ¬¡æäº¤ã€40+ä¸ªRFCã€600+æ¬¡PRã€300+è´¡çŒ®è€… å®˜æ–¹å‘ç‰ˆåœ°å€ï¼šRelease v3.0.0 One Piece Â· vuejs&#x2F;core æˆªæ­¢2023å¹´10æœˆï¼Œæœ€æ–°çš„å…¬å¼€ç‰ˆæœ¬ä¸ºï¼š3.3.4 &#96;&#96; 1.1ã€æ€§èƒ½çš„æå‡ æ‰“åŒ…å¤§å°å‡å°‘41%ã€‚ åˆæ¬¡æ¸²æŸ“å¿«55%, æ›´æ–°æ¸²æŸ“å¿«133%ã€‚ å†…å­˜å‡å°‘54%ã€‚ 1.2ã€æºç çš„å‡çº§ ä½¿ç”¨Proxyä»£æ›¿definePropertyå®ç°å“åº”å¼ã€‚ é‡å†™è™šæ‹ŸDOMçš„å®ç°å’ŒTree-Shakingã€‚ 1.3ã€æ‹¥æŠ±TypeScript Vue3å¯ä»¥æ›´å¥½çš„æ”¯æŒTypeScriptã€‚ 1.4ã€æ–°çš„ç‰¹æ€§ Composition APIï¼ˆç»„åˆAPIï¼‰ï¼š setup refä¸reactive computedä¸watch â€¦â€¦ æ–°çš„å†…ç½®ç»„ä»¶ï¼š Fragment Teleport Suspense â€¦â€¦ å…¶ä»–æ”¹å˜ï¼š æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­ data é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•° ç§»é™¤keyCodeæ”¯æŒä½œä¸º v-on çš„ä¿®é¥°ç¬¦ â€¦â€¦ äºŒã€åˆ›å»ºVue3å·¥ç¨‹2.1ã€åŸºäº vue-cli åˆ›å»º ç‚¹å‡»æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ å¤‡æ³¨ï¼šç›®å‰vue-cliå·²å¤„äºç»´æŠ¤æ¨¡å¼ï¼Œå®˜æ–¹æ¨èåŸºäº Vite åˆ›å»ºé¡¹ç›®ã€‚ 1234567891011121314151617## æŸ¥çœ‹@vue/cliç‰ˆæœ¬ï¼Œç¡®ä¿@vue/cliç‰ˆæœ¬åœ¨4.5.0ä»¥ä¸Švue --version## å®‰è£…æˆ–è€…å‡çº§ä½ çš„@vue/cli npm install -g @vue/cli## æ‰§è¡Œåˆ›å»ºå‘½ä»¤vue create vue_test## éšåé€‰æ‹©3.x## Choose a version of Vue.js that you want to start the project with (Use arrow keys)## &gt; 3.x## 2.x## å¯åŠ¨cd vue_testnpm run serve 2.2ã€åŸºäº vite åˆ›å»ºï¼ˆæ¨èï¼‰ vite æ˜¯æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œå®˜ç½‘åœ°å€ï¼šhttps://vitejs.cnï¼Œviteçš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ï¼ˆHMRï¼‰ï¼Œèƒ½å®ç°æé€Ÿçš„æœåŠ¡å¯åŠ¨ã€‚ å¯¹ TypeScriptã€JSXã€CSS ç­‰æ”¯æŒå¼€ç®±å³ç”¨ã€‚ çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œä¸å†ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆã€‚ webpackæ„å»º ä¸ viteæ„å»ºå¯¹æ¯”å›¾å¦‚ä¸‹ï¼š å…·ä½“æ“ä½œå¦‚ä¸‹ï¼ˆç‚¹å‡»æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼‰ 12345678910111213141516171819202122## 1.åˆ›å»ºå‘½ä»¤npm create vue@latest## 2.å…·ä½“é…ç½®## é…ç½®é¡¹ç›®åç§°âˆš Project name: vue3_test## æ˜¯å¦æ·»åŠ TypeScriptæ”¯æŒâˆš Add TypeScript? Yes## æ˜¯å¦æ·»åŠ JSXæ”¯æŒâˆš Add JSX Support? No## æ˜¯å¦æ·»åŠ è·¯ç”±ç¯å¢ƒâˆš Add Vue Router for Single Page Application development? No## æ˜¯å¦æ·»åŠ piniaç¯å¢ƒâˆš Add Pinia for state management? No## æ˜¯å¦æ·»åŠ å•å…ƒæµ‹è¯•âˆš Add Vitest for Unit Testing? No## æ˜¯å¦æ·»åŠ ç«¯åˆ°ç«¯æµ‹è¯•æ–¹æ¡ˆâˆš Add an End-to-End Testing Solution? Â» No## æ˜¯å¦æ·»åŠ ESLintè¯­æ³•æ£€æŸ¥âˆš Add ESLint for code quality? Yes## æ˜¯å¦æ·»åŠ Prettiertä»£ç æ ¼å¼åŒ–âˆš Add Prettier for code formatting? No è‡ªå·±åŠ¨æ‰‹ç¼–å†™ä¸€ä¸ªAppç»„ä»¶ 1234567891011121314151617181920&lt;template&gt; &lt;div class=&quot;app&quot;&gt; &lt;h1&gt;ä½ å¥½å•Šï¼&lt;/h1&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot;&gt;export default &#123; name: &#x27;App&#x27;, // ç»„ä»¶å&#125;&lt;/script&gt; &lt;style&gt; .app &#123; padding: 20px; background-color: #ddd; border-radius: 10px; box-shadow: 0 0 10px; &#125;&lt;/style&gt; å®‰è£…å®˜æ–¹æ¨èçš„vscodeæ’ä»¶ï¼š æ€»ç»“ï¼š Vite é¡¹ç›®ä¸­ï¼Œindex.html æ˜¯é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œåœ¨é¡¹ç›®æœ€å¤–å±‚ã€‚ åŠ è½½index.htmlåï¼ŒVite è§£æ &lt;script type=&quot;module&quot; src=&quot;xxx&quot;&gt; æŒ‡å‘çš„JavaScriptã€‚ Vue3**ä¸­æ˜¯é€šè¿‡ **createApp å‡½æ•°åˆ›å»ºä¸€ä¸ªåº”ç”¨å®ä¾‹ã€‚ 2.3ã€ä¸€ä¸ªç®€å•çš„æ•ˆæœ Vue3å‘ä¸‹å…¼å®¹Vue2è¯­æ³•ï¼Œä¸”Vue3ä¸­çš„æ¨¡æ¿ä¸­å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾ 123456789101112131415161718192021222324252627282930313233343536373839&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h2&gt;å§“åï¼š&#123;&#123; name &#125;&#125;&lt;/h2&gt; &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; age &#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeName&quot;&gt; ä¿®æ”¹åå­— &lt;/button&gt; &lt;button @click=&quot;changeAge&quot;&gt; å¹´é¾„+1 &lt;/button&gt; &lt;button @click=&quot;showTel&quot;&gt; ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼ &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot;&gt;export default &#123; name: &#x27;App&#x27;, data() &#123; return &#123; name: &#x27;å¼ ä¸‰&#x27;, age: 18, tel: &#x27;13888888888&#x27;, &#125; &#125;, methods: &#123; changeName() &#123; this.name = &#x27;zhang-san&#x27; &#125;, changeAge() &#123; this.age += 1 &#125;, showTel() &#123; alert(this.tel) &#125;, &#125;,&#125;&lt;/script&gt; ä¸‰ã€Vue3æ ¸å¿ƒè¯­æ³•3.1ã€OptionsAPI ä¸ CompositionAPI Vue2çš„APIè®¾è®¡æ˜¯Optionsï¼ˆé…ç½®ï¼‰é£æ ¼çš„ã€‚ Vue3çš„APIè®¾è®¡æ˜¯Compositionï¼ˆç»„åˆï¼‰é£æ ¼çš„ã€‚ 1ï¼‰ã€Options API çš„å¼Šç«¯Optionsç±»å‹çš„ APIï¼Œæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ç­‰ï¼Œæ˜¯åˆ†æ•£åœ¨ï¼šdataã€methodsã€computedä¸­çš„ï¼Œè‹¥æƒ³æ–°å¢æˆ–è€…ä¿®æ”¹ä¸€ä¸ªéœ€æ±‚ï¼Œå°±éœ€è¦åˆ†åˆ«ä¿®æ”¹ï¼šdataã€methodsã€computedï¼Œä¸ä¾¿äºç»´æŠ¤å’Œå¤ç”¨ã€‚ 2ï¼‰ã€Composition API çš„ä¼˜åŠ¿å¯ä»¥ç”¨å‡½æ•°çš„æ–¹å¼ï¼Œæ›´åŠ ä¼˜é›…çš„ç»„ç»‡ä»£ç ï¼Œè®©ç›¸å…³åŠŸèƒ½çš„ä»£ç æ›´åŠ æœ‰åºçš„ç»„ç»‡åœ¨ä¸€èµ·ã€‚ è¯´æ˜ï¼šä»¥ä¸Šå››å¼ åŠ¨å›¾åŸåˆ›ä½œè€…ï¼šå¤§å¸…è€çŒ¿ 3.2ã€æ‹‰å¼€åºå¹•çš„ setup1ï¼‰ã€setup æ¦‚è¿°setupæ˜¯Vue3ä¸­ä¸€ä¸ªæ–°çš„é…ç½®é¡¹ï¼Œå€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ˜¯ Composition API â€œè¡¨æ¼”çš„èˆå°â€ï¼Œç»„ä»¶ä¸­æ‰€ç”¨åˆ°çš„ï¼šæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ã€ç›‘è§†â€¦â€¦ç­‰ç­‰ï¼Œå‡é…ç½®åœ¨setupä¸­ã€‚ ç‰¹ç‚¹å¦‚ä¸‹ï¼š setupå‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­çš„å†…å®¹ï¼Œå¯ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚ setupä¸­è®¿é—®thisæ˜¯undefinedã€‚ setup å‡½æ•°ä¼šåœ¨beforeCreateä¹‹å‰è°ƒç”¨ï¼Œå®ƒæ˜¯â€œé¢†å…ˆâ€æ‰€æœ‰é’©å­æ‰§è¡Œçš„ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h2&gt;å§“åï¼š&#123;&#123; name &#125;&#125;&lt;/h2&gt; &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; age &#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeName&quot;&gt; ä¿®æ”¹åå­— &lt;/button&gt; &lt;button @click=&quot;changeAge&quot;&gt; å¹´é¾„+1 &lt;/button&gt; &lt;button @click=&quot;showTel&quot;&gt; ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼ &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot;&gt;export default &#123; name: &#x27;Person&#x27;, setup() &#123; // æ•°æ®ï¼ŒåŸæ¥å†™åœ¨dataä¸­ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶çš„nameã€ageã€telæ•°æ®éƒ½ä¸æ˜¯å“åº”å¼æ•°æ®ï¼‰ let name = &#x27;å¼ ä¸‰&#x27; let age = 18 const tel = &#x27;13888888888&#x27; // æ–¹æ³•ï¼ŒåŸæ¥å†™åœ¨methodsä¸­ function changeName() &#123; name = &#x27;zhang-san&#x27; // æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹nameé¡µé¢æ˜¯ä¸å˜åŒ–çš„ console.log(name) &#125; function changeAge() &#123; age += 1 // æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹ageé¡µé¢æ˜¯ä¸å˜åŒ–çš„ console.log(age) &#125; function showTel() &#123; alert(tel) &#125; // è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­çš„å†…å®¹ï¼Œæ¨¡æ¿ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ return &#123; name, age, tel, changeName, changeAge, showTel &#125; &#125;,&#125;&lt;/script&gt; 2ï¼‰ã€setup çš„è¿”å›å€¼ è‹¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼šåˆ™å¯¹è±¡ä¸­çš„ï¼šå±æ€§ã€æ–¹æ³•ç­‰ï¼Œåœ¨æ¨¡æ¿ä¸­å‡å¯ä»¥ç›´æ¥ä½¿ç”¨**ï¼ˆé‡ç‚¹å…³æ³¨ï¼‰ã€‚** è‹¥è¿”å›ä¸€ä¸ªå‡½æ•°ï¼šåˆ™å¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“å†…å®¹å°†ç›´æ¥æ¸²æŸ“åœ¨é¡µé¢ï¼Œä»£ç å¦‚ä¸‹ï¼š 123setup()&#123; return ()=&gt; &#x27;ä½ å¥½å•Šï¼&#x27;&#125; 3ï¼‰ã€setup ä¸ Options API çš„å…³ç³» Vue2 çš„é…ç½®ï¼ˆdataã€methosâ€¦â€¦ï¼‰ä¸­å¯ä»¥è®¿é—®åˆ° setupä¸­çš„å±æ€§ã€æ–¹æ³•ã€‚ 123456789101112131415161718&lt;template&gt; &lt;h2&gt;å§“åï¼š&#123;&#123; c &#125;&#125;&lt;/h2&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot;&gt;export default &#123; name: &#x27;Person&#x27;, setup() &#123; const name = &#x27;å¼ ä¸‰&#x27; return &#123; name &#125; &#125;, data() &#123; return &#123; c: this.name, &#125; &#125;,&#125;&lt;/script&gt; ä½†åœ¨setupä¸­ä¸èƒ½è®¿é—®åˆ°Vue2çš„é…ç½®ï¼ˆdataã€methosâ€¦â€¦ï¼‰ã€‚ å¦‚æœä¸Vue2å†²çªï¼Œåˆ™setupä¼˜å…ˆã€‚ 4ï¼‰ã€setup è¯­æ³•ç³–setupå‡½æ•°æœ‰ä¸€ä¸ªè¯­æ³•ç³–ï¼Œè¿™ä¸ªè¯­æ³•ç³–ï¼Œå¯ä»¥è®©æˆ‘ä»¬æŠŠsetupç‹¬ç«‹å‡ºå»ï¼ˆé»˜è®¤ä¼šæŠŠé‡Œé¢çš„æ•°æ®returnå‡ºå»ï¼‰ï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;/h2&gt; &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt; &lt;button @click=&quot;changAge&quot;&gt;å¹´é¾„+1&lt;/button&gt; &lt;button @click=&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot;&gt; export default &#123; name:&#x27;Person&#x27;, &#125;&lt;/script&gt;&lt;!-- ä¸‹é¢çš„å†™æ³•æ˜¯setupè¯­æ³•ç³– --&gt;&lt;script setup lang=&quot;ts&quot;&gt; console.log(this) //undefined // æ•°æ®ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶çš„nameã€ageã€teléƒ½ä¸æ˜¯å“åº”å¼æ•°æ®ï¼‰ let name = &#x27;å¼ ä¸‰&#x27; let age = 18 let tel = &#x27;13888888888&#x27; // æ–¹æ³• function changName()&#123; name = &#x27;æå››&#x27;//æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹nameé¡µé¢æ˜¯ä¸å˜åŒ–çš„ &#125; function changAge()&#123; console.log(age) age += 1 //æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹ageé¡µé¢æ˜¯ä¸å˜åŒ–çš„ &#125; function showTel()&#123; alert(tel) &#125;&lt;/script&gt; **æ‰©å±•ï¼š**ä¸Šè¿°ä»£ç ï¼Œè¿˜éœ€è¦ç¼–å†™ä¸€ä¸ªä¸å†™setupçš„scriptæ ‡ç­¾ï¼Œå»æŒ‡å®šç»„ä»¶åå­—ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©viteä¸­çš„æ’ä»¶ç®€åŒ– ç¬¬ä¸€æ­¥ï¼šnpm i vite-plugin-vue-setup-extend -D ç¬¬äºŒæ­¥ï¼švite.config.ts 123456import &#123; defineConfig &#125; from &#x27;vite&#x27;import VueSetupExtend from &#x27;vite-plugin-vue-setup-extend&#x27;export default defineConfig(&#123; plugins: [ VueSetupExtend() ]&#125;) ç¬¬ä¸‰æ­¥ï¼š 1&lt;script setup lang=&quot;ts&quot; name=&quot;Person&quot;&gt;&lt;/script&gt; 3.3ã€ref åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ® **ä½œç”¨ï¼š**å®šä¹‰å“åº”å¼å˜é‡ã€‚ è¯­æ³•ï¼šlet xxx = ref(åˆå§‹å€¼)ã€‚ **è¿”å›å€¼ï¼š**ä¸€ä¸ªRefImplçš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°refå¯¹è±¡æˆ–refï¼Œrefå¯¹è±¡çš„valueå±æ€§æ˜¯å“åº”å¼çš„ã€‚ æ³¨æ„ç‚¹ï¼š JSä¸­æ“ä½œæ•°æ®éœ€è¦ï¼šxxx.valueï¼Œä½†æ¨¡æ¿ä¸­ä¸éœ€è¦.valueï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚ å¯¹äºlet name = ref(&#39;å¼ ä¸‰&#39;)æ¥è¯´ï¼Œnameä¸æ˜¯å“åº”å¼çš„ï¼Œname.valueæ˜¯å“åº”å¼çš„ã€‚ 1234567891011121314151617181920212223242526272829303132333435&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;/h2&gt; &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt; &lt;button @click=&quot;changeAge&quot;&gt;å¹´é¾„+1&lt;/button&gt; &lt;button @click=&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Person&quot;&gt; import &#123;ref&#125; from &#x27;vue&#x27; // nameå’Œageæ˜¯ä¸€ä¸ªRefImplçš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°refå¯¹è±¡ï¼Œå®ƒä»¬çš„valueå±æ€§æ˜¯å“åº”å¼çš„ã€‚ let name = ref(&#x27;å¼ ä¸‰&#x27;) let age = ref(18) // telå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²ï¼Œä¸æ˜¯å“åº”å¼çš„ let tel = &#x27;13888888888&#x27; function changeName()&#123; // JSä¸­æ“ä½œrefå¯¹è±¡æ—¶å€™éœ€è¦.value name.value = &#x27;æå››&#x27; console.log(name.value) // æ³¨æ„ï¼šnameä¸æ˜¯å“åº”å¼çš„ï¼Œname.valueæ˜¯å“åº”å¼çš„ï¼Œæ‰€ä»¥å¦‚ä¸‹ä»£ç å¹¶ä¸ä¼šå¼•èµ·é¡µé¢çš„æ›´æ–°ã€‚ // name = ref(&#x27;zhang-san&#x27;) &#125; function changeAge()&#123; // JSä¸­æ“ä½œrefå¯¹è±¡æ—¶å€™éœ€è¦.value age.value += 1 console.log(age.value) &#125; function showTel()&#123; alert(tel) &#125;&lt;/script&gt; 3.4ã€reactive åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ® ä½œç”¨ï¼šå®šä¹‰ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼ˆåŸºæœ¬ç±»å‹ä¸è¦ç”¨å®ƒï¼Œè¦ç”¨refï¼Œå¦åˆ™æŠ¥é”™ï¼‰ è¯­æ³•ï¼šlet å“åº”å¼å¯¹è±¡= reactive(æºå¯¹è±¡)ã€‚ **è¿”å›å€¼ï¼š**ä¸€ä¸ªProxyçš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°ï¼šå“åº”å¼å¯¹è±¡ã€‚ æ³¨æ„ç‚¹ï¼šreactiveå®šä¹‰çš„å“åº”å¼æ•°æ®æ˜¯â€œæ·±å±‚æ¬¡â€çš„ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h2&gt;æ±½è½¦ä¿¡æ¯ï¼šä¸€å°&#123;&#123; car.brand &#125;&#125;æ±½è½¦ï¼Œä»·å€¼&#123;&#123; car.price &#125;&#125;ä¸‡&lt;/h2&gt; &lt;h2&gt;æ¸¸æˆåˆ—è¡¨ï¼š&lt;/h2&gt; &lt;ul&gt; &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt; &lt;/ul&gt; &lt;h2&gt;æµ‹è¯•ï¼š&#123;&#123;obj.a.b.c.d&#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeCarPrice&quot;&gt;ä¿®æ”¹æ±½è½¦ä»·æ ¼&lt;/button&gt; &lt;button @click=&quot;changeFirstGame&quot;&gt;ä¿®æ”¹ç¬¬ä¸€æ¸¸æˆ&lt;/button&gt; &lt;button @click=&quot;test&quot;&gt;æµ‹è¯•&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; reactive &#125; from &#x27;vue&#x27;// æ•°æ®let car = reactive(&#123; brand: &#x27;å¥”é©°&#x27;, price: 100 &#125;)let games = reactive([ &#123; id: &#x27;ahsgdyfa01&#x27;, name: &#x27;è‹±é›„è”ç›Ÿ&#x27; &#125;, &#123; id: &#x27;ahsgdyfa02&#x27;, name: &#x27;ç‹è€…è£è€€&#x27; &#125;, &#123; id: &#x27;ahsgdyfa03&#x27;, name: &#x27;åŸç¥&#x27; &#125;])let obj = reactive(&#123; a:&#123; b:&#123; c:&#123; d:666 &#125; &#125; &#125;&#125;)function changeCarPrice() &#123; car.price += 10&#125;function changeFirstGame() &#123; games[0].name = &#x27;æµæ˜Ÿè´è¶å‰‘&#x27;&#125;function test()&#123; obj.a.b.c.d = 999&#125;&lt;/script&gt; 3.5ã€ref åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ® å…¶å®refæ¥æ”¶çš„æ•°æ®å¯ä»¥æ˜¯ï¼šåŸºæœ¬ç±»å‹ã€å¯¹è±¡ç±»å‹ã€‚ è‹¥refæ¥æ”¶çš„æ˜¯å¯¹è±¡ç±»å‹ï¼Œå†…éƒ¨å…¶å®ä¹Ÿæ˜¯è°ƒç”¨äº†reactiveå‡½æ•°ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h2&gt;æ±½è½¦ä¿¡æ¯ï¼šä¸€å°&#123;&#123; car.brand &#125;&#125;æ±½è½¦ï¼Œä»·å€¼&#123;&#123; car.price &#125;&#125;ä¸‡&lt;/h2&gt; &lt;h2&gt;æ¸¸æˆåˆ—è¡¨ï¼š&lt;/h2&gt; &lt;ul&gt; &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt; &lt;/ul&gt; &lt;h2&gt;æµ‹è¯•ï¼š&#123;&#123;obj.a.b.c.d&#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeCarPrice&quot;&gt;ä¿®æ”¹æ±½è½¦ä»·æ ¼&lt;/button&gt; &lt;button @click=&quot;changeFirstGame&quot;&gt;ä¿®æ”¹ç¬¬ä¸€æ¸¸æˆ&lt;/button&gt; &lt;button @click=&quot;test&quot;&gt;æµ‹è¯•&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;// æ•°æ®let car = ref(&#123; brand: &#x27;å¥”é©°&#x27;, price: 100 &#125;)let games = ref([ &#123; id: &#x27;ahsgdyfa01&#x27;, name: &#x27;è‹±é›„è”ç›Ÿ&#x27; &#125;, &#123; id: &#x27;ahsgdyfa02&#x27;, name: &#x27;ç‹è€…è£è€€&#x27; &#125;, &#123; id: &#x27;ahsgdyfa03&#x27;, name: &#x27;åŸç¥&#x27; &#125;])let obj = ref(&#123; a:&#123; b:&#123; c:&#123; d:666 &#125; &#125; &#125;&#125;)console.log(car)function changeCarPrice() &#123; car.value.price += 10&#125;function changeFirstGame() &#123; games.value[0].name = &#x27;æµæ˜Ÿè´è¶å‰‘&#x27;&#125;function test()&#123; obj.value.a.b.c.d = 999&#125;&lt;/script&gt; 3.6ã€ref å¯¹æ¯” reactiveå®è§‚è§’åº¦çœ‹ï¼š refç”¨æ¥å®šä¹‰ï¼šåŸºæœ¬ç±»å‹æ•°æ®ã€å¯¹è±¡ç±»å‹æ•°æ®ï¼› reactiveç”¨æ¥å®šä¹‰ï¼šå¯¹è±¡ç±»å‹æ•°æ®ã€‚ åŒºåˆ«ï¼š refåˆ›å»ºçš„å˜é‡å¿…é¡»ä½¿ç”¨.valueï¼ˆå¯ä»¥ä½¿ç”¨Vue - Officialæ’ä»¶è‡ªåŠ¨æ·»åŠ .valueï¼‰ã€‚ reactiveé‡æ–°åˆ†é…ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¼šå¤±å»å“åº”å¼ï¼ˆå¯ä»¥ä½¿ç”¨Object.assignå»æ•´ä½“æ›¿æ¢ï¼‰ã€‚ ä½¿ç”¨åŸåˆ™ï¼š è‹¥éœ€è¦ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ï¼Œå¿…é¡»ä½¿ç”¨refã€‚ è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå±‚çº§ä¸æ·±ï¼Œrefã€reactiveéƒ½å¯ä»¥ã€‚ è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œä¸”å±‚çº§è¾ƒæ·±ï¼Œæ¨èä½¿ç”¨reactiveã€‚ 3.7ã€toRefs ä¸ toRef ä»ä¸€ä¸ªå“åº”å¼å¯¹è±¡ä¸­è§£æ„å¯¹è±¡ï¼Œè§£æ„å‡ºæ¥çš„å±æ€§å¿…ä¸¢å¤±å“åº”ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨åˆ°toRefs ä¸ toRef ä¾‹å¦‚ï¼šlet route &#x3D; useRoute() let { query } &#x3D; route &#x2F;&#x2F; è¿™é‡Œçš„queryå“åº”å¿…å®šä¼šä¸¢å¤±ä¿®æ”¹ï¼šlet { query } &#x3D; toRefs(route) ä½œç”¨ï¼šå°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ªå±æ€§ï¼Œè½¬æ¢ä¸ºrefå¯¹è±¡ï¼ˆå“åº”å¼ï¼‰ã€‚ å¤‡æ³¨ï¼štoRefsä¸toRefåŠŸèƒ½ä¸€è‡´ï¼Œä½†toRefså¯ä»¥æ‰¹é‡è½¬æ¢ã€‚ è¯­æ³•å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h2&gt;å§“åï¼š&#123;&#123;person.name&#125;&#125;&lt;/h2&gt; &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;person.age&#125;&#125;&lt;/h2&gt; &lt;h2&gt;æ€§åˆ«ï¼š&#123;&#123;person.gender&#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt; &lt;button @click=&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt; &lt;button @click=&quot;changeGender&quot;&gt;ä¿®æ”¹æ€§åˆ«&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt; import &#123;ref,reactive,toRefs,toRef&#125; from &#x27;vue&#x27; // æ•°æ® let person = reactive(&#123;name:&#x27;å¼ ä¸‰&#x27;, age:18, gender:&#x27;ç”·&#x27;&#125;) // é€šè¿‡toRefså°†personå¯¹è±¡ä¸­çš„nä¸ªå±æ€§æ‰¹é‡å–å‡ºï¼Œä¸”ä¾ç„¶ä¿æŒå“åº”å¼çš„èƒ½åŠ› let &#123;name,gender&#125; = toRefs(person) // å°†personä¸­çš„å±æ€§åå¯¹åº”çš„å±æ€§å€¼éƒ½è½¬å˜æˆrefå¯¹è±¡ // é€šè¿‡toRefå°†personå¯¹è±¡ä¸­çš„ageå±æ€§å–å‡ºï¼Œä¸”ä¾ç„¶ä¿æŒå“åº”å¼çš„èƒ½åŠ› let age = toRef(person,&#x27;age&#x27;) // æ–¹æ³• function changeName()&#123; name.value += &#x27;~&#x27; // å› ä¸ºè½¬æ¢æˆäº†refå¯¹è±¡ï¼Œæ‰€ä»¥ç”¨.valueèµ‹å€¼ &#125; function changeAge()&#123; age.value += 1 &#125; function changeGender()&#123; gender.value = &#x27;å¥³&#x27; &#125;&lt;/script&gt; 3.8ã€computedä½œç”¨ï¼šæ ¹æ®å·²æœ‰æ•°æ®è®¡ç®—å‡ºæ–°æ•°æ®ï¼ˆå’ŒVue2ä¸­çš„computedä½œç”¨ä¸€è‡´ï¼‰ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;template&gt; &lt;div class=&quot;person&quot;&gt; å§“ï¼š&lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt; &lt;br&gt; åï¼š&lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;&gt; &lt;br&gt; å…¨åï¼š&lt;span&gt;&#123;&#123;fullName&#125;&#125;&lt;/span&gt; &lt;br&gt; &lt;button @click=&quot;changeFullName&quot;&gt;å…¨åæ”¹ä¸ºï¼šli-si&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;App&quot;&gt; import &#123;ref,computed&#125; from &#x27;vue&#x27; let firstName = ref(&#x27;zhang&#x27;) let lastName = ref(&#x27;san&#x27;) // è®¡ç®—å±æ€§â€”â€”åªè¯»å–ï¼Œä¸ä¿®æ”¹ /* let fullName = computed(()=&gt;&#123; return firstName.value + &#x27;-&#x27; + lastName.value &#125;) */ /* function changeFullName() &#123; fullName.value = &#x27;li-si&#x27;; // æŠ¥é”™ï¼šæ— æ³•ä¸ºâ€œvalueâ€èµ‹å€¼ï¼Œå› ä¸ºå®ƒæ˜¯åªè¯»å±æ€§ &#125; */ // è®¡ç®—å±æ€§â€”â€”æ—¢è¯»å–åˆä¿®æ”¹ let fullName = computed(&#123; // è¯»å– get()&#123; return firstName.value + &#x27;-&#x27; + lastName.value &#125;, // ä¿®æ”¹ set(newVal)&#123; console.log(&#x27;æœ‰äººä¿®æ”¹äº†fullName&#x27;,val) firstName.value = newVal.split(&#x27;-&#x27;)[0] lastName.value = newVal.split(&#x27;-&#x27;)[1] &#125; &#125;) function changeFullName()&#123; fullName.value = &#x27;li-si&#x27; &#125; &lt;/script&gt; 3.9ã€watch ä½œç”¨ï¼šç›‘è§†æ•°æ®çš„å˜åŒ–ï¼ˆå’ŒVue2ä¸­çš„watchä½œç”¨ä¸€è‡´ï¼‰ ç‰¹ç‚¹ï¼šVue3ä¸­çš„watchåªèƒ½ç›‘è§†ä»¥ä¸‹å››ç§æ•°æ®ï¼š refå®šä¹‰çš„æ•°æ®ã€‚ reactiveå®šä¹‰çš„æ•°æ®ã€‚ å‡½æ•°è¿”å›ä¸€ä¸ªå€¼ï¼ˆgetterå‡½æ•°ï¼‰ã€‚ ä¸€ä¸ªåŒ…å«ä¸Šè¿°å†…å®¹çš„æ•°ç»„ã€‚ æˆ‘ä»¬åœ¨Vue3ä¸­ä½¿ç”¨watchçš„æ—¶å€™ï¼Œé€šå¸¸ä¼šé‡åˆ°ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š 1ï¼‰ã€æƒ…å†µä¸€ï¼šç›‘è§†refå®šä¹‰çš„åŸºæœ¬ç±»å‹æ•°æ®ç›‘è§†refå®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®ï¼šç›´æ¥å†™æ•°æ®åå³å¯ï¼Œç›‘è§†çš„æ˜¯å…¶valueå€¼çš„æ”¹å˜ã€‚ 123456789101112131415161718192021222324252627&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h1&gt;æƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®&lt;/h1&gt; &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123; sum &#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeSum&quot;&gt; ç‚¹æˆ‘sum+1 &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; ref, watch &#125; from &#x27;vue&#x27;// æ•°æ®const sum = ref(0)// æ–¹æ³•function changeSum() &#123; sum.value += 1&#125;// ç›‘è§†ï¼Œæƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®const stopWatch = watch(sum, (newValue, oldValue) =&gt; &#123; console.log(&#x27;sumå˜åŒ–äº†&#x27;, newValue, oldValue) if (newValue &gt;= 10) &#123; // å½“å€¼å¤§äºç­‰äº10çš„æ—¶å€™å°±åœæ­¢ç›‘å¬ stopWatch() &#125;&#125;)&lt;/script&gt; 2ï¼‰ã€æƒ…å†µäºŒï¼šç›‘è§†refå®šä¹‰çš„å¯¹è±¡ç±»å‹æ•°æ®ç›‘è§†refå®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼šç›´æ¥å†™æ•°æ®åï¼Œç›‘è§†çš„æ˜¯å¯¹è±¡çš„ã€åœ°å€å€¼ã€‘ï¼Œè‹¥æƒ³ç›‘è§†å¯¹è±¡å†…éƒ¨çš„æ•°æ®ï¼Œè¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†ã€‚ æ³¨æ„ï¼š è‹¥ä¿®æ”¹çš„æ˜¯refå®šä¹‰çš„å¯¹è±¡ä¸­çš„å±æ€§ï¼ŒnewValue å’Œ oldValue éƒ½æ˜¯æ–°å€¼ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚ è‹¥ä¿®æ”¹æ•´ä¸ªrefå®šä¹‰çš„å¯¹è±¡ï¼ŒnewValue æ˜¯æ–°å€¼ï¼Œ oldValue æ˜¯æ—§å€¼ï¼Œå› ä¸ºä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡äº†ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h1&gt;æƒ…å†µäºŒï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®&lt;/h1&gt; &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt; &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeName&quot;&gt; ä¿®æ”¹åå­— &lt;/button&gt; &lt;button @click=&quot;changeAge&quot;&gt; ä¿®æ”¹å¹´é¾„ &lt;/button&gt; &lt;button @click=&quot;changePerson&quot;&gt; ä¿®æ”¹æ•´ä¸ªäºº &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; ref, watch &#125; from &#x27;vue&#x27;// æ•°æ®const person = ref(&#123; name: &#x27;å¼ ä¸‰&#x27;, age: 18,&#125;)// æ–¹æ³•function changeName() &#123; person.value.name += &#x27;~&#x27;&#125;function changeAge() &#123; person.value.age += 1&#125;function changePerson() &#123; person.value = &#123; name: &#x27;æå››&#x27;, age: 90 &#125;&#125;/* watchçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ï¼šè¢«ç›‘è§†çš„æ•°æ® watchçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ï¼šç›‘è§†çš„å›è°ƒ watchçš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ï¼šé…ç½®å¯¹è±¡ï¼ˆdeepã€immediateç­‰ç­‰.....ï¼‰*/// è¿™é‡Œæœ‰å‡ ä¸ªé—®é¢˜éœ€è¦æ³¨æ„ï¼š// 1ã€ç›‘è§†ã€refã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œç›‘è§†çš„æ˜¯å¯¹è±¡çš„åœ°å€å€¼(æ•´ä¸ªå¯¹è±¡å˜åŒ–æ‰ä¼šè§¦å‘ç›‘å¬)// è°ƒç”¨changeNameå’ŒchangeAgeæ–¹æ³•ä¸ä¼šè§¦å‘è¿™ä¸ªç›‘å¬ï¼ŒchangePersonåˆ™ä¼šè§¦å‘watch(person, (newValue, oldValue) =&gt; &#123; console.log(&#x27;personå˜åŒ–äº†&#x27;, newValue, oldValue)&#125;)// 2ã€è‹¥æƒ³ç›‘è§†å¯¹è±¡å†…éƒ¨å±æ€§çš„å˜åŒ–ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†// è°ƒç”¨changeNameã€changeAgeã€changePersonæ–¹æ³•éƒ½ä¼šä¼šè§¦å‘è¿™ä¸ªç›‘å¬// è°ƒç”¨changeNameã€changeAgeç›‘å¬æŸå±æ€§å€¼çš„å˜åŒ–ï¼Œæ–°å€¼å’Œæ—§å€¼éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºè¿™é‡Œæ²¡æœ‰æ”¹å˜å¯¹è±¡çš„åœ°å€å€¼ï¼Œå¯¼è‡´æŒ‡å‘çš„éƒ½æ˜¯åŒä¸€ä¸ªåœ°å€(reactiveå®šä¹‰çš„å¯¹è±¡ä¹Ÿä¸€æ ·)ã€‚changePersonæ˜¯å¯¹personèµ‹äºˆä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¼•ç”¨åœ°å€æ”¹å˜äº†å› æ­¤æ–°å€¼å’Œæ—§å€¼æ‰ä¼šä¸ä¸€æ ·watch(person, (newValue, oldValue) =&gt; &#123; console.log(&#x27;personå˜åŒ–äº†&#x27;, newValue, oldValue)&#125;, &#123; deep: true, immediate: true &#125;)&lt;/script&gt; 3ï¼‰ã€æƒ…å†µä¸‰ï¼šç›‘è§†reactiveå®šä¹‰çš„å¯¹è±¡ç±»å‹æ•°æ®ç›‘è§†reactiveå®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œä¸”é»˜è®¤å¼€å¯äº†æ·±åº¦ç›‘è§†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h1&gt;æƒ…å†µä¸‰ï¼šç›‘è§†ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®&lt;/h1&gt; &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt; &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeName&quot;&gt; ä¿®æ”¹åå­— &lt;/button&gt; &lt;button @click=&quot;changeAge&quot;&gt; ä¿®æ”¹å¹´é¾„ &lt;/button&gt; &lt;button @click=&quot;changePerson&quot;&gt; ä¿®æ”¹æ•´ä¸ªäºº &lt;/button&gt; &lt;hr&gt; &lt;h2&gt;æµ‹è¯•ï¼š&#123;&#123; obj.a.b.c &#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;test&quot;&gt; ä¿®æ”¹obj.a.b.c &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; reactive, watch &#125; from &#x27;vue&#x27;// æ•°æ®const person = reactive(&#123; name: &#x27;å¼ ä¸‰&#x27;, age: 18,&#125;)const obj = reactive(&#123; a: &#123; b: &#123; c: 666, &#125;, &#125;,&#125;)// æ–¹æ³•function changeName() &#123; person.name += &#x27;~&#x27;&#125;function changeAge() &#123; person.age += 1&#125;function changePerson() &#123; Object.assign(person, &#123; name: &#x27;æå››&#x27;, age: 80 &#125;)&#125;function test() &#123; obj.a.b.c = 888&#125;// ç›‘è§†ï¼Œæƒ…å†µä¸‰ï¼šç›‘è§†ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œä¸”é»˜è®¤æ˜¯å¼€å¯æ·±åº¦ç›‘è§†çš„// changeNameã€hangeAgeè¿™é‡Œæ”¹å˜çš„å¯¹è±¡é‡Œé¢çš„å±æ€§å€¼ï¼Œå¯¹è±¡çš„å¼•ç”¨åœ°å€æ²¡æ”¹å˜å› æ­¤æ–°å€¼å’Œæ—§å€¼éƒ½æ˜¯ä¸€æ ·ï¼Œ changePersonä¸­ç”±äºæ˜¯reactiveå®šä¹‰çš„å“åº”å¼å¯¹è±¡ä¸èƒ½ç›´æ¥èµ‹å€¼ï¼Œéœ€è¦ä½¿ç”¨Object.assign()ç»™æºå¯¹è±¡æ·»åŠ å¯æš ä¸¾å±æ€§ï¼Œå› ä¸ºæ˜¯ç»™åŸå¯¹è±¡æ·»åŠ å¯æšä¸¾å±æ€§ï¼Œæ‰€ä»¥å¯çŸ¥åŸå¯¹è±¡çš„å¼•ç”¨åœ°å€æ²¡å˜ï¼Œå› æ­¤æ–°å€¼å’Œæ—§å€¼ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚watch(person, (newValue, oldValue) =&gt; &#123; console.log(&#x27;personå˜åŒ–äº†&#x27;, newValue, oldValue)&#125;)watch(obj, (newValue, oldValue) =&gt; &#123; console.log(&#x27;Objå˜åŒ–äº†&#x27;, newValue, oldValue)&#125;)&lt;/script&gt; 4ï¼‰ã€æƒ…å†µå››ï¼šç›‘è§†ref&#x2F;reactiveå®šä¹‰çš„å¯¹è±¡ç±»å‹æ•°æ®ä¸­çš„æŸä¸ªå±æ€§ç›‘è§†refæˆ–reactiveå®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ä¸­çš„æŸä¸ªå±æ€§ï¼Œæ³¨æ„ç‚¹å¦‚ä¸‹ï¼š è‹¥è¯¥å±æ€§å€¼ä¸æ˜¯ã€å¯¹è±¡ç±»å‹ã€‘ï¼Œéœ€è¦å†™æˆå‡½æ•°å½¢å¼ã€‚ è‹¥è¯¥å±æ€§å€¼æ˜¯ä¾ç„¶æ˜¯ã€å¯¹è±¡ç±»å‹ã€‘ï¼Œå¯ç›´æ¥ç¼–ï¼Œä¹Ÿå¯å†™æˆå‡½æ•°ï¼Œå»ºè®®å†™æˆå‡½æ•°ã€‚ ç»“è®ºï¼šç›‘è§†çš„è¦æ˜¯å¯¹è±¡é‡Œçš„å±æ€§ï¼Œé‚£ä¹ˆæœ€å¥½å†™å‡½æ•°å¼ æ³¨æ„ç‚¹ï¼šè‹¥æ˜¯å¯¹è±¡ç›‘è§†çš„æ˜¯åœ°å€å€¼ï¼Œéœ€è¦å…³æ³¨å¯¹è±¡å†…éƒ¨ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h1&gt;æƒ…å†µå››ï¼šç›‘è§†ã€refã€‘æˆ–ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ä¸­çš„æŸä¸ªå±æ€§&lt;/h1&gt; &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt; &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt; &lt;h2&gt;æ±½è½¦ï¼š&#123;&#123; person.car.c1 &#125;&#125;ã€&#123;&#123; person.car.c2 &#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeName&quot;&gt; ä¿®æ”¹åå­— &lt;/button&gt; &lt;button @click=&quot;changeAge&quot;&gt; ä¿®æ”¹å¹´é¾„ &lt;/button&gt; &lt;button @click=&quot;changeC1&quot;&gt; ä¿®æ”¹ç¬¬ä¸€å°è½¦ &lt;/button&gt; &lt;button @click=&quot;changeC2&quot;&gt; ä¿®æ”¹ç¬¬äºŒå°è½¦ &lt;/button&gt; &lt;button @click=&quot;changeCar&quot;&gt; ä¿®æ”¹æ•´ä¸ªè½¦ &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; reactive, watch &#125; from &#x27;vue&#x27;// æ•°æ®const person = reactive(&#123; name: &#x27;å¼ ä¸‰&#x27;, age: 18, car: &#123; c1: &#x27;å¥”é©°&#x27;, c2: &#x27;å®é©¬&#x27;, &#125;,&#125;)// æ–¹æ³•function changeName() &#123; person.name += &#x27;~&#x27;&#125;function changeAge() &#123; person.age += 1&#125;function changeC1() &#123; person.car.c1 = &#x27;å¥¥è¿ª&#x27;&#125;function changeC2() &#123; person.car.c2 = &#x27;å¤§ä¼—&#x27;&#125;function changeCar() &#123; person.car = &#123; c1: &#x27;é›…è¿ª&#x27;, c2: &#x27;çˆ±ç›&#x27; &#125;&#125;// ç›‘è§†ï¼Œæƒ…å†µå››ï¼šç›‘è§†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œä¸”è¯¥å±æ€§æ˜¯å¯¹è±¡ç±»å‹çš„ï¼Œå¯ä»¥ç›´æ¥å†™ï¼Œä¹Ÿèƒ½å†™å‡½æ•°ï¼Œæ›´æ¨èå†™å‡½æ•°// è¿™é‡Œæœ‰å‡ ä¸ªé—®é¢˜éœ€è¦æ³¨æ„ï¼š// 1ã€ç›‘è§†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œä¸”è¯¥å±æ€§æ˜¯åŸºæœ¬ç±»å‹çš„ï¼Œè¦å†™æˆå‡½æ•°å¼watch(() =&gt; person.name, (newValue, oldValue) =&gt; &#123; console.log(&#x27;person.nameå˜åŒ–äº†&#x27;, newValue, oldValue)&#125;)// 2ã€ç›‘è§†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œä¸”è¯¥å±æ€§æ˜¯å¯¹è±¡ç±»å‹çš„// 2-1ã€ç›´æ¥å†™ç›‘å¬çš„å±æ€§å¯¹è±¡person.car(ä¸æ¨è)ï¼Œå½“æ”¹å˜æ•´ä¸ªcarå¯¹è±¡ä¸ä¼šè§¦å‘ç›‘å¬ï¼Œå½“æ”¹å˜carå¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§åˆ™ä¼šè§¦å‘ç›‘å¬ã€‚watch(person.car, (newValue, oldValue) =&gt; &#123; console.log(&#x27;person.carå˜åŒ–äº†&#x27;, newValue, oldValue)&#125;)// 2-2ã€ç›´æ¥å†™ç›‘å¬çš„å±æ€§ä¸ºä¸€ä¸ªæœ‰è¿”å›å€¼çš„å‡½æ•°() =&gt; person.car æ¨èï¼Œå½“æ”¹å˜æ•´ä¸ªcarå¯¹è±¡ä¼šè§¦å‘ç›‘å¬ï¼Œå½“æ”¹å˜carå¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§åˆ™ä¸ä¼šè§¦å‘ç›‘å¬ï¼Œéœ€å¼€å¯æ·±åº¦ç›‘å¬ã€‚watch(() =&gt; person.car, (newValue, oldValue) =&gt; &#123; console.log(&#x27;person.carå˜åŒ–äº†&#x27;, newValue, oldValue)&#125;, &#123; deep: true &#125;)&lt;/script&gt; 5ï¼‰ã€æƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®ç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ® 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h1&gt;æƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®&lt;/h1&gt; &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt; &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt; &lt;h2&gt;æ±½è½¦ï¼š&#123;&#123; person.car.c1 &#125;&#125;ã€&#123;&#123; person.car.c2 &#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeName&quot;&gt; ä¿®æ”¹åå­— &lt;/button&gt; &lt;button @click=&quot;changeAge&quot;&gt; ä¿®æ”¹å¹´é¾„ &lt;/button&gt; &lt;button @click=&quot;changeC1&quot;&gt; ä¿®æ”¹ç¬¬ä¸€å°è½¦ &lt;/button&gt; &lt;button @click=&quot;changeC2&quot;&gt; ä¿®æ”¹ç¬¬äºŒå°è½¦ &lt;/button&gt; &lt;button @click=&quot;changeCar&quot;&gt; ä¿®æ”¹æ•´ä¸ªè½¦ &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; reactive, watch &#125; from &#x27;vue&#x27;// æ•°æ®const person = reactive(&#123; name: &#x27;å¼ ä¸‰&#x27;, age: 18, car: &#123; c1: &#x27;å¥”é©°&#x27;, c2: &#x27;å®é©¬&#x27;, &#125;,&#125;)// æ–¹æ³•function changeName() &#123; person.name += &#x27;~&#x27;&#125;function changeAge() &#123; person.age += 1&#125;function changeC1() &#123; person.car.c1 = &#x27;å¥¥è¿ª&#x27;&#125;function changeC2() &#123; person.car.c2 = &#x27;å¤§ä¼—&#x27;&#125;function changeCar() &#123; person.car = &#123; c1: &#x27;é›…è¿ª&#x27;, c2: &#x27;çˆ±ç›&#x27; &#125;&#125;// ç›‘è§†ï¼Œæƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®watch( [() =&gt; person.name, person.car], (newValue, oldValue) =&gt; &#123; console.log(&#x27;person.carå˜åŒ–äº†&#x27;, newValue, oldValue) // ç”Ÿæˆçš„æ˜¯ä¸€ä¸ªæ•°ç»„ &#125;, &#123; deep: true &#125;,)&lt;/script&gt; 3.10ã€watchEffect å®˜ç½‘ï¼šç«‹å³è¿è¡Œä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ—¶å“åº”å¼åœ°è¿½è¸ªå…¶ä¾èµ–ï¼Œå¹¶åœ¨ä¾èµ–æ›´æ”¹æ—¶é‡æ–°æ‰§è¡Œè¯¥å‡½æ•°ã€‚ watchå¯¹æ¯”watchEffect éƒ½èƒ½ç›‘å¬å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œä¸åŒçš„æ˜¯ç›‘å¬æ•°æ®å˜åŒ–çš„æ–¹å¼ä¸åŒ watchï¼šè¦æ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ® watchEffectï¼šä¸ç”¨æ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ®ï¼ˆå‡½æ•°ä¸­ç”¨åˆ°å“ªäº›å±æ€§ï¼Œé‚£å°±ç›‘è§†å“ªäº›å±æ€§ï¼‰ï¼Œåˆå§‹åŒ–çš„æ—¶å€™ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚ ç¤ºä¾‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h1&gt;éœ€æ±‚ï¼šæ°´æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œåˆ™è”ç³»æœåŠ¡å™¨&lt;/h1&gt; &lt;h2 id=&quot;demo&quot;&gt; æ°´æ¸©ï¼š&#123;&#123; temp &#125;&#125; &lt;/h2&gt; &lt;h2&gt;æ°´ä½ï¼š&#123;&#123; height &#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changePrice&quot;&gt; æ°´æ¸©+1 &lt;/button&gt; &lt;button @click=&quot;changeSum&quot;&gt; æ°´ä½+10 &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; ref, watch, watchEffect &#125; from &#x27;vue&#x27;// æ•°æ®const temp = ref(0)const height = ref(0)// æ–¹æ³•function changePrice() &#123; temp.value += 10&#125;function changeSum() &#123; height.value += 1&#125;// ç”¨watchå®ç°ï¼Œéœ€è¦æ˜ç¡®çš„æŒ‡å‡ºè¦ç›‘è§†ï¼štempã€heightconst stopWtach1 = watch([temp, height], (value) =&gt; &#123; // ä»valueä¸­è·å–æœ€æ–°çš„tempå€¼ã€heightå€¼ const [newTemp, newHeight] = value // å®¤æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œç«‹åˆ»è”ç³»æœåŠ¡å™¨ if (newTemp &gt;= 50 || newHeight &gt;= 20) &#123; console.log(document.getElementById(&#x27;demo&#x27;)?.innerText) console.log(&#x27;è”ç³»æœåŠ¡å™¨&#x27;) &#125; if (newTemp &gt;= 100 || newHeight &gt;= 50) &#123; console.log(&#x27;æ¸…ç†äº†&#x27;) stopWtach1() &#125;&#125;)// ç”¨watchEffectå®ç°ï¼Œä¸ç”¨const stopWtach = watchEffect(() =&gt; &#123; // å®¤æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œç«‹åˆ»è”ç³»æœåŠ¡å™¨ if (temp.value &gt;= 50 || height.value &gt;= 20) &#123; console.log(document.getElementById(&#x27;demo&#x27;)?.innerText) console.log(&#x27;è”ç³»æœåŠ¡å™¨&#x27;) &#125; // æ°´æ¸©è¾¾åˆ°100ï¼Œæˆ–æ°´ä½è¾¾åˆ°50ï¼Œå–æ¶ˆç›‘è§† if (temp.value === 100 || height.value === 50) &#123; console.log(&#x27;æ¸…ç†äº†&#x27;) stopWtach() &#125;&#125;)&lt;/script&gt; 3.11ã€æ ‡ç­¾çš„ ref å±æ€§ä½œç”¨ï¼šç”¨äºæ³¨å†Œæ¨¡æ¿å¼•ç”¨ã€‚ ç”¨åœ¨æ™®é€šDOMæ ‡ç­¾ä¸Šï¼Œè·å–çš„æ˜¯DOMèŠ‚ç‚¹ã€‚ ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼Œè·å–çš„æ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚ ç”¨åœ¨æ™®é€šDOMæ ‡ç­¾ä¸Šï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h1 id=&quot;guiGu&quot; ref=&quot;title1&quot;&gt; å°šç¡…è°· &lt;/h1&gt; &lt;h2 ref=&quot;title2&quot;&gt; å‰ç«¯ &lt;/h2&gt; &lt;h3 ref=&quot;title3&quot;&gt; Vue &lt;/h3&gt; &lt;br&gt; &lt;br&gt; &lt;button @click=&quot;showLog&quot;&gt; ç‚¹æˆ‘æ‰“å°å†…å®¹ &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;const title1 = ref() // å˜é‡å‘½åè¦å’Œrefå®šä¹‰çš„å‘½åä¸€è‡´const title2 = ref()const title3 = ref()function showLog() &#123; // é€šè¿‡idè·å–å…ƒç´  const t1 = document.getElementById(&#x27;guiGu&#x27;) // æ‰“å°å†…å®¹(ä¸‰ç§tsçš„æ–­è¨€æ–¹å¼) console.log((t1 as HTMLElement).innerText) // console.log((&lt;HTMLElement&gt;t1).innerText); // console.log(t1?.innerText) /************************************/ // é€šè¿‡refè·å–å…ƒç´  console.log(title1.value) console.log(title2.value) console.log(title3.value)&#125;&lt;/script&gt; ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101&lt;!-- çˆ¶ç»„ä»¶father.vue --&gt;&lt;template&gt; &lt;div class=&quot;index&quot;&gt; &lt;h2&gt;çˆ¶ç»„ä»¶&lt;/h2&gt; &lt;button @click=&quot;updateGeGe&quot;&gt; æ›´æ–°å“¥å“¥çš„ä¿¡æ¯ &lt;/button&gt; &lt;br&gt; &lt;br&gt; &lt;button @click=&quot;updateDiDi&quot;&gt; æ›´æ–°å¼Ÿå¼Ÿçš„ä¿¡æ¯ &lt;/button&gt; &lt;br&gt; &lt;br&gt; &lt;Person ref=&quot;ren&quot; /&gt; &lt;br&gt; &lt;Person1 ref=&quot;ren1&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;import Person1 from &#x27;./Person1.vue&#x27;import Person from &#x27;./Person.vue&#x27;const ren = ref()const ren1 = ref()function updateGeGe() &#123; ren.value.execute() ren.value.name = &#x27;å¼ å¤§ä¸‰&#x27; ren.value.age = 22&#125;function updateDiDi() &#123; ren1.value.name = &#x27;å¤§ç±³&#x27; ren1.value.age = 18&#125;&lt;/script&gt;&lt;style&gt;.index &#123; padding: 20px; background: rgb(255 193 170);&#125;&lt;/style&gt;&lt;!-- å­ç»„ä»¶Person.vueä¸­è¦ä½¿ç”¨defineExposeæš´éœ²å†…å®¹ --&gt;&lt;template&gt; &lt;div class=&quot;gege&quot;&gt; &lt;h2&gt;å“¥å“¥ç»„ä»¶&lt;/h2&gt; &lt;div&gt;å§“åï¼š&#123;&#123; name &#125;&#125;&lt;/div&gt; &lt;div&gt;å¹´é¾„ï¼š&#123;&#123; age &#125;&#125;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; defineExpose, ref &#125; from &#x27;vue&#x27;// æ•°æ®const name = ref(&#x27;å¼ ä¸‰&#x27;)const age = ref(18)function execute() &#123; console.log(&#x27;å·²æ‰§è¡Œå“¥å“¥ç»„ä»¶ä¸­çš„æ–¹æ³•&#x27;)&#125;// ä½¿ç”¨defineExposeå°†ç»„ä»¶ä¸­çš„æ•°æ®äº¤ç»™å¤–éƒ¨defineExpose(&#123; name, age, execute &#125;)&lt;/script&gt;&lt;style&gt;.gege &#123; background: rgb(160 235 255);&#125;&lt;/style&gt;&lt;!-- å­ç»„ä»¶Person1.vueä¸­è¦ä½¿ç”¨defineExposeæš´éœ²å†…å®¹ --&gt;&lt;template&gt; &lt;div class=&quot;didi&quot;&gt; &lt;h2&gt;å¼Ÿå¼Ÿç»„ä»¶&lt;/h2&gt; &lt;div&gt;å§“åï¼š&#123;&#123; name &#125;&#125;&lt;/div&gt; &lt;div&gt;å¹´é¾„ï¼š&#123;&#123; age &#125;&#125;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; defineExpose, ref &#125; from &#x27;vue&#x27;// æ•°æ®const name = ref(&#x27;å°ç±³&#x27;)const age = ref(12)// ä½¿ç”¨defineExposeå°†ç»„ä»¶ä¸­çš„æ•°æ®äº¤ç»™å¤–éƒ¨defineExpose(&#123; name, age &#125;)&lt;/script&gt;&lt;style&gt;.didi &#123; background: rgb(163 157 255);&#125;&lt;/style&gt; 3.12ã€ç»„ä»¶çš„$refs å±æ€§ è·å–åˆ°é¡µé¢æ‰€æœ‰ç»„ä»¶çš„refå®ä¾‹å¯¹è±¡ çˆ¶ç»„ä»¶ï¼ˆfather.vueï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839&lt;template&gt; &lt;div class=&quot;index&quot;&gt; &lt;h2&gt;çˆ¶ç»„ä»¶&lt;/h2&gt; &lt;button @click=&quot;update($refs)&quot;&gt; æ›´æ–°å…„å¼Ÿçš„ä¿¡æ¯ &lt;/button&gt; &lt;br&gt; &lt;br&gt; &lt;Person ref=&quot;ren&quot; /&gt; &lt;br&gt; &lt;Person1 ref=&quot;ren1&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;import Person1 from &#x27;./index1.vue&#x27;import Person from &#x27;./index.vue&#x27;const ren = ref()const ren1 = ref()function update(refs: any) &#123; console.log(refs) refs.ren.name = &#x27;å¼ å¤§ä¸‰&#x27; refs.ren.age = 22 refs.ren.execute() refs.ren1.name = &#x27;å¤§ç±³&#x27; refs.ren1.age = 18&#125;&lt;/script&gt;&lt;style&gt;.index &#123; padding: 20px; background: rgb(255 193 170);&#125;&lt;/style&gt; å­ç»„ä»¶ï¼ˆPerson.vueï¼‰ 123456789101112131415161718192021222324252627&lt;template&gt; &lt;div class=&quot;gege&quot;&gt; &lt;h2&gt;å“¥å“¥ç»„ä»¶&lt;/h2&gt; &lt;div&gt;å§“åï¼š&#123;&#123; name &#125;&#125;&lt;/div&gt; &lt;div&gt;å¹´é¾„ï¼š&#123;&#123; age &#125;&#125;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; defineExpose, ref &#125; from &#x27;vue&#x27;// æ•°æ®const name = ref(&#x27;å¼ ä¸‰&#x27;)const age = ref(18)function execute() &#123; console.log(&#x27;å·²æ‰§è¡Œå“¥å“¥ç»„ä»¶ä¸­çš„æ–¹æ³•&#x27;)&#125;// ä½¿ç”¨defineExposeå°†ç»„ä»¶ä¸­çš„æ•°æ®äº¤ç»™å¤–éƒ¨defineExpose(&#123; name, age, execute &#125;)&lt;/script&gt;&lt;style&gt;.gege &#123; background: rgb(160 235 255);&#125;&lt;/style&gt; å­ç»„ä»¶ï¼ˆPerson1.vueï¼‰ 123456789101112131415161718192021222324&lt;template&gt; &lt;div class=&quot;didi&quot;&gt; &lt;h2&gt;å¼Ÿå¼Ÿç»„ä»¶&lt;/h2&gt; &lt;div&gt;å§“åï¼š&#123;&#123; name &#125;&#125;&lt;/div&gt; &lt;div&gt;å¹´é¾„ï¼š&#123;&#123; age &#125;&#125;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; defineExpose, ref &#125; from &#x27;vue&#x27;// æ•°æ®const name = ref(&#x27;å°ç±³&#x27;)const age = ref(12)// ä½¿ç”¨defineExposeå°†ç»„ä»¶ä¸­çš„æ•°æ®äº¤ç»™å¤–éƒ¨defineExpose(&#123; name, age &#125;)&lt;/script&gt;&lt;style&gt;.didi &#123; background: rgb(163 157 255);&#125;&lt;/style&gt; 3.13ã€props 12345678910/ types/index.ts// å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œé™åˆ¶æ¯ä¸ªPersonå¯¹è±¡çš„æ ¼å¼export interface PersonInter &#123;id:string,name:string,age:number&#125;// å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹Personsexport type Persons = Array&lt;PersonInter&gt; App.vueä¸­ä»£ç ï¼š 1234567891011121314151617&lt;template&gt; &lt;Person :list=&quot;persons&quot; /&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt;import type &#123; Persons &#125; from &#x27;./types&#x27;import &#123; reactive &#125; from &#x27;vue&#x27;import Person from &#x27;./components/Person.vue&#x27;// let persons:Persons = reactive([const persons = reactive&lt;Persons&gt;([ &#123; id: &#x27;e98219e12&#x27;, name: &#x27;å¼ ä¸‰&#x27;, age: 18 &#125;, &#123; id: &#x27;e98219e13&#x27;, name: &#x27;æå››&#x27;, age: 19 &#125;, &#123; id: &#x27;e98219e14&#x27;, name: &#x27;ç‹äº”&#x27;, age: 20 &#125;,])&lt;/script&gt; Person.vueä¸­ä»£ç ï¼š 123456789101112131415161718192021222324252627282930&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;ul&gt; &lt;li v-for=&quot;item in list&quot; :key=&quot;item.id&quot;&gt; &#123;&#123; item.name &#125;&#125;--&#123;&#123; item.age &#125;&#125; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; defineProps &#125; from &#x27;vue&#x27;// ç¬¬ä¸€ç§å†™æ³•ï¼šä»…æ¥æ”¶// let props = defineProps([&#x27;list&#x27;])// ç¬¬äºŒç§å†™æ³•ï¼šæ¥æ”¶+é™åˆ¶ç±»å‹ï¼Œå› ä¸ºä¼ æ¥çš„å¯èƒ½ä¸æ­¢ä¸€ä¸ªæ•°æ®ï¼Œå› æ­¤åœ¨æ³›å‹ä¸­ç”¨ä¸€ä¸ªå¯¹è±¡åŒ…è£¹// let props = defineProps&lt;&#123; list: Persons; aa?: string &#125;&gt;();// ç¬¬ä¸‰ç§å†™æ³•ï¼šæ¥æ”¶+é™åˆ¶ç±»å‹+æŒ‡å®šé»˜è®¤å€¼+é™åˆ¶å¿…è¦æ€§// .....withDefaults æŒ‡å®šé»˜è®¤å€¼// .....Persons é™åˆ¶ç±»å‹// .....list?: é™åˆ¶å¿…è¦æ€§ :çˆ¶ç»„ä»¶å¿…é¡»è¦ ?: çˆ¶ç»„ä»¶å¯ä¸ä¼  tsè¯­æ³•const props = withDefaults(defineProps&lt;&#123; list?: Persons &#125;&gt;(), &#123; list: () =&gt; [&#123; id: &#x27;asdasg01&#x27;, name: &#x27;å°çŒªä½©å¥‡&#x27;, age: 18 &#125;],&#125;)console.log(props)&lt;/script&gt; æ˜“æ‡‚ åœ¨ Vue 3 ä¸­ä½¿ç”¨ TypeScript æ—¶ï¼Œä½ å¯ä»¥é€šè¿‡ withDefaults å‡½æ•°æ¥ä¸º defineProps å®šä¹‰çš„ props è®¾ç½®é»˜è®¤å€¼ã€‚withDefaults å‡½æ•°å…è®¸ä½ æŒ‡å®šé»˜è®¤å€¼ï¼ŒåŒæ—¶ä¿æŒ TypeScript çš„ç±»å‹æ£€æŸ¥ã€‚ ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨ TypeScript ä¸­ä¸º defineProps è®¾ç½®é»˜è®¤å€¼çš„ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223å‡è®¾ä½ æœ‰ä¸€ä¸ªå­ç»„ä»¶ PasswordDialog.vueï¼Œä½ å¯ä»¥è¿™æ ·å®šä¹‰å’Œæ¥æ”¶ lianlianMercNoï¼Œå¹¶ä¸ºå…¶è®¾ç½®é»˜è®¤å€¼ï¼š&lt;template&gt; &lt;div&gt; &lt;!-- ä½¿ç”¨æ¥æ”¶åˆ°çš„ lianlianMercNo --&gt; &lt;p&gt;Merchant Number: &#123;&#123; lianlianMercNo &#125;&#125;&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import &#123; defineProps, withDefaults &#125; from &#x27;vue&#x27;// å®šä¹‰ props çš„ç±»å‹interface Props &#123; lianlianMercNo?: number // å°†å…¶è®¾ä¸ºå¯é€‰&#125;// ä½¿ç”¨ withDefaults æ¥ä¸º props è®¾ç½®é»˜è®¤å€¼const props = withDefaults(defineProps&lt;Props&gt;(), &#123; lianlianMercNo: 1234, // è®¾ç½®é»˜è®¤å€¼&#125;)&lt;/script&gt; 1234567891011åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œä½ å¯ä»¥è¿™æ ·ä½¿ç”¨è¿™ä¸ªå­ç»„ä»¶å¹¶ä¼ é€’ lianlianMercNoï¼š&lt;template&gt; &lt;div&gt; &lt;PasswordDialog ref=&quot;passwordRef&quot; lianlian-merc-no=&quot;4444&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import PasswordDialog from &#x27;./PasswordDialog.vue&#x27;&lt;/script&gt; åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š å­ç»„ä»¶ PasswordDialog.vue ä¸­å®šä¹‰äº†ä¸€ä¸ª Props æ¥å£ï¼Œå…¶ä¸­ lianlianMercNo å±æ€§æ˜¯å¯é€‰çš„ï¼ˆä½¿ç”¨ ? æ ‡è®°ï¼‰ã€‚ä½¿ç”¨ withDefaults å‡½æ•°å°† defineProps() åŒ…è£¹èµ·æ¥ï¼Œå¹¶ä¸º lianlianMercNo è®¾ç½®é»˜è®¤å€¼ 1234ã€‚å¦‚æœçˆ¶ç»„ä»¶æ²¡æœ‰ä¼ é€’ lianlianMercNoï¼Œåˆ™ PasswordDialog ç»„ä»¶ä¼šä½¿ç”¨é»˜è®¤å€¼ 1234ã€‚è¿™æ ·ï¼Œä½ å°±å¯ä»¥åœ¨ TypeScript ä¸­ä¸º defineProps è®¾ç½®é»˜è®¤å€¼ï¼ŒåŒæ—¶ä¿æŒç±»å‹æ£€æŸ¥ã€‚ 3.14ã€ç”Ÿå‘½å‘¨æœŸ æ¦‚å¿µï¼šVueç»„ä»¶å®ä¾‹åœ¨åˆ›å»ºæ—¶è¦ç»å†ä¸€ç³»åˆ—çš„åˆå§‹åŒ–æ­¥éª¤ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­Vueä¼šåœ¨åˆé€‚çš„æ—¶æœºï¼Œè°ƒç”¨ç‰¹å®šçš„å‡½æ•°ï¼Œä»è€Œè®©å¼€å‘è€…æœ‰æœºä¼šåœ¨ç‰¹å®šé˜¶æ®µè¿è¡Œè‡ªå·±çš„ä»£ç ï¼Œè¿™äº›ç‰¹å®šçš„å‡½æ•°ç»Ÿç§°ä¸ºï¼šç”Ÿå‘½å‘¨æœŸé’©å­ è§„å¾‹ï¼š ç”Ÿå‘½å‘¨æœŸæ•´ä½“åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼šåˆ›å»ºã€æŒ‚è½½ã€æ›´æ–°ã€é”€æ¯ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸¤ä¸ªé’©å­ï¼Œä¸€å‰ä¸€åã€‚ Vue2çš„ç”Ÿå‘½å‘¨æœŸ åˆ›å»ºé˜¶æ®µï¼šbeforeCreateã€created æŒ‚è½½é˜¶æ®µï¼šbeforeMountã€mounted æ›´æ–°é˜¶æ®µï¼šbeforeUpdateã€updated é”€æ¯é˜¶æ®µï¼šbeforeDestroyã€destroyed Vue3çš„ç”Ÿå‘½å‘¨æœŸ åˆ›å»ºé˜¶æ®µï¼šsetup æŒ‚è½½é˜¶æ®µï¼šonBeforeMountã€onMounted æ›´æ–°é˜¶æ®µï¼šonBeforeUpdateã€onUpdated å¸è½½é˜¶æ®µï¼šonBeforeUnmountã€onUnmounted å¸¸ç”¨çš„é’©å­ï¼šonMounted(æŒ‚è½½å®Œæ¯•)ã€onUpdated(æ›´æ–°å®Œæ¯•)ã€onBeforeUnmount(å¸è½½ä¹‹å‰) æ³¨æ„é¡¹ï¼š(é‡ç‚¹) åˆ°åº•æ˜¯å­ç»„ä»¶æŒ‚è½½(onMounted)å…ˆæ‰§è¡Œè¿˜æ˜¯çˆ¶ç»„ä»¶çš„æŒ‚è½½(onMounted)å…ˆæ‰§è¡Œï¼Ÿ ç­”ï¼šå…ˆæ‰§è¡Œå­ç»„ä»¶çš„æŒ‚è½½å†æ‰§è¡Œçˆ¶ç»„ä»¶çš„æŒ‚è½½ï¼Œvueé¡¹ç›®ä¸­app.vueæ˜¯æ‰€æœ‰ç»„ä»¶çš„é¡¶çº§ç»„ä»¶ï¼Œå› æ­¤å®ƒçš„æŒ‚è½½æ˜¯æœ€åæ‰§è¡Œ ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;template&gt; &lt;div class=&quot;person&quot;&gt; &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123; sum &#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeSum&quot;&gt; ç‚¹æˆ‘sum+1 &lt;/button&gt; &lt;/div&gt;&lt;/template&gt; &lt;!-- vue3å†™æ³• --&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;import &#123; onBeforeMount, onBeforeUnmount, onBeforeUpdate, onMounted, onUnmounted, onUpdated, ref,&#125; from &#x27;vue&#x27;// æ•°æ®const sum = ref(0)// æ–¹æ³•function changeSum() &#123; sum.value += 1&#125;console.log(&#x27;setup&#x27;)// ç”Ÿå‘½å‘¨æœŸé’©å­onBeforeMount(() =&gt; &#123; console.log(&#x27;æŒ‚è½½ä¹‹å‰&#x27;)&#125;)onMounted(() =&gt; &#123; console.log(&#x27;æŒ‚è½½å®Œæ¯•&#x27;)&#125;)onBeforeUpdate(() =&gt; &#123; console.log(&#x27;æ›´æ–°ä¹‹å‰&#x27;)&#125;)onUpdated(() =&gt; &#123; console.log(&#x27;æ›´æ–°å®Œæ¯•&#x27;)&#125;)onBeforeUnmount(() =&gt; &#123; console.log(&#x27;å¸è½½ä¹‹å‰&#x27;)&#125;)onUnmounted(() =&gt; &#123; console.log(&#x27;å¸è½½å®Œæ¯•&#x27;)&#125;)&lt;/script&gt; 3.15ã€è‡ªå®šä¹‰hook æ¥å£åœ°å€ï¼šhttps://dog.ceo/api/breed/pembroke/images/random éšæœºè·å–ä¸€å¼ ç‹—çš„å›¾ç‰‡(æœ‰çš„æ—¶å€™é¡»è¦æ¢¯å­) ä»€ä¹ˆæ˜¯hookï¼Ÿâ€”â€” æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠsetupå‡½æ•°ä¸­ä½¿ç”¨çš„Composition APIè¿›è¡Œäº†å°è£…ï¼Œç±»ä¼¼äºvue2.xä¸­çš„mixinã€‚ è‡ªå®šä¹‰hookçš„ä¼˜åŠ¿ï¼šå¤ç”¨ä»£ç , è®©setupä¸­çš„é€»è¾‘æ›´æ¸…æ¥šæ˜“æ‡‚ã€‚ useSum.tså’ŒuseDog.tsä¸­çš„å¯ä»¥åˆ†åˆ«å†™onMountedé’©å­ ç¤ºä¾‹ä»£ç ï¼š useSum.tsä¸­å†…å®¹å¦‚ä¸‹ï¼š 123456789101112131415161718import &#123;ref,onMounted&#125; from &#x27;vue&#x27;export default function()&#123; let sum = ref(0) const increment = ()=&gt;&#123; sum.value += 1 &#125; const decrement = ()=&gt;&#123; sum.value -= 1 &#125; onMounted(()=&gt;&#123; increment() &#125;) //å‘å¤–éƒ¨æš´éœ²æ•°æ® return &#123;sum,increment,decrement&#125;&#125; useDog.tsä¸­å†…å®¹å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526import axios from &#x27;axios&#x27;import &#123; onMounted, reactive, ref &#125; from &#x27;vue&#x27;export default function () &#123; const dogList = reactive&lt;string[]&gt;([]) const loading = ref(false) const getDog = async () =&gt; &#123; loading.value = true try &#123; const res = await axios.get(&#x27;https://dog.ceo/api/breed/pembroke/images/random&#x27;) dogList.push(res.data.message) &#125; catch (error) &#123; console.log(error) &#125; finally &#123; loading.value = false &#125; &#125; onMounted(() =&gt; &#123; getDog() &#125;) // å‘å¤–æš´éœ²æ•°æ® return &#123; dogList, loading, getDog &#125;&#125; ç»„ä»¶ä¸­å…·ä½“ä½¿ç”¨ï¼š 12345678910111213141516171819202122232425262728293031&lt;template&gt; &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123; sum &#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;increment&quot;&gt; ç‚¹æˆ‘+1 &lt;/button&gt; &lt;button @click=&quot;decrement&quot;&gt; ç‚¹æˆ‘-1 &lt;/button&gt; &lt;hr&gt; &lt;img v-for=&quot;(u, index) in dogList.urlList&quot; :key=&quot;index&quot; :src=&quot;(u as string)&quot;&gt; &lt;span v-show=&quot;dogList.isLoading&quot;&gt;åŠ è½½ä¸­......&lt;/span&gt;&lt;br&gt; &lt;button @click=&quot;getDog&quot;&gt; å†æ¥ä¸€åªç‹— &lt;/button&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot;&gt;import &#123; defineComponent &#125; from &#x27;vue&#x27;export default defineComponent(&#123; name: &#x27;App&#x27;,&#125;)&lt;/script&gt;&lt;script setup lang=&quot;ts&quot;&gt;import useDog from &#x27;./hooks/useDog&#x27;import useSum from &#x27;./hooks/useSum&#x27;const &#123; sum, increment, decrement &#125; = useSum()const &#123; dogList, getDog &#125; = useDog()&lt;/script&gt; å››ã€ è·¯ç”±4.1ã€å¯¹è·¯ç”±çš„ç†è§£ 4.2ã€åŸºæœ¬åˆ‡æ¢æ•ˆæœ Vue3ä¸­è¦ä½¿ç”¨vue-routerçš„æœ€æ–°ç‰ˆæœ¬ï¼Œç›®å‰æ˜¯4ç‰ˆæœ¬ã€‚ è·¯ç”±é…ç½®æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031// åˆ›å»ºä¸€ä¸ªè·¯ç”±å™¨ï¼Œå¹¶æš´éœ²å‡ºå»import About from &#x27;@/components/About.vue&#x27;// å¼•å…¥ä¸€ä¸ªä¸€ä¸ªå¯èƒ½è¦å‘ˆç°ç»„ä»¶import Home from &#x27;@/components/Home.vue&#x27;import News from &#x27;@/components/News.vue&#x27;// ç¬¬ä¸€æ­¥ï¼šå¼•å…¥createRouterimport &#123; createRouter, createWebHistory &#125; from &#x27;vue-router&#x27;// ç¬¬äºŒæ­¥ï¼šåˆ›å»ºè·¯ç”±å™¨const router = createRouter(&#123; history: createWebHistory(), // è·¯ç”±å™¨çš„å·¥ä½œæ¨¡å¼ï¼ˆç¨åè®²è§£ï¼‰ routes: [ // ä¸€ä¸ªä¸€ä¸ªçš„è·¯ç”±è§„åˆ™ &#123; path: &#x27;/home&#x27;, component: Home, &#125;, &#123; path: &#x27;/news&#x27;, component: News, &#125;, &#123; path: &#x27;/about&#x27;, component: About, &#125;, ],&#125;)// æš´éœ²å‡ºå»routerexport default router main.tsä»£ç å¦‚ä¸‹ï¼š 1234import router from &#x27;./router/index&#x27;app.use(router)app.mount(&#x27;#app&#x27;) App.vueä»£ç å¦‚ä¸‹ 12345678910111213141516171819&lt;template&gt; &lt;div class=&quot;app&quot;&gt; &lt;h2 class=&quot;title&quot;&gt;Vueè·¯ç”±æµ‹è¯•&lt;/h2&gt; &lt;!-- å¯¼èˆªåŒº --&gt; &lt;div class=&quot;navigate&quot;&gt; &lt;RouterLink to=&quot;/home&quot; active-class=&quot;active&quot;&gt;é¦–é¡µ&lt;/RouterLink&gt; &lt;RouterLink to=&quot;/news&quot; active-class=&quot;active&quot;&gt;æ–°é—»&lt;/RouterLink&gt; &lt;RouterLink to=&quot;/about&quot; active-class=&quot;active&quot;&gt;å…³äº&lt;/RouterLink&gt; &lt;/div&gt; &lt;!-- å±•ç¤ºåŒº --&gt; &lt;div class=&quot;main-content&quot;&gt; &lt;RouterView&gt;&lt;/RouterView&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt; import &#123;RouterLink,RouterView&#125; from &#x27;vue-router&#x27; &lt;/script&gt; 4.3ã€ ä¸¤ä¸ªæ³¨æ„ç‚¹ è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨pages æˆ– viewsæ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨componentsæ–‡ä»¶å¤¹ã€‚ é€šè¿‡ç‚¹å‡»å¯¼èˆªï¼Œè§†è§‰æ•ˆæœä¸Šâ€œæ¶ˆå¤±â€ äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«å¸è½½æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»æŒ‚è½½ã€‚ 4.4ã€è·¯ç”±å™¨å·¥ä½œæ¨¡å¼ historyæ¨¡å¼ ä¼˜ç‚¹ï¼šURLæ›´åŠ ç¾è§‚ï¼Œä¸å¸¦æœ‰#ï¼Œæ›´æ¥è¿‘ä¼ ç»Ÿçš„ç½‘ç«™URLã€‚ ç¼ºç‚¹ï¼šåæœŸé¡¹ç›®ä¸Šçº¿ï¼Œéœ€è¦æœåŠ¡ç«¯é…åˆå¤„ç†è·¯å¾„é—®é¢˜ï¼Œå¦åˆ™åˆ·æ–°ä¼šæœ‰404é”™è¯¯ã€‚ 1234const router = createRouter(&#123; history:createWebHistory(), //historyæ¨¡å¼ /******/&#125;) hashæ¨¡å¼ ä¼˜ç‚¹ï¼šå…¼å®¹æ€§æ›´å¥½ï¼Œå› ä¸ºä¸éœ€è¦æœåŠ¡å™¨ç«¯å¤„ç†è·¯å¾„ã€‚ ç¼ºç‚¹ï¼šURLå¸¦æœ‰#ä¸å¤ªç¾è§‚ï¼Œä¸”åœ¨SEOä¼˜åŒ–æ–¹é¢ç›¸å¯¹è¾ƒå·®ã€‚ 1234const router = createRouter(&#123; history:createWebHashHistory(), //hashæ¨¡å¼ /******/&#125;) 4.5ã€toçš„ä¸¤ç§å†™æ³•12345&lt;!-- ç¬¬ä¸€ç§ï¼štoçš„å­—ç¬¦ä¸²å†™æ³• --&gt;&lt;router-link active-class=&quot;active&quot; to=&quot;/home&quot;&gt;ä¸»é¡µ&lt;/router-link&gt;&lt;!-- ç¬¬äºŒç§ï¼štoçš„å¯¹è±¡å†™æ³• --&gt;&lt;router-link active-class=&quot;active&quot; :to=&quot;&#123;path:&#x27;/home&#x27;&#125;&quot;&gt;Home&lt;/router-link&gt; 4.6ã€å‘½åè·¯ç”±ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±è·³è½¬åŠä¼ å‚ï¼ˆåé¢å°±è®²ï¼‰ã€‚ ç»™è·¯ç”±è§„åˆ™å‘½åï¼š 1234567891011121314151617routes:[ &#123; name:&#x27;zhuye&#x27;, path:&#x27;/home&#x27;, component:Home &#125;, &#123; name:&#x27;xinwen&#x27;, path:&#x27;/news&#x27;, component:News, &#125;, &#123; name:&#x27;guanyu&#x27;, path:&#x27;/about&#x27;, component:About &#125;] è·³è½¬è·¯ç”±ï¼š 12345&lt;!--ç®€åŒ–å‰ï¼šéœ€è¦å†™å®Œæ•´çš„è·¯å¾„ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;&lt;router-link to=&quot;/news/detail&quot;&gt;è·³è½¬&lt;/router-link&gt;&lt;!--ç®€åŒ–åï¼šç›´æ¥é€šè¿‡åå­—è·³è½¬ï¼ˆtoçš„å¯¹è±¡å†™æ³•é…åˆnameå±æ€§ï¼‰ --&gt;&lt;router-link :to=&quot;&#123;name:&#x27;guanyu&#x27;&#125;&quot;&gt;è·³è½¬&lt;/router-link&gt; 4.7ã€åµŒå¥—è·¯ç”± ç¼–å†™Newsçš„å­è·¯ç”±ï¼šDetail.vue 12345678910111213&lt;template&gt; &lt;div class=&quot;detail&quot;&gt; &#123;&#123; query.content &#125;&#125; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import &#123; toRefs &#125; from &#x27;vue&#x27;import &#123; useRoute &#125; from &#x27;vue-router&#x27;const &#123; query &#125; = toRefs(useRoute())&lt;/script&gt; é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨childrené…ç½®é¡¹ï¼š 1234567891011121314151617181920212223242526272829const router = createRouter(&#123; history: createWebHistory(), routes: [ &#123; name: &#x27;zhuye&#x27;, path: &#x27;/home&#x27;, component: Home, &#125;, &#123; name: &#x27;xinwen&#x27;, path: &#x27;/news&#x27;, component: News, children: [ &#123; name: &#x27;xiang&#x27;, path: &#x27;detail&#x27;, // å­è·¯ç”±çš„è·¯å¾„ä¸éœ€è¦åŠ æ–œæ / component: Detail, &#125;, ], &#125;, &#123; name: &#x27;guanyu&#x27;, path: &#x27;/about&#x27;, component: About, &#125;, ],&#125;)export default router è®°å¾—å»News.vueç»„ä»¶ä¸­é¢„ç•™ä¸€ä¸ª&lt;router-view&gt; 1234567891011121314151617181920212223242526272829303132333435363738394041424344// News.vue&lt;template&gt; &lt;div class=&quot;news&quot;&gt; &lt;ul&gt; &lt;li v-for=&quot;(item, index) in list&quot; :key=&quot;index&quot;&gt; &lt;RouterLink :to=&quot;&#123; name: &#x27;Detail&#x27;, query: &#123; id: item.id, content: item.content, &#125;, &#125;&quot; &gt; &#123;&#123; item.title &#125;&#125; &lt;/RouterLink&gt; &lt;/li&gt; &lt;/ul&gt; &lt;RouterView /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;News&quot;&gt;import &#123; reactive &#125; from &#x27;vue&#x27;const list = reactive([ &#123; id: 1, title: &#x27;æ–°é—»1&#x27;, content: &#x27;æ–°é—»1çš„è¯¦æƒ…&#x27;, &#125;, &#123; id: 2, title: &#x27;æ–°é—»2&#x27;, content: &#x27;æ–°é—»2çš„è¯¦æƒ…&#x27;, &#125;, &#123; id: 3, title: &#x27;æ–°é—»3&#x27;, content: &#x27;æ–°é—»3çš„è¯¦æƒ…&#x27;, &#125;,])&lt;/script&gt; 4.8ã€è·¯ç”±ä¼ å‚1ï¼‰ã€queryå‚æ•°ä¼ é€’å‚æ•° 1234567891011121314151617181920212223242526272829303132333435363738394041424344// News.vue&lt;template&gt; &lt;div class=&quot;news&quot;&gt; &lt;ul&gt; &lt;li v-for=&quot;(item, index) in list&quot; :key=&quot;index&quot;&gt; &lt;RouterLink :to=&quot;&#123; name: &#x27;Detail&#x27;, query: &#123; id: item.id, content: item.content, &#125;, &#125;&quot; &gt; &#123;&#123; item.title &#125;&#125; &lt;/RouterLink&gt; &lt;/li&gt; &lt;/ul&gt; &lt;RouterView /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;News&quot;&gt;import &#123; reactive &#125; from &#x27;vue&#x27;const list = reactive([ &#123; id: 1, title: &#x27;æ–°é—»1&#x27;, content: &#x27;æ–°é—»1çš„è¯¦æƒ…&#x27;, &#125;, &#123; id: 2, title: &#x27;æ–°é—»2&#x27;, content: &#x27;æ–°é—»2çš„è¯¦æƒ…&#x27;, &#125;, &#123; id: 3, title: &#x27;æ–°é—»3&#x27;, content: &#x27;æ–°é—»3çš„è¯¦æƒ…&#x27;, &#125;,])&lt;/script&gt; æ¥æ”¶å‚æ•°ï¼š 1234567891011121314// Detail.vue&lt;template&gt; &lt;div class=&quot;detail&quot;&gt; &#123;&#123; query.content &#125;&#125; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import &#123; toRefs &#125; from &#x27;vue&#x27;import &#123; useRoute &#125; from &#x27;vue-router&#x27;const &#123; query &#125; = toRefs(useRoute())&lt;/script&gt; 2ï¼‰ã€paramså‚æ•°éœ€åœ¨è·¯ç”±ä¸­å ä½ ä¼ é€’å‚æ•° 12345678910111213141516171819202122&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼ˆtoçš„å¯¹è±¡å†™æ³•ï¼‰ --&gt;&lt;template&gt; &lt;div class=&quot;news&quot;&gt; &lt;ul&gt; &lt;li v-for=&quot;(item, index) in list&quot; :key=&quot;index&quot;&gt; &lt;RouterLink :to=&quot;&#123; name: &#x27;Detail&#x27;, params: &#123; id: item.id, content: item.content, &#125;, &#125;&quot; &gt; &#123;&#123; item.title &#125;&#125; &lt;/RouterLink&gt; &lt;/li&gt; &lt;/ul&gt; &lt;RouterView /&gt; &lt;/div&gt;&lt;/template&gt; æ¥æ”¶å‚æ•°ï¼š 12345678910111213&lt;template&gt; &lt;div class=&quot;detail&quot;&gt; &#123;&#123; params.id &#125;&#125;ã€&#123;&#123; params.content &#125;&#125; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import &#123; toRefs &#125; from &#x27;vue&#x27;import &#123; useRoute &#125; from &#x27;vue-router&#x27;const &#123; params &#125; = toRefs(useRoute())&lt;/script&gt; åœ¨è·¯ç”±ä¸­å ä½ï¼š 123456789101112131415161718192021import &#123; createRouter, createWebHistory &#125; from &#x27;vue-router&#x27;const router = createRouter(&#123; history: createWebHistory(), // è·¯ç”±çš„å·¥ä½œæ¨¡å¼ routes: [ &#123; path: &#x27;/news&#x27;, component: () =&gt; import(&#x27;@/views/News.vue&#x27;), children: [ &#123; path: &#x27;detail/:id/:content?&#x27;, // å ä½è¦å’Œè·³è½¬ä¼ å‚ä¿æŒä¸€è‡´ ï¼Ÿï¼šæ˜¯å¯ä¼ å¯ä¸ä¼  name: &#x27;Detail&#x27;, component: () =&gt; import(&#x27;@/views/Detail.vue&#x27;), &#125;, ], &#125;, ],&#125;)export default router å¤‡æ³¨1ï¼šä¼ é€’paramså‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨toçš„å¯¹è±¡å†™æ³•ï¼Œå¿…é¡»ä½¿ç”¨nameé…ç½®é¡¹ï¼Œä¸èƒ½ç”¨pathã€‚ å¤‡æ³¨2ï¼šä¼ é€’paramså‚æ•°æ—¶ï¼Œéœ€è¦æå‰åœ¨è·¯ç”±ä¸­å ä½ã€‚ 4.9ã€è·¯ç”±çš„propsé…ç½® ä¸Šè¿°è·¯ç”±æ¥æ”¶å‚æ•°çš„æ—¶å€™ã€éœ€è¦å†™å¤§é‡çš„ä»£ç  123import &#123; toRefs &#125; from &#x27;vue&#x27;;import &#123; useRoute &#125; from &#x27;vue-router&#x27;;let &#123; params, query &#125; = toRefs(useRoute()); propsä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•°ï¼ˆå¯ä»¥å°†è·¯ç”±å‚æ•°ä½œä¸ºpropsä¼ ç»™ç»„ä»¶ï¼‰ï¼Œåœ¨ç»„ä»¶ä¸­ç›´æ¥ç”¨definePropsä¾¿å¯æ¥æ”¶åˆ°å…¶ä»–è·¯ç”±ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‚æ•° è¿™ç§å†™æ³•å…¶å®å°±æ˜¯ç±»ä¼¼äºè‡ªå®šä¹‰ç»„ä»¶çš„ä¼ å‚ 1ç±»ä¼¼äº&lt;Detail a=â€œ1â€ b=&quot;2&quot; c=&quot;3&quot;&gt;&lt;Detail/&gt; 1ï¼‰ã€propsçš„å¸ƒå°”å€¼å†™æ³•ï¼ˆåªé€‚ç”¨äºparamsä¼ å‚ï¼‰ ä½œç”¨ï¼šå°†è·¯ç”±æ”¶åˆ°çš„æ‰€æœ‰paramså‚æ•°ä½œä¸ºpropsä¼ ç»™å½“å‰ç»„ä»¶ 123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;!-- orderList.vue --&gt;&lt;template&gt; &lt;div class=&quot;orderList&quot;&gt; &lt;ul&gt; &lt;li @click=&quot;toDetail&quot;&gt; è·³è½¬åˆ°è¯¦æƒ…é¡µ &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import &#123; useRouter &#125; from &#x27;vue-router&#x27;const router = useRouter()const toDetail = () =&gt; &#123; router.push(&#123; name: &#x27;detail&#x27;, params: &#123; id: &#x27;323243&#x27;, content: &#x27;è¯¦æƒ…å†…å®¹&#x27;, &#125;, &#125;)&#125;&lt;/script&gt;&lt;!-- è·¯ç”±index.ts --&gt;&#123; name:&#x27;detail&#x27;, path:&#x27;detail/:id/:content?&#x27;, component:Detail, props:true&#125; &lt;!-- detail.vue --&gt;&lt;template&gt; &lt;div class=&quot;detail&quot;&gt; &#123;&#123; id &#125;&#125;ã€&#123;&#123; content &#125;&#125; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;defineProps([&#x27;id&#x27;, &#x27;content&#x27;])&lt;/script&gt; 2ï¼‰ã€propsçš„å‡½æ•°å†™æ³• ä½œç”¨ï¼šæŠŠè¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶(paramsã€queryå¯ä½¿ç”¨ï¼Œæ›´æ¨èqueryä½¿ç”¨) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;!-- orderList.vue --&gt;&lt;template&gt; &lt;div class=&quot;orderList&quot;&gt; &lt;ul&gt; &lt;li @click=&quot;toDetail&quot;&gt; è·³è½¬åˆ°è¯¦æƒ…é¡µ &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import &#123; useRouter &#125; from &#x27;vue-router&#x27;const router = useRouter()const toDetail = () =&gt; &#123; router.push(&#123; name: &#x27;detail&#x27;, query: &#123; id: &#x27;323243&#x27;, content: &#x27;è¯¦æƒ…å†…å®¹&#x27;, &#125;, &#125;)&#125;&lt;/script&gt;&lt;!-- è·¯ç”±index.ts --&gt;&#123; name:&#x27;detail&#x27;, path:&#x27;detail&#x27;, component:Detail, props(route)&#123; // routeä¸­èƒ½å–åˆ°queryå’Œparams return route.query &#125;&#125; &lt;!-- detail.vue --&gt;&lt;template&gt; &lt;div class=&quot;detail&quot;&gt; &#123;&#123; id &#125;&#125;ã€&#123;&#123; content &#125;&#125; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;defineProps([&#x27;id&#x27;, &#x27;content&#x27;])&lt;/script&gt; 3ï¼‰ã€propsçš„å¯¹è±¡å†™æ³• ä½œç”¨ï¼šæŠŠå¯¹è±¡ä¸­çš„æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶ï¼ˆä¸å¸¸ç”¨ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142&lt;!-- orderList.vue --&gt;&lt;template&gt; &lt;div class=&quot;orderList&quot;&gt; &lt;ul&gt; &lt;li @click=&quot;toDetail&quot;&gt; è·³è½¬åˆ°è¯¦æƒ…é¡µ &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import &#123; useRouter &#125; from &#x27;vue-router&#x27;const router = useRouter()const toDetail = () =&gt; &#123; router.push(&#123; name: &#x27;detail&#x27;, &#125;)&#125;&lt;/script&gt;&lt;!-- è·¯ç”±index.ts --&gt;&#123; name:&#x27;xiang&#x27;, path:&#x27;detail/:id/:content?&#x27;, component:Detail, props: &#123; // è¿™ç§ä¸èƒ½æ¥æ”¶åˆ°åŠ¨æ€å‚æ•°ï¼Œåœ¨ä¸šåŠ¡ä¸­æ„ä¹‰ä¸å¤§ï¼Œä¸å¸¸ç”¨ id: 666, content: &#x27;å“ˆå“ˆ&#x27; &#125;&#125;&lt;!-- detail.vue --&gt;&lt;template&gt; &lt;div class=&quot;detail&quot;&gt;&#123;&#123; id &#125;&#125;ã€&#123;&#123; content &#125;&#125;&lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;defineProps([&#x27;id&#x27;, &#x27;content&#x27;])&lt;/script&gt; **æ³¨æ„ï¼š**è¿™é‡Œéƒ½æ˜¯åº”ç”¨åœ¨è·¯ç”±ç»„ä»¶ä¸­ï¼Œè€Œä¸æ˜¯è‡ªå®šä¹‰ç»„ä»¶ä¸­ã€‚æ‰€ä»¥å½“ç»„ä»¶ä¸­æœ‰ä½¿ç”¨definePropsæ¥æ”¶å‚æ•°çš„æ—¶å€™ï¼Œé¦–å…ˆè¦ç¡®è®¤è¿™æ˜¯è·¯ç”±ç»„ä»¶è¿˜æ˜¯è‡ªå®šä¹‰ç»„ä»¶ã€‚ 4.10ã€ replaceå±æ€§ ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼ã€‚ æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼šåˆ†åˆ«ä¸ºpushå’Œreplaceï¼š pushæ˜¯è¿½åŠ å†å²è®°å½•ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚ replaceæ˜¯æ›¿æ¢å½“å‰è®°å½•ã€‚ å¼€å¯replaceæ¨¡å¼ï¼š 1&lt;RouterLink replace .......&gt;News&lt;/RouterLink&gt; 4.11ã€ ç¼–ç¨‹å¼å¯¼èˆªè·¯ç”±ç»„ä»¶çš„ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼š$routeå’Œ$routerå˜æˆäº†ä¸¤ä¸ªhooks 123456789import &#123;useRoute,useRouter&#125; from &#x27;vue-router&#x27;const route = useRoute()const router = useRouter()console.log(route.query)console.log(route.parmas)console.log(router.push)console.log(router.replace) 4.12ã€ é‡å®šå‘ ä½œç”¨ï¼šå°†ç‰¹å®šçš„è·¯å¾„ï¼Œé‡æ–°å®šå‘åˆ°å·²æœ‰è·¯ç”±ã€‚ å…·ä½“ç¼–ç ï¼š 1234&#123; path:&#x27;/&#x27;, redirect:&#x27;/about&#x27;&#125; äº”ã€pinia 5.1ã€ æ­å»º pinia ç¯å¢ƒç¬¬ä¸€æ­¥ï¼šnpm install pinia ç¬¬äºŒæ­¥ï¼šæ“ä½œsrc/main.ts 12345678910111213import &#123; createApp &#125; from &#x27;vue&#x27;import App from &#x27;./App.vue&#x27;/* å¼•å…¥createPiniaï¼Œç”¨äºåˆ›å»ºpinia */import &#123; createPinia &#125; from &#x27;pinia&#x27;/* åˆ›å»ºpinia */const pinia = createPinia()const app = createApp(App)/* ä½¿ç”¨æ’ä»¶ */&#123;&#125;app.use(pinia)app.mount(&#x27;#app&#x27;) æ­¤æ—¶å¼€å‘è€…å·¥å…·ä¸­å·²ç»æœ‰äº†piniaé€‰é¡¹ 5.2ã€ é€‰é¡¹å¼ Stores 12import &#123;defineStore&#125; from &#x27;pinia&#x27;export const useCountStore = defineStore(&#x27;count&#x27;,&#123;&#125;) // ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸ªå¯¹è±¡ 1ï¼‰ã€å­˜å‚¨+è¯»å–æ•°æ® Storeæ˜¯ä¸€ä¸ªä¿å­˜ï¼šçŠ¶æ€ã€ä¸šåŠ¡é€»è¾‘ çš„å®ä½“ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥è¯»å–ã€å†™å…¥å®ƒã€‚ å®ƒæœ‰ä¸‰ä¸ªæ¦‚å¿µï¼šstateã€getterã€actionï¼Œç›¸å½“äºç»„ä»¶ä¸­çš„ï¼š dataã€ computed å’Œ methodsã€‚ å…·ä½“ç¼–ç ï¼šsrc/store/countStore.ts 1234567891011121314151617// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstoreimport &#123;defineStore&#125; from &#x27;pinia&#x27;// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstoreexport const useCountStore = defineStore(&#x27;count&#x27;,&#123; // åŠ¨ä½œ actions:&#123;&#125;, // çŠ¶æ€ state()&#123; return &#123; sum:6, school: &#x27;å°šç¡…è°·&#x27; &#125; &#125;, // è®¡ç®— getters:&#123;&#125;&#125;) å…·ä½“ç¼–ç ï¼šsrc/store/loveTalkStore.ts 1234567891011121314151617181920// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstoreimport &#123;defineStore&#125; from &#x27;pinia&#x27;// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstoreexport const useLoveTalkStore = defineStore(&#x27;talk&#x27;,&#123; // åŠ¨ä½œ actions:&#123;&#125;, // çŠ¶æ€ state()&#123; return &#123; loveTalkList:[ &#123;id:&#x27;yuysada01&#x27;,content:&#x27;ä½ ä»Šå¤©æœ‰ç‚¹æ€ªï¼Œå“ªé‡Œæ€ªï¼Ÿæ€ªå¥½çœ‹çš„ï¼&#x27;&#125;, &#123;id:&#x27;yuysada02&#x27;,content:&#x27;è‰è“ã€è“è“ã€è”“è¶Šè“ï¼Œä½ æƒ³æˆ‘äº†æ²¡ï¼Ÿ&#x27;&#125;, &#123;id:&#x27;yuysada03&#x27;,content:&#x27;å¿ƒé‡Œç»™ä½ ç•™äº†ä¸€å—åœ°ï¼Œæˆ‘çš„æ­»å¿ƒå¡Œåœ°&#x27;&#125; ] &#125; &#125;, // è®¡ç®— getters:&#123;&#125;&#125;) ç»„ä»¶ä¸­ä½¿ç”¨stateä¸­çš„æ•°æ® Count.vue 1234567891011&lt;template&gt; &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123; countStore.sum &#125;&#125;&lt;/h2&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Count&quot;&gt; // å¼•å…¥å¯¹åº”çš„useXxxxxStore import &#123;useCountStore&#125; from &#x27;@/store/countStore&#x27; `` // è°ƒç”¨useXxxxxStoreå¾—åˆ°å¯¹åº”çš„store const countStore = useCountStore()&lt;/script&gt; LoveTalk.vue 1234567891011121314&lt;template&gt; &lt;ul&gt; &lt;li v-for=&quot;talk in loveTalkStore.loveTalkList&quot; :key=&quot;talk.id&quot;&gt; &#123;&#123; talk.content &#125;&#125; &lt;/li&gt; &lt;/ul&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Count&quot;&gt; import axios from &#x27;axios&#x27; import &#123; useLoveTalkStore &#125; from &#x27;@/store/loveTalkStore&#x27; const loveTalkStore = useLoveTalkStore()&lt;/script&gt; 2ï¼‰ã€ ä¿®æ”¹æ•°æ® (ä¸‰ç§æ–¹å¼) ç¬¬ä¸€ç§ä¿®æ”¹æ–¹å¼ï¼Œç›´æ¥ä¿®æ”¹ 12// åœ¨vueç»„ä»¶ä¸­ä¿®æ”¹countStore.sum = 666 ç¬¬äºŒç§ä¿®æ”¹æ–¹å¼ï¼šæ‰¹é‡ä¿®æ”¹ 123456789101112// åœ¨vueç»„ä»¶ä¸­ä¿®æ”¹// 1ï¼‰å¯¹è±¡å½¢å¼countStore.$patch(&#123; sum:999, school:&#x27;atguigu&#x27;&#125;)// 2ï¼‰å‡½æ•°å½¢å¼countStore.$patch((state) =&gt; &#123; state.sum=999, state.school=&#x27;atguigu&#x27;&#125;) ç¬¬ä¸‰ç§ä¿®æ”¹æ–¹å¼ï¼šå€ŸåŠ©actionä¿®æ”¹ï¼ˆactionä¸­å¯ä»¥ç¼–å†™ä¸€äº›ä¸šåŠ¡é€»è¾‘ï¼‰ 1234567891011121314151617181920// åœ¨piniaä¸­ä¿®æ”¹import &#123; defineStore &#125; from &#x27;pinia&#x27;export const useCountStore = defineStore (&#x27;count&#x27;, &#123; actions: &#123; //åŠ  increment(value:number) &#123; if (this.sum &lt; 10) &#123; //æ“ä½œcountStoreä¸­çš„sum this.sum += value &#125; &#125; &#125;&#125;)// åœ¨ç»„ä»¶ä¸­è°ƒç”¨actionlet optVal = ref(1);const countStore = useCountStore()//åœ¨å‡½æ•°ä¸­è°ƒç”¨countStore.increment(optVal.value) 3ï¼‰ã€ storeToRefs å€ŸåŠ©storeToRefså°†storeä¸­çš„æ•°æ®(stateï¼Œgetters)è½¬ä¸ºrefå“åº”å¯¹è±¡ï¼Œæ–¹ä¾¿åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚ æ³¨æ„ï¼špiniaæä¾›çš„storeToRefsåªä¼šå°†æ•°æ®åšè½¬æ¢ï¼Œè€ŒVueçš„toRefsä¼šè½¬æ¢storeä¸­æ‰€æœ‰çš„æ•°æ®ï¼ˆactions stateç­‰ç­‰ï¼‰ã€‚ action çš„ increment å¯ä»¥ç›´æ¥è§£æ„ï¼Œæ— éœ€ä½¿ç”¨ storeToRefs 12345678910111213141516&lt;template&gt; &lt;div class=&quot;count&quot;&gt; &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123;sum&#125;&#125;&lt;/h2&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Count&quot;&gt; import &#123; useCountStore &#125; from &#x27;@/store/count&#x27; /* å¼•å…¥storeToRefs */ import &#123; storeToRefs &#125; from &#x27;pinia&#x27; /* å¾—åˆ°countStore */ const countStore = useCountStore() /* ä½¿ç”¨storeToRefsè½¬æ¢countStoreï¼Œéšåè§£æ„(action çš„ increment å¯ä»¥ç›´æ¥è§£æ„æ— éœ€ä½¿ç”¨storeToRefs) */ const &#123;sum&#125; = storeToRefs(countStore)&lt;/script&gt; 4ï¼‰ã€ getters æ¦‚å¿µï¼šå½“stateä¸­çš„æ•°æ®ï¼Œéœ€è¦ç»è¿‡å¤„ç†åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨gettersé…ç½®ã€‚ è¿½åŠ gettersé…ç½®ã€‚ 1234567891011121314151617181920212223242526// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstoreimport &#123;defineStore&#125; from &#x27;pinia&#x27;// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstoreexport const useCountStore = defineStore(&#x27;count&#x27;,&#123; // åŠ¨ä½œ actions:&#123; /************/ &#125;, // çŠ¶æ€ state()&#123; return &#123; sum:1, school:&#x27;atguigu&#x27; &#125; &#125;, // è®¡ç®— getters: &#123; // ç®­å¤´å‡½æ•° doubleSum: (state): number =&gt; state.sum * 2, // æ™®é€šå‡½æ•° upperSchool(): string &#123; return (this.school = &#x27;å¸Œæœ›å°å­¦&#x27;); &#125; &#125;&#125;) ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š 123456789101112131415&lt;template&gt; &lt;div class=&quot;count&quot;&gt; &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123; sum &#125;&#125;, å½“å‰sunçš„ä¸¤å€&#123;&#123; doubleSum &#125;&#125;ã€‚ å°æ˜çš„å¤šå¤§äº†ï¼Ÿ &#123;&#123; age &#125;&#125;å²&lt;/h2&gt; &lt;h2&gt;å½“å‰å­¦æ ¡ä¸ºï¼š&#123;&#123; upperSchool &#125;&#125;&lt;/h2&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import &#123; useCountStore &#125; from &#x27;@/store/countStore&#x27;import &#123; storeToRefs &#125; from &#x27;pinia&#x27;const countStore = useCountStore()const &#123; sum, age, doubleSum, upperSchool &#125; = storeToRefs(countStore)&lt;/script&gt; 5ï¼‰ã€ $subscribeé€šè¿‡ store çš„ $subscribe() æ–¹æ³•ä¾¦å¬ state åŠå…¶å˜åŒ– 123456789101112131415161718192021// loveTalkStore.tsimport axios from &#x27;axios&#x27;import &#123; nanoid &#125; from &#x27;nanoid&#x27;import &#123; defineStore &#125; from &#x27;pinia&#x27;export const useLoveTalkStore = defineStore(&#x27;loveTalk&#x27;, &#123; state() &#123; return &#123; loveTalkList: JSON.parse(localStorage.getItem(&#x27;loveTalkList&#x27;) as string) || [], &#125; &#125;, actions: &#123; async getLoveTalk() &#123; const &#123; data: &#123; content: title &#125;, &#125; = await axios.get(&#x27;https://api.uomg.com/api/rand.qinghua?format=json&#x27;) this.loveTalkList.unshift(&#123; id: nanoid(), title &#125;) &#125;, &#125;,&#125;) 1234567891011121314151617181920212223242526272829303132// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ LoveTalk.vue&lt;template&gt; &lt;div class=&quot;LoveTalk&quot;&gt; &lt;button @click=&quot;queryLoveTalk&quot;&gt; è·å–ä¸€å¥åœŸå‘³æƒ…è¯ &lt;/button&gt; &lt;ul&gt; &lt;li v-for=&quot;(item, index) in loveTalkList&quot; :key=&quot;index&quot;&gt; &#123;&#123; item.title &#125;&#125; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import &#123; useLoveTalkStore &#125; from &#x27;@/store/loveTalkStore&#x27;import &#123; storeToRefs &#125; from &#x27;pinia&#x27;const loveTalkStore = useLoveTalkStore()const &#123; getLoveTalk &#125; = loveTalkStoreconst &#123; loveTalkList &#125; = storeToRefs(loveTalkStore)function queryLoveTalk() &#123; getLoveTalk()&#125;// ç»„ä»¶ä¸­ä½¿ç”¨$subscribeloveTalkStore.$subscribe((mutate, state) =&gt; &#123; console.log(&#x27;talkStoreé‡Œé¢ä¿å­˜çš„æ•°æ®å‘ç”Ÿäº†å˜åŒ–&#x27;, mutate, state) localStorage.setItem(&#x27;loveTalkList&#x27;, JSON.stringify(state.loveTalkList))&#125;)&lt;/script&gt; 5.3ã€ storeç»„åˆå¼å†™æ³•å’Œé€‰é¡¹å¼å†™æ³•å”¯ä¸€ä¸åŒçš„æ˜¯piniaä¸­çš„defineStor()ä¸­çš„å†™æ³•ä¸ä¸€æ ·ï¼Œå…¶ä»–éƒ½ä¸€æ ·(åœ¨ç»„ä»¶ä¸­ä¿®æ”¹æ•°æ®ï¼Œä½¿ç”¨ä¸€äº›api) 12345import &#123; defineStore &#125; from &#x27;pinia&#x27;export const useCountStore = defineStore(&#x27;count&#x27;, () =&gt; &#123; // ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸ªå‡½æ•° return &#123;&#125; // éœ€è¦æŠŠå®šä¹‰çš„æ•°æ®/æ–¹æ³•returnå‡ºå»&#125;) loveTalkStore.ts 12345678910111213141516171819202122import axios from &#x27;axios&#x27;import &#123; nanoid &#125; from &#x27;nanoid&#x27;import &#123; defineStore &#125; from &#x27;pinia&#x27;import &#123; reactive &#125; from &#x27;vue&#x27;export const useLoveTalkStore = defineStore(&#x27;loveTalk&#x27;, () =&gt; &#123; // talkListå°±æ˜¯state const loveTalkList = reactive(JSON.parse(localStorage.getItem(&#x27;loveTalkList&#x27;) as string) || []) // getATalkå‡½æ•°ç›¸å½“äºaction const getLoveTalk = async () =&gt; &#123; // å‘è¯·æ±‚ï¼Œä¸‹é¢è¿™è¡Œçš„å†™æ³•æ˜¯ï¼šè¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å const &#123; data: &#123; content: title &#125;, &#125; = await axios.get(&#x27;https://api.uomg.com/api/rand.qinghua?format=json&#x27;) // æŠŠè¯·æ±‚å›æ¥çš„å­—ç¬¦ä¸²ï¼ŒåŒ…è£…æˆä¸€ä¸ªå¯¹è±¡ const obj = &#123; id: nanoid(), title &#125; // æ”¾åˆ°æ•°ç»„ä¸­ loveTalkList.unshift(obj) &#125; return &#123; loveTalkList, getLoveTalk &#125;&#125;) countStore.ts 123456789101112131415161718192021import &#123; defineStore &#125; from &#x27;pinia&#x27;import &#123; computed, ref &#125; from &#x27;vue&#x27;interface StoreData &#123; sum: number school: string&#125;export const useCountStore = defineStore(&#x27;count&#x27;, () =&gt; &#123; const sum = ref(1) const school = ref(&#x27;school&#x27;) const doubleSum = computed(() =&gt; sum.value * 2) const upperSchool = computed(() =&gt; school) const increment = (val: StoreData) =&gt; &#123; sum.value += val.sum school.value = val.school &#125; return &#123; sum, school, doubleSum, upperSchool, increment &#125;&#125;) å…­ã€ç»„ä»¶é€šä¿¡Vue3ç»„ä»¶é€šä¿¡å’ŒVue2çš„åŒºåˆ«ï¼š ç§»å‡ºäº‹ä»¶æ€»çº¿ï¼Œä½¿ç”¨mittä»£æ›¿ã€‚ vuexæ¢æˆäº†piniaã€‚ æŠŠ.syncä¼˜åŒ–åˆ°äº†v-modelé‡Œé¢äº†ã€‚ æŠŠ$listenersæ‰€æœ‰çš„ä¸œè¥¿ï¼Œåˆå¹¶åˆ°$attrsä¸­äº†ã€‚ $childrenè¢«ç æ‰äº†ã€‚ å¸¸è§æ­é…å½¢å¼ï¼š 6.1ã€ propsæ¦‚è¿°ï¼špropsæ˜¯ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œå¸¸ç”¨ä¸ ï¼šçˆ¶ â†” å­ã€‚ è‹¥ çˆ¶ä¼ å­ï¼šå±æ€§å€¼æ˜¯éå‡½æ•°ã€‚ è‹¥ å­ä¼ çˆ¶ï¼šå±æ€§å€¼æ˜¯å‡½æ•°ã€‚ çˆ¶ç»„ä»¶ï¼šFather.vue 123456789101112131415161718192021&lt;template&gt; &lt;div class=&quot;father&quot;&gt; &lt;h3&gt;çˆ¶ç»„ä»¶&lt;/h3&gt; &lt;p&gt;æ±½è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;/p&gt; &lt;p&gt;å„¿å­ç»™çš„ç©å…·ï¼š&#123;&#123; toy &#125;&#125;&lt;/p&gt; &lt;Child :car=&quot;car&quot; :send-toy=&quot;getToy&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Father&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;import Child from &#x27;./Child.vue&#x27;const car = ref(&#x27;å¥”é©°&#x27;)const toy = ref(&#x27;&#x27;)function getToy(val: string) &#123; toy.value = val&#125;&lt;/script&gt; å­ç»„ä»¶ï¼šChild.vue 12345678910111213141516171819202122&lt;template&gt; &lt;div class=&quot;child&quot;&gt; &lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt; &lt;p&gt;ç©å…·ï¼š&#123;&#123; toy &#125;&#125;&lt;/p&gt; &lt;p&gt;çˆ¶äº²ç»™çš„è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;/p&gt; &lt;button @click=&quot;giveToy&quot;&gt; æŠŠç©å…·ç»™çˆ¶äº² &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Child&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;const props = defineProps([&#x27;car&#x27;, &#x27;sendToy&#x27;]) // æ¥æ”¶å‚æ•°const toy = ref(&#x27;å¥¥ç‰¹æ›¼&#x27;)function giveToy() &#123; props.sendToy(toy.value) // é€šè¿‡å‡½æ•°çš„å½¢å‚å°†å­çº§çš„æ•°æ®ä¼ é€’ç»™çˆ¶çº§å‡½æ•°çš„å®å‚å¹¶è°ƒç”¨&#125;&lt;/script&gt; 6.2ã€ è‡ªå®šä¹‰äº‹ä»¶defineEmits æ¦‚è¿°ï¼šè‡ªå®šä¹‰äº‹ä»¶å¸¸ç”¨äºï¼šå­ &#x3D;&gt; çˆ¶ã€‚ æ³¨æ„åŒºåˆ†å¥½ï¼šåŸç”Ÿäº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ã€‚ åŸç”Ÿäº‹ä»¶ï¼š äº‹ä»¶åæ˜¯ç‰¹å®šçš„ï¼ˆclickã€mosueenterç­‰ç­‰ï¼‰ äº‹ä»¶å¯¹è±¡$event: æ˜¯åŒ…å«äº‹ä»¶ç›¸å…³ä¿¡æ¯çš„å¯¹è±¡ï¼ˆpageXã€pageYã€targetã€keyCodeï¼‰ è‡ªå®šä¹‰äº‹ä»¶ï¼š äº‹ä»¶åæ˜¯ä»»æ„åç§° äº‹ä»¶å¯¹è±¡$event: æ˜¯è°ƒç”¨emitæ—¶æ‰€æä¾›çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ï¼ï¼ çˆ¶ç»„ä»¶ï¼šFather.vue 1234567891011121314151617181920&lt;template&gt; &lt;div class=&quot;father&quot;&gt; &lt;h3&gt;çˆ¶ç»„ä»¶&lt;/h3&gt; &lt;h4&gt;å­ç»™çš„ç©å…·ï¼š&#123;&#123; toy &#125;&#125;&lt;/h4&gt; &lt;!-- ç»™å­ç»„ä»¶Childç»‘å®šäº‹ä»¶ --&gt; &lt;Child @send-toy=&quot;saveToy&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Father&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;import Child from &#x27;./Child.vue&#x27;// æ•°æ®const toy = ref(&#x27;______&#x27;)// ç”¨äºä¿å­˜ä¼ é€’è¿‡æ¥çš„ç©å…·function saveToy(value: string) &#123; toy.value = value&#125;&lt;/script&gt; å­ç»„ä»¶ï¼šChild.vue 123456789101112131415161718192021&lt;template&gt; &lt;div class=&quot;child&quot;&gt; &lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt; &lt;h4&gt;ç©å…·ï¼š&#123;&#123; toy &#125;&#125;&lt;/h4&gt; &lt;button @click=&quot;giveToy&quot;&gt; æŠŠç©å…·ç»™çˆ¶äº² &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Child&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;// å£°æ˜äº‹ä»¶const emits = defineEmits([&#x27;send-toy&#x27;])// æ•°æ®const toy = ref(&#x27;å¥¥ç‰¹æ›¼&#x27;)function giveToy() &#123; emits(&#x27;send-toy&#x27;, toy.value)&#125;&lt;/script&gt; æ‰©å±•ï¼šå½“æœ‰å¤šä¸ªå‚æ•°çš„æ—¶å€™ï¼Œè·å–äº‹ä»¶å¯¹è±¡å°±éœ€è¦ä½¿ç”¨$eventå»å ä½ 1234567891011121314&gt;&lt;template&gt; &lt;div class=&quot;child&quot;&gt; &lt;button @click=&quot;test(5, 6, $event)&quot;&gt; æµ‹è¯• &lt;/button&gt; &lt;/div&gt;&gt;&lt;/template&gt;&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Child&quot;&gt;&gt;function test(a, b, e) &#123; console.log(e)&gt;&#125;&gt;&lt;/script&gt; 6.3ã€ mittæ¦‚è¿°ï¼šä¸æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆpubsubï¼‰åŠŸèƒ½ç±»ä¼¼ï¼Œå¯ä»¥å®ç°ä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚ ã€ç¬¬ä¸€æ­¥ã€‘ï¼šå®‰è£…mitt 1pnpm add mitt ã€ç¬¬äºŒæ­¥ã€‘ï¼šæ–°å»ºæ–‡ä»¶ï¼šsrc\\utils\\emitter.ts 1234567891011121314151617181920212223242526272829303132// å¼•å…¥mitt import mitt from &quot;mitt&quot;;// åˆ›å»ºemitterconst emitter = mitt()// åˆ›å»ºå¹¶æš´éœ²mittexport default emitter/* å…¶ä»–é¡µé¢ä½¿ç”¨çš„è¯­æ³• // ç»‘å®šäº‹ä»¶(æ¥æ”¶) emitter.on(&#x27;abc&#x27;,(value)=&gt;&#123; console.log(&#x27;abcäº‹ä»¶è¢«è§¦å‘&#x27;,value) &#125;) emitter.on(&#x27;xyz&#x27;,(value)=&gt;&#123; console.log(&#x27;xyzäº‹ä»¶è¢«è§¦å‘&#x27;,value) &#125;) setInterval(() =&gt; &#123; // è§¦å‘äº‹ä»¶(ä¼ é€’) emitter.emit(&#x27;abc&#x27;,666) emitter.emit(&#x27;xyz&#x27;,777) &#125;, 1000); setTimeout(() =&gt; &#123; // è§£ç»‘äº‹æŸä¸ªä»¶ emitter.off(&#x27;abc&#x27;) // æ¸…ç†å…¨éƒ¨äº‹ä»¶ emitter.all.clear() &#125;, 3000); */ ã€ç¬¬ä¸‰æ­¥ã€‘ï¼šæ¥æ”¶æ•°æ®çš„ç»„ä»¶ä¸­ï¼šç»‘å®šäº‹ä»¶ã€åŒæ—¶åœ¨é”€æ¯å‰è§£ç»‘äº‹ä»¶ï¼š 123456789101112import emitter from &quot;@/utils/emitter&quot;;import &#123; onUnmounted &#125; from &quot;vue&quot;;// ç»‘å®šäº‹ä»¶emitter.on(&#x27;send-toy&#x27;,(value)=&gt;&#123; console.log(&#x27;send-toyäº‹ä»¶è¢«è§¦å‘&#x27;,value)&#125;)onUnmounted(()=&gt;&#123; // è§£ç»‘äº‹ä»¶ emitter.off(&#x27;send-toy&#x27;)&#125;) ã€ç¬¬å››æ­¥ã€‘ï¼šæä¾›æ•°æ®çš„ç»„ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶å€™è§¦å‘äº‹ä»¶ 123456import emitter from &quot;@/utils/emitter&quot;;function sendToy()&#123; // è§¦å‘äº‹ä»¶ emitter.emit(&#x27;send-toy&#x27;,toy.value)&#125; æ³¨æ„è¿™ä¸ªé‡è¦çš„å†…ç½®å…³ç³»ï¼Œæ€»çº¿ä¾èµ–ç€è¿™ä¸ªå†…ç½®å…³ç³» 6.4ã€ v-modelæ¦‚è¿°ï¼šå®ç° çˆ¶â†”å­ ä¹‹é—´ç›¸äº’é€šä¿¡ã€‚ 1ï¼‰ã€v-modelç”¨åœ¨htmlæ ‡ç­¾ä¸Šï¼ˆå‰åºçŸ¥è¯†ï¼‰123456789&lt;!-- htmlæ ‡ç­¾ä¸Šä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;&lt;input type=&quot;text&quot; v-model=&quot;userName&quot;&gt;&lt;!-- htmlæ ‡ç­¾ä¸Šä½¿ç”¨v-modelæœ¬è´¨ --&gt;&lt;input type=&quot;text&quot; :value=&quot;userName&quot; @input=&quot;userName = ($event.target as HTMLInputElement).value&quot;&gt; ä½¿ç”¨ï¼š 1234567891011121314151617181920212223242526&lt;template&gt; &lt;input type=&quot;text&quot; :value=&quot;userName&quot; @input=&quot;userName = ($event.target as HTMLInputElement).value&quot; &gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Father&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;&lt;/script&gt;---------- ç­‰åŒäºå¦‚ä¸‹ä»£ç  ----------&lt;template&gt; &lt;input type=&quot;text&quot; :value=&quot;userName&quot; @input=&quot;change&quot; /&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Father&quot;&gt;let userName = ref(&#x27;&#x27;)function change(e: Event) &#123; const inputElement = e.target as HTMLInputElement userName.value = inputElement.value&#125;&lt;/script&gt; 2ï¼‰ã€v-modelç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼ˆå‰åºçŸ¥è¯†ï¼‰123456789101112131415161718192021&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;&lt;AtguiguInput v-model=&quot;userName&quot;/&gt;&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šv-modelçš„æœ¬è´¨ --&gt;&lt;AtguiguInput :modelValue=&quot;userName&quot; @update:model-value=&quot;userName = $event&quot;/&gt;**æ³¨æ„ï¼š**&lt;!-- åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šv-modelæœ¬è´¨ä¸­ï¼Œvue2å’Œvue3ç¨å¾®æœ‰æ‰€ä¸åŒ --&gt;ä¼ å‚åï¼š- vue2 :value- vue3 :modelValueè‡ªå®šä¹‰äº‹ä»¶åï¼š- vue2 @input- vue3 @update:model-value ä½¿ç”¨ï¼š Father.vue 1&lt;AtguiguInput v-model=&quot;userName&quot;/&gt; AtguiguInput.vueç»„ä»¶ä¸­ï¼š 1234567891011121314151617181920212223242526272829303132&lt;template&gt; &lt;div class=&quot;box&quot;&gt; &lt;!-- å°†æ¥æ”¶çš„valueå€¼èµ‹ç»™inputå…ƒç´ çš„valueå±æ€§ï¼Œç›®çš„æ˜¯ï¼šä¸ºäº†å‘ˆç°æ•°æ® --&gt; &lt;!-- ç»™inputå…ƒç´ ç»‘å®šåŸç”Ÿinputäº‹ä»¶ï¼Œè§¦å‘inputäº‹ä»¶æ—¶ï¼Œè¿›è€Œè§¦å‘update:model-valueäº‹ä»¶ --&gt; &lt;input type=&quot;text&quot; :value=&quot;modelValue&quot; @input=&quot;emit(&#x27;update:model-value&#x27;, $event.target.value)&quot; &gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;AtguiguInput&quot;&gt;// æ¥æ”¶propsdefineProps([&#x27;modelValue&#x27;])// å£°æ˜äº‹ä»¶const emit = defineEmits([&#x27;update:model-value&#x27;])&lt;/script&gt;// Vue 3.4+ å†™æ³•// çˆ¶ç»„ä»¶&lt;AtguiguInput v-model=&quot;userName&quot;/&gt;// å­ç»„ä»¶&lt;template&gt; &lt;input v-model=&quot;model&quot; /&gt;&lt;/template&gt;&lt;script setup&gt; // 1. å°±è¿™ä¸€è¡Œï¼Œæ²¡äº†ï¼ const model = defineModel()&lt;/script&gt; æ¡ˆä¾‹ï¼š 123456789// çˆ¶ç»„ä»¶&lt;template&gt; &lt;VanPopupComponent v-model:sign-show=&quot;signShow&quot; /&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt; const signShow = ref(true)&lt;/script&gt; 1234567891011121314151617181920212223242526272829303132// å­ç»„ä»¶&lt;template&gt; &lt;van-popup v-model:show=&quot;localSignShow&quot; position=&quot;bottom&quot; round closeable @update:show=&quot;onUpdateSignShow&quot; &gt; &lt;p class=&quot;popup-title&quot;&gt;ç­¾çº¦æç¤º&lt;/p&gt; &lt;div class=&quot;popup-content&quot;&gt;54545&lt;/div&gt; &lt;/van-popup&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;interface VanPopupProps &#123; signShow: boolean&#125;const props = withDefaults(defineProps&lt;VanPopupProps&gt;(), &#123; signShow: false,&#125;)const emit = defineEmits([&#x27;update:signShow&#x27;])const localSignShow = ref(props.signShow)watch(() =&gt; props.signShow, val =&gt; localSignShow.value = val)const onUpdateSignShow = (val: boolean) =&gt; &#123; localSignShow.value = val emit(&#x27;update:signShow&#x27;, val)&#125;&lt;/script&gt; Vue 3.4+ ç®€å†™ 123456789101112131415161718192021222324252627// çˆ¶ç»„ä»¶&lt;template&gt; &lt;VanPopupComponent v-model:sign-show=&quot;signShow&quot; /&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt; const signShow = ref(true)&lt;/script&gt;// å­ç»„ä»¶&lt;template&gt; &lt;van-popup v-model:show=&quot;signShow&quot; position=&quot;bottom&quot; round closeable &gt; &lt;p class=&quot;popup-title&quot;&gt;ç­¾çº¦æç¤º&lt;/p&gt; &lt;div class=&quot;popup-content&quot;&gt;54545&lt;/div&gt; &lt;/van-popup&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;// å› ä¸ºçˆ¶ç»„ä»¶å°†v-modelé»˜è®¤åmodelValueæ”¹æˆäº†sign-showï¼Œå› æ­¤defineModel(&#x27;signShow&#x27;)ä¸­éœ€è¦ä¼ é€’ä¸ªä¿®æ”¹ä¹‹åçš„åå­—const signShow = defineModel&lt;boolean&gt;(&#x27;signShow&#x27;)&lt;/script&gt; 2-1ã€ä¿®æ”¹ä¼ é€’å‚æ•°çš„é»˜è®¤å€¼æ›´æ¢modelValueï¼Œä¾‹å¦‚æ”¹æˆabc 12345&lt;!-- ä¹Ÿå¯ä»¥æ›´æ¢valueï¼Œä¾‹å¦‚æ”¹æˆabc--&gt;&lt;AtguiguInput v-model:abc=&quot;userName&quot;/&gt;&lt;!-- ä¸Šé¢ä»£ç çš„æœ¬è´¨å¦‚ä¸‹ --&gt;&lt;AtguiguInput :abc=&quot;userName&quot; @update:abc=&quot;userName = $event&quot;/&gt; AtguiguInputç»„ä»¶ä¸­ï¼š 1234567891011121314151617&lt;template&gt; &lt;div class=&quot;box&quot;&gt; &lt;input type=&quot;text&quot; :value=&quot;abc&quot; @input=&quot;emit(&#x27;update:abc&#x27;, $event.target.value)&quot; &gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;AtguiguInput&quot;&gt;// æ¥æ”¶propsdefineProps([&#x27;abc&#x27;])// å£°æ˜äº‹ä»¶const emit = defineEmits([&#x27;update:abc&#x27;])&lt;/script&gt; 2-2ã€ç»„ä»¶æ ‡ç­¾ä¸Šå¤šæ¬¡ä½¿ç”¨v-modelå¦‚æœvalueå¯ä»¥æ›´æ¢ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šå¤šæ¬¡ä½¿ç”¨v-model 1&lt;AtguiguInput v-model:abc=&quot;userName&quot; v-model:xyz=&quot;password&quot;/&gt; AtguiguInputç»„ä»¶ä¸­ï¼š 123456789101112&lt;template&gt; &lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šå¤šæ¬¡ä½¿ç”¨`v-model` --&gt; &lt;input :value=&quot;ming&quot; type=&quot;text&quot; @input=&quot;emits(&#x27;update:ming&#x27;, ($event.target as HTMLInputElement).value)&quot;&gt; &lt;br&gt; &lt;br&gt; &lt;input :value=&quot;mima&quot; type=&quot;text&quot; @input=&quot;emits(&#x27;update:mima&#x27;, ($event.target as HTMLInputElement).value)&quot;&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;AtguiguInput&quot;&gt;defineProps([&#x27;ming&#x27;, &#x27;mima&#x27;])const emits = defineEmits([&#x27;update:ming&#x27;, &#x27;update:mima&#x27;])&lt;/script&gt; 2-3ã€v-modeläºŒæ¬¡å°è£…ç»„ä»¶123456789101112131415161718192021222324252627// å­ç»„ä»¶&lt;template&gt; &lt;el-dialog v-model=&quot;getShow&quot; title=&quot;Shipping address&quot; width=&quot;80%&quot;&gt; ä½ å¥½ &lt;/el-dialog&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;const props = defineProps(&#123; modelValue: &#123; type: Boolean, default: false, &#125;,&#125;);const emits = defineEmits([&quot;update:model-value&quot;]);const getShow = computed(&#123; get: () =&gt; props.modelValue, set: (val) =&gt; &#123; emits(&quot;update:model-value&quot;, val); &#125;,&#125;);&lt;/script&gt;&lt;style scoped lang=&quot;scss&quot;&gt;&lt;/style&gt; 123456789çˆ¶ç»„ä»¶&lt;template&gt; &lt;StatisticsDialog v-model=&quot;dialogTableVisible&quot; /&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;const dialogTableVisible = ref(false)&lt;/script&gt; 6.5ã€ $attrs æ¦‚è¿°ï¼š$attrsç”¨äºå®ç°å½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶ï¼Œå‘å½“å‰ç»„ä»¶çš„å­ç»„ä»¶é€šä¿¡ï¼ˆç¥–â†’å­™ï¼‰ã€‚ å…·ä½“è¯´æ˜ï¼š$attrsæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰çˆ¶ç»„ä»¶ä¼ å…¥çš„æ ‡ç­¾å±æ€§ã€‚ æ³¨æ„ï¼š$attrsä¼šè‡ªåŠ¨æ’é™¤propsä¸­å£°æ˜çš„å±æ€§(å¯ä»¥è®¤ä¸ºå£°æ˜è¿‡çš„ props è¢«å­ç»„ä»¶è‡ªå·±â€œæ¶ˆè´¹â€äº†)ï¼Œå³$attrsä¸­å¯ä»¥å–åˆ°ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼Œå¦‚æœä¼ å€¼è¿‡æ¥çš„å‚æ•°åœ¨propsä¸­å£°æ˜äº†ï¼Œåˆ™ä¸ä¼šåœ¨ $attrsä¸­å±•ç¤º çŸ¥è¯†æ‰©å±• 123&lt;Child v-bind=&quot;&#123;x:100,y:200&#125;&quot;/&gt;ç­‰ä»·äº&lt;Child :x:100 :y:200&#125;&quot;/&gt; çˆ¶ç»„ä»¶ï¼š 123456789101112131415161718192021&lt;template&gt; &lt;div class=&quot;father&quot;&gt; &lt;h3&gt;çˆ¶ç»„ä»¶&lt;/h3&gt; &lt;Child :a=&quot;a&quot; :b=&quot;b&quot; :c=&quot;c&quot; :d=&quot;d&quot; v-bind=&quot;&#123; x: 100, y: 200 &#125;&quot; :update-a=&quot;updateA&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Father&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;import Child from &#x27;./Child.vue&#x27;const a = ref(1)const b = ref(2)const c = ref(3)const d = ref(4)function updateA(value) &#123; a.value += value&#125;&lt;/script&gt; å­ç»„ä»¶ï¼š 1234567891011&lt;template&gt; &lt;div class=&quot;child&quot;&gt; &lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt; &lt;GrandChild v-bind=&quot;$attrs&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Child&quot;&gt;import GrandChild from &#x27;./GrandChild.vue&#x27;&lt;/script&gt; å­™ç»„ä»¶ï¼š 12345678910111213141516171819&lt;template&gt; &lt;div class=&quot;grand-child&quot;&gt; &lt;h3&gt;å­™ç»„ä»¶&lt;/h3&gt; &lt;h4&gt;aï¼š&#123;&#123; a &#125;&#125;&lt;/h4&gt; &lt;h4&gt;bï¼š&#123;&#123; b &#125;&#125;&lt;/h4&gt; &lt;h4&gt;cï¼š&#123;&#123; c &#125;&#125;&lt;/h4&gt; &lt;h4&gt;dï¼š&#123;&#123; d &#125;&#125;&lt;/h4&gt; &lt;h4&gt;xï¼š&#123;&#123; x &#125;&#125;&lt;/h4&gt; &lt;h4&gt;yï¼š&#123;&#123; y &#125;&#125;&lt;/h4&gt; &lt;button @click=&quot;updateA(666)&quot;&gt; ç‚¹æˆ‘æ›´æ–°A &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;GrandChild&quot;&gt;defineProps([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;x&#x27;, &#x27;y&#x27;, &#x27;updateA&#x27;])&lt;/script&gt; 6.6ã€ $refs $parent æ¦‚è¿°ï¼š $refsç”¨äº ï¼šçˆ¶â†’å­ã€‚ $parentç”¨äºï¼šå­â†’çˆ¶ã€‚ åŸç†å¦‚ä¸‹ï¼š å±æ€§ è¯´æ˜ $refs å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰è¢«refå±æ€§æ ‡è¯†çš„DOMå…ƒç´ æˆ–ç»„ä»¶å®ä¾‹ã€‚ $parent å€¼ä¸ºå¯¹è±¡ï¼Œå½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚ çˆ¶ç»„ä»¶ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;template&gt; &lt;div class=&quot;father&quot;&gt; &lt;h3&gt;çˆ¶ç»„ä»¶&lt;/h3&gt; &lt;h4&gt;æˆ¿äº§ï¼š&#123;&#123; house &#125;&#125;&lt;/h4&gt; &lt;button @click=&quot;changeToy&quot;&gt; ä¿®æ”¹Child1çš„ç©å…· &lt;/button&gt; &lt;button @click=&quot;changeComputer&quot;&gt; ä¿®æ”¹Child2çš„ç”µè„‘ &lt;/button&gt; &lt;button @click=&quot;getAllChild($refs)&quot;&gt; è®©æ‰€æœ‰å­©å­çš„ä¹¦å˜å¤š &lt;/button&gt; &lt;Child1 ref=&quot;c1&quot; /&gt; &lt;Child2 ref=&quot;c2&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Father&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;import Child1 from &#x27;./Child1.vue&#x27;import Child2 from &#x27;./Child2.vue&#x27;const c1 = ref()const c2 = ref()// æ•°æ®const house = ref(4)// æ–¹æ³•function changeToy() &#123; c1.value.toy = &#x27;å°çŒªä½©å¥‡&#x27;&#125;function changeComputer() &#123; c2.value.computer = &#x27;åä¸º&#x27;&#125;function getAllChild(refs: &#123; [key: string]: any &#125;) &#123; for (const key in refs) &#123; refs[key].book += 3 &#125;&#125;// å‘å¤–éƒ¨æä¾›æ•°æ®defineExpose(&#123; house &#125;)&lt;/script&gt;&lt;style scoped&gt;.father &#123; padding: 20px; background-color: rgb(165 164 164); border-radius: 10px;&#125;.father button &#123; margin-bottom: 10px; margin-left: 10px;&#125;&lt;/style&gt; å­ç»„ä»¶ï¼šChild1.vue 12345678910111213141516171819202122232425262728293031323334353637&lt;template&gt; &lt;div class=&quot;child1&quot;&gt; &lt;h3&gt;å­ç»„ä»¶1&lt;/h3&gt; &lt;h4&gt;ç©å…·ï¼š&#123;&#123; toy &#125;&#125;&lt;/h4&gt; &lt;h4&gt;ä¹¦ç±ï¼š&#123;&#123; book &#125;&#125; æœ¬&lt;/h4&gt; &lt;button @click=&quot;minusHouse($parent)&quot;&gt; å¹²æ‰çˆ¶äº²çš„ä¸€å¥—æˆ¿äº§ &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Child1&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;// æ•°æ®const toy = ref(&#x27;å¥¥ç‰¹æ›¼&#x27;)const book = ref(3)// æ–¹æ³•function minusHouse(parent: any) &#123; console.log(parent) parent.house -= 1&#125;// æŠŠæ•°æ®äº¤ç»™å¤–éƒ¨defineExpose(&#123; toy, book &#125;)&lt;/script&gt;&lt;style scoped&gt;.child1 &#123; padding: 20px; margin-top: 20px; background-color: skyblue; border-radius: 10px; box-shadow: 0 0 10px black;&#125;&lt;/style&gt; å­ç»„ä»¶ï¼šChild2.vue 123456789101112131415161718192021222324252627&lt;template&gt; &lt;div class=&quot;child2&quot;&gt; &lt;h3&gt;å­ç»„ä»¶2&lt;/h3&gt; &lt;h4&gt;ç”µè„‘ï¼š&#123;&#123; computer &#125;&#125;&lt;/h4&gt; &lt;h4&gt;ä¹¦ç±ï¼š&#123;&#123; book &#125;&#125; æœ¬&lt;/h4&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Child2&quot;&gt;import &#123; ref &#125; from &#x27;vue&#x27;// æ•°æ®const computer = ref(&#x27;è”æƒ³&#x27;)const book = ref(6)// æŠŠæ•°æ®äº¤ç»™å¤–éƒ¨defineExpose(&#123; computer, book &#125;)&lt;/script&gt;&lt;style scoped&gt;.child2 &#123; padding: 20px; margin-top: 20px; background-color: orange; border-radius: 10px; box-shadow: 0 0 10px black;&#125;&lt;/style&gt; 6.7ã€ provideã€inject æ¦‚è¿°ï¼šå®ç°ç¥–å­™ç»„ä»¶ç›´æ¥é€šä¿¡ å…·ä½“ä½¿ç”¨ï¼š åœ¨ç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡provideé…ç½®å‘åä»£ç»„ä»¶æä¾›æ•°æ® åœ¨åä»£ç»„ä»¶ä¸­é€šè¿‡injecté…ç½®æ¥å£°æ˜æ¥æ”¶æ•°æ® å…·ä½“ç¼–ç ï¼š ã€ç¬¬ä¸€æ­¥ã€‘çˆ¶ç»„ä»¶ä¸­ï¼Œä½¿ç”¨provideæä¾›æ•°æ® 123456789101112131415161718192021222324252627282930313233343536&lt;template&gt; &lt;div class=&quot;father&quot;&gt; &lt;h3&gt;çˆ¶ç»„ä»¶&lt;/h3&gt; &lt;h4&gt;é“¶å­ï¼š&#123;&#123; money &#125;&#125;ä¸‡å…ƒ&lt;/h4&gt; &lt;h4&gt;è½¦å­ï¼šä¸€è¾†&#123;&#123; car.brand &#125;&#125;è½¦ï¼Œä»·å€¼&#123;&#123; car.price &#125;&#125;ä¸‡å…ƒ&lt;/h4&gt; &lt;Child /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Father&quot;&gt;import &#123; provide, reactive, ref &#125; from &#x27;vue&#x27;import Child from &#x27;./Child.vue&#x27;const money = ref(100)const car = reactive(&#123; brand: &#x27;å¥”é©°&#x27;, price: 100,&#125;)function updateMoney(value: number) &#123; money.value -= value&#125;// å‘åä»£æä¾›æ•°æ®// è¯­æ³•ï¼šprovide(å‘½å, ä¼ å‚);provide(&#x27;moneyContext&#x27;, &#123; money, updateMoney &#125;) // æ³¨æ„moneyä¸èƒ½ç”¨money.valueï¼Œç”¨.vueå°±æ˜¯ä¼ é€’çš„ä¸€ä¸ªæ•°å­— è€Œä¸æ˜¯ä¸€ä¸ªå“åº”å¼æ•°æ®provide(&#x27;car&#x27;, car)&lt;/script&gt;&lt;style scoped&gt;.father &#123; padding: 20px; background-color: rgb(165 164 164); border-radius: 10px;&#125;&lt;/style&gt; æ³¨æ„ï¼šå­ç»„ä»¶ä¸­ä¸ç”¨ç¼–å†™ä»»ä½•ä¸œè¥¿ï¼Œæ˜¯ä¸å—åˆ°ä»»ä½•æ‰“æ‰°çš„ ã€ç¬¬äºŒæ­¥ã€‘å­™ç»„ä»¶ä¸­ä½¿ç”¨injecté…ç½®é¡¹æ¥å—æ•°æ®ã€‚ 12345678910111213141516171819202122232425262728&lt;template&gt; &lt;div class=&quot;grand-child&quot;&gt; &lt;h3&gt;æˆ‘æ˜¯å­™ç»„ä»¶&lt;/h3&gt; &lt;h4&gt;é“¶å­ï¼š&#123;&#123; money &#125;&#125;&lt;/h4&gt; &lt;h4&gt;è½¦å­ï¼šä¸€è¾†&#123;&#123; car.brand &#125;&#125;è½¦ï¼Œä»·å€¼&#123;&#123; car.price &#125;&#125;ä¸‡å…ƒ&lt;/h4&gt; &lt;button @click=&quot;updateMoney(6)&quot;&gt; èŠ±çˆ·çˆ·çš„é’± &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;GrandChild&quot;&gt;import &#123; inject &#125; from &#x27;vue&#x27;// inject(å‘½å, é»˜è®¤å‚æ•°);const &#123; money, updateMoney &#125; = inject(&#x27;moneyContext&#x27;, &#123; money: 0, updateMoney: (param: number) =&gt; &#123;&#125; &#125;)const car = inject(&#x27;car&#x27;, &#123; brand: &#x27;æœªçŸ¥&#x27;, price: 0 &#125;)&lt;/script&gt;&lt;style scoped&gt;.grand-child &#123; padding: 20px; background-color: orange; border-radius: 10px; box-shadow: 0 0 10px black;&#125;&lt;/style&gt; 6.8ã€ piniaå‚è€ƒä¹‹å‰piniaéƒ¨åˆ†çš„è®²è§£ 6.9ã€ slot1ï¼‰ã€ é»˜è®¤æ’æ§½ 1234567891011121314çˆ¶ç»„ä»¶ä¸­ï¼š&lt;Category title=&quot;ä»Šæ—¥çƒ­é—¨æ¸¸æˆ&quot;&gt; &lt;ul&gt; &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt; &lt;/ul&gt;&lt;/Category&gt;å­ç»„ä»¶ä¸­ï¼š&lt;template&gt; &lt;div class=&quot;item&quot;&gt; &lt;h3&gt;&#123;&#123; title &#125;&#125;&lt;/h3&gt; &lt;!-- é»˜è®¤æ’æ§½ --&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt;&lt;/template&gt; 2ï¼‰ã€ å…·åæ’æ§½çˆ¶ç»„ä»¶ï¼šv-slot: xxxå­ç»„ä»¶ï¼šname&#x3D; â€œxxxâ€ å…¶ä¸­v-slot: xxx å¯ä»¥ç®€å†™æˆ #xxx 1234567891011121314151617181920çˆ¶ç»„ä»¶ä¸­ï¼š&lt;Category title=&quot;ä»Šæ—¥çƒ­é—¨æ¸¸æˆ&quot;&gt; &lt;template v-slot:s1&gt; &lt;ul&gt; &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt; &lt;/ul&gt; &lt;/template&gt; &lt;template #s2&gt; &lt;a href=&quot;&quot;&gt;æ›´å¤š&lt;/a&gt; &lt;/template&gt;&lt;/Category&gt;å­ç»„ä»¶ä¸­ï¼š&lt;template&gt; &lt;div class=&quot;item&quot;&gt; &lt;h3&gt;&#123;&#123; title &#125;&#125;&lt;/h3&gt; &lt;slot name=&quot;s1&quot;&gt;&lt;/slot&gt; &lt;slot name=&quot;s2&quot;&gt;&lt;/slot&gt; &lt;/div&gt;&lt;/template&gt; 3ï¼‰ã€ ä½œç”¨åŸŸæ’æ§½ ç†è§£ï¼šæ’æ§½çš„å†…å®¹æ— æ³•è®¿é—®åˆ°å­ç»„ä»¶çš„çŠ¶æ€ï¼Œç„¶è€Œåœ¨æŸäº›åœºæ™¯ä¸‹æ’æ§½çš„å†…å®¹å¯èƒ½æƒ³è¦åŒæ—¶ä½¿ç”¨çˆ¶ç»„ä»¶åŸŸå†…å’Œå­ç»„ä»¶åŸŸå†…çš„æ•°æ®ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥è®©å­ç»„ä»¶åœ¨æ¸²æŸ“æ—¶å°†ä¸€éƒ¨åˆ†æ•°æ®æä¾›ç»™æ’æ§½ã€‚ å…·ä½“ç¼–ç ï¼š 12345678910111213141516171819202122232425262728çˆ¶ç»„ä»¶ä¸­ï¼š &lt;Game v-slot=&quot;slotProps&quot;&gt; // è¿™å‡ ç§å†™æ³•éƒ½ä¸€æ · &lt;!-- &lt;Game v-slot:default=&quot;slotProps&quot;&gt; --&gt; &lt;!-- &lt;Game #default=&quot;slotProps&quot;&gt; --&gt; &lt;!-- &lt;Game #=&quot;params&quot;&gt; --&gt; &lt;ul&gt; &lt;li v-for=&quot;g in slotProps.games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt; &lt;/ul&gt; &lt;/Game&gt;å­ç»„ä»¶ä¸­ï¼š&lt;template&gt; &lt;div class=&quot;category&quot;&gt; &lt;h2&gt;ä»Šæ—¥æ¸¸æˆæ¦œå•&lt;/h2&gt; &lt;slot :games=&quot;games&quot; a=&quot;å“ˆå“ˆ&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;Category&quot;&gt;import &#123;reactive&#125; from &#x27;vue&#x27;let games = reactive([ &#123;id:&#x27;asgdytsa01&#x27;,name:&#x27;è‹±é›„è”ç›Ÿ&#x27;&#125;, &#123;id:&#x27;asgdytsa02&#x27;,name:&#x27;ç‹è€…è£è€€&#x27;&#125;, &#123;id:&#x27;asgdytsa03&#x27;,name:&#x27;çº¢è‰²è­¦æˆ’&#x27;&#125;, &#123;id:&#x27;asgdytsa04&#x27;,name:&#x27;æ–—ç½—å¤§é™†&#x27;&#125;])&lt;/script&gt; ä¸ƒã€ directiveè‡ªå®šä¹‰æŒ‡ä»¤ TIP åªæœ‰å½“æ‰€éœ€åŠŸèƒ½åªèƒ½é€šè¿‡ç›´æ¥çš„ DOM æ“ä½œæ¥å®ç°æ—¶ï¼Œæ‰åº”è¯¥ä½¿ç”¨è‡ªå®šä¹‰æŒ‡ä»¤ã€‚å…¶ä»–æƒ…å†µä¸‹åº”è¯¥å°½å¯èƒ½åœ°ä½¿ç”¨ v-bind è¿™æ ·çš„å†…ç½®æŒ‡ä»¤æ¥å£°æ˜å¼åœ°ä½¿ç”¨æ¨¡æ¿ï¼Œè¿™æ ·æ›´é«˜æ•ˆï¼Œä¹Ÿå¯¹æœåŠ¡ç«¯æ¸²æŸ“æ›´å‹å¥½ã€‚ è‡ªå®šä¹‰æŒ‡ä»¤ä¼šæœ‰æŒ‡ä»¤é’©å­ï¼Œå½“éœ€è¦åœ¨æŒ‡ä»¤ä¸­ç”¨åˆ°å¤šä¸ªé’©å­åˆ™éœ€è¦ä½¿ç”¨å¯¹è±¡çš„å½¢å¼æ¥å®Œæˆã€‚ 1234567891011// å±€éƒ¨const vFocus = &#123; created(el, binding, vnode) &#123;&#125;, ... ...&#125;;// å…¨å±€app.directive(&#x27;focus&#x27;, &#123; created(el, binding, vnode) &#123;&#125;, ... ...&#125;) å¦‚æœåªéœ€è¦éœ€è¦åœ¨ mounted å’Œ updated é’©å­ä¸Šä¸Šå®ç°ç›¸åŒçš„è¡Œä¸ºï¼Œé™¤æ­¤ä¹‹å¤–å¹¶ä¸éœ€è¦å…¶ä»–é’©å­ã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ä¸€ä¸ªå‡½æ•°æ¥å®šä¹‰æŒ‡ä»¤ 1234567// å±€éƒ¨const vFocus = el =&gt; el.focus();// å…¨å±€app.directive(&#x27;focus&#x27;, (el, binding, vnode) =&gt; &#123; /* ... */&#125;) 7.1ã€ å±€éƒ¨è‡ªå®šä¹‰æŒ‡ä»¤1ï¼‰ã€åœ¨ä½¿ç”¨è¯­æ³•ç³–åœ¨ä½¿ç”¨&lt;script setup&gt;çš„æƒ…å†µä¸‹ 123456789101112&lt;template&gt; &lt;input v-focus&gt;&lt;/template&gt;&lt;script setup&gt;const vFocus = &#123; mounted: el =&gt; el.focus(),&#125;// ç®€å†™å½¢å¼// const vFocus = el =&gt; el.focus();&lt;/script&gt; 1ï¼‰ã€åœ¨æœªä½¿ç”¨è¯­æ³•ç³–åœ¨æ²¡æœ‰ä½¿ç”¨ &lt;script setup&gt; çš„æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰æŒ‡ä»¤éœ€è¦é€šè¿‡ directives é€‰é¡¹æ³¨å†Œï¼š 123456789101112131415161718192021222324&lt;template&gt; &lt;input v-focus&gt;&lt;/template&gt;&lt;script&gt;export default &#123; directives: &#123; focus: &#123; mounted: el =&gt; el.focus(), &#125;, // ç®€å†™å½¢å¼1 // focus(el) &#123; // el.focus(); // &#125; // ç®€å†™å½¢å¼2 // focus: el =&gt; el.focus() &#125;, setup() &#123; /* ... */ &#125;,&#125;&lt;/script&gt; 7.2ã€ å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤å°†ä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤å…¨å±€æ³¨å†Œåˆ°åº”ç”¨å±‚çº§ä¹Ÿæ˜¯ä¸€ç§å¸¸è§çš„åšæ³•ï¼š 123456789101112const app = createApp(&#123;&#125;)// ä½¿ v-focus åœ¨æ‰€æœ‰ç»„ä»¶ä¸­éƒ½å¯ç”¨app.directive(&#x27;focus&#x27;, &#123; created(el, binding, vnode) &#123;&#125;, ... ...&#125;)// ç®€å†™app.directive(&#x27;focus&#x27;, (el, binding, vnode) =&gt; &#123; /* ... */&#125;) 7.3ã€ æŒ‡ä»¤é’©å­ä¸€ä¸ªæŒ‡ä»¤çš„å®šä¹‰å¯¹è±¡å¯ä»¥æä¾›å‡ ç§é’©å­å‡½æ•° (éƒ½æ˜¯å¯é€‰çš„)ï¼š 12345678910111213141516171819202122const myDirective = &#123; // åœ¨ç»‘å®šå…ƒç´ çš„ attribute å‰ // æˆ–äº‹ä»¶ç›‘å¬å™¨åº”ç”¨å‰è°ƒç”¨ created(el, binding, vnode) &#123; // ä¸‹é¢ä¼šä»‹ç»å„ä¸ªå‚æ•°çš„ç»†èŠ‚ &#125;, // åœ¨å…ƒç´ è¢«æ’å…¥åˆ° DOM å‰è°ƒç”¨ beforeMount(el, binding, vnode) &#123;&#125;, // åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶ // åŠä»–è‡ªå·±çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æŒ‚è½½å®Œæˆåè°ƒç”¨ mounted(el, binding, vnode) &#123;&#125;, // ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶æ›´æ–°å‰è°ƒç”¨ beforeUpdate(el, binding, vnode, prevVnode) &#123;&#125;, // åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶ // åŠä»–è‡ªå·±çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æ›´æ–°åè°ƒç”¨ updated(el, binding, vnode, prevVnode) &#123;&#125;, // ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶å¸è½½å‰è°ƒç”¨ beforeUnmount(el, binding, vnode) &#123;&#125;, // ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶å¸è½½åè°ƒç”¨ unmounted(el, binding, vnode) &#123;&#125;&#125; é’©å­å‚æ•° æŒ‡ä»¤çš„é’©å­ä¼šä¼ é€’ä»¥ä¸‹å‡ ç§å‚æ•°ï¼š elï¼šæŒ‡ä»¤ç»‘å®šåˆ°çš„å…ƒç´ ã€‚è¿™å¯ä»¥ç”¨äºç›´æ¥æ“ä½œ DOMã€‚ bindingï¼šä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å±æ€§ã€‚ valueï¼šä¼ é€’ç»™æŒ‡ä»¤çš„å€¼ã€‚ä¾‹å¦‚åœ¨ v-my-directive=&quot;1 + 1&quot; ä¸­ï¼Œå€¼æ˜¯ 2ã€‚ oldValueï¼šä¹‹å‰çš„å€¼ï¼Œä»…åœ¨ beforeUpdate å’Œ updated ä¸­å¯ç”¨ã€‚æ— è®ºå€¼æ˜¯å¦æ›´æ”¹ï¼Œå®ƒéƒ½å¯ç”¨ã€‚ argï¼šä¼ é€’ç»™æŒ‡ä»¤çš„å‚æ•° (å¦‚æœæœ‰çš„è¯)ã€‚ä¾‹å¦‚åœ¨ v-my-directive:foo ä¸­ï¼Œå‚æ•°æ˜¯ &quot;foo&quot;ã€‚ modifiersï¼šä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ (å¦‚æœæœ‰çš„è¯)ã€‚ä¾‹å¦‚åœ¨ v-my-directive.foo.bar ä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡æ˜¯ &#123; foo: true, bar: true &#125;ã€‚ instanceï¼šä½¿ç”¨è¯¥æŒ‡ä»¤çš„ç»„ä»¶å®ä¾‹ã€‚ dirï¼šæŒ‡ä»¤çš„å®šä¹‰å¯¹è±¡ã€‚ vnodeï¼šä»£è¡¨ç»‘å®šå…ƒç´ çš„åº•å±‚ VNodeã€‚ prevVnodeï¼šä»£è¡¨ä¹‹å‰çš„æ¸²æŸ“ä¸­æŒ‡ä»¤æ‰€ç»‘å®šå…ƒç´ çš„ VNodeã€‚ä»…åœ¨ beforeUpdate å’Œ updated é’©å­ä¸­å¯ç”¨ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œåƒä¸‹é¢è¿™æ ·ä½¿ç”¨æŒ‡ä»¤ï¼š 1&lt;div v-example:foo.bar=&quot;baz&quot;&gt; binding å‚æ•°ä¼šæ˜¯ä¸€ä¸ªè¿™æ ·çš„å¯¹è±¡ï¼š 123456&#123; arg: &#x27;foo&#x27;, modifiers: &#123; bar: true &#125;, value: /* `baz` çš„å€¼ */, oldValue: /* ä¸Šä¸€æ¬¡æ›´æ–°æ—¶ `baz` çš„å€¼ */&#125; å’Œå†…ç½®æŒ‡ä»¤ç±»ä¼¼ï¼Œè‡ªå®šä¹‰æŒ‡ä»¤çš„å‚æ•°ä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€çš„ã€‚ä¸¾ä¾‹æ¥è¯´ï¼š 12&lt;div v-example:[arg]=&quot;value&quot;&gt;&lt;/div&gt;// è¿™é‡ŒæŒ‡ä»¤çš„å‚æ•°ä¼šåŸºäºç»„ä»¶çš„ arg æ•°æ®å±æ€§å“åº”å¼åœ°æ›´æ–°ã€‚ 7.4ã€ ç®€åŒ–å½¢å¼å¯¹äºè‡ªå®šä¹‰æŒ‡ä»¤æ¥è¯´ï¼Œä¸€ä¸ªå¾ˆå¸¸è§çš„æƒ…å†µæ˜¯ä»…ä»…éœ€è¦åœ¨ mounted å’Œ updated ä¸Šå®ç°ç›¸åŒçš„è¡Œä¸ºï¼Œé™¤æ­¤ä¹‹å¤–å¹¶ä¸éœ€è¦å…¶ä»–é’©å­ã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ä¸€ä¸ªå‡½æ•°æ¥å®šä¹‰æŒ‡ä»¤ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1&lt;div v-color=&quot;color&quot;&gt;&lt;/div&gt; 1234app.directive(&#x27;color&#x27;, (el, binding) =&gt; &#123; // è¿™ä¼šåœ¨ `mounted` å’Œ `updated` æ—¶éƒ½è°ƒç”¨ el.style.color = binding.value&#125;) å…«ã€ å…¶å®ƒ API8.1ã€ shallowRef ä¸ shallowReactiv1ï¼‰ã€ shallowRef ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œä½†åªå¯¹é¡¶å±‚å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†ã€‚ ç”¨æ³•ï¼š 1let myVar = shallowRef(initialValue); ç‰¹ç‚¹ï¼šåªè·Ÿè¸ªå¼•ç”¨å€¼çš„å˜åŒ–ï¼Œä¸å…³å¿ƒå€¼å†…éƒ¨çš„å±æ€§å˜åŒ–ã€‚ç®€å•æ¥è¯´åªå¯¹ XXX.value &#x3D; â€˜111â€™çš„ç”Ÿæ•ˆ å¯¹ obj.value.xxx &#x3D; â€˜111â€™ä¸ç”Ÿæ•ˆã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142&lt;template&gt; &lt;div class=&quot;app&quot;&gt; &lt;h2&gt;æ±‚å’Œä¸ºï¼š&#123;&#123; sum &#125;&#125;&lt;/h2&gt; &lt;h2&gt;åå­—ä¸ºï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt; &lt;h2&gt;å¹´é¾„ä¸ºï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeSum&quot;&gt; sum+1 &lt;/button&gt; &lt;button @click=&quot;changeName&quot;&gt; ä¿®æ”¹åå­— &lt;/button&gt; &lt;button @click=&quot;changeAge&quot;&gt; ä¿®æ”¹å¹´é¾„ &lt;/button&gt; &lt;button @click=&quot;changePerson&quot;&gt; ä¿®æ”¹æ•´ä¸ªäºº &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;App&quot;&gt;import &#123; shallowRef &#125; from &#x27;vue&#x27;const sum = shallowRef(0)const person = shallowRef(&#123; name: &#x27;å¼ ä¸‰&#x27;, age: 18,&#125;)function changeSum() &#123; // æ”¹å˜è§†å›¾ sum.value += 1&#125;function changeName() &#123; // æœªæ”¹å˜è§†å›¾ person.value.name = &#x27;æå››&#x27;&#125;function changeAge() &#123; // æœªæ”¹å˜è§†å›¾ person.value.age += 1&#125;function changePerson() &#123; // æ”¹å˜è§†å›¾ person.value = &#123; name: &#x27;tony&#x27;, age: 100 &#125;&#125;&lt;/script&gt; 2ï¼‰ã€ shallowReactive ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªæµ…å±‚å“åº”å¼å¯¹è±¡ï¼Œåªä¼šä½¿å¯¹è±¡çš„æœ€é¡¶å±‚å±æ€§å˜æˆå“åº”å¼çš„ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§åˆ™ä¸ä¼šå˜æˆå“åº”å¼çš„ ç”¨æ³•ï¼š 1const myObj = shallowReactive(&#123; ... &#125;); ç‰¹ç‚¹ï¼šå¯¹è±¡çš„é¡¶å±‚å±æ€§æ˜¯å“åº”å¼çš„ï¼Œä½†åµŒå¥—å¯¹è±¡çš„å±æ€§ä¸æ˜¯ã€‚ç®€å•æ¥è¯´åªå¯¹ç¬¬ä¸€å±‚çš„å±æ€§å€¼ç”Ÿæ•ˆ 123456789101112131415161718192021222324252627282930313233343536373839&lt;template&gt; &lt;div class=&quot;app&quot;&gt; &lt;h2&gt;æ±‚å’Œä¸ºï¼š&#123;&#123; sum &#125;&#125;&lt;/h2&gt; &lt;h2&gt;åå­—ä¸ºï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt; &lt;h2&gt;å¹´é¾„ä¸ºï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt; &lt;h2&gt;æ±½è½¦ä¸ºï¼š&#123;&#123; car &#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;changeBrand&quot;&gt; ä¿®æ”¹å“ç‰Œ &lt;/button&gt; &lt;button @click=&quot;changeColor&quot;&gt; ä¿®æ”¹é¢œè‰² &lt;/button&gt; &lt;button @click=&quot;changeEngine&quot;&gt; ä¿®æ”¹å‘åŠ¨æœº &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;App&quot;&gt;import &#123; shallowReactive &#125; from &#x27;vue&#x27;const car = shallowReactive(&#123; barnd: &#x27;å¥”é©°&#x27;, options: &#123; color: &#x27;çº¢è‰²&#x27;, engine: &#x27;V8&#x27;, &#125;,&#125;)function changeBrand() &#123; // æ”¹å˜è§†å›¾ car.barnd = &#x27;å®é©¬&#x27;&#125;function changeColor() &#123; // æ”¹å˜è§†å›¾ car.options.color = &#x27;ç´«è‰²&#x27;&#125;function changeEngine() &#123; // æ”¹å˜è§†å›¾ car.options.engine = &#x27;V12&#x27;&#125;&lt;/script&gt; 3ï¼‰ã€ æ€»ç»“ é€šè¿‡ä½¿ç”¨ shallowRef() å’Œ shallowReactive() æ¥ç»•å¼€æ·±åº¦å“åº”ã€‚æµ…å±‚å¼ API åˆ›å»ºçš„çŠ¶æ€åªåœ¨å…¶é¡¶å±‚æ˜¯å“åº”å¼çš„ï¼Œå¯¹æ‰€æœ‰æ·±å±‚çš„å¯¹è±¡ä¸ä¼šåšä»»ä½•å¤„ç†ï¼Œé¿å…äº†å¯¹æ¯ä¸€ä¸ªå†…éƒ¨å±æ€§åšå“åº”å¼æ‰€å¸¦æ¥çš„æ€§èƒ½æˆæœ¬ï¼Œè¿™ä½¿å¾—å±æ€§çš„è®¿é—®å˜å¾—æ›´å¿«ï¼Œå¯æå‡æ€§èƒ½ã€‚ 8.2ã€ readonly ä¸ shallowReadonly1ï¼‰ã€ readonly ä½œç”¨ï¼šç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ·±åªè¯»å‰¯æœ¬ã€‚ ç”¨æ³•ï¼š 12const original = reactive(&#123; ... &#125;);const readOnlyCopy = readonly(original); // readonlyçš„å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªå“åº”å¼æ•°æ® ç‰¹ç‚¹ï¼š å¯¹è±¡çš„æ‰€æœ‰åµŒå¥—å±æ€§éƒ½å°†å˜ä¸ºåªè¯»ã€‚ ä»»ä½•å°è¯•ä¿®æ”¹è¿™ä¸ªå¯¹è±¡çš„æ“ä½œéƒ½ä¼šè¢«é˜»æ­¢ï¼ˆåœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œè¿˜ä¼šåœ¨æ§åˆ¶å°ä¸­å‘å‡ºè­¦å‘Šï¼‰ã€‚ åº”ç”¨åœºæ™¯ï¼š åˆ›å»ºä¸å¯å˜çš„çŠ¶æ€å¿«ç…§ã€‚ ä¿æŠ¤å…¨å±€çŠ¶æ€æˆ–é…ç½®ä¸è¢«ä¿®æ”¹ã€‚ 2ï¼‰ã€ shallowReadonly ä½œç”¨ï¼šä¸ readonly ç±»ä¼¼ï¼Œä½†åªä½œç”¨äºå¯¹è±¡çš„é¡¶å±‚å±æ€§ã€‚ ç”¨æ³•ï¼š 12const original = reactive(&#123; ... &#125;);const shallowReadOnlyCopy = shallowReadonly(original); ç‰¹ç‚¹ï¼š åªå°†å¯¹è±¡çš„é¡¶å±‚å±æ€§è®¾ç½®ä¸ºåªè¯»ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§ä»ç„¶æ˜¯å¯å˜çš„ã€‚ é€‚ç”¨äºåªéœ€ä¿æŠ¤å¯¹è±¡é¡¶å±‚å±æ€§çš„åœºæ™¯ã€‚ 8.3ã€toRaw ä¸ markRaw1ï¼‰ã€ toRaw ä½œç”¨ï¼šç”¨äºè·å–ä¸€ä¸ªå“åº”å¼å¯¹è±¡çš„åŸå§‹å¯¹è±¡ï¼Œ toRaw è¿”å›çš„å¯¹è±¡ä¸å†æ˜¯å“åº”å¼çš„ï¼Œä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚ å®˜ç½‘æè¿°ï¼šè¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨äºä¸´æ—¶è¯»å–è€Œä¸å¼•èµ·ä»£ç†è®¿é—®&#x2F;è·Ÿè¸ªå¼€é”€ï¼Œæˆ–æ˜¯å†™å…¥è€Œä¸è§¦å‘æ›´æ”¹çš„ç‰¹æ®Šæ–¹æ³•ã€‚ä¸å»ºè®®ä¿å­˜å¯¹åŸå§‹å¯¹è±¡çš„æŒä¹…å¼•ç”¨ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚ ä½•æ—¶ä½¿ç”¨ï¼Ÿ â€”â€” åœ¨éœ€è¦å°†å“åº”å¼å¯¹è±¡ä¼ é€’ç»™é Vue çš„åº“æˆ–å¤–éƒ¨ç³»ç»Ÿæ—¶ï¼Œä½¿ç”¨ toRaw å¯ä»¥ç¡®ä¿å®ƒä»¬æ”¶åˆ°çš„æ˜¯æ™®é€šå¯¹è±¡ å…·ä½“ç¼–ç ï¼š 1234567import &#123; reactive,toRaw,markRaw,isReactive &#125; from &quot;vue&quot;;/* toRaw */// å“åº”å¼å¯¹è±¡let person = reactive(&#123;name:&#x27;tony&#x27;,age:18&#125;)// åŸå§‹å¯¹è±¡let rawPerson = toRaw(person) 2ï¼‰ã€ markRaw ä½œç”¨ï¼šæ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶æ°¸è¿œä¸ä¼šå˜æˆå“åº”å¼çš„ã€‚ ä¾‹å¦‚ä½¿ç”¨mockjsæ—¶ï¼Œä¸ºäº†é˜²æ­¢è¯¯æŠŠmockjså˜ä¸ºå“åº”å¼å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ markRaw å»æ ‡è®°mockjs ç¼–ç ï¼š 123456789/* markRaw */let citys = markRaw([ &#123;id:&#x27;asdda01&#x27;,name:&#x27;åŒ—äº¬&#x27;&#125;, &#123;id:&#x27;asdda02&#x27;,name:&#x27;ä¸Šæµ·&#x27;&#125;, &#123;id:&#x27;asdda03&#x27;,name:&#x27;å¤©æ´¥&#x27;&#125;, &#123;id:&#x27;asdda04&#x27;,name:&#x27;é‡åº†&#x27;&#125;])// æ ¹æ®åŸå§‹å¯¹è±¡cityså»åˆ›å»ºå“åº”å¼å¯¹è±¡citys2 â€”â€” åˆ›å»ºå¤±è´¥ï¼Œå› ä¸ºcitysè¢«markRawæ ‡è®°äº†let citys2 = reactive(citys) 8.4ã€customRef(è‡ªå®šä¹‰ref)ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„refï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œé€»è¾‘æ§åˆ¶ã€‚ å®ç°é˜²æŠ–æ•ˆæœhooksï¼ˆuseSumRef.tsï¼‰ï¼š 1234567891011121314151617181920212223import &#123; customRef &#125; from &#x27;vue&#x27;export default function (initValue: string, delay: number) &#123; // track() è·Ÿè¸ª trigger() è§¦å‘ const msg = customRef((track, trigger) =&gt; &#123; let timer: number return &#123; get() &#123; track() // å‘Šè¯‰Vueæ•°æ®msgå¾ˆé‡è¦ï¼Œè¦å¯¹msgæŒç»­å…³æ³¨ï¼Œä¸€æ—¦å˜åŒ–å°±æ›´æ–° return initValue &#125;, set(value) &#123; clearTimeout(timer) timer = setTimeout(() =&gt; &#123; initValue = value trigger() // é€šçŸ¥Vueæ•°æ®msgå˜åŒ–äº† &#125;, delay) &#125;, &#125; &#125;) return &#123; msg &#125;&#125; ç»„ä»¶ä¸­ä½¿ç”¨ï¼š 1234567891011121314151617&lt;template&gt; &lt;div class=&quot;app&quot;&gt; &lt;h2&gt;&#123;&#123; msg &#125;&#125;&lt;/h2&gt; &lt;input v-model=&quot;msg&quot; type=&quot;text&quot;&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot; name=&quot;App&quot;&gt;import useMsgRef from &#x27;./useMsgRef&#x27;// ä½¿ç”¨Vueæä¾›çš„é»˜è®¤refå®šä¹‰å“åº”å¼æ•°æ®ï¼Œæ•°æ®ä¸€å˜ï¼Œé¡µé¢å°±æ›´æ–°// let msg = ref(&#x27;ä½ å¥½&#x27;)// ä½¿ç”¨useMsgRefæ¥å®šä¹‰ä¸€ä¸ªå“åº”å¼æ•°æ®ä¸”æœ‰å»¶è¿Ÿæ•ˆæœconst &#123; msg &#125; = useMsgRef(&#x27;ä½ å¥½&#x27;, 2000)&lt;/script&gt; ä¹ã€Vue3æ–°ç»„ä»¶9.1ã€ Teleport ä»€ä¹ˆæ˜¯Teleportï¼Ÿâ€”â€” Teleport æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„ç»„ä»¶htmlç»“æ„ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®çš„æŠ€æœ¯ã€‚ app.vue 1234567891011121314&lt;template&gt; &lt;div class=&quot;&quot;&gt; ä½ å¥½ &lt;/div&gt; &lt;teleport to=&quot;body&quot;&gt; // toï¼šæ’åˆ°æŒ‡å®šçš„htmlä½ç½® &lt;Modal /&gt; &lt;/teleport&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import Modal from &#x27;./components/Modal.vue&#x27;&lt;/script&gt; Modal.vue 12345678&lt;template&gt; &lt;div class=&quot;modal&quot;&gt; &lt;h2&gt;æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—&lt;/h2&gt; &lt;p&gt;æˆ‘æ˜¯å¼¹çª—ä¸­çš„ä¸€äº›å†…å®¹&lt;/p&gt; &lt;button&gt;å…³é—­å¼¹çª—&lt;/button&gt; &lt;/div&gt;&lt;/template&gt; 9.2ã€ Suspense(å®éªŒæ€§åŠŸèƒ½) ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“ä¸€äº›é¢å¤–å†…å®¹ï¼Œè®©åº”ç”¨æœ‰æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ ä½¿ç”¨æ­¥éª¤ï¼š å¼‚æ­¥å¼•å…¥ç»„ä»¶ ä½¿ç”¨SuspenseåŒ…è£¹ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½default ä¸ fallback 123import &#123; defineAsyncComponent,Suspense &#125; from &quot;vue&quot;;// defineAsyncComponentå¯ä½¿ç»„ä»¶å˜æˆå¼‚æ­¥ç»„ä»¶const Child = defineAsyncComponent(()=&gt;import(&#x27;./Child.vue&#x27;)) 1234567891011121314&lt;template&gt; &lt;div class=&quot;app&quot;&gt; &lt;h3&gt;æˆ‘æ˜¯Appç»„ä»¶&lt;/h3&gt; &lt;Suspense&gt; &lt;template #default&gt; &lt;Child /&gt; &lt;/template&gt; &lt;template #fallback&gt; &lt;h3&gt;åŠ è½½ä¸­.......&lt;/h3&gt; &lt;/template&gt; &lt;/Suspense&gt; &lt;/div&gt;&lt;/template&gt; 9.3ã€ å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡ app.componentï¼šæ³¨å†Œå…¨å±€ç»„ä»¶ 12345678910111213&lt;!-- hello.vue --&gt;&lt;template&gt; &lt;p&gt;helloWord&lt;/p&gt;&lt;/template&gt;&lt;!-- main.ts --&gt;import Child from &#x27;./components/Child.vue&#x27;;app.component(&#x27;Child&#x27;, Child);&lt;!-- app.vue --&gt;&lt;template&gt; &lt;Child /&gt;&lt;/template&gt; app.config.globalPropertiesï¼šç”¨äºæ³¨å†Œèƒ½å¤Ÿè¢«åº”ç”¨å†…æ‰€æœ‰ç»„ä»¶å®ä¾‹è®¿é—®åˆ°çš„å…¨å±€å±æ€§çš„å¯¹è±¡ 12345678910111213&lt;!-- main.ts --&gt;app.config.globalProperties.msg = &#x27;hello&#x27;declare module &#x27;vue&#x27; &#123; // è§£å†³msgåœ¨å…¶ä»–é¡µé¢ä½¿ç”¨æ—¶tsæŠ¥é”™ï¼Œå¯å•ç‹¬å†™ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä¸æ¨èè¿‡åº¦ä½¿ç”¨ interface ComponentCustomProperties &#123; msg: number &#125;&#125;&lt;!-- app.vue --&gt;&lt;template&gt; &lt;p&gt;&#123;&#123; msg &#125;&#125;&lt;/p&gt;&lt;/template&gt; app.mount app.unmount app.use 9.4ã€å…¶ä»– è¿‡æ¸¡ç±»å v-enter ä¿®æ”¹ä¸º v-enter-fromã€è¿‡æ¸¡ç±»å v-leave ä¿®æ”¹ä¸º v-leave-fromã€‚ keyCode ä½œä¸º v-on ä¿®é¥°ç¬¦çš„æ”¯æŒã€‚ v-model æŒ‡ä»¤åœ¨ç»„ä»¶ä¸Šçš„ä½¿ç”¨å·²ç»è¢«é‡æ–°è®¾è®¡ï¼Œæ›¿æ¢æ‰äº† v-bind.syncã€‚ v-if å’Œ v-for åœ¨åŒä¸€ä¸ªå…ƒç´ èº«ä¸Šä½¿ç”¨æ—¶çš„ä¼˜å…ˆçº§å‘ç”Ÿäº†å˜åŒ–ã€‚ ç§»é™¤äº†$onã€$off å’Œ $once å®ä¾‹æ–¹æ³•ã€‚ ç§»é™¤äº†è¿‡æ»¤å™¨ filterã€‚ ç§»é™¤äº†$children å®ä¾‹ propertã€‚ â€¦â€¦&#96;&#96;","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"vue3","slug":"vue3","permalink":"http://example.com/tags/vue3/"}]},{"title":"ES6æ¨¡å—åŒ–ä¹‹exportå’Œimportçš„ç”¨æ³•","slug":"35-ES6æ¨¡å—åŒ–ä¹‹exportå’Œimportçš„ç”¨æ³•","date":"2025-08-12T15:51:08.000Z","updated":"2026-03-01T16:07:38.351Z","comments":true,"path":"posts/82ba275f.html","permalink":"http://example.com/posts/82ba275f.html","excerpt":"","text":"ES6ä¸­exportå’Œimportä¸€èˆ¬çš„ç”¨æ³•æœ‰ä¸¤ç§ å‘½åå¯¼å‡ºï¼ˆNamed exportsï¼‰ é»˜è®¤å¯¼å‡ºï¼ˆDefault exportsï¼‰ ä¸€ã€export å‘½åå¯¼å‡ºå°±æ˜¯æ¯ä¸€ä¸ªéœ€è¦å¯¼å‡ºçš„æ•°æ®ç±»å‹éƒ½è¦æœ‰ä¸€ä¸ªname(å˜é‡å)ï¼Œç»Ÿä¸€å¼•å…¥ä¸€å®šè¦å¸¦æœ‰&#123;&#125;ï¼Œå³ä¾¿åªæœ‰ä¸€ä¸ªéœ€è¦å¯¼å‡ºçš„æ•°æ®ç±»å‹ã€‚è¿™ç§å†™æ³•æ¸…çˆ½ç›´è§‚ï¼Œæ˜¯æ¨èçš„å†™æ³•ã€‚ å¯¼å‡ºï¼š 1234567891011121314/ profile.js// å†™æ³•1ï¼šexport let firstName = &#x27;Michael&#x27;;export function v2() &#123; return &#x27;è¿™æ˜¯ä¸€ä¸ªå‡½æ•°&#x27; &#125;// å†™æ³•2(å¸¸ç”¨)ï¼šlet firstName = &#x27;Michael&#x27;function v2() &#123; return &#x27;è¿™æ˜¯ä¸€ä¸ªå‡½æ•°&#x27; &#125;export &#123; firstName, v2&#125; å¯¼å…¥ï¼š 1234/ test.vueä¸­// å¯¼å…¥è¯¥æ–‡ä»¶åº”è¯¥ä½¿ç”¨é‡å‘½åä¹‹åçš„å˜é‡åimport &#123; firstName, v2 &#125; from &#x27;./profile.js&#x27; 1.1ã€åˆ«åå¼•å…¥ï¼ˆAliasing named importsï¼‰å½“ä»ä¸åŒæ¨¡å—å¼•å…¥çš„å˜é‡åç›¸åŒçš„æ—¶å€™ 12import &#123;speak&#125; from &#x27;./cow.js&#x27;import &#123;speak&#125; from &#x27;./goat.js&#x27; è¿™äº›å†™æ³•æ˜¾ç„¶ä¼šé€ æˆæ··ä¹± æ­£åˆ‡åº”è¯¥ä½¿ç”¨aså…³é”®å­—ï¼Œå°†è¾“å…¥çš„å˜é‡é‡å‘½åã€‚ 12import &#123;speak as cowSpeak&#125; from &#x27;./cow.js&#x27;import &#123;speak as goatSpeak&#125; from &#x27;./goat.js&#x27; å¯æ˜¯ï¼Œå½“ä»æ¯ä¸ªæ¨¡å—éœ€è¦å¼•å…¥çš„æ–¹æ³•å¾ˆå¤šçš„æ—¶å€™ï¼Œè¿™ç§å†™æ³•å°±æ˜¾å¾—ååˆ†çš„ç¹çã€å†—é•¿ï¼Œä¾‹å¦‚ 1234567891011121314151617import &#123; speak as cowSpeak, eat as cowEat, drink as cowDrink&#125; from &#x27;./cow.js&#x27;import &#123; speak as goatSpeak, eat as goatEat, drink as goatDrink&#125; from &#x27;./goat.js&#x27;cowSpeak() // moocowEat() // cow eatsgoatSpeak() // baagoatDrink() // goat drinks è§£å†³æ–¹æ¡ˆå°±æ˜¯å‘½åç©ºé—´å¼•å…¥äº† 1.2ã€å‘½åç©ºé—´å¼•å…¥ï¼ˆNamespace importsï¼‰12345import * as cow from &#x27;./cow.js&#x27;import * as goat from &#x27;./goat.js&#x27;cow.speak() // moogoat.speak() // baa ååˆ†çš„ç®€æ´ä¼˜é›… 1.3ã€aså…³é”®å­—é‡å‘½åé€šå¸¸æƒ…å†µä¸‹ï¼Œexportè¾“å‡ºçš„å˜é‡å°±æ˜¯æœ¬æ¥çš„åå­—ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨aså…³é”®å­—é‡å‘½åã€‚ å¯¼å‡ºï¼š 123456789/ profile.jsfunction v1() &#123; ... &#125;function v2() &#123; ... &#125;export &#123; v1 as streamV1, v2 as streamV2&#125;; å¯¼å…¥ï¼š 1234/ test.vueä¸­// å¯¼å…¥è¯¥æ–‡ä»¶åº”è¯¥ä½¿ç”¨é‡å‘½åä¹‹åçš„å˜é‡åimport &#123; streamV1, streamV2 &#125; from &#x27;./profile.js&#x27; äºŒã€export default é»˜è®¤å¯¼å‡ºé»˜è®¤å¯¼å‡ºå°±ä¸éœ€è¦nameäº†ï¼Œä½†æ˜¯ä¸€ä¸ªjsæ–‡ä»¶ä¸­åªèƒ½æœ‰ä¸€ä¸ªexport defaultã€‚ å¯¼å‡ºï¼š 123456/ export-default.jsexport default function () &#123; ... &#125;// æˆ–è€…å†™æˆfunction foo() &#123; ... &#125;export default foo; å¯¼å…¥ï¼š 1234/ test.vue// åŠ è½½è¯¥æ¨¡å—æ—¶ï¼Œ`import`å‘½ä»¤å¯ä»¥ä¸ºè¯¥åŒ¿åå‡½æ•°æŒ‡å®šä»»æ„åå­—ã€‚import customName from &#x27;./export-default&#x27;;customName(); å…¶å®è¿™ç§å¯¼å‡ºæ–¹å¼å¯ä»¥çœ‹æˆæ˜¯å‘½åå¯¼å‡ºçš„å˜å¼‚ ï¼Œåªä¸è¿‡æŠŠå‘½åå†™æˆäº†defaultã€‚ 2.1ã€export defaultä¹Ÿèƒ½å¯¼å‡ºå¤šä¸ªå˜é‡12345678910111213141516171819/ export-default.jsexport default&#123; v2() &#123; return &#x27;è¿™æ˜¯ä¸€ä¸ªå‡½æ•°&#x27; &#125;, aa: 6666&#125;// æˆ–è€…å†™æˆconst v2 = () =&gt; &#123; return &#x27;è¿™æ˜¯ä¸€ä¸ªå‡½æ•°&#x27; &#125;const aa = 6666export default&#123; v2, aa&#125;# main.jsimport fn from &#x27;.export-default.js&#x27;console.log(fn.v2(), fn.aa) // è¿™æ˜¯ä¸€ä¸ªå‡½æ•° 6666","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"}]},{"title":"Date()/Math()å¯¹è±¡æ–¹æ³•","slug":"34-Date Mathå¯¹è±¡æ–¹æ³•","date":"2025-08-07T15:51:08.000Z","updated":"2026-03-01T16:07:38.351Z","comments":true,"path":"posts/79541cc.html","permalink":"http://example.com/posts/79541cc.html","excerpt":"","text":"Date å¯¹è±¡Date å¯¹è±¡ç”¨äºå¤„ç†æ—¥æœŸä¸æ—¶é—´ã€‚ åˆ›å»º Date å¯¹è±¡ï¼š new Date() å®ä¾‹123456789101112131415161718192021let dt = new Date() //Sat Aug 10 2019 10:47:16 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)let y = dt.getFullYear() //å¹´let m = dt.getMonth() + 1 //æœˆlet d = dt.getDate() //æ—¥let hh = dt.getHours() //æ—¶let mm = dt.getMinutes() //åˆ†let ss = dt.getSeconds() //ç§’let ww = dt.getDay() //æ˜ŸæœŸconsole.log(y + &#x27;å¹´-&#x27; + m + &#x27;æœˆ-&#x27; + d + &#x27;æ—¥-&#x27; + hh + &#x27;:&#x27; + mm + &#x27;:&#x27; + ss + &#x27; æ˜ŸæœŸ&#x27; + ww);let mi = new Date().getTime() console.log(mi); // è¿”å› 1970 å¹´ 1 æœˆ 1 æ—¥è‡³ä»Šçš„æ¯«ç§’æ•°ã€‚Date.now() //è¿”å› 1970 å¹´ 1 æœˆ 1 æ—¥è‡³ä»Šçš„æ¯«ç§’æ•°ã€‚#1514345477æ¯«ç§’çš„æ—¶é—´let dt = new Date(1514345477) //Sun Jan 18 1970 20:39:05 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)#å½“å‰çš„æ—¶é—´let dt = new Date() //Sat Aug 10 2019 10:47:16 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)#å½“ä¸è¶³ä¸¤ä½æ•°çš„æ—¶å€™å°±åœ¨å‰é¢è¡¥0let m = (dt.getMonth() + 1 +&#x27;&#x27;).padStar(2,&#x27;0&#x27;) new Date().getTime() å’Œ Date.now() å’Œnew Date().valueOf()å’Œ+new Date() éƒ½æ˜¯è·å–1970å¹´1æœˆ1æ—¥æˆªæ­¢åˆ°ç°åœ¨æ—¶åˆ»çš„æ—¶é—´æˆ³ï¼Œä½†æ˜¯ä»æ€§èƒ½ä¸Šæ¥è®² Date.now()è¦å¿«äºnew.Date().getTime()å¯ä»¥ä»ä»£ç æ‰§è¡Œä¸Šæ¥çœ‹ +new Date()ç­‰åŒäºnew Date().valueOf() 1234567891011console.time() for (let i = 0; i &lt; 10000; i++) &#123; new Date().getTime() &#125;console.timeEnd() //default: 8.759033203125msconsole.time()for (let i = 0; i &lt; 10000; i++) &#123; Date.now()&#125;console.timeEnd() //default: 2.578125ms å…¶ä»–12025-11-13T10:01:53 è¿™é‡Œçš„ T æ˜¯ä¸€ç§å¸¸è§çš„æ—¶é—´æ ¼å¼åˆ†éš”ç¬¦ï¼Œé€šå¸¸å‡ºç°åœ¨ ISO 8601 æ ‡å‡†çš„æ—¥æœŸæ—¶é—´è¡¨ç¤ºæ³•ä¸­ã€‚ è§£é‡Šï¼š 2025-11-13 è¡¨ç¤ºæ—¥æœŸï¼ˆå¹´-æœˆ-æ—¥ï¼‰ T æ˜¯æ—¥æœŸä¸æ—¶é—´çš„åˆ†éš”ç¬¦ï¼ˆä¸æ˜¯å­—æ¯ T çš„å«ä¹‰ï¼Œè€Œæ˜¯æ ‡å‡†è§„å®šçš„ä¸€ä¸ªå­—ç¬¦ï¼‰ 10:01:53 è¡¨ç¤ºæ—¶é—´ï¼ˆæ—¶:åˆ†:ç§’ï¼‰ ISO 8601 æ ¼å¼ç‰¹ç‚¹ï¼š ä½¿ç”¨ YYYY-MM-DD è¡¨ç¤ºæ—¥æœŸ ç”¨ T åˆ†éš”æ—¥æœŸå’Œæ—¶é—´ æ—¶é—´å¯ä»¥å¸¦æ—¶åŒºä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š 2025-11-13T10:01:53Z è¡¨ç¤º UTC æ—¶é—´ 2025-11-13T10:01:53+08:00 è¡¨ç¤ºä¸œå…«åŒºæ—¶é—´ï¼ˆä¸­å›½æ ‡å‡†æ—¶é—´ï¼‰ ä¸¾ä¾‹ï¼š 2025-11-13T10:01:53 â†’ 2025å¹´11æœˆ13æ—¥ ä¸Šåˆ10ç‚¹01åˆ†53ç§’ï¼ˆæ²¡æœ‰æ—¶åŒºä¿¡æ¯ï¼Œé€šå¸¸é»˜è®¤æœ¬åœ°æ—¶é—´ï¼‰ 2025-11-13T10:01:53Z â†’ UTC æ—¶é—´ 2025-11-13T10:01:53+08:00 â†’ UTC+8 æ—¶åŒºæ—¶é—´ Math å¯¹è±¡Math å¯¹è±¡ç”¨äºæ‰§è¡Œæ•°å­¦ä»»åŠ¡ã€‚ Math å¯¹è±¡å¹¶ä¸åƒ Date å’Œ String é‚£æ ·æ˜¯å¯¹è±¡çš„ç±»ï¼Œå› æ­¤æ²¡æœ‰æ„é€ å‡½æ•° Math()ã€‚ 1ã€abs() æ–¹æ³• è¿”å›ä¸€ä¸ªæ•°çš„ç»å¯¹å€¼ã€‚ è¯­æ³•12# Math.abs(x)xï¼šå¿…éœ€ã€‚å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å€¼ã€‚ å®ä¾‹12345var a=Math.abs(7.25); //7.25var b=Math.abs(-7.25); //7.25var c=Math.abs(null); //0var d=Math.abs(&quot;Hello&quot;); //NaNvar e=Math.abs(2+3); //5 2ã€ceil() æ–¹æ³• å‘ä¸Šå–æ•´ è¯­æ³•12# Math.ceil(x)xï¼šå¿…éœ€ã€‚å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å€¼ã€‚ å®ä¾‹123456var a=Math.ceil(0.60); //1var b=Math.ceil(0.40); //1var c=Math.ceil(5); //5var d=Math.ceil(5.1); //6var e=Math.ceil(-5.1); //-5var f=Math.ceil(-5.9); //-5 3ã€floor() æ–¹æ³• å‘ä¸‹å–æ•´ è¯­æ³•12# Math.floor(x)xï¼šå¿…éœ€ã€‚å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å€¼ã€‚ å®ä¾‹123456var a=Math.ceil(0.60); //0var b=Math.ceil(0.40); //0var c=Math.ceil(5); //5var d=Math.ceil(5.1); //5var e=Math.ceil(-5.1); //-6var f=Math.ceil(-5.9); //-6 4ã€random() æ–¹æ³• è¿”å›ä»‹äº 0ï¼ˆåŒ…å«ï¼‰ ~ 1ï¼ˆä¸åŒ…å«ï¼‰ ä¹‹é—´çš„ä¸€ä¸ªéšæœºæ•°ã€‚ è¯­æ³•1# Math.random() å®ä¾‹12345#å®ä¾‹1var a=Math.random();#å®ä¾‹2 å–å¾—ä»‹äº 1 åˆ° 10 ä¹‹é—´çš„ä¸€ä¸ªéšæœºæ•°Math.floor((Math.random()*10)+1); 5ã€round() æ–¹æ³• å››èˆäº”å…¥ è¯­æ³•12# Math.round(x)xï¼šå¿…éœ€ã€‚å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å€¼ å®ä¾‹1234567#å®ä¾‹1var a=Math.round(2.60); //3var b=Math.round(2.50); //3var c=Math.round(2.49); //2var d=Math.round(-2.60); //-3var e=Math.round(-2.50); //-2var f=Math.round(-2.49); //-2","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"}]},{"title":"Stringæ–¹æ³•é›†","slug":"33-Stringæ–¹æ³•é›†","date":"2025-08-05T15:51:08.000Z","updated":"2026-03-01T16:07:38.351Z","comments":true,"path":"posts/5e5dbec2.html","permalink":"http://example.com/posts/5e5dbec2.html","excerpt":"","text":"charAt() **è¿”å›æ–°çš„å€¼ï¼Œ**è¿”å›æŒ‡å®šä½ç½®çš„å­—ç¬¦ 123456789var str = &quot;HELLO WORLD&quot;;var n = str.charAt(2)#è¿”å›å€¼Lvar str = &quot;HELLO WORLD&quot;;var n = str.charAt(str.length-1); #è¿”å›å€¼D charCodeAt()**è¿”å›æ–°çš„å€¼ï¼Œ**è¿”å›æŒ‡å®šä½ç½®å­—ç¬¦çš„ Unicode ç¼–ç  1234var str = &quot;HELLO WORLD&quot;;var n = str.charCodeAt(0);#è¿”å›å€¼72 fromCharCode() **è¿”å›æ–°çš„å€¼ï¼Œ**å¯æ¥å—ä¸€ä¸ªæŒ‡å®šçš„ Unicode å€¼ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸² 123var n = String.fromCharCode(72,69,76,76,79); #è¿”å›å€¼&#x27;HELLO&#x27; concat() **è¿”å›æ–°çš„å€¼ï¼Œ**ç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸² 123456let a = &#x27;ä¸­å›½&#x27;let b = &#x27;çœŸçš„&#x27;let c = &#x27;å¾ˆä¼Ÿå¤§&#x27;let d = a.concat(b, c)#è¿”å›å€¼&#x27;ä¸­å›½çœŸçš„å¾ˆä¼Ÿå¤§&#x27; indexOf()è¿”å›æŸä¸ªæŒ‡å®šçš„å­—ç¬¦ä¸²å€¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®(ç©ºæ ¼ä¹Ÿç®—ä¸€ä¸ªä½ç½®)ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å­—ç¬¦ä¸²åˆ™è¿”å› -1 12345678# string.indexOf(searchvalue,start) searchvalueï¼šå¿…éœ€ã€‚è§„å®šéœ€æ£€ç´¢çš„å­—ç¬¦ä¸²å€¼ã€‚ startï¼šå¯é€‰çš„æ•´æ•°å‚æ•°ï¼Œè§„å®šåœ¨å­—ç¬¦ä¸²ä¸­å¼€å§‹æ£€ç´¢çš„ä½ç½®ã€‚var str=&quot;Hello world&quot;;var n=str.indexOf(&quot;e&quot;); //1var n= str.indexOf(&quot;o&quot;,5); // 7 è¿™ä¸ªçš„oæ˜¯ä»ç´¢å¼•5å¼€å§‹çš„ ä¹Ÿå°±æ˜¯å­—ç¬¦ä¸²ä¸­çš„ç¬¬äºŒovar n=str.indexOf(&#x27;z&#x27;)ï¼› //-1 å­—ç¬¦ä¸²ä¸­æ²¡æœ‰z å°±è¿”å›-1 lastIndexOf() è¿”å›ä¸€ä¸ªæŒ‡å®šçš„å­—ç¬¦ä¸²å€¼æœ€åå‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å­—ç¬¦ä¸²åˆ™è¿”å› -1 1234var str = &quot;abcdefabcdef&quot;; //ä»å³å¾€å·¦ç¬¬ä¸€ä¸ªfçš„ç´¢å¼•var n = str.lastIndexOf(&quot;f&quot;); //11 æœ€åä¸€ä¸ªfçš„ç´¢å¼•var n = str.lastIndexOf(&quot;f&quot;,6); //5 ä»åå‰å‰å»é™¤6ä¸ª å–å‰©ä¸‹å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªfçš„ç´¢å¼• slice() **è¿”å›æ–°çš„å€¼ï¼Œ**æˆªå–å­—ç¬¦ä¸²çš„æŸä¸ªéƒ¨åˆ†ï¼Œå’Œsubstringç±»ä¼¼ 123456789101112131415161718# string.slice(start,end) startï¼šå¿…é¡». ä»å“ªä¸€ä¸ªä¸‹æ ‡å¼€å§‹æˆªå–ï¼ˆåŒ…å«ï¼‰ã€‚ç¬¬ä¸€ä¸ªå­—ç¬¦ä½ç½®ä¸º 0 endï¼šå¯é€‰ã€‚ ç´§æ¥ç€è¦æˆªå–åˆ°ä¸‹æ ‡ä¸ºå¤šå°‘çš„ï¼ˆä¸åŒ…å«ï¼‰ã€‚è‹¥æœªæŒ‡å®šæ­¤å‚æ•°ï¼Œåˆ™ä»startåˆ°æœ€å var str=&quot;Hello world!&quot;;var n=str.slice(1,5);#è¿”å›å€¼&#x27;ello&#x27;var str=&quot;Hello world!&quot;;var n=str.slice(3); #è¿”å›å€¼lo world!// æ˜¯è´Ÿæ•°çš„è¯-1å°±æ˜¯æˆªå–ä¸€ä¸ª -2å°±æ˜¯æˆªå–2ä¸ª ä»¥æ­¤ç±»æ¨var str=&quot;Hello world&quot;;var n=str.slice(-1); //d substring()**è¿”å›æ–°çš„å€¼ï¼Œ**æˆªå–å­—ç¬¦ä¸²çš„æŸä¸ªéƒ¨åˆ† 12345678910111213# string.substring(from, to) fromï¼šå¿…éœ€ã€‚ä»å“ªä¸€ä¸ªä¸‹æ ‡å¼€å§‹æˆªå–ï¼ˆåŒ…å«ï¼‰ã€‚ç¬¬ä¸€ä¸ªå­—ç¬¦ä½ç½®ä¸º 0 toï¼šå¯é€‰ã€‚ç´§æ¥ç€è¦æˆªå–åˆ°ä¸‹æ ‡ä¸ºå¤šå°‘çš„ï¼ˆä¸åŒ…å«ï¼‰ var str=&quot;Hello world!&quot;;let n = str.substring(3);#è¿”å›å€¼&#x27;lo world!&#x27;var str=&quot;Hello world!&quot;;let n = str.substring(3,7);#è¿”å›å€¼&#x27;lo w&#x27; substr() **è¿”å›æ–°çš„å€¼ï¼Œ**åœ¨å­—ç¬¦ä¸²ä¸­æˆªå–ä»å¼€å§‹ä¸‹æ ‡å¼€å§‹çš„æŒ‡å®šæ•°ç›®çš„å­—ç¬¦ 12345678910111213# string.substr(start,length)startï¼šå¿…éœ€ã€‚è¦æŠ½å–çš„å­ä¸²çš„èµ·å§‹ä¸‹æ ‡(åŒ…å«)ã€‚å¿…é¡»æ˜¯æ•°å€¼ã€‚engthï¼šå¯é€‰ã€‚æˆªå–çš„ä½æ•°ã€‚å¦‚æœçœç•¥äº†è¯¥å‚æ•°ï¼Œé‚£ä¹ˆè¿”å›çš„æ˜¯ä»å¼€å§‹ä½ç½®åˆ°ç»“å°¾çš„å­—ä¸²ã€‚var str=&quot;Hello world!&quot;;var n=str.substr(2,3)#è¿”å›å€¼&#x27;llo&#x27;var str=&quot;Hello world!&quot;;var n=str.substr(2)#è¿”å›å€¼&#x27;llo world!&#x27; replace()**è¿”å›æ–°çš„å€¼ï¼Œ**ç”¨äºåœ¨å­—ç¬¦ä¸²ä¸­ç”¨ä¸€äº›å­—ç¬¦æ›¿æ¢å¦ä¸€äº›å­—ç¬¦ï¼Œæˆ–æ›¿æ¢ä¸€ä¸ªä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­—ç¬¦ä¸² 123456789101112131415161718192021# string.replace(regexp/substr,replacement) regexp/substr: å¿…éœ€ã€‚è§„å®šå­å­—ç¬¦ä¸²æˆ–è¦æ›¿æ¢çš„æ¨¡å¼çš„ RegExp å¯¹è±¡ã€‚ replacement: å¿…éœ€ã€‚ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ã€‚è§„å®šäº†æ›¿æ¢æ–‡æœ¬æˆ–ç”Ÿæˆæ›¿æ¢æ–‡æœ¬çš„å‡½æ•°ã€‚ var str=&quot;Visit Microsoft! Visit Microsoft!&quot;;var n=str.replace(&quot;Microsoft&quot;,&quot;Runoob&quot;);#è¿”å›å€¼&#x27;Visit Runoob!Visit Microsoft!&#x27;var str=&quot;Mr Blue has a blue house and a blue car&quot;;var n=str.replace(/blue/g,&quot;red&quot;);#è¿”å›å€¼&#x27;Mr Blue has a red house and a red car&#x27;var str = &quot;æˆ‘æ˜¯ä½ çˆ¸çˆ¸&quot;;var newStr = &#x27;å«çˆ·çˆ·&#x27;//è¿™é‡Œä¸èƒ½ç”¨/str/giå»æ¥æ”¶ä¸€ä¸ªå‚æ•° åªèƒ½ç”¨new RegExp(str, &#x27;g&#x27;)æ¥æ”¶ä¸€ä¸ªèµ‹å€¼çš„å‚æ•°// let a = str.replace(/str/gi,&#x27;çˆ·&#x27;); let a = str.replace(new RegExp(str, &#x27;g&#x27;), newStr);#è¿”å›å€¼&#x27;å«çˆ·çˆ·&#x27; match() **è¿”å›æ–°çš„å€¼ï¼Œ**å¯åœ¨å­—ç¬¦ä¸²å†…æ£€ç´¢æŒ‡å®šçš„å€¼ï¼Œæˆ–æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ã€‚å®ƒè¿”å›æŒ‡å®šçš„å€¼ï¼ˆæ•°ç»„ï¼‰ 1234567# string.match(searchvalue) // åŒ¹é…å­—ç¬¦ä¸²# string.match(regexp) // åŒ¹é…æ­£åˆ™ searchvalue: è§„å®šè¦æ£€ç´¢çš„å­—ç¬¦ä¸²å€¼ã€‚ regexp: è§„å®šè¦åŒ¹é…çš„æ¨¡å¼çš„ RegExp å¯¹è±¡ã€‚ regexpçš„æ—¶å€™åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šæœ‰èµ–äº regexp æ˜¯å¦å…·æœ‰æ ‡å¿— gã€‚æ²¡æœ‰æ ‡å¿— gï¼Œé‚£ä¹ˆ match() æ–¹æ³•å°±åªèƒ½åœ¨ string ä¸­æ‰§è¡Œä¸€æ¬¡åŒ¹é…ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ä»»ä½•åŒ¹é…çš„æ–‡æœ¬ï¼Œ match() å°†è¿”å› nullã€‚å¦åˆ™ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­å­˜æ”¾äº†ä¸å®ƒæ‰¾åˆ°çš„åŒ¹é…æ–‡æœ¬æœ‰å…³çš„ä¿¡æ¯ã€‚è¯¥æ•°ç»„çš„ç¬¬ 0 ä¸ªå…ƒç´ å­˜æ”¾çš„æ˜¯åŒ¹é…æ–‡æœ¬ï¼Œè€Œå…¶ä½™çš„å…ƒç´ å­˜æ”¾çš„æ˜¯ä¸æ­£åˆ™è¡¨è¾¾å¼çš„å­è¡¨è¾¾å¼åŒ¹é…çš„æ–‡æœ¬ã€‚é™¤äº†è¿™äº›å¸¸è§„çš„æ•°ç»„å…ƒç´ ä¹‹å¤–ï¼Œè¿”å›çš„æ•°ç»„è¿˜å«æœ‰ä¸¤ä¸ªå¯¹è±¡å±æ€§ã€‚index å±æ€§å£°æ˜çš„æ˜¯åŒ¹é…æ–‡æœ¬çš„èµ·å§‹å­—ç¬¦åœ¨ stringObject ä¸­çš„ä½ç½®ï¼Œinput å±æ€§å£°æ˜çš„æ˜¯å¯¹ string çš„å¼•ç”¨ åŒ¹é…å­—ç¬¦ä¸² 12345678var str = &quot;Hello world!&quot;var value = str.match(&quot;world&quot;)var value1 = str.match(&quot;world&quot;).toString()var value2 = str.match(&quot;World&quot;) // Wæ˜¯å¤§å†™#è¿”å›å€¼åˆ†åˆ«æ˜¯[&#x27;world&#x27;, index: 6, input: &#x27;Hello world!&#x27;, groups: undefined]&#x27;world&#x27;null åŒ¹é…æ­£åˆ™ 12345678var str = &#x27;chrome MicroMessenger&#x27;var n = str.match(/chrome/i)var n1 = str.match(/chrome/i).toString()var n2 = str.match(/chrome/g)#è¿”å›å€¼åˆ†åˆ«æ˜¯[&#x27;chrome&#x27;, index: 0, input: &#x27;chrome MicroMessenger&#x27;, groups: undefined]&#x27;chrome&#x27;[&#x27;chrome&#x27;] search() **è¿”å›æ–°çš„å€¼ï¼Œ**ç”¨äºæ£€ç´¢æŒ‡å®šå­—ç¬¦æˆ–æ£€ç´¢ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸åŒ¹é…å­—ç¬¦ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ä»»ä½•åŒ¹é…é¡¹ï¼Œåˆ™è¿”å› -1ã€‚ 12345678910var str=&quot;Mr. Blue has a blue house&quot;;var newStr = str.search(&quot;blue&quot;)#è¿”å›å€¼15#å®ä¾‹1 å¿½ç•¥å¤§å°å†™var str=&quot;Mr. Blue has a blue house&quot;;var newStr = str.search(/blue/i)#è¿”å›å€¼4 includes() **è¿”å›å¸ƒå°”å€¼ï¼Œ**åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­—ç¬¦ã€‚å¦‚æœæ‰¾åˆ°åŒ¹é…çš„å­—ç¬¦ä¸²åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ 12345678910var str = &quot;Hello world, welcome to the Runoobã€‚&quot;;var n = str.includes(&quot;world&quot;); #è¿”å›å€¼truevar str = &quot;Hello world, welcome to the Runoob.&quot;;var n = str.includes(&quot;world&quot;, 12);#è¿”å›å€¼false split()**è¿”å›æ–°çš„å€¼ï¼Œ**æŠŠä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆå­—ç¬¦ä¸²æ•°ç»„ï¼ˆå­—ç¬¦ä¸²è½¬æ•°ç»„ï¼‰ 12345678910111213# string.split(separator,limit) separatorï¼šå¯é€‰ã€‚å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»è¯¥å‚æ•°æŒ‡å®šçš„åœ°æ–¹åˆ†å‰² string Objectã€‚ limitï¼šå¯é€‰ã€‚ è¯¥å‚æ•°å¯æŒ‡å®šè¿”å›çš„æ•°ç»„çš„æœ€å¤§é•¿åº¦ã€‚ var str = &quot;Hello world&quot;;var newStr = str.split(&quot;&quot;)#è¿”å›å€¼[&quot;H&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;, &quot; &quot;, &quot;w&quot;, &quot;o&quot;, &quot;r&quot;, &quot;l&quot;, &quot;d&quot;]var str=&quot;How are you doing today?&quot;;var n=str.split(&quot; &quot;,3); // ç”¨ç©ºæ ¼åˆ†å‰²ï¼Œå¹¶ä¸”æ•°ç»„é•¿åº¦ä¸º3#è¿”å›å€¼[&#x27;How&#x27;,&#x27;are&#x27;,&#x27;you&#x27;] trim()**è¿”å›æ–°çš„å€¼ï¼Œ**å»é™¤å­—ç¬¦ä¸²çš„å¤´å°¾ç©ºæ ¼ã€‚ 1234var str = &quot; Runoob &quot;;var n = str.trim();#è¿”å›å€¼Runoob repeat() è¿”å›æ–°çš„å€¼ï¼Œå­—ç¬¦ä¸²å¤åˆ¶æŒ‡å®šæ¬¡æ•° 1234567# string.repeat(count) countï¼šå¿…éœ€ï¼Œè®¾ç½®è¦å¤åˆ¶çš„æ¬¡æ•°ã€‚ var str = &quot;Runoob&quot;;let n = str.repeat(2);#è¿”å›å€¼&#x27;RunoobRunoob&#x27; toLowerCase() **è¿”å›æ–°çš„å€¼ï¼Œ**ç”¨äºæŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€‚ 1234var str = &quot;RUNRON&quot;;let n = str.toLowerCase() #è¿”å›å€¼&#x27;runron&#x27; toUpperCase()**è¿”å›æ–°çš„å€¼ï¼Œ**ç”¨äºæŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ã€‚ 1234var str = &quot;runron&quot;;let n = str.toUpperCase()#è¿”å›å€¼&#x27;RUNRON&#x27; startsWith() **è¿”å›æ–°çš„å€¼ï¼Œ**åˆ¤æ–­å‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚å¦‚æœæ˜¯ä»¥æŒ‡å®šçš„å­å­—ç¬¦ä¸²å¼€å¤´è¿”å› trueï¼Œå¦åˆ™ falseã€‚ 12345678910111213# string.startsWith(searchvalue, start) searchvalueï¼šå¿…éœ€ï¼Œè¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²ã€‚ startï¼šå¯é€‰ï¼ŒæŸ¥æ‰¾çš„å¼€å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º 0ã€‚ var str = &quot;Hello world, welcome to the Runoob.&quot;;var n = str.startsWith(&quot;Hello&quot;);#è¿”å›å€¼truevar str = &quot;Hello world, welcome to the Runoob.&quot;;var n = str.startsWith(&quot;world&quot;, 6);#è¿”å›å€¼true endsWith()**è¿”å›æ–°çš„å€¼ï¼Œ**åˆ¤æ–­å‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚å¦‚æœæ˜¯ä»¥æŒ‡å®šçš„å­å­—ç¬¦ä¸²å¼€å¤´è¿”å› trueï¼Œå¦åˆ™ falseã€‚ 12345678# string.endsWith(searchvalue, start) searchvalueï¼šå¿…éœ€ï¼Œè¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²ã€‚ startï¼šå¯é€‰ï¼ŒæŸ¥æ‰¾çš„å¼€å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º 0ã€‚let string = &quot;apple,banana,orange&quot;;var n = string.endsWith(&quot;apple&quot;);#è¿”å›å€¼false padStart()**è¿”å›æ–°çš„å€¼ï¼Œ**è¡¨ç¤ºç”¨å‚æ•°å­—ç¬¦ä¸²è¡¥å…¨å¤´éƒ¨ï¼› 1234567891011121314151617181920212223# string.padStart(numï¼ŒString) numï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æŒ‡å®šç”Ÿæˆçš„å­—ç¬¦ä¸²çš„æœ€å°é•¿åº¦ Stringï¼šè¡¥å…¨å­—ç¬¦ä¸²çš„å‚æ•°å­—ç¬¦ä¸² å¦‚æœæ²¡æœ‰æŒ‡å®šç¬¬äºŒä¸ªå‚æ•°ï¼Œé»˜è®¤ç”¨ç©ºæ ¼å¡«å……ã€‚ let a = &#x27;abc&#x27;let n =a.padStart(5, &quot;o&quot;)#è¿”å›å€¼&#x27;ooabc&#x27;// å¦‚æœæŒ‡å®šçš„é•¿åº¦å°äºæˆ–è€…ç­‰äºåŸå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™è¿”å›åŸå­—ç¬¦ä¸²:let n = &quot;hello&quot;.padStart(5,&quot;A&quot;)#è¿”å›å€¼&#x27;hello&#x27;// å¦‚æœåŸå­—ç¬¦ä¸²åŠ ä¸Šè¡¥å…¨å­—ç¬¦ä¸²é•¿åº¦å¤§äºæŒ‡å®šé•¿åº¦ï¼Œåˆ™æˆªå»è¶…å‡ºçš„è¡¥çš„å­—ç¬¦ä¸²let n = &quot;qqqqq4&quot;.padStart(11,&quot;,wwwwww6&quot;)#è¿”å›å€¼&#x27;,wwwwqqqqq4&#x27;var a = &#x27;1&#x27;var n = a.padStart(2, &quot;0&quot;);#è¿”å›å€¼&#x27;01&#x27; padEnd() è¿”å›æ–°çš„å€¼ï¼Œè¡¨ç¤ºç”¨å‚æ•°å­—ç¬¦ä¸²è¡¥å…¨å°¾éƒ¨ï¼› 1234let a = &#x27;abc&#x27;let n =a.padStart(5, &quot;o&quot;)#è¿”å›å€¼&#x27;abcoo&#x27; valueOf() è¿”å› String å¯¹è±¡çš„åŸå§‹å€¼ã€‚ é€šå¸¸ç”± JavaScript åœ¨åå°è‡ªåŠ¨è¿›è¡Œè°ƒç”¨ï¼Œè€Œä¸æ˜¯æ˜¾å¼åœ°å¤„äºä»£ç ä¸­ã€‚ 1234var str=&quot;Hello world!&quot;;let n = str.valueOf();#è¿”å›å€¼&#x27;Hello world!&#x27;","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"}]},{"title":"Arrayæ–¹æ³•é›†","slug":"32-Arrayæ–¹æ³•é›†","date":"2025-08-03T15:51:08.000Z","updated":"2026-03-01T16:07:38.351Z","comments":true,"path":"posts/2b2e443a.html","permalink":"http://example.com/posts/2b2e443a.html","excerpt":"","text":"**æ”¹å˜åŸæ•°ç»„(å˜å¼‚)ï¼š**push()å’Œpop()ï¼Œshift() å’Œ unshift()ï¼Œsort()ï¼Œsplice()ï¼Œreverse() **è¿”å›æ–°æ•°ç»„(éå˜å¼‚)ï¼š**join()ï¼Œconcat()ï¼Œslice()â€¦ â€¦ç­‰ map()**è¿”å›æ–°çš„æ•°ç»„ï¼Œ**è·å–æŸä¸ªæ•°ç»„å¯¹è±¡ä¸­æ»¡è¶³æ¡ä»¶çš„å•ä¸ªå±æ€§ç»„æˆä¸€ä¸ªæ–°çš„æ•°ç»„ 12345678910111213141516const students = [ &#123; name: &#x27;sam&#x27;, age: 26, score: 80 &#125;, &#123; name: &#x27;john&#x27;, age: 25, score: 86 &#125;, &#123; name: &#x27;dean&#x27;, age: 20, score: 78 &#125;, &#123; name: &#x27;timothy&#x27;, age: 18, score: 95 &#125;, &#123; name: &#x27;frank&#x27;, age: 21, score: 67 &#125;, &#123; name: &#x27;timothy&#x27;, age: 8, score: 30 &#125;]let mapStudentsName = students.map(student =&gt; student.name)#è¿”å›å€¼ï¼š[&quot;sam&quot;, &quot;john&quot;, &quot;dean&quot;, &quot;timothy&quot;, &quot;frank&quot;, &quot;timothy&quot;]let mapStudentsName = students.map(student =&gt; (&#123;name: student.name&#125;))#è¿”å›å€¼ï¼š[name: &#x27;sam&#x27;,name: &#x27;john&#x27;,name: &#x27;dean&#x27;,name: &#x27;timothy&#x27;,name: &#x27;frank&#x27;,name: &#x27;timothy&#x27;] filter()**è¿”å›æ–°çš„æ•°ç»„ï¼Œ**è¿”å›æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„æ–°æ•°ç»„ï¼ˆéå†æ•°ç»„æ‰€æœ‰å†…å®¹ è¿”å›æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„ï¼‰ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ è¿”å› undefined 12345678910111213const students = [ &#123; name: &#x27;sam&#x27;, age: 26, score: 80 &#125;, &#123; name: &#x27;john&#x27;, age: 25, score: 86 &#125;, &#123; name: &#x27;dean&#x27;, age: 20, score: 78 &#125;, &#123; name: &#x27;timothy&#x27;, age: 18, score: 95 &#125;, &#123; name: &#x27;frank&#x27;, age: 21, score: 67 &#125;, &#123; name: &#x27;timothy&#x27;, age: 8, score: 30 &#125;]let filteredStudentAge = students.filter(student =&gt; student.age &gt;= 24)#è¿”å›å€¼ï¼š[&#123;&quot;name&quot;: &quot;sam&quot;, &quot;age&quot;: 26, &quot;score&quot;: 80&#125;,&#123;&quot;name&quot;: &quot;john&quot;, &quot;age&quot;: 25, &quot;score&quot;: 86&#125;] find()**è¿”å›æ–°çš„å€¼ï¼Œ**å¦‚æœæœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³æ¡ä»¶å°±è¿”å›è¿™ä¸ªå…ƒç´ ï¼Œå‰©ä½™çš„å…ƒç´ ä¸ä¼šå†æ‰§è¡Œæ£€æµ‹ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ è¿”å› undefined 12345678910111213141516171819202122232425262728293031const students = [ &#123; name: &#x27;sam&#x27;, age: 26, score: 80 &#125;, &#123; name: &#x27;john&#x27;, age: 25, score: 86 &#125;, &#123; name: &#x27;dean&#x27;, age: 20, score: 78 &#125;, &#123; name: &#x27;timothy&#x27;, age: 18, score: 95 &#125;, &#123; name: &#x27;frank&#x27;, age: 21, score: 67 &#125;, &#123; name: &#x27;timothy&#x27;, age: 8, score: 30 &#125;]let findStudentsName = students.find(student =&gt; student.name === &#x27;timothy&#x27;)#è¿”å›å€¼ï¼š&#123; &quot;name&quot;: &quot;timothy&quot;, &quot;age&quot;: 18, &quot;score&quot;: 95&#125;findStudentsName.name = &#x27;å°ç±³&#x27;console.log(students)/*[ &#123; name: &#x27;sam&#x27;, age: 26, score: 80 &#125;, &#123; name: &#x27;john&#x27;, age: 25, score: 86 &#125;, &#123; name: &#x27;dean&#x27;, age: 20, score: 78 &#125;, &#123; name: &#x27;å°ç±³&#x27;, age: 18, score: 95 &#125;, &#123; name: &#x27;frank&#x27;, age: 21, score: 67 &#125;, &#123; name: &#x27;timothy&#x27;, age: 8, score: 30 &#125;]*/ findIndex() **è¿”å›æ–°çš„å€¼ï¼Œ**å¦‚æœæœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³æ¡ä»¶å°±è¿”å›è¿™ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œå‰©ä½™çš„å…ƒç´ ä¸ä¼šå†æ‰§è¡Œæ£€æµ‹ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ è¿”å›-1 12345678910111213const students = [ &#123; name: &#x27;sam&#x27;, age: 26, score: 80 &#125;, &#123; name: &#x27;john&#x27;, age: 25, score: 86 &#125;, &#123; name: &#x27;dean&#x27;, age: 20, score: 78 &#125;, &#123; name: &#x27;timothy&#x27;, age: 18, score: 95 &#125;, &#123; name: &#x27;frank&#x27;, age: 21, score: 67 &#125;, &#123; name: &#x27;timothy&#x27;, age: 8, score: 30 &#125;]let findStudentsName = students.findIndex(student =&gt; student.name === &#x27;timothy&#x27;)#è¿”å›å€¼ï¼š3 some()**è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œ**å¦‚æœæœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è¡¨è¾¾å¼è¿”å›true, å‰©ä½™çš„å…ƒç´ ä¸ä¼šå†æ‰§è¡Œæ£€æµ‹ someåœ¨ç¢°åˆ°return trueçš„æ—¶å€™ï¼Œä¸­æ­¢å¾ªç¯ 12345678910111213const students = [ &#123; name: &#x27;sam&#x27;, age: 26, score: 80 &#125;, &#123; name: &#x27;john&#x27;, age: 25, score: 86 &#125;, &#123; name: &#x27;dean&#x27;, age: 20, score: 78 &#125;, &#123; name: &#x27;timothy&#x27;, age: 18, score: 95 &#125;, &#123; name: &#x27;frank&#x27;, age: 21, score: 67 &#125;, &#123; name: &#x27;timothy&#x27;, age: 8, score: 30 &#125;]let someStudentsName = students.some(student =&gt; student.age &lt; 18)#è¿”å›å€¼ï¼štrue every()**è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œ**æ•°ç»„å†…æ‰€æœ‰å…ƒç´ éƒ½è¦æ»¡è¶³æ¡ä»¶æ‰è¿”å›trueï¼Œ å¦‚æœ‰ä¸€ä¸ªä¸æ»¡è¶³å°±è¿”å›false å‰©ä½™çš„å…ƒç´ ä¸ä¼šå†æ‰§è¡Œæ£€æµ‹ï¼Œä¸ä¼šå¯¹ç©ºæ•°ç»„è¿›è¡Œæ£€æµ‹ï¼Œç©ºæ•°ç»„è°ƒç”¨è¿”å›çš„æ˜¯true everyåœ¨ç¢°åˆ°return falseçš„æ—¶å€™ï¼Œä¸­æ­¢å¾ªç¯ 12345678910111213const students = [ &#123; name: &#x27;sam&#x27;, age: 26, score: 80 &#125;, &#123; name: &#x27;john&#x27;, age: 25, score: 86 &#125;, &#123; name: &#x27;dean&#x27;, age: 20, score: 78 &#125;, &#123; name: &#x27;timothy&#x27;, age: 18, score: 95 &#125;, &#123; name: &#x27;frank&#x27;, age: 21, score: 67 &#125;, &#123; name: &#x27;timothy&#x27;, age: 8, score: 30 &#125;]let everyStudentsName = students.every(student =&gt; student.age &lt; 18)#è¿”å›å€¼ï¼šfalse includes()**è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œ**ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼ŒåŒ…å«åˆ™è¿”å›trueï¼Œå¦åˆ™falseã€‚ 123456const fruitArr = [&#x27;mango&#x27;, &#x27;apple&#x27;, &#x27;orange&#x27;, &#x27;pineapple&#x27;,&#x27;lemon&#x27;]const includesApple = fruitArr.includes(&#x27;apple&#x27;)#è¿”å›å€¼ï¼štrue reduce()ç´¯åŠ å™¨ è®¡ç®—æ€»åˆ†æ•° 123456789101112131415161718192021222324252627282930# è¯­æ³•ï¼šarray.reduce((prev, cur, index, arr) =&gt; &#123;...&#125;, init) prev: å¿…éœ€ã€‚åˆå§‹å€¼init, æˆ–è€…è®¡ç®—ç»“æŸåçš„è¿”å›å€¼ã€‚åˆå§‹å€¼0å³initè®¾ç½®çš„å€¼ cur: å¿…éœ€ã€‚å½“å‰æ­£åœ¨å¤„ç†çš„æ•°ç»„å…ƒç´ (ç±»ä¼¼éå†å‡ºæ¥çš„æ¯ä¸€é¡¹) index: å¯é€‰ã€‚è¡¨ç¤ºå½“å‰æ­£åœ¨å¤„ç†çš„æ•°ç»„å…ƒç´ çš„ç´¢å¼•ï¼Œè‹¥æä¾›initå€¼ï¼Œåˆ™ç´¢å¼•ä¸º0ï¼Œå¦åˆ™ç´¢å¼•ä¸º1ï¼› arr: å¯é€‰ã€‚å½“å‰å…ƒç´ æ‰€å±çš„æ•°ç»„ã€‚ init: å¯é€‰ã€‚ä¼ é€’ç»™å‡½æ•°çš„åˆå§‹å€¼ï¼Œä¸ä¼ å€¼é»˜è®¤ä¸ºæ•°ç»„ç¬¬ä¸€é¡¹ï¼ˆç¬¬ä¸€æ¬¡ä¼ ç»™prevçš„ï¼‰ const students = [ &#123; name: &#x27;sam&#x27;, age: 26, score: 80 &#125;, &#123; name: &#x27;john&#x27;, age: 25, score: 86 &#125;, &#123; name: &#x27;dean&#x27;, age: 20, score: 78 &#125;, &#123; name: &#x27;timothy&#x27;, age: 18, score: 95 &#125;, &#123; name: &#x27;frank&#x27;, age: 21, score: 67 &#125;, &#123; name: &#x27;timothy&#x27;, age: 8, score: 30 &#125;]let reduceSum = students.reduce((prev, cur) =&gt; &#123; return prev + cur.score&#125;, 0)#è¿”å›å€¼ï¼š436const numbers = [65, 44, 12, 4];const aa = numbers.reduce((prev, cur) =&gt; &#123; console.log(prev); // initä¸ä¼ å€¼é»˜è®¤åˆå§‹å€¼æ˜¯65 return prev + cur;&#125;);#è¿”å›å€¼ï¼š125 reduceRight()ç´¯åŠ å™¨ è®¡ç®—æ€»åˆ†æ•° reduceRight() æ–¹æ³•çš„åŠŸèƒ½å’Œ reduce() åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¸åŒçš„æ˜¯ reduceRight() ä»æ•°ç»„çš„æœ«å°¾å‘å‰å°†æ•°ç»„ä¸­çš„æ•°ç»„é¡¹åšç´¯åŠ ã€‚ 1234567891011121314# è¯­æ³•ï¼šarray.reduceRight((prev, cur, index, arr) =&gt; &#123;...&#125;, init) prev: å¿…éœ€ã€‚åˆå§‹å€¼init, æˆ–è€…è®¡ç®—ç»“æŸåçš„è¿”å›å€¼ã€‚åˆå§‹å€¼0å³initè®¾ç½®çš„å€¼ cur: å¿…éœ€ã€‚å½“å‰æ­£åœ¨å¤„ç†çš„æ•°ç»„å…ƒç´ (ç±»ä¼¼éå†å‡ºæ¥çš„æ¯ä¸€é¡¹) index: å¯é€‰ã€‚è¡¨ç¤ºå½“å‰æ­£åœ¨å¤„ç†çš„æ•°ç»„å…ƒç´ çš„ç´¢å¼•ï¼Œè‹¥æä¾›initå€¼ï¼Œåˆ™ç´¢å¼•ä¸º0ï¼Œå¦åˆ™ç´¢å¼•ä¸º1ï¼› arr: å¯é€‰ã€‚å½“å‰å…ƒç´ æ‰€å±çš„æ•°ç»„ã€‚ init: å¯é€‰ã€‚ä¼ é€’ç»™å‡½æ•°çš„åˆå§‹å€¼ï¼Œä¸ä¼ å€¼é»˜è®¤ä¸ºæ•°ç»„æœ€åä¸€é¡¹ï¼ˆç¬¬ä¸€æ¬¡ä¼ ç»™prevçš„ï¼‰ var numbers = [65, 44, 12, 4]; let aa = numbers.reduceRight((prev, cur) =&gt; &#123; console.log(prev); // initä¸ä¼ å€¼é»˜è®¤åˆå§‹å€¼æ˜¯4 return prev + cur; &#125;);#è¿”å›å€¼ï¼š125 concat()**è¿”å›æ–°çš„æ•°ç»„ï¼Œ**è¿æ¥ä¸¤ä¸ªæˆ–æ›´å¤šçš„æ•°ç»„ï¼Œå¹¶è¿”å›ç»“æœ ç°åœ¨æ¨èæ‰©å±•è¿ç®—ç¬¦ï¼šconst concatArray &#x3D; [â€¦[1, 2, 3, 4, 5], â€¦[â€˜aâ€™, â€˜bâ€™]] 1234const concatArray = [1, 2, 3, 4, 5].concat([&#x27;a&#x27;, &#x27;b&#x27;])#è¿”å›å€¼ï¼š[ 1, 2, 3, 4, 5, &quot;a&quot;, &quot;b&quot; ] indexOf()è¿”å›æ•°ç»„ä¸­æŸä¸ªæŒ‡å®šçš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚å¦‚æœåœ¨æ•°ç»„ä¸­æ²¡æ‰¾åˆ°æŒ‡å®šå…ƒç´ åˆ™è¿”å› -1 12345678910111213# è¯­æ³•ï¼šarray.indexOf(item,start) item:å¿…é¡»ã€‚æŸ¥æ‰¾çš„å…ƒç´ ã€‚ start:å¯é€‰çš„æ•´æ•°å‚æ•°ï¼Œè§„å®šåœ¨æ•°ç»„ä¸­å¼€å§‹æ£€ç´¢çš„ä½ç½®const fruitArr = [&#x27;mango&#x27;, &#x27;apple&#x27;, &#x27;orange&#x27;, &#x27;pineapple&#x27;,&#x27;lemon&#x27;]const indexOfArray = fruitArr.indexOf(&#x27;apple&#x27;)#è¿”å›å€¼ï¼š1const fruitArr = [&#x27;mango&#x27;, &#x27;apple&#x27;, &#x27;orange&#x27;, &#x27;pineapple&#x27;, &#x27;apple&#x27;]const indexOfArray = fruitArr.indexOf(&#x27;apple&#x27;, 3)#è¿”å›å€¼ï¼š4 lastIndexOf() è¿”å›æ•°ç»„ä¸­æŸä¸ªæŒ‡å®šçš„å…ƒç´ æœ€åå‡ºç°çš„ç´¢å¼•ã€‚å¦‚æœåœ¨æ•°ç»„ä¸­æ²¡æ‰¾åˆ°æŒ‡å®šå…ƒç´ åˆ™è¿”å› -1 123456789101112131415#è¯­æ³•ï¼šarray.lastIndexOf(item,start) item:å¿…é¡»ã€‚æŸ¥æ‰¾çš„å…ƒç´ ã€‚ start:å¯é€‰çš„æ•´æ•°å‚æ•°ï¼Œè§„å®šåœ¨æ•°ç»„ä¸­å¼€å§‹æ£€ç´¢çš„ä½ç½® ä»å³å¾€å·¦ç¬¬ä¸€ä¸ªAppleçš„ç´¢å¼•const fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;, &quot;Apple&quot;, &quot;Orange&quot;];const a = fruits.lastIndexOf(&quot;Apple&quot;);#è¿”å›å€¼ï¼š4ä»ç´¢å¼•4(åŒ…å«)å¼€å§‹ä»å³å¾€å·¦ç¬¬ä¸€ä¸ªAppleçš„ç´¢å¼•const fruits=[&quot;Banana&quot;,&quot;Orange&quot;,&quot;Apple&quot;,&quot;Mango&quot;,&quot;Banana&quot;,&quot;Orange&quot;,&quot;Apple&quot;];const a = fruits.lastIndexOf(&quot;Apple&quot;,4); //2#è¿”å›å€¼ï¼š2 splice()**æ”¹å˜åŸæ•°ç»„ï¼Œ**å¯ä»¥å®ç°åˆ é™¤ã€æ’å…¥å’Œæ›¿æ¢å…ƒç´ ã€‚ 1234567891011121314151617181920212223242526272829303132# è¯­æ³•ï¼šarray.splice(index,howmany,item1,.....,itemX) index: å¿…éœ€ã€‚è§„å®šä»ä½•å¤„æ·»åŠ /åˆ é™¤å…ƒç´ ã€‚è¯¥å‚æ•°æ˜¯å¼€å§‹æ’å…¥å’Œï¼ˆæˆ–ï¼‰åˆ é™¤çš„æ•°ç»„å…ƒç´ çš„ç´¢å¼•ï¼Œå¿…é¡»æ˜¯æ•°å­—ã€‚ howmanyï¼šå¯é€‰ã€‚åˆ é™¤çš„é¡¹æ•°(åˆ é™¤å¤šå°‘å…ƒç´ )ã€‚å¿…é¡»æ˜¯æ•°å­—ï¼Œ0å°±æ˜¯ä¸åˆ é™¤ã€‚å¦‚æœæœªè§„å®šæ­¤å‚æ•°ï¼Œåˆ™åˆ é™¤ä» index å¼€å§‹åˆ°åŸæ•°ç»„ç»“å°¾çš„æ‰€æœ‰å…ƒç´ ã€‚ item1, ..., itemXï¼šå¯é€‰ã€‚è¦æ·»åŠ åˆ°æ•°ç»„çš„æ–°å…ƒç´  åˆ é™¤ï¼šå¯ä»¥åˆ é™¤ä»»æ„æ•°é‡çš„é¡¹ï¼Œåªéœ€æŒ‡å®š2ä¸ªå‚æ•°ï¼šè¦åˆ é™¤çš„ç¬¬ä¸€é¡¹çš„ä½ç½®å’Œè¦åˆ é™¤çš„é¡¹æ•°ã€‚ä¾‹å¦‚ï¼Œ splice(0,2)ä¼šåˆ é™¤æ•°ç»„ä¸­çš„å‰ä¸¤é¡¹ã€‚const spliceArray = [&#x27;mango&#x27;, &#x27;apple&#x27;, &#x27;orange&#x27;, &#x27;pineapple&#x27;, &#x27;apple&#x27;]const spliceArrayRemoveed = spliceArray.splice(0, 2)console.log(spliceArray) // [&#x27;orange&#x27;, &#x27;pineapple&#x27;, &#x27;apple&#x27;]console.log(spliceArrayRemoveed) // [&#x27;mango&#x27;, &#x27;apple&#x27;]const spliceArrayRemoveed = spliceArray.splice(1, 2)console.log(spliceArray) // [&#x27;mango&#x27;, &#x27;pineapple&#x27;, &#x27;apple&#x27;]console.log(spliceArrayRemoveed) // [&#x27;apple&#x27;, &#x27;orange&#x27;]æ’å…¥ï¼šå¯ä»¥å‘æŒ‡å®šä½ç½®æ’å…¥ä»»æ„æ•°é‡çš„é¡¹ï¼Œåªéœ€æä¾›3ä¸ªå‚æ•°ï¼šèµ·å§‹ä½ç½®ã€ 0ï¼ˆè¦åˆ é™¤çš„é¡¹æ•°ï¼‰å’Œ è¦æ’å…¥çš„é¡¹ã€‚ä¾‹å¦‚ï¼Œsplice(2,0,&#x27;lemon&#x27;,&#x27;6&#x27;)ä¼šä»å½“å‰æ•°ç»„çš„ç´¢å¼•2å¼€å§‹æ’å…¥lemonå’Œ6ã€‚const spliceArray = [&#x27;mango&#x27;, &#x27;apple&#x27;, &#x27;orange&#x27;, &#x27;pineapple&#x27;, &#x27;apple&#x27;]const spliceArrayRemoveed = spliceArray.splice(2, 0, &#x27;lemon&#x27;, &#x27;6&#x27;)console.log(spliceArray) // [&#x27;mango&#x27;, &#x27;apple&#x27;, &#x27;lemon&#x27;, &#x27;6&#x27;, &#x27;orange&#x27;, &#x27;pineapple&#x27;, &#x27;apple&#x27;]console.log(spliceArrayRemoveed) // []æ›¿æ¢ï¼šå¯ä»¥å‘æŒ‡å®šä½ç½®æ’å…¥ä»»æ„æ•°é‡çš„é¡¹ï¼Œä¸”åŒæ—¶åˆ é™¤ä»»æ„æ•°é‡çš„é¡¹ï¼Œåªéœ€æŒ‡å®š 3 ä¸ªå‚æ•°ï¼šèµ·å§‹ä½ç½®ã€è¦åˆ é™¤çš„é¡¹æ•°å’Œè¦æ’å…¥çš„ä»»æ„æ•°é‡çš„é¡¹ã€‚æ’å…¥çš„é¡¹æ•°ä¸å¿…ä¸åˆ é™¤çš„é¡¹æ•°ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼Œsplice (1,2,&#x27;lemon&#x27;)ä¼šåˆ é™¤å½“å‰æ•°ç»„ä½ç½® 1 çš„é¡¹ï¼Œç„¶åå†ä»ä½ç½® 2 å¼€å§‹æ’å…¥&#x27;lemon&#x27;ã€‚const spliceArray = [&#x27;mango&#x27;, &#x27;apple&#x27;, &#x27;orange&#x27;, &#x27;pineapple&#x27;, &#x27;apple&#x27;]const spliceArrayRemoveed = spliceArray.splice(1, 2, &#x27;lemon&#x27;)console.log(spliceArray) // [&#x27;mango&#x27;, &#x27;lemon&#x27;, &#x27;pineapple&#x27;, &#x27;apple&#x27;]console.log(spliceArrayRemoveed) // [&#x27;apple&#x27;, &#x27;orange&#x27;] slice()**è¿”å›æ–°çš„æ•°ç»„ï¼Œ**å–æ•°ç»„çš„æŸä¸ªéƒ¨åˆ† 1234567891011const heroes = [&quot;æç™½&quot;, &#x27;è”¡æ–‡å§¬&#x27;, &#x27;éŸ©ä¿¡&#x27;, &#x27;èµµäº‘&#x27;, &#x27;ç”„å§¬&#x27;, &#x27;é˜¿ç‚&#x27;, &#x27;è²‚è‰&#x27;, &#x27;å¦²å·±&#x27;]const neWheroes = heroes.slice(0, 3) // ä»ç´¢å¼•0å¼€å§‹æˆªå–(åŒ…å«)ï¼Œæˆªå–åˆ°ç´¢å¼•3(ä¸åŒ…å«)#è¿”å›å€¼ï¼š[&#x27;æç™½&#x27;, &#x27;è”¡æ–‡å§¬&#x27;, &#x27;éŸ©ä¿¡&#x27;]const neWheroes = heroes.slice(2, -1) // ä»ç´¢å¼•2å¼€å§‹æˆªå–(åŒ…å«)ï¼Œ-1ä»£è¡¨æˆªå–åˆ°å€’æ•°ç¬¬ä¸€ä½ï¼ˆä¸å«ï¼‰#è¿”å›å€¼ï¼š[&#x27;éŸ©ä¿¡&#x27;, &#x27;èµµäº‘&#x27;, &#x27;ç”„å§¬&#x27;, &#x27;é˜¿ç‚&#x27;, &#x27;è²‚è‰&#x27;]const neWheroes = heroes.slice(-4) // æˆªå–åå››ä½#è¿”å›å€¼ï¼š[&#x27;èµµäº‘&#x27;, &#x27;ç”„å§¬&#x27;, &#x27;é˜¿ç‚&#x27;, &#x27;è²‚è‰&#x27;] forEach() éå†æ•°ç»„ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#åŸç”Ÿçš„foreachæ˜¯æ— æ³•è·³å‡ºå¾ªç¯çš„ foréå†ç”¨breakè·³å‡ºå¾ªç¯ jqçš„eachçš„ç”¨return falselæ¥æ›¿ä»£breakconst students = [ &#123; name: &#x27;sam&#x27;, age: 26, score: 80 &#125;, &#123; name: &#x27;john&#x27;, age: 25, score: 86 &#125;, &#123; name: &#x27;dean&#x27;, age: 20, score: 78 &#125;, &#123; name: &#x27;timothy&#x27;, age: 18, score: 95 &#125;, &#123; name: &#x27;frank&#x27;, age: 21, score: 67 &#125;, &#123; name: &#x27;timothy&#x27;, age: 8, score: 30 &#125;] #forEachlet paymentMethodIndex = &#x27;&#x27;students.forEach((item, index) =&gt; &#123; paymentMethodIndex = index; return false; // é€€å‡ºä¸äº†å¾ªç¯&#125;)console.log(paymentMethodIndex) // æ‰“å°5 #forfor (let index = 0; index &lt; students.length; index++) &#123; paymentMethodIndex = index break // éå†ç¬¬ä¸€æ¬¡å°±ç»ˆæ­¢å¾ªç¯äº†&#125;console.log(paymentMethodIndex); // æ‰“å°0 #$.each$.each(students, function (index, item) &#123; paymentMethodIndex = index return false // éå†ç¬¬ä¸€æ¬¡å°±ç»ˆæ­¢å¾ªç¯äº†&#125;)console.log(paymentMethodIndex); // æ‰“å°0# åˆ©ç”¨forEachç»™éå†å‡ºæ¥çš„å¯¹è±¡æ·»åŠ å±æ€§let list1 = []students.forEach((item, index) =&gt; &#123; const newList = item // ç›´æ¥ç»™itemèµ‹å€¼ä¼šæŠ¥é”™ newList.value = index.toString(); list1 = [...list1, newList]&#125;)console.log(list1);è¿”å›å€¼ï¼šconst students = [ &#123; value: &#x27;0&#x27;, name: &#x27;sam&#x27;, age: 26, score: 80 &#125;, &#123; value: &#x27;1&#x27;, name: &#x27;john&#x27;, age: 25, score: 86 &#125;, &#123; value: &#x27;2&#x27;, name: &#x27;dean&#x27;, age: 20, score: 78 &#125;, &#123; value: &#x27;3&#x27;, name: &#x27;timothy&#x27;, age: 18, score: 95 &#125;, &#123; value: &#x27;4&#x27;, name: &#x27;frank&#x27;, age: 21, score: 67 &#125;, &#123; value: &#x27;5&#x27;, name: &#x27;timothy&#x27;, age: 8, score: 30 &#125;] join()è¿”å›æ–°çš„æ•°ç»„ï¼Œç”¨äºæŠŠæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ç”¨æŒ‡å®šçš„å­—ç¬¦ä¸²è¿æ¥èµ·æ¥ï¼ˆæ•°ç»„è½¬å­—ç¬¦ä¸²ï¼‰ 123456789var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];var energy = fruits.join();#è¿”å›å€¼Banana,Orange,Apple,Mangovar fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];var energy = fruits.join(&quot; / &quot;); #è¿”å›å€¼Banana / Orange / Apple / Mango toString() **è¿”å›æ–°æ•°ç»„ï¼Œ**æŠŠæ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ç»“æœã€‚ 1234let fruitArr = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];let fruitString = fruits.toString();#è¿”å›å€¼&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot; fill() **æ”¹å˜åŸæ•°ç»„ï¼Œ**ç”¨ä¸€ä¸ªå€¼æ›¿æ¢æ•°ç»„ä¸­çš„å…ƒç´  1234567891011121314#array.fill(value, start, end) valueï¼šå¿…éœ€ã€‚å¡«å……çš„å€¼ï¼ˆæ›¿æ¢æ•°ç»„ä¸­çš„å€¼ï¼‰ã€‚ startï¼šå¯é€‰ã€‚å¼€å§‹å¡«å……ä½ç½®ã€‚å·²ç»å¡«å…… endï¼šå¯é€‰ã€‚åœæ­¢å¡«å……ä½ç½® (é»˜è®¤ä¸º array.length) æ²¡å¡«å…… var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];fruits.fill(&quot;88&quot;);#è¿”å›å€¼[&#x27;88&#x27;, &#x27;88&#x27;, &#x27;88&#x27;, &#x27;88&#x27;]var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];fruits.fill(&quot;66&quot;, 2, 3);#è¿”å›å€¼[&quot;Banana&quot;, &quot;Orange&quot;, &quot;66&quot;, &quot;Mango&quot;] from()1ã€ç”¨æ¥å°†ä¸¤ç§å¯¹è±¡è½¬æ¢æˆæ•°ç»„è½¬æ¢æˆæ•°ç»„ï¼ˆES6ï¼‰ ä¸¤ç§å¯¹è±¡ï¼š ï¼ˆ1ï¼‰.éƒ¨ç½²äº†Iteratoræ¥å£çš„å¯¹è±¡ï¼Œæ¯”å¦‚ï¼šSetï¼ŒMapï¼ŒArrayã€‚ ï¼ˆ2ï¼‰.ç±»æ•°ç»„å¯¹è±¡ï¼Œä»€ä¹ˆå«ç±»æ•°ç»„å¯¹è±¡ï¼Œå°±æ˜¯ä¸€ä¸ªå¯¹è±¡å¿…é¡»æœ‰lengthå±æ€§ï¼Œæ²¡æœ‰lengthï¼Œè½¬å‡ºæ¥çš„å°±æ˜¯ç©ºæ•°ç»„ï¼Œç±»æ•°ç»„å¯¹è±¡çš„å±æ€§åå¿…é¡»ä¸ºæ•°å€¼å‹æˆ–å­—ç¬¦ä¸²å‹çš„æ•°å­—ï¼ˆå±æ€§åä¸æ˜¯æ•°å€¼æˆ–å­—ç¬¦ä¸²æ•°å€¼è¿”å›çš„æ˜¯ä¸€ä¸ªéƒ½æ˜¯undefinedçš„æ•°ç»„ï¼‰ã€‚ 12345678910111213141516171819202122232425262728293031var map = new Map() .set(&#x27;k1&#x27;, 1) .set(&#x27;k2&#x27;, 2) .set(&#x27;k3&#x27;, 3)console.log(Array.from(map));#è¿”å›å€¼[[&#x27;k1&#x27;, 1],[&#x27;k2&#x27;, 2],[&#x27;k3&#x27;, 3]]var set = new Set() .add(1, &#x27;a&#x27;) .add(2, &#x27;b&#x27;) .add(3, &#x27;c&#x27;);console.log(Array.from(set));#è¿”å›å€¼[1, 2, 3]let arrayLike = &#123; 0: &#x27;tom&#x27;, 1: [&#x27;john&#x27;,&#x27;Mary&#x27;], &#x27;length&#x27;: 2&#125;let arr = Array.from(arrayLike)#è¿”å›å€¼[&#x27;tom&#x27;,[&#x27;john&#x27;,&#x27;Mary&#x27;]]let arrayLike = &#123; // å±æ€§åä¸æ˜¯æ•°å­—æˆ–å­—ç¬¦ä¸²æ•°å€¼ï¼Œå› æ­¤ä¸æ˜¯ç±»æ•°ç»„ &#x27;name&#x27;: &#x27;tom&#x27;, &#x27;friends&#x27;: [&#x27;john&#x27;,&#x27;Mary&#x27;], length: 2&#125;let arr = Array.from(arrayLike)#è¿”å›å€¼// [ undefined, undefined ] 2ã€Array.fromè¿˜å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œä½œç”¨ç±»ä¼¼äºæ•°ç»„çš„mapæ–¹æ³•ï¼Œç”¨æ¥å¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œå¤„ç†ï¼Œå°†å¤„ç†åçš„å€¼æ”¾å…¥è¿”å›çš„æ•°ç»„ã€‚ è¿”å›æ–°çš„æ•°ç»„ 12345let arr = [1, 2, 3]let set = new Set(arr)let newArr = Array.from(set, item =&gt; item + 1)#è¿”å›å€¼[2, 3, 4] isArray() **è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œ**ç”¨äºåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„ã€‚ 1234var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];var x = Array.isArray(fruits);#è¿”å›å€¼true reverse() **æ”¹å˜åŸæ•°ç»„ï¼Œ**é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåº 1234var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];fruits.reverse()#è¿”å›å€¼[&#x27;Mango&#x27;, &#x27;Apple&#x27;, &#x27;Orange&#x27;, &#x27;Banana&#x27;] sort() **æ”¹å˜åŸæ•°ç»„ï¼Œ**å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œé»˜è®¤æ’åºé¡ºåºä¸ºæŒ‰å­—æ¯æˆ–æ•°å­—(ä¸ªä½æ•°)å‡åºã€‚ 1234567891011121314151617181920212223242526272829303132333435363738var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];fruits.sort();#è¿”å›å€¼[&quot;Apple&quot;,&quot;Banana&quot;,&quot;Mango&quot;,&quot;Orange&quot;]var arr = [4, 3, 6, 5, 7, 2, 1];arr.sort();#è¿”å›å€¼//[1,2,3,4,5,6,7]// aéå†å‡ºæ¥æ˜¯é™åº 100 40 25 10 5 1// béå†å‡ºæ¥æ˜¯å‡åº 1 5 10 25 40 100var points = [40, 100, 1, 5, 25, 10];points.sort((a, b) =&gt; b - a); // é™åº#è¿”å›å€¼//[100, 40, 25, 10, 5, 1]var points = [40, 100, 1, 5, 25, 10];points.sort((a, b) =&gt; a - b); // å‡åº#è¿”å›å€¼//[1,5,10,25,40,100]var arr1 = [ &#123;nama: &#x27;å¼ é£&#x27;, age:34&#125;, &#123;nama: &#x27;æ›¹æ“&#x27;, age:20&#125;, &#123;nama: &#x27;å…³æ—­&#x27;, age:60&#125;]arr1.sort((a, b) =&gt; a.age - b.age)#è¿”å›å€¼[ &#123;nama: &#x27;æ›¹æ“&#x27;, age:20&#125;, &#123;nama: &#x27;å¼ é£&#x27;, age:34&#125;, &#123;nama: &#x27;å…³æ—­&#x27;, age:60&#125;] push() **æ”¹å˜åŸæ•°ç»„ï¼Œ**å‘æ•°ç»„çš„å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´  1234var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];fruits.push(&quot;11&quot;)#è¿”å›å€¼[&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;, &quot;11&quot;]; pop()**æ”¹å˜åŸæ•°ç»„ï¼Œ**åˆ é™¤æ•°ç»„çš„å°¾éƒ¨æœ€åä¸€ä¸ªå…ƒç´  123456var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];var res = fruits.pop()#è¿”å›å€¼console.log(fruits) // [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;]console.log(res) // &#x27;Mango&#x27; shift() **æ”¹å˜åŸæ•°ç»„ï¼Œ**æŠŠæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä»å…¶ä¸­åˆ é™¤ 12345let fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];let res = fruits.shift()#è¿”å›å€¼console.log(fruits) // [&#x27;Orange&#x27;, &#x27;Apple&#x27;, &#x27;Mango&#x27;]console.log(res) // &#x27;Banana&#x27; unshift()**æ”¹å˜åŸæ•°ç»„ï¼Œ**å‘æ•°ç»„çš„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´  1234var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];fruits.unshift(&quot;Lemon&quot;,&quot;Pineapple&quot;);#è¿”å›å€¼Lemon,Pineapple,Banana,Orange,Apple,Mango copyWithin()**è¿”å›æ–°æ•°ç»„ï¼Œ**ç”¨äºä»æ•°ç»„çš„æŒ‡å®šä½ç½®æ‹·è´å…ƒç´ åˆ°æ•°ç»„çš„å¦ä¸€ä¸ªæŒ‡å®šä½ç½®ä¸­ã€‚ åŸæ•°ç»„é•¿åº¦ä¿æŒä¸å˜ã€‚ 12345678910111213141516# array.copyWithin(target, start, end)targetï¼šå¿…éœ€ã€‚å¤åˆ¶åˆ°æŒ‡å®šç›®æ ‡ç´¢å¼•ä½ç½®ã€‚startï¼šå¯é€‰ã€‚å…ƒç´ å¤åˆ¶çš„èµ·å§‹ä½ç½®ã€‚endï¼šå¯é€‰ã€‚åœæ­¢å¤åˆ¶çš„ç´¢å¼•ä½ç½® (é»˜è®¤ä¸º array.length)ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚var fruits = [&quot;ä½ &quot;, &quot;çœŸ&quot;, &quot;çš„&quot;, &quot;å¥½&quot;];var n = fruits.copyWithin(2, 0);#è¿”å›å€¼[&quot;ä½ &quot;, &quot;çœŸ&quot;, &quot;ä½ &quot;, &quot;çœŸ&quot;]var fruits = [&quot;ä½ &quot;, &quot;æ˜¯&quot;, &quot;çœŸ&quot;, &quot;çš„&quot;, &quot;å¥½&quot;, &quot;å—&quot;];var n = fruits.copyWithin(2, 0, 2);#è¿”å›å€¼[&quot;ä½ &quot;, &quot;æ˜¯&quot;,&quot;ä½ &quot;, &quot;æ˜¯&quot;,&quot;å¥½&quot;, &quot;å—&quot;] entries() **è¿”å›æ–°çš„æ•°ç»„ï¼Œ**è¿”å›ä¸€ä¸ªæ•°ç»„çš„è¿­ä»£å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„çš„é”®å€¼å¯¹ (key&#x2F;value)ã€‚ è¿­ä»£å¯¹è±¡ä¸­æ•°ç»„çš„ç´¢å¼•å€¼ä½œä¸º keyï¼Œ æ•°ç»„å…ƒç´ ä½œä¸º valueã€‚ å¯è¿­ä»£å¯¹è±¡ï¼šå¯ä»¥ä½¿ç”¨forå¾ªç¯éå†çš„å¯¹è±¡,æˆ‘ä»¬ç§°ä¹‹ä¸ºå¯è¿­ä»£å¯¹è±¡. Object.entries() å¯ä»¥æŠŠä¸€ä¸ªå¯¹è±¡çš„é”®å€¼ä»¥æ•°ç»„çš„å½¢å¼éå†å‡ºæ¥ï¼Œç»“æœå’Œ for...in ä¸€è‡´ï¼Œä½†ä¸ä¼šéå†åŸå‹å±æ€§ã€‚ 12345678910const arr = [&#x27;ä½ &#x27;, &#x27;å•Š&#x27;, &#x27;çš„&#x27;];const newArr = Object.entries(arr)#è¿”å›å€¼[[&quot;0&quot;, &quot;ä½ &quot;],[&quot;1&quot;, &quot;å•Š&quot;],[&quot;2&quot;, &quot;çš„&quot;]]const obj = &#123; foo: &#x27;bar&#x27;, baz: &#x27;abc&#x27; &#125;; const newobjr = Object.entries(obj)#è¿”å›å€¼[[&#x27;foo&#x27;, &#x27;bar&#x27;], [&#x27;baz&#x27;, &#x27;abc&#x27;]] keys() **è¿”å›æ–°çš„æ•°ç»„ï¼Œ**ç”¨äºä»æ•°ç»„åˆ›å»ºä¸€ä¸ªåŒ…å«æ•°ç»„é”®çš„å¯è¿­ä»£å¯¹è±¡ã€‚ å¦‚æœå¯¹è±¡æ˜¯æ•°ç»„è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ 1234567891011121314let obj = &#123; &#x27;a&#x27;: 123, &quot;b&quot;: 456 &#125;;let newObj = Object.keys(obj)#è¿”å›å€¼[&quot;a&quot;,&quot;b&quot;]let str = &#x27;asfdw&#x27;;let newstr = Object.keys(str)#è¿”å›å€¼[&#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;, &#x27;4&#x27;]let arr = [1, 24, 45, 67];let newArr = Object.keys(arr)#è¿”å›å€¼[&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;] flat()**è¿”å›æ–°çš„æ•°ç»„ï¼Œ**ç”¨äºå°†åµŒå¥—çš„æ•°ç»„â€œæ‹‰å¹³ 1234567891011#array.fill(num) numï¼šé»˜è®¤1ï¼Œ1æ‹‰å¹³ä¸€å±‚æ•°ç»„ 2æ‹‰å¹³ä¸¤å±‚æ•°ç»„ Infinityæ‹‰å¹³å¤šå±‚ let arr = [&#x27;a&#x27;,[11]]let res = arr.flat()let arr = [&#x27;a&#x27;,[11, [666]]]let res = arr.flat(2)let arr = [&#x27;a&#x27;, [11, [666, [&#x27;qqq&#x27;]]]]let res = arr.flat(Infinity)","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"}]},{"title":"å‰ç«¯éƒ¨ç½²çœŸçš„ä¸ç®€å•","slug":"31-å‰ç«¯éƒ¨ç½²çœŸçš„ä¸ç®€å•","date":"2025-07-25T15:51:08.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/32ed7c92.html","permalink":"http://example.com/posts/32ed7c92.html","excerpt":"","text":"ç°åœ¨å¤§éƒ¨åˆ†çš„ä¸­å°å‹å…¬å¸éƒ¨ç½²å‰ç«¯ä»£ç éƒ½æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸»è¦æ­¥éª¤å¦‚ä¸‹: é¦–å…ˆï¼Œé€šè¿‡è„šæ‰‹æ¶æä¾›çš„å‘½ä»¤npm run buildæ‰“åŒ…å‰ç«¯ä»£ç ï¼Œç”Ÿæˆdistæ–‡ä»¶å¤¹ï¼› æœ€åï¼Œå°†distæ–‡ä»¶å¤¹ä¸¢ç»™åå°å¼€å‘äººå‘˜æ”¾åœ¨ä»–ä»¬çš„å·¥ç¨‹é‡Œé¢ï¼Œéšåå°ä¸€èµ·éƒ¨ç½²ï¼›ç°åœ¨æ™®éæ˜¯å‰åç«¯åˆ†å¼€éƒ¨ç½²ï¼Œå› æ­¤ï¼Œåˆ©ç”¨nginxèµ·ä¸€ä¸ªwebæœåŠ¡å™¨ï¼Œå°†distæ–‡ä»¶å¤¹æ”¾åˆ°æŒ‡å®šçš„è·¯å¾„ä¸‹ï¼Œé…ç½®ä¸‹nginxè®¿é—®è·¯å¾„ï¼Œå¯¹äºè¯·æ±‚æ¥å£ä½¿ç”¨proxy_passè¿›è¡Œè½¬å‘ï¼Œè§£å†³è·¨åŸŸçš„é—®é¢˜ã€‚ æ›´åŠ é«˜ç«¯ä¸€ç‚¹çš„æ“ä½œï¼Œæ˜¯åˆ©ç”¨CI/CD + Dockerè¿›è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚ ä½†æ˜¯ï¼Œä½ æ˜¯å¦çœŸçš„æƒ³è¿‡å‰ç«¯éƒ¨ç½²çœŸçš„å°±è¿™ä¹ˆç®€å•å—ï¼Ÿ è¿™å…¶å®æ˜¯ä¸€ä¸ªéå¸¸ä¸¥è‚ƒä¸”å¤æ‚çš„é—®é¢˜ï¼Œå› ä¸ºè¿™å…³ç³»åˆ°çº¿ä¸Šç”Ÿäº§ç¯å¢ƒçš„ç¨³å®šã€‚ æœ‰ä¸€å¤©ï¼Œä»è‡ªçŸ¥ä¹ä¸Šçœ‹åˆ°ä¸€ç¯‡å¼ äº‘é¾™å¤§ä½¬åœ¨2014å¹´å†™çš„æ–‡ç« ï¼Œéå¸¸æœ‰å¯å‘ï¼Œå³ä½¿è¿™ç¯‡æ–‡ç« è·ç¦»ç°åœ¨æœ‰å¿«10å¹´äº†ï¼Œä½†æ˜¯å…¶ä¸­çš„æ€æƒ³ä»ç„¶ç† ç† ç”Ÿè¾‰ã€‚ å› ä¸ºå†™çš„çœŸçš„æ˜¯å¤ªå¥½äº†ï¼Œä¸ºäº†è®©æ›´å¤šçš„äººçœ‹åˆ°ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†å†…å®¹ç›´æ¥å°±ç…§æ¬è¿‡æ¥ï¼Œä¸ºäº†è®©è‡ªå·±åŠ æ·±å°è±¡ã€‚å¦‚æœæƒ³çœ‹åŸæ–‡ï¼ŒåŸæ–‡ç½‘å€[1]åœ¨è¿™é‡Œã€‚ é‚£è®©æˆ‘ä»¬ä»åŸå§‹çš„å‰ç«¯å¼€å‘è®²èµ·ã€‚ ä¸‹å›¾æ˜¯ä¸€ä¸ª index.html é¡µé¢å’Œå®ƒçš„æ ·å¼æ–‡ä»¶ a.cssï¼Œæ— éœ€ç¼–è¯‘ï¼Œæœ¬åœ°é¢„è§ˆï¼Œä¸¢åˆ°æœåŠ¡å™¨ï¼Œç­‰å¾…ç”¨æˆ·è®¿é—®ã€‚ å“‡ï¼Œå‰ç«¯è¿™ä¹ˆç®€å•ï¼Œé—¨æ§›å¥½ä½å•Šã€‚è¿™ä¹Ÿæ˜¯å‰ç«¯æœ‰å¤ªå¤šäººæ¶Œå…¥è¿›æ¥çš„åŸå› ã€‚ æ¥ç€ï¼Œæˆ‘ä»¬è®¿é—®é¡µé¢ï¼Œçœ‹åˆ°æ•ˆæœï¼Œå†æŸ¥çœ‹ä¸€ä¸‹ç½‘ç»œè¯·æ±‚ï¼Œ200ï¼ä¸é”™ï¼Œå¤ªå®Œç¾äº†ï¼ é‚£ä¹ˆï¼Œç ”å‘å®Œæˆã€‚ã€‚ã€‚ã€‚äº†ä¹ˆï¼Ÿ ç­‰ç­‰ï¼Œè¿™è¿˜æ²¡å®Œå‘¢ï¼ å¯¹äºåƒ BAT è¿™ç§å…¬å¸æ¥è¯´ï¼Œé‚£äº›å˜æ€çš„è®¿é—®é‡å’Œæ€§èƒ½æŒ‡æ ‡ï¼Œå°†ä¼šè®©å‰ç«¯ä¸€ç‚¹ä¹Ÿä¸å¥½ç©ã€‚ çœ‹çœ‹é‚£ä¸ª a.css çš„è¯·æ±‚ï¼Œå¦‚æœæ¯æ¬¡ç”¨æˆ·è®¿é—®é¡µé¢éƒ½è¦åŠ è½½ï¼Œæ˜¯ä¸æ˜¯å¾ˆå½±å“æ€§èƒ½ï¼Œå¾ˆæµªè´¹å¸¦å®½å•Šï¼Œæˆ‘ä»¬å¸Œæœ›æœ€å¥½è¿™æ ·ï¼š åˆ©ç”¨304ï¼Œè®©æµè§ˆå™¨ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚ ä½†ï¼Œè¿™æ ·ä¹Ÿå°±å¤Ÿäº†å—ï¼Ÿ ä¸å¤Ÿï¼ 304å«åå•†ç¼“å­˜ï¼Œè¿™ç©æ„è¿˜æ˜¯è¦å’ŒæœåŠ¡å™¨é€šä¿¡ä¸€æ¬¡ï¼Œæˆ‘ä»¬çš„ä¼˜åŒ–çº§åˆ«æ˜¯å˜æ€çº§ï¼Œæ‰€ä»¥å¿…é¡»å½»åº•ç­æ‰è¿™ä¸ªè¯·æ±‚ï¼Œè¦å˜æˆè¿™æ ·ï¼š å¼ºåˆ¶æµè§ˆå™¨ä½¿ç”¨æœ¬åœ°ç¼“å­˜(cache-control/expires)ï¼Œä¸è¦å’ŒæœåŠ¡å™¨é€šä¿¡ã€‚ å¥½äº†ï¼Œè¯·æ±‚æ–¹é¢çš„ä¼˜åŒ–å·²ç»è¾¾åˆ°å˜æ€çº§åˆ«ï¼Œé‚£é—®é¢˜æ¥äº†ï¼šä½ éƒ½ä¸è®©æµè§ˆå™¨å‘èµ„æºè¯·æ±‚äº†ï¼Œè¿™ç¼“å­˜å’‹æ›´æ–°ï¼Ÿ å¾ˆå¥½ï¼Œç›¸ä¿¡æœ‰äººæƒ³åˆ°äº†åŠæ³•ï¼šé€šè¿‡æ›´æ–°é¡µé¢ä¸­å¼•ç”¨çš„èµ„æºè·¯å¾„ï¼Œè®©æµè§ˆå™¨ä¸»åŠ¨æ”¾å¼ƒç¼“å­˜ï¼ŒåŠ è½½æ–°èµ„æºã€‚ åƒè¿™æ ·ï¼š ä¸‹æ¬¡ä¸Šçº¿ï¼ŒæŠŠé“¾æ¥åœ°å€æ”¹æˆæ–°çš„ç‰ˆæœ¬ï¼Œè¿™å°±æ›´æ–°èµ„æºäº†ã€‚ é—®é¢˜è§£å†³äº†ä¹ˆï¼Ÿå½“ç„¶æ²¡æœ‰ï¼Œæ€è€ƒè¿™ç§æƒ…å†µï¼š é¡µé¢å¼•ç”¨äº†3ä¸ª css æ–‡ä»¶ï¼Œè€ŒæŸæ¬¡ä¸Šçº¿åªæ”¹äº†å…¶ä¸­çš„a.cssï¼Œå¦‚æœæ‰€æœ‰é“¾æ¥éƒ½æ›´æ–°ç‰ˆæœ¬ï¼Œå°±ä¼šå¯¼è‡´b.cssï¼Œc.cssçš„ç¼“å­˜ä¹Ÿå¤±æ•ˆï¼Œé‚£å²‚ä¸æ˜¯åˆæœ‰æµªè´¹äº†ï¼Ÿ ä¸éš¾å‘ç°ï¼Œè¦è§£å†³è¿™ç§é—®é¢˜ï¼Œå¿…é¡»è®©urlçš„ä¿®æ”¹ä¸æ–‡ä»¶å†…å®¹å…³è”ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰æ–‡ä»¶å†…å®¹å˜åŒ–ï¼Œæ‰ä¼šå¯¼è‡´ç›¸åº”urlçš„å˜æ›´ï¼Œä»è€Œå®ç°æ–‡ä»¶çº§åˆ«çš„ç²¾ç¡®ç¼“å­˜æ§åˆ¶ã€‚ ä»€ä¹ˆä¸œè¥¿ä¸æ–‡ä»¶å†…å®¹ç›¸å…³å‘¢ï¼Ÿ æˆ‘ä»¬ä¼šå¾ˆè‡ªç„¶çš„è”æƒ³åˆ°åˆ©ç”¨æ•°æ®æ‘˜è¦è¦ç®—æ³•å¯¹æ–‡ä»¶æ±‚æ‘˜è¦ä¿¡æ¯ï¼Œæ‘˜è¦ä¿¡æ¯ä¸æ–‡ä»¶å†…å®¹ä¸€ä¸€å¯¹åº”ï¼Œå°±æœ‰äº†ä¸€ç§å¯ä»¥ç²¾ç¡®åˆ°å•ä¸ªæ–‡ä»¶ç²’åº¦çš„ç¼“å­˜æ§åˆ¶ä¾æ®äº†ã€‚ OKï¼Œé‚£æˆ‘ä»¬æŠŠ url æ”¹æˆå¸¦æ‘˜è¦ä¿¡æ¯çš„ï¼š è¿™å›å†æœ‰æ–‡ä»¶ä¿®æ”¹ï¼Œå°±åªæ›´æ–°é‚£ä¸ªæ–‡ä»¶å¯¹åº”çš„ url äº†ï¼Œæƒ³åˆ°è¿™é‡Œè²Œä¼¼å¾ˆå®Œç¾äº†ã€‚ä½ è§‰å¾—è¿™å°±å¤Ÿäº†ä¹ˆï¼Ÿ å›¾æ ·å›¾æ£®ç ´ï¼ ç°ä»£äº’è”ç½‘ä¼ä¸šï¼Œä¸ºäº†è¿›ä¸€æ­¥æå‡ç½‘ç«™æ€§èƒ½ï¼Œä¼šæŠŠé™æ€èµ„æºå’ŒåŠ¨æ€ç½‘é¡µåˆ†é›†ç¾¤éƒ¨ç½²ï¼Œé™æ€èµ„æºä¼šè¢«éƒ¨ç½²åˆ°CDNèŠ‚ç‚¹ä¸Šï¼Œç½‘é¡µä¸­å¼•ç”¨çš„èµ„æºä¹Ÿä¼šå˜æˆå¯¹åº”çš„éƒ¨ç½²è·¯å¾„ï¼š å¥½äº†ï¼Œå½“æˆ‘è¦æ›´æ–°é™æ€èµ„æºçš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿä¼šæ›´æ–° html ä¸­çš„å¼•ç”¨å§ï¼Œå°±å¥½åƒè¿™æ ·ï¼š è¿™æ¬¡å‘å¸ƒï¼ŒåŒæ—¶æ”¹äº†é¡µé¢ç»“æ„å’Œæ ·å¼ï¼Œä¹Ÿæ›´æ–°äº†é™æ€èµ„æºå¯¹åº”çš„urlåœ°å€ã€‚ç°åœ¨é‡ç‚¹æ¥äº†ï¼Œç°åœ¨è¦å‘å¸ƒä»£ç ä¸Šçº¿ï¼Œäº²çˆ±çš„å‰ç«¯ç ”å‘åŒå­¦ï¼Œä½ æ¥å‘Šè¯‰æˆ‘ï¼Œå’±ä»¬æ˜¯å…ˆä¸Šçº¿é¡µé¢ï¼Œè¿˜æ˜¯å…ˆä¸Šçº¿é™æ€èµ„æºï¼Ÿ è¿™é‡Œçš„é™æ€èµ„æºä¸ä»…ä»…åŒ…æ‹¬cssæ–‡ä»¶ï¼Œä¹ŸåŒ…æ‹¬å›¾ç‰‡ï¼Œä»¥åŠä¸æ€ä¹ˆç»å¸¸å˜çš„èµ„æºã€‚ å…ˆéƒ¨ç½²åŠ¨æ€é¡µé¢ï¼Œå†éƒ¨ç½²é™æ€èµ„æºï¼šåœ¨äºŒè€…éƒ¨ç½²çš„æ—¶é—´é—´éš”å†…ï¼Œå¦‚æœæœ‰ç”¨æˆ·è®¿é—®é¡µé¢ï¼Œå°±ä¼šåœ¨æ–°çš„é¡µé¢ç»“æ„ä¸­åŠ è½½æ—§çš„èµ„æºï¼Œå¹¶ä¸”æŠŠè¿™ä¸ªæ—§ç‰ˆæœ¬çš„èµ„æºå½“åšæ–°ç‰ˆæœ¬ç¼“å­˜èµ·æ¥ï¼Œå…¶ç»“æœå°±æ˜¯ï¼šç”¨æˆ·è®¿é—®åˆ°äº†ä¸€ä¸ªæ ·å¼é”™ä¹±çš„é¡µé¢ï¼Œé™¤éæ‰‹åŠ¨åˆ·æ–°ï¼Œå¦åˆ™åœ¨èµ„æºç¼“å­˜è¿‡æœŸä¹‹å‰ï¼Œé¡µé¢ä¼šä¸€ç›´æ‰§è¡Œé”™è¯¯ã€‚ å…ˆéƒ¨ç½²é™æ€èµ„æºï¼Œå†éƒ¨ç½²åŠ¨æ€é¡µé¢ï¼šåœ¨éƒ¨ç½²æ—¶é—´é—´éš”ä¹‹å†…ï¼Œæœ‰æ—§ç‰ˆæœ¬èµ„æºæœ¬åœ°ç¼“å­˜çš„ç”¨æˆ·è®¿é—®ç½‘ç«™ï¼Œç”±äºè¯·æ±‚çš„é¡µé¢æ˜¯æ—§ç‰ˆæœ¬çš„ï¼Œèµ„æºå¼•ç”¨æ²¡æœ‰æ”¹å˜ï¼Œæµè§ˆå™¨å°†ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œè¿™ç§æƒ…å†µä¸‹é¡µé¢å±•ç°æ­£å¸¸ï¼›ä½†æ²¡æœ‰æœ¬åœ°ç¼“å­˜æˆ–è€…ç¼“å­˜è¿‡æœŸçš„ç”¨æˆ·è®¿é—®ç½‘ç«™ï¼Œå°±ä¼šå‡ºç°æ—§ç‰ˆæœ¬é¡µé¢åŠ è½½æ–°ç‰ˆæœ¬èµ„æºçš„æƒ…å†µï¼Œå¯¼è‡´é¡µé¢æ‰§è¡Œé”™è¯¯ï¼Œä½†å½“é¡µé¢å®Œæˆéƒ¨ç½²ï¼Œè¿™éƒ¨åˆ†ç”¨æˆ·å†æ¬¡è®¿é—®é¡µé¢åˆä¼šæ¢å¤æ­£å¸¸äº†ã€‚ å¥½çš„ï¼Œä¸Šé¢ä¸€å¨åˆ†ææƒ³è¯´çš„å°±æ˜¯ï¼šå…ˆéƒ¨ç½²è°éƒ½ä¸æˆï¼éƒ½ä¼šå¯¼è‡´éƒ¨ç½²è¿‡ç¨‹ä¸­å‘ç”Ÿé¡µé¢é”™ä¹±çš„é—®é¢˜ã€‚ æ‰€ä»¥ï¼Œè®¿é—®é‡ä¸å¤§çš„é¡¹ç›®ï¼Œå¯ä»¥è®©ç ”å‘åŒå­¦è‹¦é€¼ä¸€æŠŠï¼Œç­‰åˆ°åŠå¤œå·å·ä¸Šçº¿ï¼Œå…ˆä¸Šé™æ€èµ„æºï¼Œå†éƒ¨ç½²é¡µé¢ï¼Œçœ‹èµ·æ¥é—®é¢˜å°‘ä¸€äº›ã€‚è¿™ä¹Ÿæ˜¯å¾ˆå¤šå…¬å¸çš„éƒ¨ç½²æ–¹æ¡ˆã€‚ ä½†æ˜¯ï¼Œå¤§å…¬å¸è¶…å˜æ€ï¼Œæ²¡æœ‰è¿™æ ·çš„ç»å¯¹ä½å³°æœŸï¼Œåªæœ‰ç›¸å¯¹ä½å³°æœŸã€‚ æ‰€ä»¥ï¼Œä¸ºäº†ç¨³å®šçš„æœåŠ¡ï¼Œè¿˜å¾—ç»§ç»­è¿½æ±‚æè‡´å•Šï¼ è¿™ä¸ªå¥‡è‘©é—®é¢˜ï¼Œèµ·æºäºèµ„æºçš„ è¦†ç›–å¼å‘å¸ƒï¼Œç”¨å¾…å‘å¸ƒèµ„æºè¦†ç›–å·²å‘å¸ƒèµ„æºï¼Œå°±æœ‰è¿™ç§é—®é¢˜ã€‚ è§£å†³å®ƒä¹Ÿå¥½åŠï¼Œå°±æ˜¯å®ç° éè¦†ç›–å¼å‘å¸ƒã€‚ çœ‹ä¸Šå›¾ï¼Œç”¨æ–‡ä»¶çš„æ‘˜è¦ä¿¡æ¯æ¥å¯¹èµ„æºæ–‡ä»¶è¿›è¡Œé‡å‘½åï¼ŒæŠŠæ‘˜è¦ä¿¡æ¯æ”¾åˆ°èµ„æºæ–‡ä»¶å‘å¸ƒè·¯å¾„ä¸­ï¼Œè¿™æ ·ï¼Œå†…å®¹æœ‰ä¿®æ”¹çš„èµ„æºå°±å˜æˆäº†ä¸€ä¸ªæ–°çš„æ–‡ä»¶å‘å¸ƒåˆ°çº¿ä¸Šï¼Œä¸ä¼šè¦†ç›–å·²æœ‰çš„èµ„æºæ–‡ä»¶ã€‚ä¸Šçº¿è¿‡ç¨‹ä¸­ï¼Œå…ˆå…¨é‡éƒ¨ç½²é™æ€èµ„æºï¼Œå†ç°åº¦éƒ¨ç½²é¡µé¢ï¼Œæ•´ä¸ªé—®é¢˜å°±æ¯”è¾ƒå®Œç¾çš„è§£å†³äº†ã€‚ å› ä¸ºå¾ˆå¤šå‰ç«¯å¼€å‘åŒå­¦ä¸æ€ä¹ˆæ¥è§¦éƒ¨ç½²ï¼Œå¯¹ç°åº¦éƒ¨ç½²ä¸å¤ªç†Ÿæ‚‰ï¼Œä¸‹é¢å°†ä»‹ç»ä¸‹ä»€ä¹ˆæ˜¯ç°åº¦éƒ¨ç½²ã€‚ è½¯ä»¶å¼€å‘ä¸€èˆ¬éƒ½æ˜¯ä¸€ä¸ªç‰ˆæœ¬ä¸€ä¸ªç‰ˆæœ¬çš„è¿­ä»£ã€‚æ–°ç‰ˆæœ¬ä¸Šçº¿å‰éƒ½ä¼šç»è¿‡æµ‹è¯•ï¼Œä½†å°±ç®—è¿™æ ·ï¼Œä¹Ÿä¸èƒ½ä¿è¯ä¸Šçº¿äº†ä¸å‡ºé—®é¢˜ã€‚ æ‰€ä»¥ï¼Œåœ¨å…¬å¸é‡Œä¸Šçº¿æ–°ç‰ˆæœ¬ä»£ç ä¸€èˆ¬éƒ½æ˜¯é€šè¿‡ç°åº¦ç³»ç»Ÿã€‚ç°åº¦ç³»ç»Ÿå¯ä»¥æŠŠæµé‡åˆ’åˆ†æˆå¤šä»½ï¼Œä¸€ä»½èµ°æ–°ç‰ˆæœ¬ä»£ç ï¼Œä¸€ä»½èµ°è€ç‰ˆæœ¬ä»£ç ã€‚ è€Œä¸”ç°åº¦ç³»ç»Ÿæ”¯æŒè®¾ç½®æµé‡çš„æ¯”ä¾‹ï¼Œæ¯”å¦‚å¯ä»¥æŠŠèµ°æ–°ç‰ˆæœ¬ä»£ç çš„æµç¨‹è®¾ç½®ä¸º 5%ï¼Œæ²¡å•¥é—®é¢˜äº†å†æ”¾åˆ° 10%ï¼Œ50%ï¼Œæœ€åæ”¾åˆ° 100% å…¨é‡ã€‚è¿™æ ·å¯ä»¥æŠŠå‡ºç°é—®é¢˜çš„å½±å“é™åˆ°æœ€ä½ã€‚ ä¸ç„¶ä¸€ä¸Šæ¥å°±å…¨é‡ï¼Œä¸‡ä¸€å‡ºäº†çº¿ä¸Šé—®é¢˜ï¼Œé‚£å°±æ˜¯å¤§äº‹æ•…ã€‚ å¦å¤–ï¼Œç°åº¦ç³»ç»Ÿä¸æ­¢è¿™ä¸€ä¸ªç”¨é€”ï¼Œæ¯”å¦‚ï¼Œäº§å“ä¸ç¡®å®šæŸäº›æ”¹åŠ¨æ˜¯ä¸æ˜¯æœ‰æ•ˆçš„ï¼Œå°±è¦åš AB å®éªŒï¼Œä¹Ÿå°±æ˜¯è¦æŠŠæµé‡åˆ†æˆä¸¤ä»½ï¼Œä¸€ä»½èµ° A ç‰ˆæœ¬ä»£ç ï¼Œä¸€ä»½èµ° B ç‰ˆæœ¬ä»£ç ã€‚ é‚£è¿™æ ·çš„ç°åº¦ç³»ç»Ÿæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿå…¶å®å¾ˆå¤šéƒ½æ˜¯ç”¨ nginx å®ç°çš„ã€‚ nginx æ˜¯ä¸€ä¸ªåå‘ä»£ç†çš„æœåŠ¡ï¼Œç”¨æˆ·è¯·æ±‚å‘ç»™å®ƒï¼Œç”±å®ƒè½¬å‘ç»™å…·ä½“çš„åº”ç”¨æœåŠ¡å™¨ã€‚ å®ƒçš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š é¦–å…ˆï¼Œéœ€è¦å¯¹æµé‡è¿›è¡ŒæŸ“è‰²ï¼Œå³å¯¹è¿™ä¸ªç”¨æˆ·è¿›è¡Œæ ‡æ³¨ï¼Œè®©è¿™ä¸ªç”¨æˆ·è®¿é—®æœåŠ¡1ï¼Œå¦å¤–çš„ç”¨æˆ·è®¿é—®æœåŠ¡2ã€‚æŸ“è‰²çš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œå¯ä»¥é€šè¿‡cookieæ¥å®Œæˆã€‚ä¸åŒçš„ç”¨æˆ·æºå¸¦çš„cookieæ˜¯ä¸åŒçš„ã€‚ç¬¬ä¸€æŸ“è‰²çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„ç”¨æˆ·éƒ½è®¿é—®æœåŠ¡1ã€‚ ç„¶åï¼Œç¬¬äºŒæ¬¡è®¿é—®çš„æ—¶å€™ï¼Œnginxæ ¹æ®ç”¨æˆ·æºå¸¦çš„cookieè¿›è¡Œè½¬å‘åˆ°ä¸åŒçš„æœåŠ¡ï¼Œè¿™æ ·å°±å®Œæˆäº†ç°åº¦è®¿é—®ã€‚ å¥½äº†ï¼Œç°åº¦éƒ¨ç½²å°±ä»‹ç»åˆ°è¿™é‡Œï¼Œå›åˆ°åŸæ–‡è®²çš„å…ˆå…¨é‡éƒ¨ç½²é™æ€èµ„æºï¼Œå†ç°åº¦éƒ¨ç½²é¡µé¢ï¼Œè¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ é¦–å…ˆï¼Œéƒ¨ç½²é™æ€èµ„æºçš„æ—¶å€™ï¼Œä¸è¦åˆ é™¤åŸæ¥çš„é™æ€èµ„æºï¼Œè€Œæ˜¯æŠŠæ–°çš„é™æ€èµ„æºå‘å¤åˆ¶è¿‡å»ï¼Œå› ä¸ºæ–‡ä»¶åç”¨æ‘˜è¦ç®—æ³•é‡å‘½åçš„ï¼Œæ‰€ä»¥ä¸ä¼šå‘ç”Ÿé‡åçš„é—®é¢˜ã€‚ å…¶æ¬¡ï¼Œç°åº¦éƒ¨ç½²åŠ¨æ€é¡µé¢ï¼Œä¹Ÿå°±æ˜¯ä¸€éƒ¨åˆ†ç”¨æˆ·è®¿é—®è€çš„é¡µé¢ï¼Œä¸€éƒ¨åˆ†ç”¨æˆ·è®¿é—®æ–°çš„é¡µé¢ã€‚è®¿é—®è€é¡µé¢çš„ç”¨æˆ·è¯·æ±‚çš„è¿˜æ˜¯è€èµ„æºï¼Œç›´æ¥ä½¿ç”¨ç¼“å­˜ã€‚è®¿é—®æ–°é¡µé¢çš„ç”¨æˆ·è®¿é—®æ–°èµ„æºï¼Œæ­¤æ—¶æ–°èµ„æºå·²ç»éƒ¨ç½²å®Œæˆï¼Œæ‰€ä»¥ä¸ä¼šè®¿é—®è€çš„èµ„æºï¼Œå¯¼è‡´é¡µé¢å‡ºç°é”™è¯¯ã€‚ æœ€åï¼Œæ ¹æ®è®¿é—®æƒ…å†µï¼Œåˆ©ç”¨ç°åº¦ç³»ç»Ÿï¼Œé€æ¸æŠŠè®¿é—®è€é¡µé¢çš„ç”¨æˆ·è¿‡æ¸¡åˆ°è®¿é—®æ–°é¡µé¢ä¸Šã€‚ æ‰€ä»¥ï¼Œå¤§å…¬å¸çš„é™æ€èµ„æºä¼˜åŒ–æ–¹æ¡ˆï¼ŒåŸºæœ¬ä¸Šè¦å®ç°è¿™ä¹ˆå‡ ä¸ªä¸œè¥¿ï¼š é…ç½®è¶…é•¿æ—¶é—´çš„æœ¬åœ°ç¼“å­˜ï¼šèŠ‚çœå¸¦å®½ï¼Œæé«˜æ€§èƒ½ é‡‡ç”¨å†…å®¹æ‘˜è¦ä½œä¸ºç¼“å­˜æ›´æ–°ä¾æ®ï¼šç²¾ç¡®çš„ç¼“å­˜æ§åˆ¶ é™æ€èµ„æºCDNéƒ¨ç½²ï¼šä¼˜åŒ–ç½‘ç»œè¯·æ±‚ æ›´èµ„æºå‘å¸ƒè·¯å¾„å®ç°éè¦†ç›–å¼å‘å¸ƒï¼šå¹³æ»‘å‡çº§ å…¨å¥—åšä¸‹æ¥ï¼Œå°±æ˜¯ç›¸å¯¹æ¯”è¾ƒå®Œæ•´çš„é™æ€èµ„æºç¼“å­˜æ§åˆ¶æ–¹æ¡ˆäº†ï¼Œè€Œä¸”ï¼Œè¿˜è¦æ³¨æ„çš„æ˜¯ï¼Œé™æ€èµ„æºçš„ç¼“å­˜æ§åˆ¶è¦æ±‚åœ¨å‰ç«¯æ‰€æœ‰é™æ€èµ„æºåŠ è½½çš„ä½ç½®éƒ½è¦åšè¿™æ ·çš„å¤„ç†ã€‚ æ˜¯çš„ï¼Œæ‰€æœ‰ï¼ ä»€ä¹ˆjsã€cssè‡ªä¸å¿…è¯´ï¼Œè¿˜è¦åŒ…æ‹¬jsã€cssæ–‡ä»¶ä¸­å¼•ç”¨çš„èµ„æºè·¯å¾„ï¼Œç”±äºæ¶‰åŠåˆ°æ‘˜è¦ä¿¡æ¯ï¼Œå¼•ç”¨èµ„æºçš„æ‘˜è¦ä¿¡æ¯ä¹Ÿä¼šå¼•èµ·å¼•ç”¨æ–‡ä»¶æœ¬èº«çš„å†…å®¹æ”¹å˜ï¼Œä»è€Œå½¢æˆçº§è”çš„æ‘˜è¦å˜åŒ–ï¼Œå¤§æ¦‚å°±æ˜¯ï¼š åˆ°è¿™é‡Œæœ¬æ–‡ç»“æŸäº†ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº†å‰ç«¯éƒ¨ç½²ä¸­å…³äºé™æ€èµ„æºç¼“å­˜è¦é¢ä¸´çš„ä¼˜åŒ–å’Œéƒ¨ç½²é—®é¢˜ï¼Œæ–°çš„é—®é¢˜åˆæ¥äº†ï¼šè¿™â„¢è®©å·¥ç¨‹å¸ˆæ€ä¹ˆå†™ç å•Šï¼ï¼ï¼ è¿™åˆä¼šæ‰¯å‡ºä¸€å †æœ‰å…³æ¨¡å—åŒ–å¼€å‘ã€èµ„æºåŠ è½½ã€è¯·æ±‚åˆå¹¶ã€å‰ç«¯æ¡†æ¶ç­‰ç­‰çš„å·¥ç¨‹é—®é¢˜ã€‚ è½¬è½½ï¼šhttps://mp.weixin.qq.com/s/RVnhy3YJfDVw-Iga3hiPvw","categories":[{"name":"åç«¯ä¸è¿ç»´","slug":"åç«¯ä¸è¿ç»´","permalink":"http://example.com/categories/%E5%90%8E%E7%AB%AF%E4%B8%8E%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"nginx","slug":"nginx","permalink":"http://example.com/tags/nginx/"}]},{"title":"ç§»åŠ¨ç«¯å¸ƒå±€é€‚é…çš„æ–¹æ¡ˆ","slug":"30-ç§»åŠ¨ç«¯å¸ƒå±€é€‚é…çš„æ–¹æ¡ˆ","date":"2025-07-01T15:51:08.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/e57c66af.html","permalink":"http://example.com/posts/e57c66af.html","excerpt":"","text":"ä¸€ã€ç§»åŠ¨ç«¯åŸºç¡€æ¦‚å¿µ1.1ã€è‹±å¯¸ä¸€èˆ¬ç”¨è‹±å¯¸æè¿°å±å¹•çš„ç‰©ç†å¤§å°ï¼Œå¦‚ç”µè„‘æ˜¾ç¤ºå™¨çš„**17ã€22ï¼Œæ‰‹æœºæ˜¾ç¤ºå™¨çš„4.8ã€5.7**ç­‰ä½¿ç”¨çš„å•ä½éƒ½æ˜¯è‹±å¯¸ã€‚ éœ€è¦æ³¨æ„ï¼Œä¸Šé¢çš„å°ºå¯¸éƒ½æ˜¯å±å¹•å¯¹è§’çº¿çš„é•¿åº¦ï¼š è‹±å¯¸(inch,ç¼©å†™ä¸º**in**)åœ¨è·å…°è¯­ä¸­çš„æœ¬æ„æ˜¯å¤§æ‹‡æŒ‡ï¼Œä¸€è‹±å¯¸å°±æ˜¯æŒ‡ç”²åº•éƒ¨æ™®é€šäººæ‹‡æŒ‡çš„å®½åº¦ã€‚ è‹±å¯¸å’Œå˜ç±³çš„æ¢ç®—ï¼š1è‹±å¯¸ = 2.54 å˜ç±³ 1.2ã€åƒç´ åƒç´ å³ä¸€ä¸ªå°æ–¹å—ï¼Œå®ƒå…·æœ‰ç‰¹å®šçš„ä½ç½®å’Œé¢œè‰²ã€‚ å›¾ç‰‡ã€ç”µå­å±å¹•ï¼ˆæ‰‹æœºã€ç”µè„‘ï¼‰å°±æ˜¯ç”±æ— æ•°ä¸ªå…·æœ‰ç‰¹å®šé¢œè‰²å’Œç‰¹å®šä½ç½®çš„å°æ–¹å—æ‹¼æ¥è€Œæˆã€‚ åƒç´ å¯ä»¥ä½œä¸ºå›¾ç‰‡æˆ–ç”µå­å±å¹•çš„æœ€å°ç»„æˆå•ä½ã€‚ ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨sketchæ‰“å¼€ä¸€å¼ å›¾ç‰‡ï¼Œå°†è¿™äº›å›¾ç‰‡æ”¾å¤§å³å¯çœ‹åˆ°è¿™äº›åƒç´ ç‚¹ï¼š é€šå¸¸æˆ‘ä»¬æ‰€è¯´çš„åˆ†è¾¨ç‡æœ‰ä¸¤ç§ï¼Œå±å¹•åˆ†è¾¨ç‡å’Œå›¾åƒåˆ†è¾¨ç‡ 1ï¼‰ç‰©ç†åƒç´ ï¼ˆåˆ†è¾¨ç‡ï¼‰å±å¹•åˆ†è¾¨ç‡å±å¹•åˆ†è¾¨ç‡æŒ‡ä¸€ä¸ªå±å¹•å…·ä½“ç”±å¤šå°‘ä¸ªåƒç´ ç‚¹ç»„æˆã€‚ä¸‹é¢æ˜¯**apple**çš„å®˜ç½‘ä¸Šå¯¹æ‰‹æœºåˆ†è¾¨ç‡çš„æè¿°ï¼š iPhone XS Maxå’ŒiPhone SEçš„åˆ†è¾¨ç‡åˆ†åˆ«ä¸º2688 x 1242å’Œ1136 x 640ã€‚è¿™è¡¨ç¤ºæ‰‹æœºåˆ†åˆ«åœ¨å‚ç›´å’Œæ°´å¹³ä¸Šæ‰€å…·æœ‰çš„åƒç´ ç‚¹æ•°ï¼Œå‡ºå‚å°±è®¾å®šå¥½çš„ã€‚ å½“ç„¶åˆ†è¾¨ç‡é«˜ä¸ä»£è¡¨å±å¹•å°±æ¸…æ™°ï¼Œå±å¹•çš„æ¸…æ™°ç¨‹åº¦è¿˜ä¸å°ºå¯¸æœ‰å…³ã€‚ å›¾åƒåˆ†è¾¨ç‡æˆ‘ä»¬é€šå¸¸è¯´çš„**å›¾ç‰‡åˆ†è¾¨ç‡å…¶å®æ˜¯æŒ‡å›¾ç‰‡å«æœ‰çš„åƒç´ æ•°**ï¼Œæ¯”å¦‚ä¸€å¼ å›¾ç‰‡çš„åˆ†è¾¨ç‡ä¸º**800 x 400ã€‚è¿™è¡¨ç¤ºå›¾ç‰‡åˆ†åˆ«åœ¨å‚ç›´å’Œæ°´å¹³ä¸Šæ‰€å…·æœ‰çš„åƒç´ ç‚¹æ•°ä¸º800å’Œ400**ã€‚ åŒä¸€å°ºå¯¸çš„å›¾ç‰‡ï¼Œåˆ†è¾¨ç‡è¶Šé«˜ï¼Œå›¾ç‰‡è¶Šæ¸…æ™°ã€‚ PPIï¼ˆå±å¹•ï¼‰PPI(Pixel Per Inch)ï¼šæ¯è‹±å¯¸åŒ…æ‹¬çš„åƒç´ æ•°ã€‚ **PPI**å¯ä»¥ç”¨äºæè¿°å±å¹•çš„æ¸…æ™°åº¦ä»¥åŠä¸€å¼ å›¾ç‰‡çš„è´¨é‡ã€‚ ä½¿ç”¨PPIæè¿°å›¾ç‰‡æ—¶ï¼ŒPPIè¶Šé«˜ï¼Œå›¾ç‰‡è´¨é‡è¶Šé«˜ï¼Œä½¿ç”¨PPIæè¿°å±å¹•æ—¶ï¼ŒPPIè¶Šé«˜ï¼Œå±å¹•è¶Šæ¸…æ™°ã€‚ åœ¨ä¸Šé¢æè¿°æ‰‹æœºåˆ†è¾¨ç‡çš„å›¾ç‰‡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šiPhone XS Maxå’ŒiPhone SEçš„PPIåˆ†åˆ«ä¸º458å’Œ326ï¼Œè¿™è¶³ä»¥è¯æ˜å‰è€…çš„å±å¹•æ›´æ¸…æ™°ã€‚ ç”±äºæ‰‹æœºå°ºå¯¸ä¸ºæ‰‹æœºå¯¹è§’çº¿çš„é•¿åº¦ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨å¦‚ä¸‹çš„æ–¹æ³•è®¡ç®—PPI:$$\\frac {\\sqrt{æ°´å¹³åƒç´ ç‚¹æ•°^{2}+å‚ç›´åƒç´ ç‚¹æ•°^{2}}} {å°ºå¯¸}$$**iPhone 6çš„PPIä¸ºï¼š$$\\frac {\\sqrt{1334^{2}+750^{2}}} {4.7} &#x3D;325.6$$é‚£å®ƒæ¯è‹±å¯¸çº¦å«æœ‰326**ä¸ªç‰©ç†åƒç´ ç‚¹ã€‚ DPIï¼ˆæ‰“å° ï¼‰DPI(Dot Per Inch)ï¼šå³æ¯è‹±å¯¸åŒ…æ‹¬çš„ç‚¹æ•°ã€‚ è¿™é‡Œçš„ç‚¹æ˜¯ä¸€ä¸ªæŠ½è±¡çš„å•ä½ï¼Œå®ƒå¯ä»¥æ˜¯å±å¹•åƒç´ ç‚¹ã€å›¾ç‰‡åƒç´ ç‚¹ä¹Ÿå¯ä»¥æ˜¯æ‰“å°æœºçš„å¢¨ç‚¹ã€‚ å¹³æ—¶ä½ å¯èƒ½ä¼šçœ‹åˆ°ä½¿ç”¨**DPIæ¥æè¿°å›¾ç‰‡å’Œå±å¹•ï¼Œè¿™æ—¶çš„DPIåº”è¯¥å’ŒPPIæ˜¯ç­‰ä»·çš„ï¼ŒDPIæœ€å¸¸ç”¨çš„æ˜¯ç”¨äºæè¿°æ‰“å°æœºï¼Œè¡¨ç¤ºæ‰“å°æœºæ¯è‹±å¯¸å¯ä»¥æ‰“å°çš„ç‚¹æ•°ã€‚** ä¸€å¼ å›¾ç‰‡åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæ—¶ï¼Œå®ƒçš„åƒç´ ç‚¹æ•°æ˜¯è§„åˆ™æ’åˆ—çš„ï¼Œæ¯ä¸ªåƒç´ ç‚¹éƒ½æœ‰ç‰¹å®šçš„ä½ç½®å’Œé¢œè‰²ã€‚ å½“ä½¿ç”¨æ‰“å°æœºè¿›è¡Œæ‰“å°æ—¶ï¼Œæ‰“å°æœºå¯èƒ½ä¸ä¼šè§„åˆ™çš„å°†è¿™äº›ç‚¹æ‰“å°å‡ºæ¥ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€ä¸ªä¸ªæ‰“å°ç‚¹æ¥å‘ˆç°è¿™å¼ å›¾åƒï¼Œè¿™äº›æ‰“å°ç‚¹ä¹‹é—´ä¼šæœ‰ä¸€å®šçš„ç©ºéš™ï¼Œè¿™å°±æ˜¯DPIæ‰€æè¿°çš„ï¼šæ‰“å°ç‚¹çš„å¯†åº¦ã€‚ åœ¨ä¸Šé¢çš„å›¾åƒä¸­æˆ‘ä»¬å¯ä»¥æ¸…æ™°çš„çœ‹åˆ°ï¼Œæ‰“å°æœºæ˜¯å¦‚ä½•ä½¿ç”¨å¢¨ç‚¹æ¥æ‰“å°ä¸€å¼ å›¾åƒã€‚ æ‰€ä»¥ï¼Œæ‰“å°æœºçš„**DPI**è¶Šé«˜ï¼Œæ‰“å°å›¾åƒçš„ç²¾ç»†ç¨‹åº¦å°±è¶Šé«˜ï¼ŒåŒæ—¶è¿™ä¹Ÿä¼šæ¶ˆè€—æ›´å¤šçš„å¢¨ç‚¹å’Œæ—¶é—´ã€‚ 2ï¼‰CSSåƒç´ ï¼ˆPXï¼‰åœ¨å†™CSSæ—¶ï¼Œæˆ‘ä»¬ç”¨åˆ°æœ€å¤šçš„å•ä½æ˜¯**pxï¼Œå³CSSåƒç´ ï¼Œå½“é¡µé¢ç¼©æ”¾æ¯”ä¾‹ä¸º100%æ—¶ï¼Œä¸€ä¸ªCSSåƒç´ ç­‰äºä¸€ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚ï¼ˆwidth&#x3D;device-width; initial-scale&#x3D;1; å³é¡µé¢ç¼©æ”¾æ¯”ä¸º100%ï¼‰** ä½†æ˜¯**CSSåƒç´ æ˜¯å¾ˆå®¹æ˜“è¢«æ”¹å˜çš„ï¼Œå½“ç”¨æˆ·å¯¹æµè§ˆå™¨è¿›è¡Œäº†æ”¾å¤§ï¼ŒCSSåƒç´ ä¼šè¢«æ”¾å¤§ï¼Œè¿™æ—¶ä¸€ä¸ªCSSåƒç´ **ä¼šè·¨è¶Šæ›´å¤šçš„ç‰©ç†åƒç´ ï¼Œå³å…ƒç´ çš„cssåƒç´ æ•°é‡ä¸ä¼šæ”¹å˜ï¼Œæ”¹å˜çš„åªæ˜¯æ¯ä¸ªcssåƒç´ çš„å¤§å° ä¹Ÿå°±æ˜¯è¯´width: 128pxçš„å…ƒç´ åœ¨ç¼©æ”¾200%ä»¥åï¼Œå®½åº¦ä¾ç„¶æ˜¯128ä¸ªcssåƒç´ ï¼Œåªä¸è¿‡æ¯ä¸ªcssåƒç´ çš„å®½åº¦å’Œé«˜åº¦å˜ä¸ºåŸæ¥çš„ä¸¤å€ã€‚å¦‚æœåŸæœ¬å…ƒç´ å®½åº¦ä¸º128ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Œé‚£ä¹ˆç¼©æ”¾200%ä»¥åå…ƒç´ å®½åº¦ä¸º256ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ï¼ˆcssåƒç´ å®½åº¦å§‹ç»ˆæ˜¯128ï¼‰ã€‚ é¡µé¢çš„ç¼©æ”¾ç³»æ•° = CSSåƒç´  / è®¾å¤‡ç‹¬ç«‹åƒç´  3ï¼‰è®¾å¤‡ç‹¬ç«‹åƒç´ (é‡ç‚¹)æ™ºèƒ½æ‰‹æœºå‘å±•éå¸¸ä¹‹å¿«ï¼Œåœ¨å‡ å¹´ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜ç”¨ç€åˆ†è¾¨ç‡éå¸¸ä½çš„æ‰‹æœºï¼Œæ¯”å¦‚ä¸‹é¢å·¦ä¾§çš„ç™½è‰²æ‰‹æœºï¼Œå®ƒçš„åˆ†è¾¨ç‡æ˜¯**320x480**ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸Šé¢æµè§ˆæ­£å¸¸çš„æ–‡å­—ã€å›¾ç‰‡ç­‰ç­‰ã€‚ ä½†æ˜¯ï¼Œéšç€ç§‘æŠ€çš„å‘å±•ï¼Œä½åˆ†è¾¨ç‡çš„æ‰‹æœºå·²ç»ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚äº†ã€‚å¾ˆå¿«ï¼Œæ›´é«˜åˆ†è¾¨ç‡çš„å±å¹•è¯ç”Ÿäº†ï¼Œæ¯”å¦‚ä¸‹é¢çš„é»‘è‰²æ‰‹æœºï¼Œå®ƒçš„åˆ†è¾¨ç‡æ˜¯**640x940**ï¼Œæ­£å¥½æ˜¯ç™½è‰²æ‰‹æœºçš„ä¸¤å€ã€‚ ç†è®ºä¸Šæ¥è®²ï¼Œåœ¨ç™½è‰²æ‰‹æœºä¸Šç›¸åŒå¤§å°çš„å›¾ç‰‡å’Œæ–‡å­—ï¼Œåœ¨é»‘è‰²æ‰‹æœºä¸Šä¼šè¢«ç¼©æ”¾ä¸€å€ï¼Œå› ä¸ºå®ƒçš„åˆ†è¾¨ç‡æé«˜äº†ä¸€å€ã€‚è¿™æ ·ï¼Œå²‚ä¸æ˜¯åé¢å‡ºç°æ›´é«˜åˆ†è¾¨ç‡çš„æ‰‹æœºï¼Œé¡µé¢å…ƒç´ ä¼šå˜å¾—è¶Šæ¥è¶Šå°å—ï¼Ÿ ç„¶è€Œï¼Œäº‹å®å¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„æ™ºèƒ½æ‰‹æœºï¼Œä¸ç®¡åˆ†è¾¨ç‡å¤šé«˜ï¼Œä»–ä»¬æ‰€å±•ç¤ºçš„ç•Œé¢æ¯”ä¾‹éƒ½æ˜¯åŸºæœ¬ç±»ä¼¼çš„ã€‚ä¹”å¸ƒæ–¯åœ¨**iPhone4çš„å‘å¸ƒä¼šä¸Šé¦–æ¬¡æå‡ºäº†Retina Display**è§†ç½‘è†œå±å¹•)çš„æ¦‚å¿µï¼Œå®ƒæ­£æ˜¯è§£å†³äº†ä¸Šé¢çš„é—®é¢˜ï¼Œè¿™ä¹Ÿä½¿å®ƒæˆä¸ºä¸€æ¬¾è·¨æ—¶ä»£çš„æ‰‹æœºã€‚ åœ¨**iPhone4ä½¿ç”¨çš„è§†ç½‘è†œå±å¹•ä¸­ï¼ŒæŠŠ2x2ä¸ªåƒç´ å½“1**ä¸ªåƒç´ ä½¿ç”¨ï¼Œè¿™æ ·è®©å±å¹•çœ‹èµ·æ¥æ›´ç²¾è‡´ï¼Œä½†æ˜¯å…ƒç´ çš„å¤§å°å´ä¸ä¼šæ”¹å˜ã€‚ å¦‚æœé»‘è‰²æ‰‹æœºä½¿ç”¨äº†è§†ç½‘è†œå±å¹•çš„æŠ€æœ¯ï¼Œé‚£ä¹ˆæ˜¾ç¤ºç»“æœåº”è¯¥æ˜¯ä¸‹é¢çš„æƒ…å†µï¼Œæ¯”å¦‚åˆ—è¡¨çš„å®½åº¦ä¸º300ä¸ªåƒç´ ï¼Œé‚£ä¹ˆåœ¨ä¸€æ¡æ°´å¹³çº¿ä¸Šï¼Œç™½è‰²æ‰‹æœºä¼šç”¨300ä¸ªç‰©ç†åƒç´ å»æ¸²æŸ“å®ƒï¼Œè€Œé»‘è‰²æ‰‹æœºå®é™…ä¸Šä¼šç”¨600ä¸ªç‰©ç†åƒç´ å»æ¸²æŸ“å®ƒã€‚ æˆ‘ä»¬å¿…é¡»ç”¨ä¸€ç§å•ä½æ¥åŒæ—¶å‘Šè¯‰ä¸åŒåˆ†è¾¨ç‡çš„æ‰‹æœºï¼Œå®ƒä»¬åœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºå…ƒç´ çš„å¤§å°æ˜¯å¤šå°‘ï¼Œè¿™ä¸ªå•ä½å°±æ˜¯è®¾å¤‡ç‹¬ç«‹åƒç´ (Device Independent Pixels)ç®€ç§°**DIPsæˆ–DPã€‚ä¸Šé¢æˆ‘ä»¬è¯´ï¼Œåˆ—è¡¨çš„å®½åº¦ä¸º300ä¸ªåƒç´ ï¼Œå®é™…ä¸Šæˆ‘ä»¬å¯ä»¥è¯´ï¼šåˆ—è¡¨çš„å®½åº¦ä¸º300**ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚ è‡³äºä¸ºä»€ä¹ˆå‡ºç°è®¾å¤‡ç‹¬ç«‹åƒç´ è¿™ç§è™šæ‹Ÿåƒç´ å•ä½æ¦‚å¿µï¼Œä¸‹é¢ä¸¾ä¸ªä¾‹å­ï¼š iPhone 3GS å’Œ iPhone 4&#x2F;4s çš„å°ºå¯¸éƒ½æ˜¯ 3.5 å¯¸ï¼Œä½† iPhone 3GS çš„åˆ†è¾¨ç‡æ˜¯ 320x480ï¼ŒiPhone 4&#x2F;4s çš„åˆ†è¾¨ç‡æ˜¯ 640x960ï¼Œè¿™æ„å‘³ç€ï¼ŒiPhone 3GS æœ‰ 320 ä¸ªç‰©ç†åƒç´ ï¼ŒiPhone 4&#x2F;4s æœ‰ 640 ä¸ªç‰©ç†åƒç´ ã€‚ å¦‚æœæˆ‘ä»¬æŒ‰ç…§çœŸå®çš„ç‰©ç†åƒç´ è¿›è¡Œå¸ƒå±€ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬æŒ‰ç…§ 320 ç‰©ç†åƒç´ è¿›è¡Œå¸ƒå±€ï¼Œåˆ°äº† 640 ç‰©ç†åƒç´ çš„æ‰‹æœºä¸Šå°±ä¼šæœ‰ä¸€åŠçš„ç©ºç™½ï¼Œä¸ºäº†é¿å…è¿™ç§é—®é¢˜ï¼Œå°±äº§ç”Ÿäº†è™šæ‹Ÿåƒç´ å•ä½ iPhone 3GS å’Œ iPhone 4&#x2F;4s éƒ½æ˜¯ 320 ä¸ªè™šæ‹Ÿåƒç´ ï¼Œåœ¨ä¸€æ¡æ°´å¹³çº¿ä¸Šï¼Œåœ¨ iPhone 3GS ä¸Šï¼Œæœ€ç»ˆ 1 ä¸ªè™šæ‹Ÿåƒç´ æ¢ç®—æˆ 1 ä¸ªç‰©ç†åƒç´ ã€‚åœ¨ iphone 4s ä¸­ï¼Œ1 ä¸ªè™šæ‹Ÿåƒç´ æœ€ç»ˆæ¢ç®—æˆ 2 ä¸ªç‰©ç†åƒç´ ï¼Œå³ç”¨2ä¸ªç‰©ç†åƒç´ æ‰èƒ½å°†1ä¸ªè™šæ‹Ÿåƒç´ æ¸²æŸ“æ»¡ã€‚ è¿™æ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿå¯¹äºé‚£äº›åƒç´ å¯†åº¦é«˜çš„å±å¹•ï¼Œå°†å¤šä¸ªè®¾å¤‡åƒç´ åˆ’åˆ†ä¸ºä¸€ä¸ªé€»è¾‘åƒç´ ã€‚è‡³äºå°†å¤šå°‘è®¾å¤‡åƒç´ åˆ’åˆ†ä¸ºä¸€ä¸ªé€»è¾‘åƒç´ ï¼Œè¿™ç”±æ“ä½œç³»ç»Ÿå†³å®šã€‚ æ‰“å¼€**chromeçš„å¼€å‘è€…å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿå„ä¸ªæ‰‹æœºå‹å·çš„æ˜¾ç¤ºæƒ…å†µï¼Œæ¯ç§å‹å·ä¸Šé¢ä¼šæ˜¾ç¤ºä¸€ä¸ªå°ºå¯¸ï¼Œæ¯”å¦‚iPhone Xæ˜¾ç¤ºçš„å°ºå¯¸æ˜¯375x812ï¼Œå®é™…iPhone X**çš„åˆ†è¾¨ç‡ä¼šæ¯”è¿™é«˜å¾ˆå¤šï¼Œè¿™é‡Œæ˜¾ç¤ºçš„å°±æ˜¯è®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚ æ‰€ä»¥è¯´ï¼Œ1 ä¸ªè™šæ‹Ÿåƒç´ è¢«æ¢ç®—æˆå‡ ä¸ªç‰©ç†åƒç´ ï¼Œè¿™ä¸ªæ•°å€¼æˆ‘ä»¬ç§°ä¹‹ä¸ºè®¾å¤‡åƒç´ æ¯”ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢ä»‹ç»çš„dpr åœ¨javaScriptä¸­å¯ä»¥é€šè¿‡window.screen.width/ window.screen.height æŸ¥çœ‹ screen.width: å±å¹•å®½åº¦ 4ï¼‰è®¾å¤‡åƒç´ æ¯”ï¼ˆDPRï¼‰devicePixelRatioï¼Œç®€ç§°ä¸º DPRï¼Œç”¨æ¥æè¿°ç‰©ç†åƒç´ ä¸è®¾å¤‡ç‹¬ç«‹åƒç´ çš„æ¯”ä¾‹ï¼Œå…¶å€¼ç­‰äº â€œç‰©ç†åƒç´  &#x2F; è®¾å¤‡ç‹¬ç«‹åƒç´ â€ã€‚ åœ¨javascriptä¸­ï¼Œå¯ä»¥é€šè¿‡jsè·å–åˆ°å½“å‰è®¾å¤‡çš„dprï¼š 1window.devicePixelRatio åœ¨cssä¸­ï¼Œå¯ä»¥ä½¿ç”¨åª’ä½“æŸ¥è¯¢**min-device-pixel-ratioï¼ŒåŒºåˆ†dpr**ï¼š 1@media (-webkit-min-device-pixel-ratio: 2),(min-device-pixel-ratio: 2)&#123; &#125; å¯çŸ¥ï¼ŒiPhone6ç‰©ç†åƒç´ ï¼ˆåˆ†è¾¨ç‡ï¼‰å®½é«˜ä¸º 750Ã—1334ï¼Œè®¾å¤‡ç‹¬ç«‹åƒç´ å®½é«˜ä¸º375Ã—667ï¼Œ750&#x3D;375 * 2ï¼Œ1334&#x3D;667 * 2ï¼Œæ‰€ä»¥ iPhone6 çš„ DPR ä¸º 2ã€‚ åä¹‹ï¼ŒiPhone6çš„è®¾å¤‡å®½åº¦å’Œé«˜åº¦ä¸º375px * 667px,å¯ä»¥ç†è§£ä¸ºè®¾å¤‡çš„ç‹¬ç«‹åƒç´ ï¼›è€Œå…¶dprä¸º2ï¼Œæ ¹æ®ä¸Šé¢å…¬å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾å¾—çŸ¥å…¶ç‰©ç†åƒç´ ï¼ˆåˆ†è¾¨ç‡ï¼‰ä¸º750px * 1334pxã€‚ è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š å½“è®¾å¤‡åƒç´ æ¯”ä¸º1:1æ—¶ï¼Œä½¿ç”¨1ï¼ˆ1Ã—1ï¼‰ä¸ªè®¾å¤‡åƒç´ æ˜¾ç¤º1ä¸ªCSSåƒç´  å½“è®¾å¤‡åƒç´ æ¯”ä¸º2:1æ—¶ï¼Œä½¿ç”¨4ï¼ˆ2Ã—2ï¼‰ä¸ªè®¾å¤‡åƒç´ æ˜¾ç¤º1ä¸ªCSSåƒç´  å½“è®¾å¤‡åƒç´ æ¯”ä¸º3:1æ—¶ï¼Œä½¿ç”¨9ï¼ˆ3Ã—3ï¼‰ä¸ªè®¾å¤‡åƒç´ æ˜¾ç¤º1ä¸ªCSSåƒç´  å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å½“ç„¶ï¼Œä¸Šé¢çš„è§„åˆ™ä¹Ÿæœ‰ä¾‹å¤–ï¼ŒiPhone 6ã€7ã€8 Plusçš„å®é™…ç‰©ç†åƒç´ æ˜¯1080 x 1920ï¼Œåœ¨å¼€å‘è€…å·¥å…·ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šå®ƒçš„è®¾å¤‡ç‹¬ç«‹åƒç´ æ˜¯**414 x 736ï¼Œè®¾å¤‡åƒç´ æ¯”ä¸º3ï¼Œè®¾å¤‡ç‹¬ç«‹åƒç´ å’Œè®¾å¤‡åƒç´ æ¯”çš„ä¹˜ç§¯å¹¶ä¸ç­‰äº1080 x 1920ï¼Œè€Œæ˜¯ç­‰äº1242 x 2208**ã€‚ å®é™…ä¸Šï¼Œæ‰‹æœºä¼šè‡ªåŠ¨æŠŠ**1242 x 2208ä¸ªåƒç´ ç‚¹å¡è¿›1080 * 1920ä¸ªç‰©ç†åƒç´ ç‚¹æ¥æ¸²æŸ“ï¼Œæˆ‘ä»¬ä¸ç”¨å…³å¿ƒè¿™ä¸ªè¿‡ç¨‹ï¼Œè€Œ1242 x 2208è¢«ç§°ä¸ºå±å¹•çš„è®¾è®¡åƒç´ ã€‚æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­ä¹Ÿæ˜¯ä»¥è¿™ä¸ªè®¾è®¡åƒç´ **ä¸ºå‡†ã€‚ å®é™…ä¸Šï¼Œä»è‹¹æœæå‡ºè§†ç½‘è†œå±å¹•å¼€å§‹ï¼Œæ‰å‡ºç°è®¾å¤‡åƒç´ æ¯”è¿™ä¸ªæ¦‚å¿µï¼Œå› ä¸ºåœ¨è¿™ä¹‹å‰ï¼Œç§»åŠ¨è®¾å¤‡éƒ½æ˜¯ç›´æ¥ä½¿ç”¨ç‰©ç†åƒç´ æ¥è¿›è¡Œå±•ç¤ºã€‚ ç´§æ¥ç€ï¼Œ**Android**åŒæ ·ä½¿ç”¨äº†å…¶ä»–çš„æŠ€æœ¯æ–¹æ¡ˆæ¥å®ç°DPRå¤§äº1çš„å±å¹•ï¼Œä¸è¿‡åŸç†æ˜¯ç±»ä¼¼çš„ã€‚ç”±äºAndroidå±å¹•å°ºå¯¸éå¸¸å¤šã€åˆ†è¾¨ç‡é«˜ä½è·¨åº¦éå¸¸å¤§ï¼Œä¸åƒè‹¹æœåªæœ‰å®ƒè‡ªå·±çš„å‡ æ¬¾å›ºå®šè®¾å¤‡ã€å°ºå¯¸ã€‚æ‰€ä»¥ï¼Œä¸ºäº†ä¿è¯å„ç§è®¾å¤‡çš„æ˜¾ç¤ºæ•ˆæœï¼ŒAndroidæŒ‰ç…§è®¾å¤‡çš„åƒç´ å¯†åº¦å°†è®¾å¤‡åˆ†æˆäº†å‡ ä¸ªåŒºé—´ï¼š å½“ç„¶ï¼Œæ‰€æœ‰çš„**Android**è®¾å¤‡ä¸ä¸€å®šä¸¥æ ¼æŒ‰ç…§ä¸Šé¢çš„åˆ†è¾¨ç‡ï¼Œæ¯ä¸ªç±»å‹å¯èƒ½å¯¹åº”å‡ ç§ä¸åŒåˆ†è¾¨ç‡ï¼Œæ‰€ä»¥ï¼Œæ¯ä¸ªAndroidæ‰‹æœºéƒ½èƒ½æ ¹æ®ç»™å®šçš„åŒºé—´èŒƒå›´ï¼Œç¡®å®šè‡ªå·±çš„DPRï¼Œä»è€Œæ‹¥æœ‰ç±»ä¼¼çš„æ˜¾ç¤ºã€‚å½“ç„¶ï¼Œä»…ä»…æ˜¯ç±»ä¼¼ï¼Œç”±äºå„ä¸ªè®¾å¤‡çš„å°ºå¯¸ã€åˆ†è¾¨ç‡ä¸Šçš„å·®å¼‚ï¼Œè®¾å¤‡ç‹¬ç«‹åƒç´ ä¹Ÿä¸ä¼šå®Œå…¨ç›¸ç­‰ï¼Œæ‰€ä»¥å„ç§Androidè®¾å¤‡ä»ç„¶ä¸èƒ½åšåˆ°åœ¨å±•ç¤ºä¸Šå®Œå…¨ç›¸ç­‰ã€‚ 5ï¼‰è§†ç½‘è†œå±ï¼ˆRetinaï¼‰è‹¹æœå…¬å¸åœ¨2010å¹´çš„WWDCä¸Šå‘å¸ƒäº†iPhone4ï¼Œç¬¬ä¸€æ¬¡å‘ä¸–äººå±•ç¤ºäº†retinaå±å¹•ï¼Œå¹¶åœ¨åç»­å‘å¸ƒäº†ä¸€ç³»åˆ—rå±äº§å“ã€‚ æ‰€è°“â€œRetinaâ€æ˜¯ä¸€ç§æ˜¾ç¤ºæŠ€æœ¯ï¼Œå¯ä»¥å°†æ›´å¤šçš„åƒç´ ç‚¹å‹ç¼©è‡³ä¸€å—å±å¹•é‡Œï¼Œä»è€Œè¾¾åˆ°æ›´é«˜çš„åˆ†è¾¨ç‡å¹¶æé«˜å±å¹•æ˜¾ç¤ºçš„ç»†è…»ç¨‹åº¦ã€‚è¿™ç§åˆ†è¾¨ç‡åœ¨æ­£å¸¸è§‚çœ‹è·ç¦»ä¸‹è¶³ä»¥ä½¿äººè‚‰çœ¼æ— æ³•åˆ†è¾¨å…¶ä¸­çš„å•ç‹¬åƒç´ ã€‚ è®©å¤šä¸ªç‰©ç†åƒç´ æ¸²æŸ“ä¸€ä¸ªç‹¬ç«‹åƒç´ åªæ˜¯Retinaå±å¹•ä¸ºäº†è¾¾åˆ°æ•ˆæœè€Œä½¿ç”¨çš„ä¸€ç§æŠ€æœ¯ã€‚è€Œä¸æ˜¯æ‰€æœ‰DPR &gt; 1çš„å±å¹•å°±æ˜¯Retinaå±å¹•ã€‚ æ¯”å¦‚ï¼šç»™ä½ ä¸€å—è¶…å¤§å°ºå¯¸çš„å±å¹•ï¼Œå³ä½¿å®ƒçš„PPIå¾ˆé«˜ï¼ŒDPRä¹Ÿå¾ˆé«˜ï¼Œåœ¨è¿‘è·ç¦»ä½ ä¹Ÿèƒ½çœ‹æ¸…å®ƒçš„åƒç´ ç‚¹ï¼Œè¿™å°±ä¸ç®—Retinaå±å¹•ã€‚ WWDC 2010ä¸Šérå±ä¸rå±æ˜¾ç¤ºæ•ˆæœå¯¹æ¯” å— windowsæ“ä½œç³»ç»Ÿçš„å½±å“ï¼Œå¤šæ•°äººå¿ƒä¸­ä¼šäº§ç”Ÿè¿™æ ·çš„é€»è¾‘ï¼šåˆ†è¾¨ç‡è¶Šé«˜ï¼Œå­—ä¼šæ˜¾å¾—è¶Šå°ã€‚ è¿™æ˜¯å› ä¸ºæ•´ä¸ªå±å¹•çš„é¢ç§¯ä¸»è¦ç”±åƒç´ é¢ç§¯æ„æˆï¼Œå³åœ¨ç›¸åŒé¢ç§¯ä¸‹ï¼Œåˆ†è¾¨ç‡è¶Šé«˜ï¼Œåƒç´ æ•°é‡ä¹Ÿè¶Šå¤šï¼Œå•ä¸ªåƒç´ çš„é¢ç§¯ä¹Ÿä¸€å®šè¶Šå°ã€‚äºæ˜¯é«˜åˆ†è¾¨ç‡å°±å¯¹åº”ç€å°åƒç´ ï¼Œè€Œåƒç´ å°ï¼Œåˆ™ç”±åƒç´ æ„æˆçš„æ–‡å­—å°±å°ã€‚æ‰€ä»¥å°±æœ‰äº†ã€åˆ†è¾¨ç‡è¶Šé«˜ï¼Œå­—ä¼šæ˜¾å¾—è¶Šå°ã€çš„å°è±¡ã€‚ å¯æ˜¯ï¼Œè‹¹æœçš„rå±äº§å“å¹¶æ²¡æœ‰è®©æ˜¾ç¤ºçš„æ–‡å­—å˜å¾—å¾ˆå°ï¼Œè¿™åˆæ˜¯æ€ä¹ˆå› äº‹å‘¢ï¼Ÿæ—¢ç„¶è‹¹æœäº§å“çš„2å€rå±æ‰€åŒ…å«çš„åƒç´ æ•°é‡çº¦ä¸ºåŒé¢ç§¯érå±çš„4å€ï¼Œå³æ¯ä¸ªåƒç´ å°ºå¯¸çº¦ä¸ºérå±åƒç´ çš„1&#x2F;4ï¼Œé‚£ä¸ºä»€ä¹ˆæ˜¾ç¤ºå‡ºæ¥çš„æ–‡å­—æ²¡æœ‰ç¼©å‡æˆ1&#x2F;4å‘¢ï¼Ÿ è¿™æ˜¯å› ä¸ºæ“ä½œç³»ç»Ÿçš„HiDPIæ¸²æŸ“æ–¹å¼ï¼Œå®ƒå†³å®šäº†ä¸€ä¸ªæ–‡å­—æˆ–å›¾æ ‡æœ€ç»ˆä»¥å¤šå°‘ä¸ªåƒç´ æ¥è¡¨è¾¾ã€‚2å€ rå±å®ƒåœ¨è¡¨è¾¾å±å¹•ä¸Šæ¯ä¸ªå…ƒç´ æ—¶ï¼Œéƒ½ä½¿ç”¨äº†4å€äºérå±çš„åƒç´ ä¸ªæ•°ã€‚è¿™æ ·ç®—ä¸‹æ¥ï¼Œåƒç´ å°ºå¯¸ä¸º1&#x2F;4ï¼Œåƒç´ æ•°ç›®ä¸º4å€ï¼Œäºæ˜¯æœ€ç»ˆæ¸²æŸ“å‡ºæ¥çš„æ–‡å­—å’Œå›¾æ ‡çš„å¤§å°ä¸érå±çš„ç›¸å½“ã€‚ ä¸¾ä¾‹è¯´æ˜ï¼Œå¯¹ä¸€ä¸ªæ ‡å‡†å±æ¥è¯´ï¼Œæ¸²æŸ“ä¸€ä¸ªå®½é«˜ 2px*2px çš„ç›’å­å°†ä¼šä½¿ç”¨ 2px* 2px ç‰©ç†åƒç´ ï¼Œå¦‚æˆ‘ä»¬çš„æ™®é€šç”µè„‘å±ï¼›ä½†æ˜¯å¯¹äºä¸€ä¸ª 2 å€å±æ¥è¯´ï¼Œæ¸²æŸ“ä¸€ä¸ª 2px*2px çš„ç›’å­å°†ä¼šä½¿ç”¨ ï¼ˆ2px* 2ï¼‰ *ï¼ˆ2px* 2ï¼‰ ç‰©ç†åƒç´ ï¼Œå³å®½é«˜éƒ½æ”¾å¤§äº†2å€ï¼Œä¹Ÿå°±æ˜¯1ä¸ªcssåƒç´ å¯¹åº” 4ä¸ªç‰©ç†åƒç´ (1:4)ï¼Œåå‘ç†è§£å°±æ˜¯ å¦‚æˆ‘ä»¬çš„ iPhone 4ã€5ã€6ã€7ï¼Œå¦‚ä¸‹å›¾ï¼š 1.3ã€è§†å£viewportè§†å£ï¼ˆviewportï¼‰å°±æ˜¯æµè§ˆå™¨æ˜¾ç¤ºé¡µé¢å†…å®¹çš„å±å¹•åŒºåŸŸã€‚è§†å£å¯ä»¥åˆ†ä¸ºå¸ƒå±€è§†å£ã€è§†è§‰è§†å£å’Œç†æƒ³è§†å£ã€‚ 1ï¼‰å¸ƒå±€è§†å£ layout viewportä¸€èˆ¬ç§»åŠ¨ç«¯è®¾å¤‡çš„æµè§ˆå™¨éƒ½é»˜è®¤äº†ä¸€ä¸ªå¸ƒå±€è§†å£ï¼Œç”¨äºè§£å†³æ—©æœŸpcç«¯é¡µé¢åœ¨æ‰‹æœºç«¯æ˜¾ç¤ºçš„é—®é¢˜ã€‚ åœ¨PCæµè§ˆå™¨ä¸Šï¼Œå¸ƒå±€è§†å£å°±ç­‰äºå½“å‰æµè§ˆå™¨çš„çª—å£å¤§å°ï¼ˆä¸åŒ…æ‹¬borders, margins, æ»šåŠ¨æ¡ï¼‰ã€‚ åœ¨ç§»åŠ¨ç«¯iosã€å®‰å“åŸºæœ¬éƒ½å°†è¿™ä¸ªè§†å£åˆ†è¾¨ç‡è®¾ç½®ä¸º980pxï¼Œæ‰€ä»¥pcä¸Šç½‘é¡µå¤§å¤šéƒ½èƒ½åœ¨æ‰‹æœºä¸Šå±•ç¤ºï¼Œä¸è¿‡é¡µé¢å…ƒç´ çœ‹ä¸Šå»å¾ˆå°ï¼Œä¸€èˆ¬é»˜è®¤å¯ä»¥é€šè¿‡æ‰‹åŠ¨ç¼©æ”¾ç½‘é¡µã€‚ åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„htmlæ–‡ä»¶çš„æ—¶å€™ï¼Œé»˜è®¤ä¼šå¸®å¿™é€‚é…è§†å£çš„ï¼Œæ‰€ä»¥æƒ³è¦äº†è§£å¸ƒå±€è§†å£å’Œè§†è§‰è§†å£çš„å…³ç³»çš„è¯ï¼Œéœ€è¦æŠŠé»˜è®¤é€‚é…çš„ä»£ç å…ˆæ³¨é‡Šæ‰ ç»™ç½‘é¡µæ·»åŠ ä¸€ä¸ªå®½100pxï¼Œé«˜100pxçš„divç›’å­ã€‚ åœ¨pcç«¯çš„æ•ˆæœï¼š æ²¡æœ‰é—®é¢˜ï¼Œå’Œç†æƒ³ä¸­çš„æƒ…å†µå·®ä¸å¤šï¼Œæ¥çœ‹ä¸€ä¸‹ç§»åŠ¨ç«¯çš„æ•ˆæœ åœ¨PCç«¯çš„ç½‘é¡µåœ¨ç§»åŠ¨ç«¯æ˜¾ç¤ºçš„100pxä¹Ÿå¤ªå°äº†å‘€ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ ç¬¬ä¸€ï¼Œå®ƒä¼šæŒ‰ç…§å®½åº¦ä¸º980pxæ¥å¸ƒå±€ä¸€ä¸ªé¡µé¢çš„ç›’å­å’Œå†…å®¹ï¼› ç¬¬äºŒï¼Œä¸ºäº†æ˜¾ç¤ºå¯ä»¥å®Œæ•´çš„æ˜¾ç¤ºåœ¨é¡µé¢ä¸­ï¼Œå¯¹æ•´ä¸ªé¡µé¢è¿›è¡Œç¼©å°ï¼› æ‰€ä»¥æˆ‘ä»¬åœ¨PCç«¯è¿›è¡Œå¸ƒå±€çš„æ—¶å€™ä¼šç›¸å¯¹äº980pxè¿›è¡Œå¸ƒå±€ï¼Œè¿™ä¸ªé»˜è®¤980pxçš„è§†å£ç§°ä¸ºå¸ƒå±€è§†å£ æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨document.documentElement.clientWidth | document.body.clientWidthæ¥è·å–å¸ƒå±€è§†å£å¤§å° ä¸åŒ…å«æ»šåŠ¨æ¡ 2ï¼‰è§†è§‰è§†å£ visual viewportå¦‚æœé»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æŒ‰ç…§980pxæ˜¾ç¤ºå†…å®¹ï¼Œé‚£ä¹ˆå³ä¾§æœ‰ä¸€éƒ¨åˆ†åŒºåŸŸ å°±ä¼šæ— æ³•æ˜¾ç¤ºï¼Œæ‰€ä»¥æ‰‹æœºç«¯æµè§ˆå™¨ä¼šé»˜è®¤å¯¹é¡µé¢è¿›è¡Œç¼©æ”¾ä»¥æ˜¾ç¤ºåˆ°ç”¨ æˆ·çš„å¯è§åŒºåŸŸä¸­ï¼› é‚£ä¹ˆæ˜¾ç¤ºåœ¨å¯è§åŒºåŸŸçš„è¿™ä¸ªè§†å£ï¼Œå°±æ˜¯è§†è§‰è§†å£ã€‚ç®€å•æ¥è¯´å°±æ˜¯æˆ‘ä»¬äººçœ¼èƒ½çœ‹åˆ°çš„å¯è§†åŒºåŸŸå¤§å°ï¼Œé»˜è®¤ç­‰äºæµè§ˆå™¨çš„å®½åº¦ å½“ç”¨æˆ·å¯¹æµè§ˆå™¨è¿›è¡Œç¼©æ”¾æ—¶ï¼Œä¸ä¼šæ”¹å˜å¸ƒå±€è§†å£çš„å¤§å°ï¼Œæ‰€ä»¥é¡µé¢å¸ƒå±€æ˜¯ä¸å˜çš„ï¼Œä½†æ˜¯ç¼©æ”¾ä¼šæ”¹å˜è§†è§‰è§†å£çš„å¤§å°ã€‚ æ¯”å¦‚ï¼šå°†æµè§ˆå™¨çª—å£æ”¾å¤§200%ï¼Œcssåƒç´ ä¼šéšç€è§†è§‰è§†å£çš„æ”¾å¤§è€Œæ”¾å¤§ï¼Œè¿™æ—¶ä¸€ä¸ªcssåƒç´ ä¼šè·¨è¶Šæ›´å¤šç‰©ç†åƒç´ ã€‚ æ‰€ä»¥ï¼Œå¸ƒå±€è§†å£ä¼šé™åˆ¶ä½ çš„CSSå¸ƒå±€è€Œè§†è§‰è§†å£å†³å®šç”¨æˆ·å…·ä½“èƒ½çœ‹åˆ°ä»€ä¹ˆã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨window.innerWidthæ¥è·å–è§†è§‰è§†å£å¤§å°ã€‚ innerWidth: è¿”å›çª—å£çš„æ–‡æ¡£æ˜¾ç¤ºåŒºçš„å®½åº¦ï¼Œå¦‚æœæœ‰æ°´å¹³æ»šåŠ¨æ¡ï¼Œä¹ŸåŒ…æ‹¬æ»šåŠ¨æ¡é«˜åº¦ã€‚ 3ï¼‰ç†æƒ³è§†å£ ideal viewportå¸ƒå±€è§†å£åœ¨ç§»åŠ¨ç«¯å±•ç¤ºçš„æ•ˆæœå¹¶ä¸æ˜¯ä¸€ä¸ªç†æƒ³çš„æ•ˆæœï¼Œèƒ½ä¸èƒ½è®©å¸ƒå±€è§†å£å’Œè§†è§‰è§†å£ç›¸åŒå‘¢ï¼Ÿåæ­£åœ¨ç§»åŠ¨ç«¯çœ‹åˆ°çš„è§†å£åªæœ‰é‚£ä¹ˆå¤§ï¼Œå¦‚æœè§†å£ç›¸åŒäº†ï¼Œå°±å¥½å¸ƒå±€äº†ã€‚ä¸‹é¢å¼•å…¥ç†æƒ³è§†å£çš„æ¦‚å¿µã€‚ å¦‚æœæ‰€æœ‰çš„ç½‘é¡µéƒ½æŒ‰ç…§980pxåœ¨ç§»åŠ¨ç«¯å¸ƒå±€ï¼Œé‚£ä¹ˆæœ€ç»ˆé¡µé¢éƒ½ä¼šè¢«ç¼©æ”¾æ˜¾ç¤ºã€‚ äº‹å®ä¸Šè¿™ç§æ–¹å¼æ˜¯ä¸åˆ©äºæˆ‘ä»¬è¿›è¡Œç§»åŠ¨çš„å¼€å‘çš„ï¼Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯è®¾ç½®100pxï¼Œé‚£ä¹ˆæ˜¾ç¤ºçš„å°±æ˜¯100pxï¼› å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹å‘¢ï¼Ÿé€šè¿‡è®¾ç½®ç†æƒ³è§†å£ï¼ˆideal viewportï¼‰ï¼› æˆ‘ä»¬å¯ä»¥å¯¹å¸ƒå±€è§†å£ï¼ˆlayout viewportï¼‰è¿›è¡Œå®½åº¦å’Œç¼©æ”¾çš„è®¾ç½®ï¼Œä»¥æ»¡è¶³æ­£å¸¸åœ¨ä¸€ä¸ªç§»åŠ¨ç«¯çª—å£çš„å¸ƒå±€ï¼Œå°±æ˜¯å¸ƒå±€è§†å£å’Œè§†è§‰è§†å£çš„å¤§å°ç›¸åŒã€‚ é¡µé¢çš„ç¼©æ”¾ç³»æ•° &#x3D; CSSåƒç´ &#x2F;è®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Œå®é™…ä¸Š &#x3D; ç†æƒ³è§†å£å®½åº¦&#x2F;è§†è§‰è§†å£æ›´å‡†ç¡®ã€‚å½“é¡µé¢ç¼©æ”¾æ¯”ä¾‹ä¸º100%æ—¶ï¼ŒCSSåƒç´  &#x3D; è®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Œç†æƒ³è§†å£ &#x3D; è§†è§‰è§†å£ æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨window.screen.widthæ¥è·å–ç†æƒ³è§†å£å¤§å°ã€‚ 4ï¼‰Meta Viewport&lt;meta&gt; å…ƒç´ ç”¨äºæä¾›å…³äºæ–‡æ¡£çš„å…ƒä¿¡æ¯ï¼Œå…¶ä¸­nameå±æ€§ç”¨äºå®šä¹‰å…ƒä¿¡æ¯çš„åç§°ï¼Œcontentå±æ€§ç”¨äºå®šä¹‰å…ƒä¿¡æ¯çš„å€¼ã€‚ æˆ‘ä»¬å¯ä»¥å€ŸåŠ©&lt;meta&gt;å…ƒç´ çš„viewportæ¥å¸®åŠ©æˆ‘ä»¬è®¾ç½®è§†å£ã€ç¼©æ”¾ç­‰ï¼Œä»è€Œè®©ç§»åŠ¨ç«¯å¾—åˆ°æ›´å¥½çš„å±•ç¤ºæ•ˆæœã€‚ 1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width; initial-scale=1; maximum-scale=1; minimum-scale=1; user-scalable=no;&quot;&gt; Value å¯èƒ½å€¼ æè¿° width æ­£æ•´æ•°æˆ–device-width ä»¥pixelsï¼ˆåƒç´ ï¼‰ä¸ºå•ä½ï¼Œ å®šä¹‰å¸ƒå±€è§†å£çš„å®½åº¦ã€‚device-width: device å³è®¾å¤‡çš„æ„æ€ï¼Œå°±æ˜¯è®¾å¤‡å®½åº¦ä¹Ÿå°±æ˜¯è§†è§‰å®½åº¦ï¼Œå³å°†å¸ƒå±€è§†å£çš„å®½åº¦è®¾ç½®ä¸ºè®¾å¤‡å®½åº¦å¤§å° height æ­£æ•´æ•°æˆ–device-height ä»¥pixelsï¼ˆåƒç´ ï¼‰ä¸ºå•ä½ï¼Œ å®šä¹‰å¸ƒå±€è§†å£çš„é«˜åº¦ã€‚æ²¡æœ‰æµè§ˆå™¨ç”¨è¿‡ initial-scale 0.0 - 10.0 å®šä¹‰é¡µé¢åˆå§‹ç¼©æ”¾æ¯”ç‡ï¼Œç›¸å¯¹äºç†æƒ³è§†å£ç¼©æ”¾ï¼Œè¿›è¡Œ100%çš„ç¼©æ”¾ï¼Œä¹Ÿå°±æ˜¯ç¼©æ”¾å€¼ä¸º1ã€‚ä¸€èˆ¬è®¾ç½®ä¸º1çš„æ•ˆæœå’Œdevice-widthæ˜¯ä¸€æ ·çš„ minimum-scale 0.0 - 10.0 å®šä¹‰ç¼©æ”¾çš„æœ€å°å€¼ï¼›å¿…é¡»å°äºæˆ–ç­‰äºmaximum-scaleçš„å€¼ã€‚ maximum-scale 0.0 - 10.0 å®šä¹‰ç¼©æ”¾çš„æœ€å¤§å€¼ï¼›å¿…é¡»å¤§äºæˆ–ç­‰äºminimum-scaleçš„å€¼ã€‚ user-scalable ä¸€ä¸ªå¸ƒå°”å€¼ï¼ˆyesæˆ–è€…noï¼‰ å¦‚æœè®¾ç½®ä¸º noï¼Œç”¨æˆ·å°†ä¸èƒ½æ”¾å¤§æˆ–ç¼©å°ç½‘é¡µã€‚é»˜è®¤å€¼ä¸º yesã€‚ width&#x3D;device-widthcontent&#x3D; â€œwidth&#x3D;device-widthâ€ å½“å‰çš„viewportå®½åº¦è®¾ç½®ä¸º ideal viewport(ç†æƒ³è§†å£) çš„å®½åº¦ è¦å¾—åˆ° ç†æƒ³è§†å£ï¼ˆideal viewportï¼‰å°±å¿…é¡»æŠŠé»˜è®¤çš„å¸ƒå±€è§†å£ï¼ˆ layout viewportï¼‰çš„å®½åº¦è®¾ä¸ºç§»åŠ¨è®¾å¤‡çš„å±å¹•å®½åº¦ã€‚å› ä¸ºmeta viewportä¸­çš„widthèƒ½æ§åˆ¶ å¸ƒå±€è§†å£ï¼ˆlayout viewportï¼‰çš„å®½åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æŠŠwidthè®¾ä¸ºwidth-deviceè¿™ä¸ªç‰¹æ®Šçš„å€¼å°±è¡Œäº†ã€‚ 1&lt;meta name=&quot;viewport&quot;content=&quot;width=device-width&quot;&gt; ä¸‹å›¾æ˜¯è¿™å¥ä»£ç åœ¨å„å¤§ç§»åŠ¨ç«¯æµè§ˆå™¨ä¸Šçš„æµ‹è¯•ç»“æœï¼š å¯ä»¥çœ‹åˆ°é€šè¿‡width&#x3D;device-widthï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½èƒ½æŠŠå½“å‰çš„viewportå®½åº¦å˜æˆideal viewportçš„å®½åº¦ï¼Œä½†è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨iphoneå’Œipadä¸Šï¼Œæ— è®ºæ˜¯ç«–å±è¿˜æ˜¯æ¨ªå±ï¼Œå®½åº¦éƒ½æ˜¯ç«–å±æ—¶ ç†æƒ³è§†å£ çš„å®½åº¦ã€‚ initial-scale&#x3D;1content&#x3D; â€œinitial-scale&#x3D;1â€œ 1&lt;meta name=&quot;viewport&quot;content=&quot;initial-scale=1&quot;&gt; è¿™å¥ä»£ç ä¹Ÿèƒ½è¾¾åˆ°å’Œå‰ä¸€å¥ä»£ç ä¸€æ ·çš„æ•ˆæœï¼Œä¹Ÿå¯ä»¥æŠŠå½“å‰çš„çš„viewportå˜ä¸º ç†æƒ³è§†å£ã€‚ ä»ç†è®ºä¸Šæ¥è®²ï¼Œè¿™å¥ä»£ç çš„ä½œç”¨åªæ˜¯ä¸å¯¹å½“å‰çš„é¡µé¢è¿›è¡Œç¼©æ”¾ï¼Œä¹Ÿå°±æ˜¯é¡µé¢æœ¬è¯¥æ˜¯å¤šå¤§å°±æ˜¯å¤šå¤§ã€‚é‚£ä¸ºä»€ä¹ˆä¼šæœ‰ width&#x3D;device-width çš„æ•ˆæœå‘¢ï¼Ÿ é¦–å…ˆä½ å¾—å¼„æ˜ç™½è¿™ä¸ªç¼©æ”¾æ˜¯ç›¸å¯¹äºä»€ä¹ˆæ¥ç¼©æ”¾çš„ï¼Œå› ä¸ºè¿™é‡Œçš„ç¼©æ”¾å€¼æ˜¯1ï¼Œä¹Ÿå°±æ˜¯æ²¡ç¼©æ”¾ï¼Œä½†å´è¾¾åˆ°äº† ç†æƒ³è§†å£ çš„æ•ˆæœï¼Œæ‰€ä»¥ï¼Œç¼©æ”¾æ˜¯ç›¸å¯¹äº ç†æƒ³è§†å£ æ¥è¿›è¡Œç¼©æ”¾çš„ï¼Œå½“å¯¹ ç†æƒ³è§†å£ è¿›è¡Œ100%çš„ç¼©æ”¾ï¼Œä¹Ÿå°±æ˜¯ç¼©æ”¾å€¼ä¸º1çš„æ—¶å€™ï¼Œä¸å°±å¾—åˆ°äº† ç†æƒ³è§†å£ å—ï¼Ÿ ä¸‹å›¾æ˜¯è¿™å¥ä»£ç åœ¨å„å¤§ç§»åŠ¨ç«¯æµè§ˆå™¨ä¸Šçš„æµ‹è¯•ç»“æœï¼š æµ‹è¯•ç»“æœè¡¨æ˜ initial-scale&#x3D;1 ä¹Ÿèƒ½æŠŠå½“å‰çš„viewportå®½åº¦å˜æˆ ç†æƒ³è§†å£ çš„å®½åº¦ï¼Œä½†è¿™æ¬¡è½®åˆ°äº†windows phone ä¸Šçš„IE æ— è®ºæ˜¯ç«–å±è¿˜æ˜¯æ¨ªå±éƒ½æŠŠå®½åº¦è®¾ä¸ºç«–å±æ—¶ ç†æƒ³è§†å£ çš„å®½åº¦ã€‚ æ‰€ä»¥ï¼Œæœ€å®Œç¾çš„å†™æ³•åº”è¯¥æ˜¯ï¼Œä¸¤è€…éƒ½å†™ä¸Šå»ï¼Œè¿™æ ·å°± initial-scale&#x3D;1 è§£å†³äº† iphoneã€ipadçš„æ¯›ç—…ï¼Œwidth&#x3D;device-widthåˆ™è§£å†³äº†IEçš„æ¯›ç—…ï¼š 1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width; initial-scale=1;&quot;&gt; widthå’Œinitial-scalewidth å’Œ initial-scale åŒæ—¶å‡ºç°ï¼Œå¹¶ä¸”å‡ºç°äº†å†²çª æ¯”å¦‚ï¼š&lt;meta name=&quot;viewport&quot; content=&quot;width=400, initial-scale=1&quot;&gt; width=400è¡¨ç¤ºæŠŠ å¸ƒå±€è§†å£(layout viewport) çš„å®½åº¦è®¾ä¸º400pxï¼Œinitial-scale=1åˆ™è¡¨ç¤ºæŠŠ å¸ƒå±€è§†å£(layout viewport) çš„å®½åº¦è®¾ä¸º ç†æƒ³è§†å£(ideal viewport) çš„å®½åº¦ï¼ˆä¸ä¸€å®šæ˜¯400pxï¼‰ï¼Œé‚£ä¹ˆæµè§ˆå™¨åˆ°åº•è¯¥æœä»å“ªä¸ªå‘½ä»¤å‘¢ï¼Ÿ å¸ƒå±€è§†å£å®½åº¦å–çš„æ˜¯widthå’Œè§†è§‰è§†å£å®½åº¦çš„æœ€å¤§å€¼ï¼(é‡ç‚¹) ä¾‹å¦‚ï¼šè‹¥åœ¨æ‰‹æœºçš„ç†æƒ³è§†å£å®½åº¦æ˜¯320çš„å‰æä¸‹ï¼šè®¾ç½®**width=400ï¼Œ initial-scale=1ï¼Œæ­¤æ—¶å¸ƒå±€è§†å£çš„å®½åº¦ä¼šå–400pxï¼ˆè§†è§‰è§†å£å®½åº¦ = ç†æƒ³è§†å£å®½åº¦ / initial-scale **å³320 &#x2F; 1 &#x3D; 320ï¼Œ400&gt;320å³å–400pxï¼‰ è®¾ç½®**width=400ï¼Œ initial-scale=0.5ï¼Œæ­¤æ—¶å¸ƒå±€è§†å£çš„å®½åº¦ä¼šå–640pxï¼ˆè§†è§‰è§†å£å®½åº¦ = ç†æƒ³è§†å£å®½åº¦ / initial-scale **å³320 &#x2F; 0.5 &#x3D; 640ï¼Œ400&lt;640å³å–640pxï¼‰ 1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=0.5&quot;&gt; å¦‚å›¾ä¸­æ‰€ç¤ºï¼Œåœ¨iPhoneXä¸­ï¼Œç†æƒ³è§†å£çš„å®½åº¦ å’Œ è®¾å¤‡å®½åº¦ éƒ½æ˜¯**375pxï¼ˆscreen.widthï¼‰ï¼Œæ­¤æ—¶è®¾ç½®initial-scaleä¸º0.5ï¼Œåˆ™æ­¤æ—¶çš„è§†è§‰è§†å£çš„å®½åº¦ä¸º 375 / 0.5 = 750ã€‚æ‰€ä»¥ï¼Œä»å›¾ä¸Šä¹Ÿå¯ä»¥çœ‹åˆ°è§†è§‰è§†å£**ï¼ˆwindow.innerWidthï¼‰æ˜¯750pxï¼ŒåŒæ—¶å¸ƒå±€è§†å£ï¼ˆdocument.documentElement.clientWidthï¼‰ä¼šå–375pxå’Œ 750pxä¸­çš„æœ€å¤§å€¼ï¼Œå³750pxä½œä¸ºå®½åº¦å€¼ã€‚ æœ€å®Œç¾çš„å†™æ³•åº”è¯¥æ˜¯ï¼šâ€”-å¸ƒå±€è§†å£ç­‰äºè®¾å¤‡å®½åº¦(è§†è§‰è§†å£å®½åº¦) 1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width; initial-scale=1;&quot;&gt; initial-scaleçš„é»˜è®¤å€¼è§†è§‰è§†å£å®½åº¦ &#x3D; ç†æƒ³è§†å£å®½åº¦ &#x2F; å½“å‰ç¼©æ”¾å€¼ å½“å‰ç¼©æ”¾å€¼ &#x3D; ç†æƒ³è§†å£å®½åº¦ &#x2F; è§†è§‰è§†å£å®½åº¦ ç°åœ¨å†æ¥è¯´ä¸‹initial-scaleçš„é»˜è®¤å€¼é—®é¢˜ï¼Œå°±æ˜¯ä¸å†™è¿™ä¸ªå±æ€§çš„æ—¶å€™ï¼Œå®ƒçš„é»˜è®¤å€¼ä¼šæ˜¯å¤šå°‘å‘¢ï¼Ÿ å¾ˆæ˜¾ç„¶ä¸ä¼šæ˜¯1ï¼Œå› ä¸ºå½“ initial-scale = 1 æ—¶ï¼Œå½“å‰çš„å¸ƒå±€è§†å£å®½åº¦ä¼šè¢«è®¾ä¸º ç†æƒ³è§†å£å®½åº¦ï¼Œä½†å‰é¢è¯´äº†ï¼Œå„æµè§ˆå™¨é»˜è®¤çš„ å¸ƒå±€è§†å£å®½åº¦ä¸€èˆ¬éƒ½æ˜¯980pxï¼Œ1024pxï¼Œ800pxç­‰ç­‰è¿™äº›å€¼ï¼Œæ²¡æœ‰ä¸€å¼€å§‹å°±æ˜¯ ç†æƒ³è§†å£çš„å®½åº¦ï¼Œæ‰€ä»¥ initial-scaleçš„é»˜è®¤å€¼è‚¯å®šä¸æ˜¯1ã€‚ **å®‰å“è®¾å¤‡ä¸Šçš„initial-scale**é»˜è®¤å€¼å¥½åƒæ²¡æœ‰æ–¹æ³•èƒ½å¤Ÿå¾—åˆ°ï¼Œæˆ–è€…å°±æ˜¯å¹²è„†å®ƒå°±æ²¡æœ‰é»˜è®¤å€¼ï¼Œä¸€å®šè¦ä½ æ˜¾ç¤ºçš„å†™å‡ºæ¥è¿™ä¸ªä¸œè¥¿æ‰ä¼šèµ·ä½œç”¨ï¼Œæˆ‘ä»¬ä¸ç®¡å®ƒäº†ï¼Œè¿™é‡Œæˆ‘ä»¬é‡ç‚¹è¯´ä¸€ä¸‹iphoneå’Œipadä¸Šçš„initial-scaleé»˜è®¤å€¼ã€‚ æ ¹æ®æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨iphoneå’Œipadä¸Šå¾—åˆ°ä¸€ä¸ªç»“è®º: åœ¨iphoneå’Œipadä¸Šï¼Œæ— è®ºä½ ç»™viewportè®¾çš„å®½æ˜¯å¤šå°‘ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šé»˜è®¤çš„ç¼©æ”¾å€¼ï¼Œåˆ™iphoneå’Œipadä¼šè‡ªåŠ¨è®¡ç®—è¿™ä¸ªç¼©æ”¾å€¼ï¼Œä»¥è¾¾åˆ°å½“å‰é¡µé¢ä¸ä¼šå‡ºç°æ¨ªå‘æ»šåŠ¨æ¡(æˆ–è€…è¯´viewportçš„å®½åº¦å°±æ˜¯å±å¹•çš„å®½åº¦)çš„ç›®çš„ã€‚ 5ï¼‰è§†å£å°ç»“é¦–å…ˆå¦‚æœä¸è®¾ç½®meta viewportæ ‡ç­¾ï¼Œé‚£ä¹ˆç§»åŠ¨è®¾å¤‡ä¸Šæµè§ˆå™¨é»˜è®¤çš„å®½åº¦å€¼ä¸º800pxï¼Œ980pxï¼Œ1024pxç­‰è¿™äº›**ï¼ˆå¤§éƒ¨åˆ†æ˜¯980pxï¼‰**ï¼Œæ€»ä¹‹æ˜¯å¤§äºå±å¹•å®½åº¦çš„ã€‚è¿™é‡Œçš„å®½åº¦æ‰€ç”¨çš„å•ä½pxéƒ½æ˜¯æŒ‡cssä¸­çš„pxï¼Œå®ƒè·Ÿä»£è¡¨å®é™…å±å¹•ç‰©ç†åƒç´ çš„pxä¸æ˜¯ä¸€å›äº‹ã€‚ ç¬¬äºŒã€æ¯ä¸ªç§»åŠ¨è®¾å¤‡æµè§ˆå™¨ä¸­éƒ½æœ‰ä¸€ä¸ªç†æƒ³çš„å®½åº¦ï¼Œè¿™ä¸ªç†æƒ³çš„å®½åº¦æ˜¯æŒ‡cssä¸­çš„å®½åº¦ï¼Œè·Ÿè®¾å¤‡çš„ç‰©ç†å®½åº¦æ²¡æœ‰å…³ç³»ï¼Œåœ¨cssä¸­ï¼Œè¿™ä¸ªå®½åº¦å°±ç›¸å½“äº100%æ‰€ä»£è¡¨çš„é‚£ä¸ªå®½åº¦ã€‚æˆ‘ä»¬å¯ä»¥ç”¨metaæ ‡ç­¾æŠŠviewportçš„å®½åº¦è®¾ä¸ºé‚£ä¸ªç†æƒ³çš„å®½åº¦ï¼Œå¦‚æœä¸çŸ¥é“è¿™ä¸ªè®¾å¤‡çš„ç†æƒ³å®½åº¦æ˜¯å¤šå°‘ï¼Œé‚£ä¹ˆç”¨**device-widthè¿™ä¸ªç‰¹æ®Šå€¼å°±è¡Œäº†ï¼ŒåŒæ—¶initial-scale=1**ä¹Ÿæœ‰æŠŠviewportçš„å®½åº¦è®¾ä¸ºç†æƒ³å®½åº¦çš„ä½œç”¨ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt; æ¥å¾—åˆ°ä¸€ä¸ªç†æƒ³çš„viewportï¼ˆä¹Ÿå°±æ˜¯å‰é¢è¯´çš„ideal viewportï¼‰ã€‚ 1.4ã€å¸¸è§é—®é¢˜1ï¼‰å›¾ç‰‡è™šåŒ–é—®é¢˜å½“ä¸€ä¸ªä½å›¾åœ¨æ ‡å‡†å±æ˜¾ç¤ºæ—¶ï¼Œä¸€ä½å›¾åƒç´ å¯¹åº”çš„å°±æ˜¯ä¸€ç‰©ç†åƒç´ ï¼Œè¿™æ ·å°±ä¿è¯äº†ä¸€ä¸ªå®Œå…¨ä¿çœŸçš„æ˜¾ç¤ºã€‚ä½†æ˜¯å½“åœ¨ 2 å€å±ä¸‹æ—¶ï¼Œç‰©ç†åƒç´ é¢ç§¯æ˜¯å›¾åƒç´ é¢ç§¯çš„4å€(css ä¸­çš„1è®¾å¤‡ç‹¬ç«‹åƒç´ ç›¸å½“äº2ç‰©ç†åƒç´ )ï¼Œå›¾ç‰‡éœ€è¦è¦æ”¾å¤§å››å€ï¼ˆå®½é«˜å„ä¸¤å€ï¼‰æ¥ä¿æŒç›¸åŒçš„ç‰©ç†åƒç´ çš„å¤§å°ï¼Œè¿™æ ·å°±ä¼šä¸¢å¤±å¾ˆå¤šç»†èŠ‚ï¼Œé€ æˆå¤±çœŸçš„æƒ…å½¢ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„å›¾ç‰‡è™šåŒ–é—®é¢˜ã€‚ é‚£ä¹ˆæ€ä¹ˆè§£å†³è¯¥é—®é¢˜å‘¢ï¼Ÿ æˆ‘ä»¬å¯ä»¥æŠŠè¦ä½¿ç”¨çš„å›¾ç‰‡æ‰©å¤§ä¸€å€ï¼Œå¦‚è¦ç”¨çš„å›¾ç‰‡å¤§å°ä¸º 2px Ã— 2pxï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ 4px Ã— 4px çš„å›¾ç‰‡ç„¶åè®¾ç½®å›¾ç‰‡å¤§å°ä¸º 2px Ã— 2pxï¼Œè¿™æ ·å¯¹äº2å€å±åˆ™æ­£å¥½ï¼Œè€Œæ ‡å‡†å±åˆ™å‡å°‘åƒç´ å–æ ·ï¼ˆä¸€å®šç¨‹åº¦ä¸Šçš„æµªè´¹ï¼‰ï¼Œç°åœ¨è®¾è®¡ç›´æ¥æä¾›äºŒå€å›¾å³4px Ã— 4pxï¼Œä¹‹åæˆ‘ä»¬å°†å›¾ç‰‡è®¾ç½®2px Ã— 2pxå³å¯ã€‚ èƒŒæ™¯å›¾ï¼š aã€é‡‡ç”¨åª’ä½“æŸ¥è¯¢çš„æ–¹å¼ 12345678910111213.avatar&#123; background-image: url(conardLi_1x.png);&#125;@media only screen and (-webkit-min-device-pixel-ratio:2)&#123; .avatar&#123; background-image: url(conardLi_2x.png); &#125;&#125;@media only screen and (-webkit-min-device-pixel-ratio:3)&#123; .avatar&#123; background-image: url(conardLi_3x.png); &#125;&#125; bã€ä½¿ç”¨-image-set 123.avatar &#123; background-image: -webkit-image-set( &quot;conardLi_1x.png&quot; 1x, &quot;conardLi_2x.png&quot; 2x ); &#125; imgæ ‡ç­¾ï¼š aã€ä½¿ç”¨imgçš„srcsetå±æ€§ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®åƒç´ å¯†åº¦åŒ¹é…æ˜¾ç¤ºé€‚å½“çš„ç…§ç‰‡ 1&lt;img src=&quot;conardLi_1x.png&quot; srcset=&quot; conardLi_2x.png 2x, conardLi_3x.png 3x&quot;&gt; bã€ç”¨base64æˆ–æ˜¯svgæ ¼å¼çš„å›¾ç‰‡ 12&lt;img src=&quot;conardLi.svg&quot;&gt;&lt;img src=&quot;data:image/svg+xml;base64,[data]&quot;&gt; 2ï¼‰1pxé—®é¢˜æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªdemoï¼Œæˆªå›¾å¦‚ä¸‹ï¼ˆiPhone 6æˆªå›¾ï¼‰ï¼š å¦‚æœæˆ‘ä»¬æŠŠä¸Šå›¾ä¸æˆ‘ä»¬æ‰‹æœºç³»ç»Ÿä¸Šçš„ 1px è¾¹æ¡†è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚ä¸‹å›¾ï¼š æˆ‘ä»¬ä¼šå‘ç°ï¼Œä¸Šé¢ä¸¤ä¸ªä¸Šä¸‹çº¿æ¡ï¼Œä¸‹çº¿æ¡çš„ç²—ç»†æ‰æ˜¯æ­£ç¡®çš„ï¼Œä¸Šçº¿æ¡å°±æ˜¾å¾—æœ‰ç‚¹ç²—äº†ã€‚ä½†æ˜¯ä¸Šçº¿æ¡æˆ‘ä»¬æ˜¯ç”¨çº¯æ­£çš„ 1px borderç”Ÿæˆçš„ï¼Œè€Œä¸‹çº¿æ¡æˆ‘ä»¬å®é™…æ˜¯é‡‡ç”¨transformå‹ç¼©äº†1pxé«˜åº¦çš„ä¸€åŠæ¨¡æ‹Ÿå®ç°çš„ï¼Œä¹Ÿå°±ç›¸å½“äº 0.5px çš„é«˜åº¦äº†ã€‚ ä¸ºäº†é€‚é…å„ç§å±å¹•ï¼Œæˆ‘ä»¬å†™ä»£ç æ—¶ä¸€èˆ¬ä½¿ç”¨è®¾å¤‡ç‹¬ç«‹åƒç´ æ¥å¯¹é¡µé¢è¿›è¡Œå¸ƒå±€ã€‚ è€Œåœ¨è®¾å¤‡åƒç´ æ¯”å¤§äº1çš„å±å¹•ä¸Šï¼Œæˆ‘ä»¬å†™çš„1pxå®é™…ä¸Šæ˜¯è¢«å¤šä¸ªç‰©ç†åƒç´ æ¸²æŸ“ï¼Œè¿™å°±ä¼šå‡ºç°1pxåœ¨æœ‰äº›å±å¹•ä¸Šçœ‹èµ·æ¥å¾ˆç²—çš„ç°è±¡ã€‚ ä»¥ä¸‹ä¸¾ä¾‹è§£å†³1pxé—®é¢˜ã€‚ 1ã€viewport + rem å®ç° **ä¼˜ç‚¹ï¼š**æ‰€æœ‰åœºæ™¯éƒ½èƒ½æ»¡è¶³ï¼Œä¸€å¥—ä»£ç ï¼Œå¯ä»¥å…¼å®¹åŸºæœ¬æ‰€æœ‰å¸ƒå±€**ç¼ºç‚¹ï¼š**è€é¡¹ç›®ä¿®æ”¹ä»£ä»·è¿‡å¤§ï¼Œåªé€‚ç”¨äºæ–°é¡¹ç›® é€šè¿‡è®¾ç½®ç¼©æ”¾ï¼Œè®©CSSåƒç´ ç­‰äºçœŸæ­£çš„ç‰©ç†åƒç´ ã€‚å½“è®¾å¤‡åƒç´ æ¯”ä¸º3æ—¶ï¼Œæˆ‘ä»¬å°†é¡µé¢ç¼©æ”¾1/3å€ï¼Œè¿™æ—¶1pxç­‰äºä¸€ä¸ªçœŸæ­£çš„å±å¹•åƒç´ ã€‚ 123456789const scale = 1 / window.devicePixelRatio;const viewport = document.querySelector(&#x27;meta[name=&quot;viewport&quot;]&#x27;);if (!viewport) &#123; viewport = document.createElement(&#x27;meta&#x27;); viewport.setAttribute(&#x27;name&#x27;, &#x27;viewport&#x27;); window.document.head.appendChild(viewport);&#125;viewport.setAttribute(&#x27;content&#x27;, &#x27;width=device-width,user-scalable=no,initial-scale=&#x27; + scale + &#x27;,maximum-scale=&#x27; + scale + &#x27;,minimum-scale=&#x27; + scale); å®é™…ä¸Šï¼Œä¸Šé¢è¿™ç§æ–¹æ¡ˆæ˜¯æ—©å…ˆflexibleé‡‡ç”¨çš„æ–¹æ¡ˆï¼Œå¤§æ¦‚æ˜¯é€šè¿‡åˆ¤æ–­DPRå»åŠ¨æ€ç”Ÿæˆviewportçš„mateæ ‡ç­¾ åœ¨DPR &#x3D; 2 æ—¶ï¼Œè¾“å‡ºviewportï¼š &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no&quot;&gt; åœ¨DPR &#x3D; 3æ—¶ï¼Œè¾“å‡ºviewportï¼š &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=0.3333, maximum-scale=0.3333, minimum-scale=0.3333, user-scalable=no&quot;&gt; 2ã€ä¼ªç±» + transform å®ç° åŸç†æ˜¯æŠŠåŸå…ˆå…ƒç´ çš„ border å»æ‰ï¼Œç„¶ååˆ©ç”¨ :before æˆ–è€… :after é‡åš border ï¼Œå¹¶ transform çš„ scale ç¼©å°ä¸€åŠï¼ŒåŸå…ˆçš„å…ƒç´ ç›¸å¯¹å®šä½ï¼Œæ–°åšçš„ border ç»å¯¹å®šä½ã€‚ **ä¼˜ç‚¹ï¼š**æ‰€æœ‰åœºæ™¯éƒ½èƒ½æ»¡è¶³ï¼Œæ”¯æŒåœ†è§’(ä¼ªç±»å’Œæœ¬ä½“ç±»éƒ½éœ€è¦åŠ border-radius) **ç¼ºç‚¹ï¼š**å¯¹äºå·²ç»ä½¿ç”¨ä¼ªç±»çš„å…ƒç´ (ä¾‹å¦‚clearfix)ï¼Œå¯èƒ½éœ€è¦å¤šå±‚åµŒå¥— 123456789101112131415161718192021222324.scale-1px&#123; position: relative; border:none;&#125;.scale-1px:after&#123; content: &#x27;&#x27;; position: absolute; top: 0; height: 1px; width: 100%; background-color: #000; transform-origin: 50% 0%;&#125;@media only screen and (-webkit-min-device-pixel-ratio:2)&#123; .border_1px:before&#123; transform: scaleY(0.5); &#125;&#125;@media only screen and (-webkit-min-device-pixel-ratio:3)&#123; .border_1px:before&#123; transform: scaleY(0.33); &#125;&#125; äºŒã€pcç«¯æ‰©å±•2.1ã€viewpoetviewportçš„åŠŸèƒ½åœ¨äºæ§åˆ¶ä½ ç½‘ç«™çš„æœ€é«˜å—çŠ¶ï¼ˆblockï¼‰å®¹å™¨ï¼š&lt;html&gt;å…ƒç´ ã€‚ å¬èµ·æ¥æœ‰ç‚¹ç„ä¹ï¼Œä¸¾ä¸ªä¾‹å­~å‡è®¾ä½ å®šä¹‰äº†ä¸€ä¸ªå¯å˜å°ºå¯¸çš„å¸ƒå±€ï¼Œä¸”ä½ å®šä¹‰ä¸€ä¸ªä¾§è¾¹æ çš„å®½åº¦ä¸ºwidth: 10%ã€‚å½“ä½ æ”¹å˜æµè§ˆå™¨çª—å£å¤§å°æ—¶ï¼Œè¯¥ä¾§è¾¹æ ä¼šè‡ªåŠ¨æ‰©å¼ å’Œæ”¶ç¼©ã€‚è¿™æ˜¯ä»€ä¹ˆåŸç†å‘¢ï¼ŸæŠ€æœ¯ä¸Šè®²ï¼ŒåŸç†æ˜¯ä¾§è¾¹æ çš„å®½åº¦ä¸ºå®ƒçˆ¶å…ƒç´ å®½åº¦çš„10%ï¼Œæˆ‘ä»¬è®¾å®ƒçš„çˆ¶å…ƒç´ æ˜¯ä¸”ä½ æœªæŒ‡å®šå®½åº¦ã€‚é‚£ä¹ˆé—®é¢˜å°±å˜ä¸ºäº†&lt;body&gt;çš„å®½åº¦åˆ°åº•æ˜¯å¤šå°‘ï¼Ÿ é€šå¸¸ï¼Œä¸€ä¸ªå—çº§å…ƒç´ å æœ‰èµ·çˆ¶å…ƒç´ çš„100%çš„å®½åº¦ï¼ˆè¿™é‡Œæœ‰å¼‚å¸¸æƒ…å†µï¼Œæš‚æ—¶å¿½ç•¥ï¼‰ã€‚æ‰€ä»¥&lt;body&gt;çš„å®½åº¦å°±æ˜¯å…¶çˆ¶å…ƒç´ &lt;html&gt;çš„å®½åº¦ã€‚ **é‚£ä¹ˆ&lt;html&gt;å…ƒç´ åˆ°åº•æœ‰å¤šå®½ï¼Ÿ**å› ä¸ºå®ƒçš„å®½åº¦æ°å¥½ä¸ºæµè§ˆå™¨çš„å®½åº¦ã€‚æ‰€ä»¥ä½ çš„ä¾§è¾¹æ å®½åº¦width: 10%ä¼šå ç”¨10%çš„æµè§ˆå™¨å®½åº¦ã€‚æ‰€ä»¥çš„webå¼€å‘äººå‘˜éƒ½ç›´è§‚çš„çŸ¥é“å’Œä½¿ç”¨è¯¥ç‰¹æ€§äº†ã€‚ ä½†æ˜¯ä½ ä¹Ÿè®¸ä¸çŸ¥é“åŸç†ã€‚åœ¨åŸç†ä¸Šï¼Œ&lt;html&gt;çš„å®½åº¦å—viewportæ‰€é™åˆ¶ï¼Œ&lt;html&gt;å…ƒç´ ä¸ºviewportå®½åº¦çš„100%ã€‚ åè¿‡æ¥ï¼Œviewportæ˜¯ä¸¥æ ¼çš„ç­‰äºæµè§ˆå™¨çš„çª—å£ï¼šå®šä¹‰å°±æ˜¯å¦‚æ­¤ã€‚viewportä¸æ˜¯ä¸€ä¸ªHTMLçš„æ¦‚å¿µï¼Œæ‰€ä»¥ä½ ä¸èƒ½é€šè¿‡CSSä¿®æ”¹å®ƒã€‚å®ƒå°±æ˜¯ä¸ºæµè§ˆå™¨çª—å£çš„å®½åº¦é«˜åº¦ â€“ åœ¨æ¡Œé¢æµè§ˆå™¨ä¸Šå¦‚æ­¤ï¼Œç§»åŠ¨è®¾å¤‡æµè§ˆå™¨ä¸Šæœ‰ç‚¹å¤æ‚ã€‚ å½±å“ ç¼©æ”¾äº‹ä»¶æœ‰ä¸€äº›å¥‡æ€ªçš„å½±å“ï¼Œä½ å¯ä»¥åœ¨æœ¬ç«™ä¸Šå®éªŒã€‚é¡µé¢æ»šåŠ¨åˆ°æœ€ä¸Šé¢ï¼Œæ”¾å¤§æµè§ˆå™¨2-3å€ï¼Œç½‘ç«™çš„å®½åº¦ä¼šè¶…è¿‡æµè§ˆå™¨çª—å£ã€‚å†å°†é¡µé¢æ»šåŠ¨åˆ°æœ€å³è¾¹ï¼Œä½ ä¼šå‘ç°ç½‘ç«™æœ€ä¸Šé¢çš„è“è‰²æ ç›®ä¸å†å¯¹é½äº†ã€‚å¦‚å›¾ è¿™ä¸ªæ•ˆæœååº”äº†viewportæ˜¯å¦‚ä½•è¢«å®šä¹‰çš„ã€‚æˆ‘å®šä¹‰äº†æœ€ä¸Šé¢è“è‰²æ ç›®çš„å®½åº¦ä¸ºwidth: 100%ã€‚ä»€ä¹ˆçš„100%ï¼Ÿå½“ç„¶æ˜¯htmlçš„å®½åº¦ï¼ŒåŒæ ·æ˜¯viewportçš„å®½åº¦ï¼ŒåŒæ ·æ˜¯æµè§ˆå™¨çª—å£çš„å®½åº¦ã€‚ **é‡ç‚¹ï¼š**ç¼©æ”¾æ¯”ä¾‹100%çš„æƒ…å†µä¸‹å¾ˆæ­£å¸¸ï¼Œç°åœ¨æˆ‘ä»¬æ”¾å¤§æµè§ˆå™¨ï¼Œviewportå˜å¾—æ¯”ç½‘ç«™çš„æ€»å®½åº¦æ›´å°ã€‚å¯¹viewportæ— å½±å“ï¼Œä½†é¡µé¢çš„å†…å®¹æº¢å‡ºäº†&lt;html&gt;å…ƒç´ ï¼Œä½†å®ƒå´æœ‰å±æ€§overflow: visibleã€‚æ„å‘³ç€æº¢å‡ºçš„éƒ¨åˆ†ä¾ç„¶ä¼šè¢«æ˜¾ç¤ºã€‚ ä½†è“è‰²æ ç›®å´ä¸ä¼šæº¢å‡ºã€‚æˆ‘å®šä¹‰äº†å®ƒå®½åº¦ä¸ºwidth: 100%ï¼Œç»“æœæµè§ˆå™¨ä¸ºä»–èµ‹å€¼å®½åº¦ä¸ºviewportçš„å®½åº¦ã€‚æµè§ˆå™¨ä¸ä¼šåœ¨ä¹è¿™ä¸ªæ ç›®çš„å®½åº¦æ˜¯ä¸æ˜¯è¿‡çª„äº†ã€‚å¦‚å›¾ 2.2ã€å°ç»“ 1234567891011121314å¸ƒå±€è§†å£/è§†å£viewportï¼šdocument.documentElement.clientWidth/clientHeight | document.body.clientWidth/clientHeight(åŒ…æ‹¬å†…è¾¹è·ï¼Œä½†ä¸åŒ…æ‹¬æ»šåŠ¨æ¡ï¼Œè¾¹æ¡†å’Œå¤–è¾¹è·)htmlå…ƒç´ å°ºå¯¸ï¼šdocument.documentElement.offsetWidth/offseHeight(åŒ…å«æ»šåŠ¨å·å»çš„è·ç¦»)æ»šåŠ¨ç§»ä½ï¼šwindow.pageYOffset/pageXOffsetè§†è§‰è§†å£/æµè§ˆå™¨å°ºå¯¸ï¼šwindow.innerWidth/innerHeight(åŒ…å«æ»šåŠ¨æ¡)ç†æƒ³è§†å£/pcå±å¹•å°ºå¯¸/è®¾å¤‡ç‹¬ç«‹åƒç´ ï¼šscreen.width/heightäº‹ä»¶åæ ‡ï¼š pageX/Yï¼šä»&lt;html&gt;åŸç‚¹åˆ°äº‹ä»¶è§¦å‘ç‚¹çš„CSSçš„ pixels clientX/Yï¼šä»viewportåŸç‚¹ï¼ˆæµè§ˆå™¨çª—å£ï¼‰åˆ°äº‹ä»¶è§¦å‘ç‚¹çš„CSSçš„ pixels screenX/Yï¼šä»ç”¨æˆ·æ˜¾ç¤ºå™¨çª—å£åŸç‚¹åˆ°äº‹ä»¶è§¦å‘ç‚¹çš„è®¾å¤‡ çš„ pixels 1ï¼‰åº¦é‡viewportdocument. documentElement. clientWidth&#x2F;Height ä½ ä¹Ÿè®¸æƒ³è¦çŸ¥é“viewportçš„å°ºå¯¸ï¼Œä»–ä»¬å¯ä»¥é€šè¿‡document. documentElement. clientWidth&#x2F;Heightæ¥è·å–ã€‚å¦‚å›¾ å¦‚æœä½ ç†Ÿæ‚‰DOMï¼Œä½ ä¼šçŸ¥é“document.documentElementå®é™…ä¸Šå°±æ˜¯&lt;html&gt;å…ƒç´ ï¼šHTMLæ–‡æ¡£çš„æ ¹å…ƒç´ ã€‚ç„¶è€Œviewportæ˜¯æ¯”&lt;html&gt;æ›´é«˜çº§åˆ«çš„å…ƒç´ ï¼Œæ‰“ä¸ªæ¯”å–»ï¼Œå®ƒæ˜¯å®¹çº³&lt;html&gt;å…ƒç´ çš„å…ƒç´ ã€‚ 2ï¼‰åº¦é‡HTMLdocument. documentElement. offsetWidth&#x2F;Height è¿™ä¸ªç‰¹æ€§å¯¹çœŸå®çš„è®©ä½ è®¿é—®å—çº§å…ƒç´ &lt;html&gt;å…ƒç´ ï¼Œå¦‚æœä½ ä¸º&lt;html&gt;å…ƒç´ èµ‹å€¼äº†å®½åº¦ï¼ŒoffsetWidthä¼šçœŸå®çš„ååº”å‡ºæ¥ã€‚ 3ï¼‰æ»šåŠ¨ç§»ä½window.pageXOffset&#x2F;pageYOffset 4ï¼‰äº‹ä»¶åæ ‡pageX&#x2F;Yï¼šä»&lt;html&gt;åŸç‚¹åˆ°äº‹ä»¶è§¦å‘ç‚¹çš„CSSçš„ pixels clientX&#x2F;Yï¼šä»viewportåŸç‚¹ï¼ˆæµè§ˆå™¨çª—å£ï¼‰åˆ°äº‹ä»¶è§¦å‘ç‚¹çš„CSSçš„ pixels screenX&#x2F;Yï¼šä»ç”¨æˆ·æ˜¾ç¤ºå™¨çª—å£åŸç‚¹åˆ°äº‹ä»¶è§¦å‘ç‚¹çš„è®¾å¤‡ çš„ pixels ä¸‰ã€ç§»åŠ¨ç«¯å¼€å‘é€‰æ‹©3.1ã€å•ç‹¬åˆ¶ä½œç§»åŠ¨ç«¯é¡µé¢ï¼ˆä¸»æµï¼‰é€šå¸¸æƒ…å†µä¸‹ï¼Œç½‘å€åŸŸåå‰é¢åŠ  m(mobile) å¯ä»¥æ‰“å¼€ç§»åŠ¨ç«¯ã€‚é€šè¿‡åˆ¤æ–­è®¾å¤‡ï¼Œå¦‚æœæ˜¯ç§»åŠ¨è®¾å¤‡æ‰“å¼€ï¼Œåˆ™è·³åˆ°ç§»åŠ¨ç«¯é¡µé¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒåšPCç«¯å’Œç§»åŠ¨ç«¯ä¸¤å¥—ç½‘ç«™ä»£ç ï¼Œpcç«¯æ˜¯pcç«¯çš„æ ·å¼ï¼Œç§»åŠ¨ç«¯å†å†™ä¸€å¥—ï¼Œä¸“é—¨é’ˆå¯¹ç§»åŠ¨ç«¯é€‚é…çš„ä¸€å¥—ç½‘ç«™ã€‚ 3.2ã€å“åº”å¼é¡µé¢å…¼å®¹ç§»åŠ¨ç«¯ï¼ˆå…¶æ¬¡ï¼‰pcå’Œç§»åŠ¨ç«¯å…±ç”¨ä¸€å¥—ç½‘ç«™ï¼Œåªä¸è¿‡åœ¨ä¸åŒå±å¹•ä¸‹ï¼Œæ ·å¼ä¼šè‡ªåŠ¨é€‚é…ä¸€å¥—ä»£ç é€‚é…å¤šä¸ªç»ˆç«¯ï¼ˆç”¨æˆ·ä½“éªŒä¸å¥½ï¼‰ å››ã€ç§»åŠ¨ç«¯æŠ€æœ¯è§£å†³æ–¹æ¡ˆ4.1ã€ç§»åŠ¨ç«¯æµè§ˆå™¨å…¼å®¹é—®é¢˜ ç§»åŠ¨ç«¯æµè§ˆå™¨åŸºæœ¬ä»¥webkitå†…æ ¸ä¸ºä¸»ï¼Œå› æ­¤æˆ‘ä»¬å°±è€ƒè™‘webkitå…¼å®¹æ€§é—®é¢˜ã€‚ æˆ‘ä»¬å¯ä»¥æ”¾å¿ƒä½¿ç”¨H5æ ‡ç­¾å’ŒCSS3æ ·å¼ã€‚ åŒæ—¶æˆ‘ä»¬æµè§ˆå™¨çš„ç§æœ‰å‰ç¼€æˆ‘ä»¬åªéœ€è¦è€ƒè™‘æ·»åŠ -webkit-å³å¯ã€‚ 4.2ã€ç§»åŠ¨ç«¯CSSåˆå§‹åŒ–ç§»åŠ¨ç«¯ CSS åˆå§‹åŒ–æ¨èä½¿ç”¨ normalize.css å®˜ç½‘åœ°å€ï¼š http://necolas.github.io/normalize.css/ 4.3ã€CSS3ç›’æ¨¡å‹ä¼ ç»Ÿæ¨¡å¼å®½åº¦è®¡ç®—ï¼šç›’å­çš„å®½åº¦ &#x3D; CSSä¸­è®¾ç½®çš„width + border + padding CSS3ç›’å­æ¨¡å‹ï¼š ç›’å­çš„å®½åº¦&#x3D; CSSä¸­è®¾ç½®çš„å®½åº¦width é‡Œé¢åŒ…å«äº† border å’Œ padding ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„CSS3ä¸­çš„ç›’å­æ¨¡å‹ï¼Œ padding å’Œ border ä¸ä¼šæ’‘å¤§ç›’å­ 1234/*CSS3ç›’å­æ¨¡å‹*/box-sizing: border-box;/*ä¼ ç»Ÿç›’å­æ¨¡å‹*/box-sizing: content-box; ç§»åŠ¨ç«¯å¯ä»¥å…¨éƒ¨CSS3 ç›’å­æ¨¡å‹ PCç«¯å¦‚æœå®Œå…¨éœ€è¦å…¼å®¹ï¼Œæˆ‘ä»¬å°±ç”¨ä¼ ç»Ÿæ¨¡å¼ï¼Œå¦‚æœä¸è€ƒè™‘å…¼å®¹æ€§ï¼Œæˆ‘ä»¬å°±é€‰æ‹© CSS3 ç›’å­æ¨¡å‹ 4.4ã€ç§»åŠ¨ç«¯ç‰¹æ®Šæ ·å¼(å»é™¤æ ·å¼)123456789101112/*CSS3ç›’å­æ¨¡å‹*/box-sizing: border-box;-webkit-box-sizing: border-box;/*ç‚¹å‡»é«˜äº®æˆ‘ä»¬éœ€è¦æ¸…é™¤æ¸…é™¤ è®¾ç½®ä¸ºtransparent å®Œæˆé€æ˜*/-webkit-tap-highlight-color: transparent;/*åœ¨ç§»åŠ¨ç«¯æµè§ˆå™¨é»˜è®¤çš„å¤–è§‚åœ¨iOSä¸ŠåŠ ä¸Šè¿™ä¸ªå±æ€§æ‰èƒ½ç»™æŒ‰é’®å’Œè¾“å…¥æ¡†è‡ªå®šä¹‰æ ·å¼*/-webkit-appearance: none;/*ç¦ç”¨é•¿æŒ‰é¡µé¢æ—¶çš„å¼¹å‡ºèœå•*/img,a &#123; -webkit-touch-callout: none; &#125; äº”ã€ç§»åŠ¨ç«¯å¸¸è§å¸ƒå±€æ–¹å¼5.1ã€æµå¼å¸ƒå±€(ç™¾åˆ†æ¯”å¸ƒå±€) æµå¼å¸ƒå±€ï¼Œå°±æ˜¯ç™¾åˆ†æ¯”å¸ƒå±€ï¼Œä¹Ÿç§°éå›ºå®šåƒç´ å¸ƒå±€ã€‚ é€šè¿‡ç›’å­çš„å®½åº¦è®¾ç½®æˆç™¾åˆ†æ¯”æ¥æ ¹æ®å±å¹•çš„å®½åº¦æ¥è¿›è¡Œä¼¸ç¼©ï¼Œä¸å—å›ºå®šåƒç´ çš„é™åˆ¶ï¼Œå†…å®¹å‘ä¸¤ä¾§å¡«å……ã€‚ æµå¼å¸ƒå±€æ–¹å¼æ˜¯ç§»åŠ¨webå¼€å‘ä½¿ç”¨çš„æ¯”è¾ƒå¸¸è§çš„å¸ƒå±€æ–¹å¼ã€‚ æ³¨æ„äº‹é¡¹ åˆ¶ä½œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦å®šä¹‰é¡µé¢çš„æœ€å¤§å’Œæœ€å°æ”¯æŒå®½åº¦ã€‚ max-width é™åˆ¶é¡µé¢æœ€å¤§å®½åº¦ max-height é™åˆ¶é¡µé¢æœ€å¤§é«˜åº¦ min-width é™åˆ¶é¡µé¢æœ€å°å®½åº¦ å½“å°äºæœ€å°å®½åº¦å°±å‡ºç°æ»šåŠ¨æ¡ min-height é™åˆ¶é¡µé¢æœ€å°é«˜åº¦ 5.2ã€flexå¼¹æ€§å¸ƒå±€(æ¨è)1ï¼‰ä¼ ç»Ÿå¸ƒå±€å’Œflexå¸ƒå±€å¯¹æ¯”ä¼ ç»Ÿå¸ƒå±€ å…¼å®¹æ€§å¥½ å¸ƒå±€ç¹ç å±€é™æ€§ï¼Œä¸èƒ½åœ¨ç§»åŠ¨ç«¯å¾ˆå¥½çš„å¸ƒå±€ flexå¸ƒå±€ æ“ä½œæ–¹ä¾¿ï¼Œå¸ƒå±€æå…¶ç®€å•ï¼Œç§»åŠ¨ç«¯ä½¿ç”¨æ¯”è¾ƒå¹¿æ³› pcç«¯æµè§ˆå™¨æ”¯æŒæƒ…å†µæ¯”è¾ƒå·® IE11æˆ–æ›´ä½ç‰ˆæœ¬ä¸æ”¯æŒflexæˆ–ä»…æ”¯æŒéƒ¨åˆ† æ³¨æ„ï¼š å¦‚æœæ˜¯pcç«¯é¡µé¢å¸ƒå±€ï¼Œè¿˜æ˜¯é‡‡ç”¨ä¼ ç»Ÿæ–¹å¼å¦‚æœæ˜¯ç§»åŠ¨ç«¯æˆ–è€…æ˜¯ä¸è€ƒè™‘å…¼å®¹é—®é¢˜çš„pcç«¯ï¼Œåˆ™é‡‡ç”¨flexå¸ƒå±€ 2ï¼‰flexå¸ƒå±€åŸç† å½“æˆ‘ä»¬ä¸ºçˆ¶ç›’å­è®¾ä¸º flexï¼ˆdisplay&#x3D;â€œflexâ€;ï¼‰ å¸ƒå±€ä»¥åï¼Œå­å…ƒç´ çš„ floatã€clear å’Œ vertical-align å±æ€§å°†å¤±æ•ˆã€‚å—çº§å…ƒç´ ä¼šåœ¨åŒä¸€è¡Œæ˜¾ç¤ºã€‚ flexå¸ƒå±€åˆå«ä¼¸ç¼©å¸ƒå±€ ã€å¼¹æ€§å¸ƒå±€ ã€ä¼¸ç¼©ç›’å¸ƒå±€ ã€å¼¹æ€§ç›’å¸ƒå±€ã€‚ é‡‡ç”¨ Flex å¸ƒå±€çš„å…ƒç´ ï¼Œç§°ä¸º Flex å®¹å™¨ï¼ˆflexcontainerï¼‰ï¼Œç®€ç§°â€å®¹å™¨â€ã€‚å®ƒçš„æ‰€æœ‰å­å…ƒç´ è‡ªåŠ¨æˆä¸ºå®¹å™¨æˆå‘˜ï¼Œç§°ä¸º Flex é¡¹ç›®ï¼ˆflexitemï¼‰ï¼Œç®€ç§°â€é¡¹ç›®â€ã€‚ æ€»ç»“ï¼š å°±æ˜¯é€šè¿‡ç»™çˆ¶ç›’å­æ·»åŠ flexå±æ€§ï¼Œæ¥æ§åˆ¶å­ç›’å­çš„ä½ç½®å’Œæ’åˆ—æ–¹å¼ ç»™çˆ¶ç›’å­æ·»åŠ display&#x3D;â€flexâ€å°±å¯ä»¥ç›´æ¥æ”¹çˆ¶çº§é‡Œé¢çš„è¡Œå†…å…ƒç´ çš„å®½é«˜ 3ï¼‰flexå¸ƒå±€å¸¸è§å±æ€§çˆ¶é¡¹å¸¸è§å±æ€§ å±æ€§ æè¿° flex-direction è®¾ç½®ä¸»è½´çš„æ–¹å‘ justify-content è®¾ç½®ä¸»è½´ä¸Šçš„å­å…ƒç´ æ’åˆ—æ–¹å¼ flex-wrap è®¾ç½®å­å…ƒç´ æ˜¯å¦æ¢è¡Œ (å­å…ƒç´ çš„å¤§å°å°äºçˆ¶ç›’å­çš„å¤§å°æ˜¯æ¢è¡Œä¸äº†çš„) align-items è®¾ç½®ä¾§è½´ä¸Šçš„å­å…ƒç´ æ’åˆ—æ–¹å¼ï¼ˆå•è¡Œï¼‰ align-content è®¾ç½®ä¾§è½´ä¸Šçš„å­å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼ˆå¤šè¡Œï¼‰ flex-flow å¤åˆå±æ€§ï¼Œç›¸å½“äºåŒæ—¶è®¾ç½®äº† flex-direction å’Œ flex-wrap flex-direction ä¸»è½´æ–¹å‘ åœ¨ flex å¸ƒå±€ä¸­ï¼Œæ˜¯åˆ†ä¸ºä¸»è½´å’Œä¾§è½´ä¸¤ä¸ªæ–¹å‘ï¼ŒåŒæ ·çš„å«æ³•æœ‰ ï¼š è¡Œå’Œåˆ—ã€x è½´å’Œy è½´ã€‚ é»˜è®¤ä¸»è½´æ–¹å‘å°±æ˜¯ x è½´æ–¹å‘ï¼Œæ°´å¹³å‘å³ é»˜è®¤ä¾§è½´æ–¹å‘å°±æ˜¯ y è½´æ–¹å‘ï¼Œæ°´å¹³å‘ä¸‹ ä¸»è½´å’Œä¾§è½´æ˜¯ä¼šå˜åŒ–çš„ï¼Œå°±çœ‹ flex-direction è®¾ç½®è°ä¸ºä¸»è½´ï¼Œå‰©ä¸‹çš„å°±æ˜¯ä¾§è½´ã€‚è€Œæˆ‘ä»¬çš„å­å…ƒç´ æ˜¯è·Ÿç€ä¸»è½´æ¥æ’åˆ—çš„ å±æ€§å€¼ æè¿° row é»˜è®¤å€¼ï¼Œä»å·¦å¾€å³ row-reverse ä»å³å¾€å·¦ columnï¼ˆå¸¸ç”¨ï¼‰ ä»ä¸Šå¾€ä¸‹ column-reverse ä»ä¸‹å¾€ä¸Š justify-content ä¸»è½´ä¸Šçš„å­å…ƒç´ æ’åˆ—æ–¹å¼ å±æ€§å€¼ æè¿° flex-start å¤´éƒ¨å¯¹é½ï¼Œå¦‚æœä¸»è½´æ˜¯xè½´ï¼Œåˆ™å·¦å¯¹é½(é»˜è®¤)ã€‚ å¦‚æœä¸»è½´æ˜¯yè½´ï¼Œåˆ™é¡¶éƒ¨å¯¹é½ flex-end å°¾éƒ¨å¯¹é½ï¼Œå¦‚æœä¸»è½´æ˜¯xè½´ï¼Œåˆ™å³å¯¹é½ã€‚ å¦‚æœä¸»è½´æ˜¯yè½´ï¼Œåˆ™åº•éƒ¨å¯¹é½ center åœ¨ä¸»è½´å±…ä¸­å¯¹é½(ä¸»è½´ä¸ºx æ°´å¹³å±…ä¸­ï¼Œä¸»è½´ä¸ºy å‚ç›´å±…ä¸­) space-around æ¯ä¸ªå…ƒç´ åˆ†é…å‘¨å›´ç›¸åŒçš„ç©ºé—´ space-between å…ˆä¸¤è¾¹è´´è¾¹ï¼Œå†æ¯ä¸ªå…ƒç´ åˆ†é…å‘¨å›´ç›¸åŒçš„ç©ºé—´ space-evenly æ¯ä¸ªå…ƒç´ ä¹‹é—´çš„é—´éš”ç›¸ç­‰ flex-wrap æ˜¯å¦æ¢è¡Œ é»˜è®¤æƒ…å†µä¸‹ï¼Œé¡¹ç›®éƒ½æ’åœ¨ä¸€æ¡çº¿ï¼ˆåˆç§°â€è½´çº¿â€ï¼‰ä¸Šã€‚flex-wrapå±æ€§å®šä¹‰ï¼Œflexå¸ƒå±€ä¸­é»˜è®¤æ˜¯ä¸æ¢è¡Œçš„ã€‚ å¦‚æœå¤šä¸ªå­å…ƒç´ çš„å¤§å°å¤§äºçˆ¶ç›’å­çš„å¤§å°ï¼Œåˆ™ä¼šç¼©å°å­å…ƒç´ å¤§å°ï¼Œå ä¸€è¡Œã€‚åªæœ‰æ¢è¡Œæ‰èƒ½åˆ°ç¬¬äºŒè¡Œã€‚ å±æ€§å€¼ æè¿° nowrap é»˜è®¤å€¼ï¼Œä¸æ¢è¡Œ wrap æ¢è¡Œ align-items ä¾§è½´ä¸Šçš„å­å…ƒç´ æ’åˆ—æ–¹å¼(å•è¡Œ) è¯¥å±æ€§æ˜¯æ§åˆ¶å­é¡¹åœ¨ä¾§è½´ï¼ˆé»˜è®¤æ˜¯yè½´ï¼‰ä¸Šçš„æ’åˆ—æ–¹å¼ åœ¨å­é¡¹ä¸ºå•é¡¹ï¼ˆå•è¡Œï¼‰çš„æ—¶å€™ä½¿ç”¨ å±æ€§å€¼ æè¿° flex-start å…ƒç´ ä½äºå®¹å™¨çš„å¼€å¤´ flex-end å…ƒç´ ä½äºå®¹å™¨çš„ç»“å°¾ center å‚ç›´å±…ä¸­æ˜¾ç¤º stretch é»˜è®¤å€¼ï¼Œæ‹‰ä¼¸ï¼ˆå­ç›’å­ä¸è¦ç»™é«˜åº¦æ‰æœ‰æ•ˆæœï¼‰ baseline åŸºçº¿å¯¹é½ align-content ä¾§è½´ä¸Šçš„å­å…ƒç´ çš„æ’åˆ—æ–¹å¼(å¤šè¡Œ) åªèƒ½ç”¨äºå­é¡¹å‡ºç° æ¢è¡Œä¸”flexå®¹å™¨è®¾ç½®äº†é«˜åº¦ çš„æƒ…å†µï¼ˆå¤šè¡Œï¼‰ï¼Œåœ¨å•è¡Œä¸‹æ˜¯æ²¡æœ‰æ•ˆæœçš„ã€‚ å±æ€§å€¼ æè¿° flex-start åœ¨ä¾§å‘¨çš„å¤´éƒ¨å¼€å§‹æ’åº flex-end åœ¨ä¾§å‘¨çš„å°¾éƒ¨å¼€å§‹æ’åº center åœ¨ä¾§è½´çš„ä¸­é—´æ˜¾ç¤º space-around æ¯ä¸ªå…ƒç´ å‘¨å›´åˆ†é…ç›¸åŒçš„ç©ºé—´ space-between é¦–ä¸ªå…ƒç´ æ”¾ç½®äºèµ·ç‚¹ï¼Œæœ«å°¾å…ƒç´ æ”¾ç½®äºç»ˆç‚¹ (é‡ç‚¹) ä¸¤ç«¯å¯¹é½ä¸­é—´å¹³åˆ† stretch é»˜è®¤å€¼ï¼Œè®¾ç½®å­é¡¹å…ƒç´ é«˜åº¦å¹³åˆ†å…ƒç´ é«˜åº¦ï¼ˆå­ç›’å­ä¸è¦ç»™é«˜åº¦æ‰æœ‰æ•ˆæœï¼‰ flex-flowflex-flow å±æ€§æ˜¯ flex-direction å’Œ flex-wrap å±æ€§çš„å¤åˆå±æ€§ 1flex-flow: row wrap å­é¡¹å¸¸è§å±æ€§flex å±æ€§ å±æ€§ å±æ€§å€¼ flex 0 é»˜è®¤å€¼ï¼Œå®šä¹‰å­é¡¹ç›®åˆ†é…å‰©ä½™ç©ºé—´ï¼Œç”¨flexæ¥è¡¨ç¤ºå å¤šå°‘ä»½æ•°ã€‚ 12345678910111213141516171819&lt;style&gt; section &#123; display: flex; width: 60%; height: 80px; background-color: pink; margin: 50px auto; &#125; section div &#123; flex: 1; border: 2px solid red; &#125;&lt;/style&gt;&lt;section&gt; &lt;div&gt;1&lt;/div&gt; &lt;div&gt;2&lt;/div&gt; &lt;div&gt;3&lt;/div&gt;&lt;/section&gt; ä¸Šè¿°ä»£ç è¡¨ç¤ºï¼šflexï¼š1å³ä¸‰ä¸ªdivç›’å­åˆ†é…sectionç›’å­çš„ç©ºé—´ï¼Œæ¯ä¸ªç›’å­éƒ½å ä¸€ä»½ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªç›’å­åˆ†é…çš„ç©ºé—´ç«™æ€»ç©ºé—´çš„ä¸‰åˆ†ä¹‹ä¸€ã€‚ æ¯ä¸ªç›’å­å æ€»ç©ºé—´æ¯”ä¾‹ï¼š 1 Ã· 3 &#x3D; 1&#x2F;3 åœ¨ä¸Šè¿°ä»£ç åŸºç¡€ä¸Šå°†ç¬¬äºŒä¸ªdivç›’å­åˆ†é…äº†ä¸‰åˆ†ç©ºé—´ 123456789section div &#123; flex: 1; border: 2px solid red;&#125;section div:nth-of-type(2) &#123; flex: 3; border: 2px solid seagreen;&#125; ä¸Šè¿°ç¬¬ä¸€ä¸ªdivç›’å­å ä¸€ä»½ï¼Œç¬¬äºŒä¸ªdivå 3ä»½ï¼Œç¬¬ä¸‰ä¸ªdivå 1ä»½ï¼Œä¸€å…±5ä»½ã€‚ç¬¬ä¸€ä¸ªç›’å­å äº†1&#x2F;5ï¼Œç¬¬äºŒä¸ªç›’å­å 3&#x2F;5ï¼Œç¬¬ä¸‰ä¸ªç›’å­å 1&#x2F;5 å¾—å‡ºå…¬å¼ï¼š æŸå­é¡¹å æ€»ç©ºé—´çš„æ¯”ä¾‹ &#x3D; æŸå­é¡¹çš„flexå€¼ Ã· æ‰€æœ‰å­é¡¹çš„flexå€¼çš„æ€»å’Œ æ³¨æ„å­é¡¹æ˜¯è¡Œå†…å—å…ƒç´ ï¼Œå…¶å®½åº¦å°äºçˆ¶å…ƒç´ çš„æ—¶å€™ flex:1; ä¼šé“ºæ»¡ å¦‚æœè¡Œå†…å—å…ƒç´ çš„å®½åº¦å¤§äºå®¹å™¨ åˆ™ä¸ä¼šé“ºæ»¡(å­å…ƒç´ imgä¸ä¼šè¿›è¡Œæ”¶ç¼©çš„) align-selfæ§åˆ¶å­é¡¹è‡ªå·±åœ¨ä¾§è½´ä¸Šçš„æ’åˆ—æ–¹å¼ align-self å±æ€§å…è®¸æŸä¸ªå­é¡¹æœ‰ä¸å…¶ä»–å­é¡¹æœ‰ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›– align-items å±æ€§ã€‚é»˜è®¤å€¼ä¸º autoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„ align-items å±æ€§ï¼Œå¦‚æœæ²¡æœ‰çˆ¶å…ƒç´ æˆ–æ˜¯æ²¡é«˜åº¦ï¼Œåˆ™ç­‰åŒäº stretchï¼Œè¯¥å±æ€§ä¸ç”Ÿæ•ˆã€‚ æœªæ·»åŠ align-self 123456789101112131415161718192021222324252627282930&lt;style&gt; *&#123; padding: 0; margin: 0; &#125; section &#123; display: flex; align-items: center; width: 60%; height: 150px; border: 1px solid #6b6b6b; margin: 50px auto; &#125; section div &#123; height: 50px; flex: 1; background-color: pink; &#125; section div:nth-of-type(2) &#123; flex: 3; align-self: flex-end; background-color: skyblue; &#125;&lt;/style&gt;&lt;section&gt; &lt;div&gt;1&lt;/div&gt; &lt;div&gt;2&lt;/div&gt; &lt;div&gt;3&lt;/div&gt;&lt;/section&gt; orderå®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåº é»˜è®¤å€¼ä¸º0ï¼Œä»¥0ä½ä¸´ç•Œç‚¹ã€‚-1å¾€å‰æ’åˆ—ï¼Œ1å¾€åæ’åˆ—ï¼Œä»¥æ­¤ç±»æ¨ã€‚ 12345section div:nth-of-type(2) &#123; order: -1; flex: 3; background-color: skyblue;&#125; 4ï¼‰flexå¸ƒå±€æ¡ˆä¾‹https://jihulab.com/shixna/demo/-/tree/flex%E5%B8%83%E5%B1%80%E6%A1%88%E4%BE%8B 5.3ã€remå¸ƒå±€1ï¼‰remå’Œem1ã€emæ˜¯å‚è€ƒçš„æ˜¯è‡ªèº«å­—ä½“å¤§å°ï¼Œå¦‚æœè‡ªèº«æœªè®¾ç½®å­—ä½“å¤§å°ï¼Œé»˜è®¤å‚è€ƒçˆ¶å…ƒç´ çš„å­—ä½“å¤§å°ï¼Œçˆ¶å…ƒç´ ä¹Ÿæ²¡æœ‰å°±ä¸€ç›´å¾€ä¸Šæ‰¾ï¼Œç›´åˆ°html 12345678910111213&lt;style&gt; div &#123; font-size:12px; &#125; p&#123; /*è¿™ä¸ªç›’å­å¤§å°å°±æ˜¯120Ã—120px*/ width:10em; height:10em; &#125;&lt;/style&gt;&lt;div&gt; &lt;p&gt;&lt;/p&gt;&lt;/div&gt; 2ã€remå‚è€ƒhtmlå…ƒç´ çš„å­—ä½“å¤§å°æ¥è®¡ç®—çš„ï¼Œå³1rem &#x3D; htmlçš„font-sizeã€‚æ¯”å¦‚ï¼Œæ ¹å…ƒç´ ï¼ˆhtmlï¼‰è®¾ç½®font-size&#x3D;12pxï¼Œéæ ¹å…ƒç´ è®¾ç½®width:2remï¼Œ åˆ™æ¢æˆpxè¡¨ç¤ºå°±æ˜¯24pxã€‚ 1234567html &#123; /* æ ¹html ä¸º 12px */ font-size: 12px;&#125;div &#123; /* æ­¤æ—¶ div çš„å­—ä½“å¤§å°å°±æ˜¯ 24px */ font-size: 2rem;&#125; remçš„ä¼˜ç‚¹å°±æ˜¯å¯ä»¥é€šè¿‡ä¿®æ”¹htmlé‡Œé¢çš„æ–‡å­—å¤§å°æ¥æ”¹å˜é¡µé¢ä¸­å…ƒç´ å¤§å°ï¼Œå¯ä»¥å¾ˆå¥½æ¥æ§åˆ¶æ•´ä¸ªé¡µé¢çš„å…ƒç´ å¤§å°ã€‚ 2ï¼‰åª’ä½“æŸ¥è¯¢åª’ä½“æŸ¥è¯¢ï¼ˆMedia Queryï¼‰æ˜¯CSS3æ–°è¯­æ³•ã€‚ ä½¿ç”¨ @mediaæŸ¥è¯¢ï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒçš„åª’ä½“ç±»å‹å®šä¹‰ä¸åŒçš„æ ·å¼ @media å¯ä»¥é’ˆå¯¹ä¸åŒçš„å±å¹•å°ºå¯¸è®¾ç½®ä¸åŒçš„æ ·å¼ å½“ä½ é‡ç½®æµè§ˆå™¨å¤§å°çš„è¿‡ç¨‹ä¸­ï¼Œé¡µé¢ä¹Ÿä¼šæ ¹æ®æµè§ˆå™¨çš„å®½åº¦å’Œé«˜åº¦é‡æ–°æ¸²æŸ“é¡µé¢ ç›®å‰é’ˆå¯¹å¾ˆå¤šè‹¹æœæ‰‹æœºã€Androidæ‰‹æœºï¼Œå¹³æ¿ç­‰è®¾å¤‡éƒ½ç”¨å¾—åˆ°å¤šåª’ä½“æŸ¥è¯¢ è¯­æ³•è§„èŒƒ1@media mediatype and/not/only (media feature) &#123;&#125; å±æ€§ æè¿° @media å›ºå®šå†™æ³•ï¼Œç”¨ @mediaå¼€å¤´ æ³¨æ„@ç¬¦å· mediatype åª’ä½“ç±»å‹**allï¼š**ç”¨äºæ‰€æœ‰è®¾å¤‡ï¼›**printï¼š**ç”¨äºæ‰“å°æœºå’Œæ‰“å°é¢„è§ˆï¼›**screenï¼š**ç”¨äºç”µè„‘å±å¹•ï¼Œå¹³æ¿ç”µè„‘ï¼Œæ™ºèƒ½æ‰‹æœºç­‰ and&#x2F;not&#x2F;only å…³é”®å­—**andï¼š**å¯ä»¥å°†å¤šä¸ªåª’ä½“ç‰¹æ€§è¿æ¥åˆ°ä¸€èµ·ï¼Œç›¸å½“äºâ€œä¸”â€çš„æ„æ€ã€‚**notï¼š**æ’é™¤æŸä¸ªåª’ä½“ç±»å‹ï¼Œç›¸å½“äºâ€œéâ€çš„æ„æ€ï¼Œå¯ä»¥çœç•¥ã€‚**orï¼š**å¯ä»¥æµ‹è¯•å¤šä¸ªåª’ä½“æŸ¥è¯¢æ¡ä»¶ï¼Œåªè¦æœ‰ä¸€ä¸ªæ¡ä»¶æˆç«‹å°±æ‰§è¡Œï¼Œç›¸å½“äºâ€œæˆ–â€çš„æ„æ€ã€‚**onlyï¼š**æŒ‡å®šæŸä¸ªç‰¹å®šçš„åª’ä½“ç±»å‹ï¼Œå¯ä»¥çœç•¥ã€‚ media feature åª’ä½“ç‰¹æ€§ï¼Œ**widthï¼š**å®½åº¦ï¼›**min-widthï¼š**æœ€å°å®½åº¦ï¼›**max-widthï¼š**æœ€å¤§å®½åº¦ ä¹¦å†™è§„åˆ™ä¸ºäº†é˜²æ­¢æ··ä¹±ï¼Œåª’ä½“æŸ¥è¯¢æˆ‘ä»¬è¦æŒ‰ç…§ä»å°åˆ°å¤§æˆ–è€…ä»å¤§åˆ°å°çš„é¡ºåºæ¥å†™,ä½†æ˜¯æˆ‘ä»¬æœ€å–œæ¬¢çš„è¿˜æ˜¯ä»å°åˆ°å¤§æ¥å†™ï¼ˆmin-widthåˆ°max-widthï¼‰ï¼Œè¿™æ ·ä»£ç æ›´ç®€æ´ã€‚ æ¡ˆä¾‹ç¤ºèŒƒæ¡ˆä¾‹ä¸€ï¼š å±å¹•å°äº540pxæ—¶ï¼ŒèƒŒæ™¯ä¸ºè“è‰²ï¼›å±å¹•å¤§äºç­‰äº540pxå¹¶ä¸”å°äº970pxçš„æ—¶å€™ï¼ŒèƒŒæ™¯ä¸ºç»¿è‰²ï¼›å±å¹•å¤§äºç­‰äº970çš„æ—¶å€™ï¼ŒèƒŒæ™¯ä¸ºçº¢è‰²ï¼› 123456789101112131415@media screen and (max-width:539px) &#123; body &#123; background-color: blue; &#125;&#125;@media screen and (min-width:540px) and (max-width:969px) &#123; /*å¯ä¼˜åŒ–æˆï¼š@media screen and (min-width:540px)*/ body &#123; background-color: green; &#125;&#125;@media screen and (min-width:970px) &#123; body &#123; background-color: red; &#125;&#125; æ¡ˆä¾‹äºŒï¼š remå®ç°å…ƒç´ åŠ¨æ€å¤§å°å˜åŒ– 12345678910111213141516171819202122232425262728&lt;style&gt; * &#123; padding: 0; margin: 0; &#125; html &#123; font-size: 25px; &#125; @media screen and (min-width:320px) &#123; html &#123; font-size: 50px; &#125; &#125; @media screen and (min-width:640px) &#123; html &#123; font-size: 100px; &#125; &#125; .top &#123; text-align: center; height: 1rem; line-height: 1rem; background-color: gold; font-size: 0.5rem; color: #fff; &#125;&lt;/style&gt;&lt;div class=&quot;top&quot;&gt;è´­ç‰©è½¦&lt;/div&gt; ä¸åŒåˆ†è¾¨ç‡çš„font-sizeå€¼é¦–å…ˆå‡è®¾æˆ‘ä¸Šé¢çš„é¡µé¢è®¾è®¡ç¨¿ç»™æˆ‘æ—¶å€™æ˜¯æŒ‰ç…§640çš„æ ‡å‡†å°ºå¯¸ç»™æˆ‘çš„å‰æä¸‹ï¼Œï¼ˆå½“ç„¶è¿™ä¸ªå°ºå¯¸è‚¯å®šä¸ä¸€å®šæ˜¯640ï¼Œå¯ä»¥æ˜¯320ï¼Œæˆ–è€…480ï¼Œåˆæˆ–æ˜¯375ï¼‰æ¥çœ‹ä¸€ç»„è¡¨æ ¼ã€‚ é¡µé¢æ˜¯ä»¥640çš„å®½åº¦å»åˆ‡çš„ï¼Œæ€ä¹ˆè®¡ç®—ä¸åŒå®½åº¦ä¸‹font-siteçš„å€¼ï¼Œå¤§å®¶çœ‹è¡¨æ ¼ä¸Šé¢çš„æ•°å€¼å˜åŒ–åº”è¯¥èƒ½æ˜ç™½ã€‚ **ä¸¾ä¸ªä¾‹å­ï¼š**384&#x2F;640 &#x3D; 0.6ï¼Œ384æ˜¯640çš„0.6å€ï¼Œæ‰€ä»¥384é¡µé¢å®½åº¦ä¸‹çš„font-sizeä¹Ÿç­‰äºå®ƒçš„0.6å€ï¼Œè¿™æ—¶384çš„font-sizeå°±ç­‰äº12pxã€‚åœ¨ä¸åŒè®¾å¤‡çš„å®½åº¦è®¡ç®—æ–¹å¼ä»¥æ­¤ç±»æ¨ã€‚ åª’ä½“æŸ¥è¯¢åŠ è½½cssæ–‡ä»¶123456789101112&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;./style.css&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;./style1.css&quot; media=&quot;screen and (min-width: 320px)&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;./style2.css&quot; media=&quot;screen and (min-width: 640px)&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; 1234567891011121314/* style.css */body &#123; background-color: gold;&#125;/* style1.css */body &#123; background-color: pink;&#125;/* style2.css */body &#123; background-color: skyblue;&#125; å½“å°äº320pxçš„æ—¶å€™æ•´ä¸ªé¡µé¢èƒŒæ™¯è‰²ä¸ºgoldè‰²ï¼Œåœ¨320-640pxä¹‹é—´ä¸ºpinkè‰²ï¼Œå¤§äº640ppxä¸ºskyblueè‰²ã€‚ 5.4ã€å“åº”å¸ƒå±€1ï¼‰å“åº”å¼å¼€å‘åŸç†å°±æ˜¯ä½¿ç”¨åª’ä½“æŸ¥è¯¢é’ˆå¯¹ä¸åŒå®½åº¦çš„è®¾å¤‡è¿›è¡Œå¸ƒå±€å’Œæ ·å¼çš„è®¾ç½®ï¼Œä»è€Œé€‚é…ä¸åŒè®¾å¤‡çš„ç›®çš„ã€‚è®¾å¤‡çš„åˆ’åˆ†æƒ…å†µï¼š è®¾å¤‡åˆ’åˆ† å°ºå¯¸åŒºé—´ è¶…å°å±å¹•ï¼ˆæ‰‹æœºï¼‰ &lt; 768px å°å±è®¾å¤‡ï¼ˆå¹³æ¿ï¼‰ &gt;&#x3D; 768px ~ &lt; 992px ä¸­ç­‰å±å¹•ï¼ˆæ¡Œé¢æ˜¾ç¤ºå™¨ï¼‰ &gt;&#x3D; 992px~ &lt; 1200px å®½å±è®¾å¤‡ï¼ˆå¤§æ¡Œé¢æ˜¾ç¤ºå™¨ï¼‰ &gt;&#x3D;1200px 2ï¼‰å“åº”å¼å¸ƒå±€å®¹å™¨å“åº”å¼éœ€è¦ä¸€ä¸ªçˆ¶çº§ä½œä¸ºå¸ƒå±€å®¹å™¨ï¼Œæ¥é…åˆå­çº§å…ƒç´ æ¥å®ç°å˜åŒ–æ•ˆæœã€‚ åŸç†å°±æ˜¯åœ¨ä¸åŒå±å¹•ä¸‹ï¼Œé€šè¿‡åª’ä½“æŸ¥è¯¢æ¥æ”¹å˜è¿™ä¸ªå¸ƒå±€å®¹å™¨çš„å¤§å°ï¼Œå†æ”¹å˜é‡Œé¢å­å…ƒç´ çš„æ’åˆ—æ–¹å¼å’Œå¤§å°ï¼Œä»è€Œå®ç°ä¸åŒå±å¹•ä¸‹ï¼Œçœ‹åˆ°ä¸åŒçš„é¡µé¢å¸ƒå±€å’Œæ ·å¼å˜åŒ–ã€‚ çˆ¶å®¹å™¨ç‰ˆå¿ƒçš„å°ºå¯¸åˆ’åˆ† è¶…å°å±å¹•ï¼ˆæ‰‹æœºï¼Œå°äº 768pxï¼‰ï¼šè®¾ç½®å®½åº¦ä¸º 100% å°å±å¹•ï¼ˆå¹³æ¿ï¼Œå¤§äºç­‰äº 768pxï¼‰ï¼šè®¾ç½®å®½åº¦ä¸º 750px ï¼ˆè®¾ç½®çš„å®½åº¦æ¯”å±å¹•å®½åº¦å° æ˜¯å› ä¸ºè®©ä¸¤ä¾§ç•™ç™½æ›´ç¾è§‚ï¼‰ ä¸­ç­‰å±å¹•ï¼ˆæ¡Œé¢æ˜¾ç¤ºå™¨ï¼Œå¤§äºç­‰äº 992pxï¼‰ï¼šå®½åº¦è®¾ç½®ä¸º 970px å¤§å±å¹•ï¼ˆå¤§æ¡Œé¢æ˜¾ç¤ºå™¨ï¼Œå¤§äºç­‰äº 1200pxï¼‰ï¼šå®½åº¦è®¾ç½®ä¸º 1170px 12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;style&gt; .container &#123; height: 100px; background-color: pink; margin: 0 auto; &#125; @media screen and (max-width: 767px) &#123; .container &#123; width: 100%; background-color: red; &#125; &#125; @media screen and (min-width: 768px) &#123; .container &#123; width: 750px; background-color: gray; &#125; &#125; @media screen and (min-width: 992px) &#123; .container &#123; width: 970px; background-color: gold; &#125; &#125; @media screen and (min-width: 1200px) &#123; .container &#123; width: 1170px; background-color: green; &#125; &#125; &lt;/style&gt; &lt;body&gt; &lt;div class=&quot;container&quot;&gt;&lt;/div&gt; &lt;/body&gt;&lt;/html&gt; æ¡ˆä¾‹demo 12345678910111213141516171819202122232425262728&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;./css//normalize.css&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;./css//index.css&quot;&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=&quot;nav&quot;&gt; &lt;ul&gt; &lt;li&gt;é¦–é¡µ&lt;/li&gt; &lt;li&gt;é¦–é¡µ&lt;/li&gt; &lt;li&gt;é¦–é¡µ&lt;/li&gt; &lt;li&gt;é¦–é¡µ&lt;/li&gt; &lt;li&gt;é¦–é¡µ&lt;/li&gt; &lt;li&gt;é¦–é¡µ&lt;/li&gt; &lt;li&gt;é¦–é¡µ&lt;/li&gt; &lt;li&gt;é¦–é¡µ&lt;/li&gt; &lt;li&gt;é¦–é¡µ&lt;/li&gt; &lt;li&gt;é¦–é¡µ&lt;/li&gt; &lt;li&gt;é¦–é¡µ&lt;/li&gt; &lt;li&gt;é¦–é¡µ&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172* &#123; padding: 0; margin: 0;&#125;li &#123; list-style: none;&#125;.nav &#123; width: 800px; margin: 0 auto; ul &#123; display: flex; flex-wrap: wrap; li &#123; background-color: #f40; width: 100px; height: 30px; line-height: 30px; text-align: center; color: #fff; font-size: 10px; border: 1px solid #fff; box-sizing: border-box; &#125; &#125; &#125;@media screen and (max-width: 767px) &#123; .nav &#123; width: 100%; ul &#123; li &#123; width: 100%; &#125; &#125; &#125;&#125;@media screen and (min-width: 768px) &#123; .nav &#123; width: 750px; ul &#123; li &#123; width: 50%; &#125; &#125; &#125;&#125;@media screen and (min-width: 992px) &#123; .nav &#123; width: 970px; ul &#123; li &#123; width: 33.3%; &#125; &#125; &#125;&#125;@media screen and (min-width: 1200px) &#123; .nav &#123; width: 970px; ul &#123; li &#123; width: 25%; &#125; &#125; &#125;&#125; 3ï¼‰å“åº”å¼å¸ƒå±€æ¡†æ¶â€”bootstrapBootstrapç®€ä»‹ Bootstrap æ¥è‡ª Twitterï¼ˆæ¨ç‰¹ï¼‰ï¼Œæ˜¯ç›®å‰æœ€å—æ¬¢è¿çš„å‰ç«¯æ¡†æ¶ã€‚Bootstrap æ˜¯åŸºäºHTMLã€CSS å’Œ JAVASCRIPT çš„ï¼Œå®ƒç®€æ´çµæ´»ï¼Œä½¿å¾— Web å¼€å‘æ›´åŠ å¿«æ·ã€‚ æ¡†æ¶ï¼šé¡¾åæ€ä¹‰å°±æ˜¯ä¸€å¥—æ¶æ„ï¼Œå®ƒæœ‰ä¸€å¥—æ¯”è¾ƒå®Œæ•´çš„ç½‘é¡µåŠŸèƒ½è§£å†³æ–¹æ¡ˆï¼Œè€Œä¸”æ§åˆ¶æƒåœ¨æ¡†æ¶æœ¬èº«ï¼Œæœ‰é¢„åˆ¶æ ·å¼åº“ã€ç»„ä»¶å’Œæ’ä»¶ã€‚ä½¿ç”¨è€…è¦æŒ‰ç…§æ¡†æ¶æ‰€è§„å®šçš„æŸç§è§„èŒƒè¿›è¡Œå¼€å‘ã€‚ bootstrapä¼˜ç‚¹ æ ‡å‡†åŒ–çš„html+cssç¼–ç è§„èŒƒ æä¾›äº†ä¸€å¥—ç®€æ´ã€ç›´è§‚ã€å¼ºæ‚çš„ç»„ä»¶ æœ‰è‡ªå·±çš„ç”Ÿæ€åœˆï¼Œä¸æ–­çš„æ›´æ–°è¿­ä»£ è®©å¼€å‘æ›´ç®€å•ï¼Œæé«˜äº†å¼€å‘çš„æ•ˆç‡ ç‰ˆæœ¬ç®€ä»‹ 2.x.xï¼šåœæ­¢ç»´æŠ¤,å…¼å®¹æ€§å¥½,ä»£ç ä¸å¤Ÿç®€æ´ï¼ŒåŠŸèƒ½ä¸å¤Ÿå®Œå–„ã€‚ 3.x.xï¼šç›®å‰ä½¿ç”¨æœ€å¤š,ç¨³å®š,ä½†æ˜¯æ”¾å¼ƒäº†IE6-IE7ã€‚å¯¹ IE8 æ”¯æŒä½†æ˜¯ç•Œé¢æ•ˆæœä¸å¥½,åå‘ç”¨äºå¼€å‘å“åº”å¼å¸ƒå±€ã€ç§»åŠ¨è®¾å¤‡ä¼˜å…ˆçš„WEB é¡¹ç›®ã€‚ 4.x.xï¼šæœ€æ–°ç‰ˆï¼Œç›®å‰è¿˜ä¸æ˜¯å¾ˆæµè¡Œ bootstrapåŸºæœ¬ä½¿ç”¨ åœ¨ç°é˜¶æ®µæˆ‘ä»¬è¿˜æ²¡æœ‰æ¥è§¦JSç›¸å…³è¯¾ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè€ƒè™‘ä½¿ç”¨å®ƒçš„æ ·å¼åº“ã€‚ Bootstrap ä½¿ç”¨å››æ­¥æ›²ï¼š 1.åˆ›å»ºæ–‡ä»¶å¤¹ç»“æ„ 2.åˆ›å»º html éª¨æ¶ç»“æ„ 1234567891011121314151617181920212223&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh-CN&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt; &lt;!-- ä¸Šè¿°3ä¸ªmetaæ ‡ç­¾*å¿…é¡»*æ”¾åœ¨æœ€å‰é¢ï¼Œä»»ä½•å…¶ä»–å†…å®¹éƒ½*å¿…é¡»*è·Ÿéšå…¶åï¼ --&gt; &lt;title&gt;Bootstrap 101 Template&lt;/title&gt; &lt;!-- Bootstrap --&gt; &lt;link href=&quot;css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; /&gt; &lt;!--[if lt IE 9] è§£å†³ie9ä»¥ä¸‹æµè§ˆå™¨å¯¹html5æ–°å¢æ ‡ç­¾çš„ä¸è¯†åˆ« å¹¶å¯¼è‡´cssä¸èµ·ä½œç”¨çš„é—®é¢˜--&gt; &lt;script src=&quot;//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js&quot;&gt;&lt;/script&gt; &lt;!-- è§£å†³ie9ä»¥ä¸‹çš„æµè§ˆå™¨å¯¹css3 media Queryçš„ä¸è¯†åˆ« --&gt; &lt;script src=&quot;//cdn.bootcss.com/respond.js/1.4.2/respond.min.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;ä½ å¥½ï¼Œä¸–ç•Œï¼&lt;/h1&gt; &lt;!-- jQuery (necessary for Bootstrap&#x27;s JavaScript plugins) --&gt; &lt;script src=&quot;//cdn.bootcss.com/jquery/1.11.3/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;!-- Include all compiled plugins (below), or include individual files as needed --&gt; &lt;script src=&quot;js/bootstrap.min.js&quot;&gt;&lt;/script&gt; &lt;/body&gt;&lt;/html&gt; 3.å¼•å…¥ç›¸å…³æ ·å¼æ–‡ä»¶ å¼•å…¥bootsrapçš„cssæ ·å¼å°±ä¸è¦åŠ å…¬å…±æ ·å¼äº† å®ƒè‡ªå¸¦å…¬å…±æ ·å¼ 12&lt;!-- Bootstrap æ ¸å¿ƒæ ·å¼--&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;bootstrap/css/bootstrap.min.css&quot;&gt; 4.ä¹¦å†™å†…å®¹ ç›´æ¥æ‹¿Bootstrap é¢„å…ˆå®šä¹‰å¥½çš„æ ·å¼æ¥ä½¿ç”¨ ä¿®æ”¹Bootstrap åŸæ¥çš„æ ·å¼ï¼Œæ³¨æ„æƒé‡é—®é¢˜ å­¦å¥½Bootstrap çš„å…³é”®åœ¨äºçŸ¥é“å®ƒå®šä¹‰äº†å“ªäº›æ ·å¼ï¼Œä»¥åŠè¿™äº›æ ·å¼èƒ½å®ç°ä»€ä¹ˆæ ·çš„æ•ˆæœ bootstrapå¸ƒå±€å®¹å™¨ Bootstrap éœ€è¦ä¸ºé¡µé¢å†…å®¹å’Œæ …æ ¼ç³»ç»ŸåŒ…è£¹ä¸€ä¸ª .container æˆ–è€….container-fluid å®¹å™¨ï¼Œå®ƒæä¾›äº†ä¸¤ä¸ªä½œæ­¤ç”¨å¤„çš„ç±»ã€‚ .container .container-fluid å“åº”å¼å¸ƒå±€çš„å®¹å™¨å›ºå®šå®½åº¦å¤§å± ( &gt;&#x3D;1200px) å®½åº¦å®šä¸º 1170px ä¸­å± ( &gt;&#x3D;992px) å®½åº¦å®šä¸º 970px å°å± ( &gt;&#x3D;768px) å®½åº¦å®šä¸º 750px è¶…å°å± (100%) æµå¼å¸ƒå±€å®¹å™¨ ç™¾åˆ†ç™¾å®½åº¦ å æ®å…¨éƒ¨è§†å£ï¼ˆviewportï¼‰çš„å®¹å™¨ã€‚ è¯¦è§æŸ¥çœ‹Bootstrapå®˜ç½‘ 4ï¼‰é˜¿é‡Œç™¾ç§€æ¡ˆä¾‹ä¼ é€é—¨ 5.5ã€æ‰©å±•â€”lessåŸºç¡€Lessï¼ˆLeanerStyle Sheets çš„ç¼©å†™ï¼‰æ˜¯ä¸€é—¨ CSSæ‰©å±•è¯­è¨€ï¼Œä¹Ÿæˆä¸ºCSSé¢„å¤„ç†å™¨ã€‚ å¸¸è§çš„CSSé¢„å¤„ç†å™¨ï¼šSassã€Lessã€Stylus ä¸€å¥è¯ï¼šLessæ˜¯ä¸€é—¨ CSS é¢„å¤„ç†è¯­è¨€ï¼Œå®ƒæ‰©å±•äº†CSSçš„åŠ¨æ€ç‰¹æ€§ã€‚ lessç¼–è¯‘ lesså˜é‡ lessåµŒå¥— lessè¿ç®— lessæ··å…¥ 1ï¼‰lessç¼–è¯‘æœ¬è´¨ä¸Šï¼ŒLSsåŒ…å«ä¸€å¥—è‡ªå®šä¹‰çš„è¯­æ³•åŠä¸€ä¸ªè§£æå™¨ï¼Œç”¨æˆ·æ ¹æ®è¿™äº›è¯­æ³•å®šä¹‰è‡ªå·±çš„æ ·å¼è§„åˆ™ï¼Œè¿™äº›è§„åˆ™æœ€ç»ˆä¼šé€šè¿‡è§£æå™¨ï¼Œç¼–è¯‘ç”Ÿæˆå¯¹åº”çš„CSSæ–‡ä»¶ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦æŠŠæˆ‘ä»¬çš„.lessæ–‡ä»¶ï¼Œç¼–è¯‘ç”Ÿæˆä¸º.cssæ–‡ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬çš„htmlé¡µé¢æ‰èƒ½ä½¿ç”¨ã€‚ æ¨èæ–¹æ³•1ï¼‰åŸºäºnodeç¯å¢ƒåœ¨çº¿å®‰è£…Lessï¼Œä½¿ç”¨cmdå‘½ä»¤å®‰è£…lessã€‚ 1npm install -g less åœ¨å½“å‰æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨cmdå‘½ä»¤â€œlessc style.less&gt;style.cssâ€ 2ï¼‰VScodeä¸­å®‰è£…Easy LESSæ’ä»¶ï¼Œåªè¦ä¿å­˜ä¸€ä¸‹lessæ–‡ä»¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªcssæ–‡ä»¶ã€‚ï¼ˆæ¨èï¼‰ 2ï¼‰lesså˜é‡å˜é‡æ˜¯æŒ‡æ²¡æœ‰å›ºå®šçš„å€¼ï¼Œå¯ä»¥æ”¹å˜çš„ï¼Œå› ä¸ºæˆ‘ä»¬cssä¸­çš„ä¸€äº›é¢œè‰²å’Œæ•°å€¼ç­‰ç»å¸¸ä½¿ç”¨ã€‚ è¯­æ³•ï¼š@å˜é‡å: å€¼; å˜é‡å‘½åè§„èŒƒï¼š å¿…é¡»æœ‰@ä¸ºå‰ç¼€ ä¸èƒ½åŒ…å«ç‰¹æ®Šå­—ç¬¦ ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ å¤§å°å†™æ•æ„Ÿ 123456/* index.less */@baseColor:#f40;body &#123; background-color: @baseColor;&#125; 3ï¼‰lessåµŒå¥—1234567891011/* å¸¸è§„å†™æ³• */#header .login&#123; width: 200px;&#125;/* lesså†™æ³• */#header &#123; .logo &#123; width: 200px; &#125;&#125; å¦‚æœé‡è§ ï¼ˆäº¤é›†|ä¼ªç±»|ä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼‰ ï¼Œåˆ©ç”¨&amp;è¿›è¡Œè¿æ¥ 1234567891011/* å¸¸è§„å†™æ³• */a:hover&#123; color:red;&#125;/* lesså†™æ³• */a&#123; &amp;:hover&#123; // &amp;è¡¨ç¤ºçš„å°±æ˜¯çˆ¶å…ƒç´ a color:red; &#125;&#125; 4ï¼‰lessè¿ç®—ä»»ä½•æ•°å­—ã€é¢œè‰²æˆ–è€…å˜é‡éƒ½å¯ä»¥å‚ä¸è¿ç®—ã€‚å°±æ˜¯Lessæä¾›äº†åŠ ï¼ˆ+ï¼‰ã€å‡ï¼ˆ-ï¼‰ã€ä¹˜ï¼ˆ*ï¼‰ã€é™¤ï¼ˆ&#x2F;ï¼‰ç®—æœ¯è¿ç®—ã€‚ 123456789101112/*Less é‡Œé¢å†™*/@witdh: 10px + 5;div &#123; border: @witdh solid red;&#125;/*ç”Ÿæˆçš„css*/div &#123; border: 15px solid red;&#125;/*Less ç”šè‡³è¿˜å¯ä»¥è¿™æ · */width: (@width + 5) * 2; é™¤æ³•éœ€è¦ä½¿ç”¨å°æ‹¬å·æ‹¬èµ·æ¥ã€‚ä¾‹å¦‚ï¼š(100px &#x2F; 5) ä¹˜å·ï¼ˆ*ï¼‰å’Œé™¤å·ï¼ˆ&#x2F;ï¼‰çš„å†™æ³• è¿ç®—ç¬¦ä¸­é—´å·¦å³æœ‰ä¸ªç©ºæ ¼éš”å¼€ 1px + 5 å¯¹äºä¸¤ä¸ªä¸åŒçš„å•ä½çš„å€¼ä¹‹é—´çš„è¿ç®—ï¼Œè¿ç®—ç»“æœçš„å€¼å–ç¬¬ä¸€ä¸ªå€¼çš„å•ä½ å¦‚æœä¸¤ä¸ªå€¼ä¹‹é—´åªæœ‰ä¸€ä¸ªå€¼æœ‰å•ä½ï¼Œåˆ™è¿ç®—ç»“æœå°±å–è¯¥å•ä½ 5ï¼‰lessæ··å…¥123456789101112131415/* less */.border &#123; border: 2px solid orange;&#125;.box &#123; .border() /* ä»å†å²ä¸Šçœ‹ï¼Œæ··å…¥è°ƒç”¨ä¸­çš„æ‹¬å·æ˜¯å¯é€‰çš„ï¼Œä½†å¯é€‰çš„æ‹¬å·å·²è¢«å¼ƒç”¨ï¼Œåœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­å°†æ˜¯å¿…éœ€çš„ã€‚ */&#125;/* cssè¾“å‡º */.border &#123; border: 2px solid orange;&#125;.box &#123; border: 2px solid orange;&#125; å¸¦æ‹¬å·çš„æ··å…¥ å¦‚æœä½ æƒ³åˆ›å»ºä¸€ä¸ª mixin ä½†ä½ ä¸å¸Œæœ›é‚£ä¸ª mixin å‡ºç°åœ¨ä½ çš„ CSS è¾“å‡ºä¸­ï¼Œè¯·åœ¨ mixin å®šä¹‰ä¹‹ååŠ ä¸Šæ‹¬å·ã€‚ 123456789101112/* less */.border() &#123; border: 2px solid orange;&#125;.box &#123; .border()&#125;/* cssè¾“å‡º */.box &#123; border: 2px solid orange;&#125; å¸¦å‚æ•°çš„æ··å…¥ 123456789101112/* less */.border(@width:1px) &#123; /* è¿™é‡Œæœ€å¥½æ·»åŠ ä¸€ä¸ªé»˜è®¤å‚æ•° */ border: @width solid orange;&#125;.box &#123; .border(5px)&#125;/* cssè¾“å‡º */.box &#123; border: 2px solid orange;&#125; 6ï¼‰lessæ–‡ä»¶ä¹‹é—´çš„å¼•å…¥123/* index.less */ // å°†common.jsçš„æ ·å¼å¼•å…¥åˆ°index.lessé‡Œé¢ï¼Œæ³¨æ„importåé¢éœ€è¦ä¸€ä¸ªç©ºæ ¼@import &quot;common.less&quot; å…­ã€ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆ6.1ã€åª’ä½“æŸ¥è¯¢ + REMè®¾è®¡ç¨¿å¸¸è§å°ºå¯¸å®½åº¦ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä»¥ä¸€å¥—æˆ–ä¸¤å¥—æ•ˆæœå›¾é€‚åº”å¤§éƒ¨åˆ†çš„å±å¹•ï¼Œæ”¾å¼ƒæç«¯å±æˆ–å¯¹å…¶ä¼˜é›…é™çº§ï¼Œç‰ºç‰²ä¸€äº›æ•ˆæœã€‚ç°åœ¨åŸºæœ¬ä»¥750pxä¸ºå‡†ã€‚ å‡è®¾è®¾è®¡ç¨¿æ˜¯750px æˆ‘ä»¬æŠŠæ•´ä¸ªå±å¹•åˆ’åˆ†ä¸º10ç­‰ä»½ï¼ˆåˆ’åˆ†æ ‡å‡†ä¸ä¸€å¯ä»¥æ˜¯20ä»½ä¹Ÿå¯ä»¥æ˜¯15ç­‰ä»½ï¼‰ æ¯ä¸€ä»½ä½œä¸ºhtmlå­—ä½“å¤§å°ï¼Œè¿™é‡Œå°±æ˜¯75px é‚£ä¹ˆåœ¨320pxè®¾å¤‡çš„æ—¶å€™ï¼Œå­—ä½“å¤§å°ä¸º320&#x2F;10å°±æ˜¯ 32px å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè®¾è®¡ç¨¿ï¼Œå®½åº¦ä¸º750pxã€‚æˆ‘ä»¬å°†æ•´ä¸ªå±å¹•åˆ†ä¸º10ç­‰ä»½ï¼Œæ¯ä»½ä¸º75pxï¼Œä½œä¸ºhtmlå­—ä½“å¤§å°çš„åŸºå‡†ã€‚ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªæ­£æ–¹å½¢çš„é¡µé¢å…ƒç´ ï¼Œå®½åº¦å’Œé«˜åº¦éƒ½ä¸º150pxã€‚ åœ¨750pxå±å¹•ä¸‹ï¼Œè¿™ä¸ªé¡µé¢å…ƒç´ çš„å®½åº¦å’Œé«˜åº¦åˆ†åˆ«ä¸º150&#x2F;75&#x3D;2remï¼Œå› æ­¤å®ƒæ˜¯2remÃ—2remã€‚ åœ¨320pxå±å¹•ä¸‹ï¼Œhtmlå­—ä½“å¤§å°ä¸º32pxï¼Œå› æ­¤2remç­‰äº64pxã€‚è¿™æ—¶è¯¥é¡µé¢å…ƒç´ çš„å®½åº¦å’Œé«˜åº¦ä¹Ÿä¼šå˜æˆ64pxã€‚ è¿™æ ·ï¼Œæ— è®ºåœ¨ä½•ç§å±å¹•å°ºå¯¸ä¸‹ï¼Œé¡µé¢å…ƒç´ éƒ½ä¼šæŒ‰ç…§è®¾è®¡ç¨¿ä¸­çš„æ¯”ä¾‹è¿›è¡Œç­‰æ¯”ç¼©æ”¾ï¼Œç¡®ä¿äº†é¡µé¢åœ¨ä¸åŒè®¾å¤‡ä¸Šçš„ä¸€è‡´æ€§å’Œç¾è§‚æ€§ã€‚ å±å¹•å®½åº¦ HTMLçš„FONT-SIZE ç›’å­çš„å®½åº¦ 750px 750&#x2F;10 &#x3D; 75px 4rem &#x3D; 300px Ã· 75 640px 640&#x2F;10 &#x3D; 64px 4rem &#x3D; 264px Ã· 64 480px 480&#x2F;10 &#x3D; 48px 4rem &#x3D; 192px Ã· 48 320px 320&#x2F;10 &#x3D; 32px 4rem &#x3D; 128px Ã· 32 æ€»ç»“ 123æ ¹å…ƒç´ htmlå­—ä½“å¤§å° = å±å¹•å®½åº¦ / åˆ’åˆ†çš„ä»½æ•°(è‡ªå®šä¹‰)é¡µé¢å…ƒç´ çš„remå€¼ = é¡µé¢å…ƒç´ å€¼ï¼ˆpxï¼‰ / æ ¹å…ƒç´ htmlå­—ä½“å¤§å° åª’ä½“æŸ¥è¯¢+REMå¸ƒå±€demo 1ï¼‰åª’ä½“æŸ¥è¯¢é€šè¿‡åª’ä½“æŸ¥è¯¢åŠ¨æ€è®¾ç½®htmlå­—ä½“å¤§å°ï¼Œä¸ºäº†å…¼å®¹ä½ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼Œå› ä¸ºä½ç‰ˆæœ¬çš„æµè§ˆå™¨å¯èƒ½ä¸å…¼å®¹css3çš„åª’ä½“æŸ¥è¯¢ï¼Œæ‰€ä»¥ä¼šé»˜è®¤è®¾ç½®ä¸€ä¸ªæ ¹ç›®å½•çš„å­—ä½“å¤§å° 1234567891011121314151617181920212223242526272829303132333435363738// æ ¹æ®åª’ä½“æŸ¥è¯¢ï¼Œè®¾ç½®ä¸åŒå±å¹•ä¸­çš„ html çš„å­—å·// å±å¹•åˆ’åˆ†çš„æ˜¯ 10 ç­‰ä»½// é»˜è®¤æ˜¾ç¤º html çš„å­—å·ï¼Œå‚è€ƒ 750px çš„å®½åº¦// å®šä¹‰ä»½æ•°å˜é‡$number: 10;html &#123; font-size: 75px;&#125;// 320px@media screen and (min-width: 320px) &#123; html &#123; font-size: (320px / $number); &#125;&#125;// 360px@media screen and (min-width: 360px) &#123; html &#123; font-size: (360px / $number); &#125;&#125;// 375px,Iphone 678 çš„å¼€å‘å°ºå¯¸@media screen and (min-width: 375px) &#123; html &#123; font-size: (375px / $number); &#125;&#125;// 384px@media screen and (min-width: 384px) &#123; html &#123; font-size: (384px / $number); &#125;&#125;... ... 2ï¼‰pxè½¬ remè½¬æ¢1ã€è‡ªå·±å°è£…ä¸€ä¸ªscsså‡½æ•° 1234567// ä»¥scssä¸ºä¾‹, è®¾è®¡ç¨¿å°ºå¯¸ä¸º750 å‡½æ•°æŒ‡ä»¤@function rem($px) &#123; @return $px / (750 / 10rem);&#125;// åœ¨é¡µé¢ä¸­ä½¿ç”¨ æ¯”å¦‚750è®¾è®¡ç¨¿é‡Œçš„widthæ˜¯375width: rem(375); è½¬æ¢ä¹‹åä¸º5rem 2ã€Vscodeæ’ä»¶ cssrem å¯å°†å†™çš„pxè‡ªåŠ¨è½¬æ¢æˆremï¼Œæ’ä»¶é»˜è®¤font-sizeä¸º16ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ã€‚ä»¥è®¾è®¡ç¨¿æ˜¯750pxä¸ºä¾‹ï¼Œå°†é¡µé¢åˆ’åˆ†ä¸º10ç­‰ä»½ï¼Œé‚£ä¹ˆè¿™é‡Œå°±è®¾ç½®ä¸º75&#x3D;750&#x2F;10ï¼›å¦‚æœå°†é¡µé¢åˆ’åˆ†ä¸º15ç­‰ä»½ï¼Œé‚£ä¹ˆè¿™é‡Œå°±è®¾ç½®ä¸º50&#x3D;750&#x2F;15ï¼› è¾“å…¥pxçš„æ—¶å€™ä¼šå¼¹å‡ºè½¬æ¢åçš„rem 6.2ã€Flexible + REMflexibleæœ‰ä¸¤ä¸ªç‰ˆæœ¬@0.3.2å’Œ@2.0ä¸¤ä¸ªç‰ˆæœ¬åˆ†åˆ«å¯¹åº”githubä»“åº“çš„masterå’Œ2.0åˆ†æ”¯ä¹Ÿå³å¯¹åº”lib-flexibleå’Œamfe-flexible åœ°å€ï¼šhttps://github.com/amfe/lib-flexible åç§° ç‰ˆæœ¬ åˆ†æ”¯ ç‰¹ç‚¹ å¤‡æ³¨ lib-flexible flexible@0.3.2 master è§£å†³1pxé—®é¢˜ ä½œä¸ºè¿‡æ¸¡æ–¹æ¡ˆï¼Œå¼ƒç”¨ amfe-flexible flexible@2.0 2.0 å»ºè®®ä½¿ç”¨ amfe-flexibleæ˜¯lib-flexibleçš„å‡çº§æ–¹æ¡ˆ lib-flexibleæ˜¯ä¸€ç§è¿‡æ¸¡æ–¹æ¡ˆï¼Œä¸èƒ½ä¸å“åº”å¼å¸ƒå±€å…¼å®¹ã€‚ç”±äºviewportå•ä½å¾—åˆ°ä¼—å¤šæµè§ˆå™¨çš„å…¼å®¹ï¼Œä¸Šé¢è¿™ç§æ–¹æ¡ˆç°åœ¨å·²ç»è¢«å®˜æ–¹å¼ƒç”¨ï¼Œä¸ç®¡æ˜¯ç°åœ¨çš„ç‰ˆæœ¬è¿˜æ˜¯ä»¥å‰çš„ç‰ˆæœ¬ï¼Œéƒ½å­˜æœ‰ä¸€å®šçš„é—®é¢˜ã€‚å»ºè®®å¤§å®¶å¼€å§‹ä½¿ç”¨viewportæ¥æ›¿ä»£æ­¤æ–¹ã€‚amfe-flexibleçš„ç¼ºç‚¹æ˜¯å­—ä½“å¤§å°é€‚é…é—®é¢˜ã€‚ 1ï¼‰lib-flexibleï¼ˆå¼ƒç”¨ï¼‰lib-flexibleæºç è§£æ æ ¸å¿ƒ ä¸éœ€è®¾ç½®viewport çš„&lt;meta&gt;æ ‡ç­¾ï¼Œæ ¹æ®dpråŠ¨æ€æ”¹å†™viewport çš„&lt;meta&gt;æ ‡ç­¾çš„initial-scaleï¼Œmaximum-scaleï¼Œminimum-scaleã€‚å¯è§£å†³1pxé—®é¢˜ ç»™&lt;html&gt;å…ƒç´ æ·»åŠ data-dprå±æ€§ï¼Œå¹¶ä¸”åŠ¨æ€æ”¹å†™data-dprçš„å€¼ï¼› ç»™&lt;html&gt;å…ƒç´ æ·»åŠ font-sizeå±æ€§ï¼Œå¹¶ä¸”åŠ¨æ€æ”¹å†™font-sizeçš„å€¼ ï¼› ä¼˜ç‚¹ï¼š æ— 1pxé—®é¢˜ï¼› æ— å­—ä½“åœ¨iosé«˜å€å±ä¸‹çš„è‡ªé€‚åº”é—®é¢˜ï¼› ç¼ºç‚¹ï¼š è¯¥jsæ’ä»¶å¯¹æ‰€æœ‰å®‰å“è®¾å¤‡éƒ½æŒ‰ç…§1dprå¤„ç†ï¼Œå¯¼è‡´åœ¨ä¸‰æ˜ŸS8(dpr:4)çš„æ‰‹æœºä¸Šæ•´ä½“æ˜¾ç¤ºè¾ƒå°ï¼› ä¸å…¼å®¹å“åº”å¼å¸ƒå±€ï¼›@mediaè¯­æ³•ä¸­æ¶‰åŠåˆ°çš„å°ºå¯¸æŸ¥è¯¢è¯­å¥ï¼ŒæŸ¥è¯¢çš„å°ºå¯¸ä¾æ®æ˜¯å½“å‰è®¾å¤‡çš„ç‰©ç†åƒç´ ï¼Œå’ŒFlexibleçš„å¸ƒå±€ç†è®ºï¼ˆå³é’ˆå¯¹ä¸åŒdprè®¾å¤‡ç­‰æ¯”ç¼©æ”¾è§†å£çš„scaleå€¼ï¼Œä»è€ŒåŒæ—¶æ”¹å˜å¸ƒå±€è§†å£å’Œè§†è§‰è§†å£å¤§å°ï¼‰ç›¸æ‚–ï¼Œå› æ­¤å“åº”å¼å¸ƒå±€åœ¨â€œç­‰æ¯”ç¼©æ”¾è§†å£å¤§å°â€çš„æƒ…å¢ƒä¸‹æ˜¯æ— æ³•æ­£å¸¸å·¥ä½œçš„ã€‚ åœ¨å¾®ä¿¡ç¯å¢ƒï¼ˆæˆ–å…¶ä»–å¯è®¾ç½®å­—ä½“å¤§å°çš„Webæµè§ˆå™¨ä¸­ï¼Œå¦‚Safariï¼‰ä¸‹ï¼›è®¾ç½®å¾®ä¿¡çš„å­—ä½“å¤§å°ï¼ˆè°ƒå¤§ï¼‰åå†æ‰“å¼€ä½¿ç”¨FlexibleæŠ€æœ¯é€‚é…çš„Webé¡µé¢ï¼Œä½ ä¼šå‘ç°é¡µé¢å¸ƒå±€é”™ä¹±äº†ï¼Œæ‰€æœ‰ä½¿ç”¨remè®¾ç½®å¤§å°çš„å…ƒç´ éƒ½å˜å¤§äº†ï¼Œå› ä¸ºåœ¨è°ƒæ•´Webæµè§ˆå™¨çš„å­—ä½“å¤§å°åï¼Œæˆ‘ä»¬çš„â€è§†å£â€ä¹Ÿå“åº”çš„ç­‰æ¯”ç¼©å°äº†ï¼Œå³è§†è§‰è§†å£(window.innerWidth)ï¼Œè±ç„¶å¼€æœ—ï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬çš„å…ƒç´ å˜å¤§äº†ï¼Œè€Œæ˜¯æˆ‘ä»¬çš„è§†è§‰è§†å£å˜å°äº†ï¼ æ‰©å±•ï¼š 1ã€åº”ç”¨ä¸­ï¼Œå¯¹å­—ä½“å¤§å°ä¸ä½¿ç”¨remï¼Œremçš„åŸºå‡†å€¼ä¸å±å¹•å®½åº¦æˆæ­£æ¯”, è¿™å°±é€ æˆç›¸åŒåˆ†è¾¨ç‡çš„å±å¹•,è¶Šå®½å­—è¶Šå¤§,è¶Šçª„å­—è¶Šå°ï¼Œå› æ­¤ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åˆ›é€ äº† dpx(dpr px) è¿™ä¸ªå•ä½,ï¼ŒæŒ‰ç…§dpræ¥æ”¾å¤§ 1px, 2px, 3px å¤§å°çš„å­—ä½“ï¼Œå†æŒ‰ç…§å±å¹•dprç¼©å°,ï¼Œè¿™æ ·å°±è¾¾åˆ°äº†å­—ä½“ä¸ç¼©æ”¾ï¼Œå„ç§å±å¹•çš„å­—ä½“çœ‹èµ·æ¥éƒ½å·®ä¸å¤šï¼Œä¹Ÿä¸å±å¹•å®½åº¦æ— å…³ã€‚æ ¹æ®lib-flexibleå¯ä»¥ç»™&lt;html&gt;å…ƒç´ æ·»åŠ data-dprå±æ€§ï¼Œå¹¶ä¸”åŠ¨æ€æ”¹å†™data-dprçš„å€¼ï¼Œåˆ™å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•ä¾æ®å±å¹•çš„dpråŠ¨æ€çš„ç»™æ–‡å­—è®¾ç½®å¤§å°ï¼Œamfe-flexibleåˆ™æ— æ³•å®ç°ã€‚ 12345678910111213//å®šä¹‰ä¸€ä¸ªmixin æ ¹æ®ä¸åŒdprå°†pxå€¼è½¬åŒ–æˆç›¸åº”çš„dprçš„pxå€¼ã€‚@mixin fontPX($px:16px, $name:font-size) &#123; #&#123;$name&#125;: round($px)*1PX; // round() å‡½æ•°å¯ä»¥å°†ä¸€ä¸ªæ•°å››èˆäº”å…¥ä¸ºä¸€ä¸ªæœ€æ¥è¿‘çš„æ•´æ•°ï¼Œåé¢çš„å•ä½å¿…é¡»è®¾ç½®æˆPXå¤§å†™ è¦ä¸ç„¶ä¼šè½¬æ¢æˆrem [data-dpr=&#x27;2&#x27;] &amp; &#123; #&#123;$name&#125;: $px*2PX; &#125; [data-dpr=&#x27;3&#x27;] &amp; &#123; #&#123;$name&#125;: $px*3PX; &#125;&#125;// åœ¨é¡µé¢ä¸­ä½¿ç”¨@include fontPX(15); 2ã€è¾¹æ¡†ä¸€èˆ¬ä¸ä½¿ç”¨rem , åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæœ€å¸¸è§çš„å°±æ˜¯1pxçš„è¾¹æ¡†, ç”±ä¸Šä¸€æ¡è§„åˆ™æˆ‘ä»¬çŸ¥é“remæ— æ³•ç²¾ç¡®åˆ°1px, å®ƒåªæ˜¯ä¸€ä¸ªä¸å±å¹•å®½åº¦æœ‰å…³çš„ æ¨¡ç³Šå€¼ã€‚ å·²çŸ¥åœ¨ä¸¤ç§æƒ…å†µä¸‹æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚: Aã€éœ€æ±‚1ç‰©ç†åƒç´ çš„è¾¹æ¡†ã€‚ Bã€åœ¨å±å¹•æ¯”è¾ƒçª„çš„1dprçš„å®‰å“è®¾å¤‡ä¸Š,ç”±äºremä¸èƒ½æ•´é™¤é€ æˆremæ¢ç®—æˆpx ä¸è¶³ 1px, è¾¹æ¡†ä¸¢å¤±ã€‚ 2ï¼‰amfe-flexibleamfe-flexibleæºç è§£æ æ ¸å¿ƒ éœ€è®¾ç½®viewport çš„&lt;meta&gt;æ ‡ç­¾ï¼› è·å–DPRï¼Œæ ¹æ®DPRåŠ¨æ€çš„è®¾ç½®bodyçš„å­—ä½“å¤§å°ï¼›document.body.style.fontSize = (12 * dpr) + &#39;px&#39; å°†å±å¹•åˆ’åˆ†ä¸ºåä»½ï¼Œå¹¶åŠ¨æ€ç»™htmlè®¾ç½®å­—ä½“å¤§å°ï¼› 12345var docEl = document.documentElement;function setRemUnit() &#123; var rem = docEl.clientWidth / 10 docEl.style.fontSize = rem + &#x27;px&#x27;&#125; ä¼˜ç‚¹ï¼š æ²¡æœ‰ç»™å®‰å“çš„dprå›ºå®šè®¾ç½®ä¸º1ï¼› å…¼å®¹å“åº”å¼å¸ƒå±€ï¼› ç¼ºç‚¹ï¼š ä¸èƒ½åƒlib-flexibleç»™å­—ä½“è®¾ç½®dpxå•ä½ï¼Œåˆ™ä¼šæœ‰å­—ä½“å¤§å°é€‚é…é—®é¢˜ï¼ˆç”¨remå½±å“ä¸å¤§ï¼‰ï¼› ä¸èƒ½åƒlib-flexibleåŠ¨æ€è®¾ç½®viewport çš„&lt;meta&gt;æ ‡ç­¾ï¼Œè§£å†³1pxé—®é¢˜ï¼› æ‰©å±•ï¼š å› ä¸ºflexible.jsæ˜¯é»˜è®¤å°†å±å¹•åˆ†ä¸º10ç­‰åˆ†ï¼Œä½†æ˜¯å½“å±å¹•å¤§äº750çš„æ—¶å€™å¸Œæœ›ä¸è¦å†å»é‡ç½®htmlå­—ä½“äº†ï¼Œæ‰€ä»¥è¦è‡ªå·±é€šè¿‡åª’ä½“æŸ¥è¯¢è®¾ç½®ä¸€ä¸‹ã€‚ 1234567/* å¦‚æœæˆ‘ä»¬çš„å±å¹•è¶…è¿‡äº† 750px é‚£ä¹ˆæˆ‘ä»¬å°±æŒ‰ç…§ 750è®¾è®¡ç¨¿æ¥èµ° ä¸ä¼šè®©æˆ‘ä»¬é¡µé¢è¶…è¿‡750px */@media screen and (min-width: 750px) &#123; html &#123; font-size: 75px!important; &#125;&#125;å½“å±å¹•å¤§å°å¤§äºç­‰äº75px htmlçš„å­—ä½“å¤§å°è¿˜æ˜¯75px è®°å¾—æé«˜æƒé‡ 3ï¼‰pxè½¬rempostcss-pxtorem ä»¥vueé¡¹ç›®ä¸ºä¾‹ï¼Œåœ¨é¡¹ç›®é‡Œé¢å†™pxï¼Œé¡¹ç›®è¿è¡Œæ—¶ä¼šè‡ªåŠ¨è½¬æ¢æˆremã€‚ 12345678910111213141516171819202122232425262728// postcss.config.jsä¸­é…ç½®ï¼Œè‹¥æ²¡æœ‰è¯¥æ–‡ä»¶å°±æ–°å»ºä¸€ä¸ªmodule.exports = &#123; plugins: &#123; // å…¼å®¹æµè§ˆå™¨ï¼Œæ·»åŠ å‰ç¼€ autoprefixer: &#123; overrideBrowserslist: [ &#x27;Android 4.1&#x27;, &#x27;iOS 7.1&#x27;, &#x27;Chrome &gt; 31&#x27;, &#x27;ff &gt; 31&#x27;, &#x27;ie &gt;= 8&#x27;, &#x27;last 10 versions&#x27; // æ‰€æœ‰ä¸»æµæµè§ˆå™¨æœ€è¿‘10ç‰ˆæœ¬ç”¨ ], grid: true &#125;, &#x27;postcss-pxtorem&#x27;: &#123; // rootValue: 75, // æ ¹ç›®å½•å­—ä½“å¤§å°ã€‚è®¾è®¡å›¾é¡µé¢å°ºå¯¸å¦‚æœæ˜¯750å°±å¡«75,æ˜¯640å°±å¡«å…¥64,å¦‚æœä¸ºäº†é€‚é…vantuiæˆ‘ä»¬éœ€è¦å’Œvantå®˜æ–¹ä¸€è‡´37.5ã€‚æ¯”å¦‚å…ƒç´ å®½150px,æœ€ç»ˆé¡µé¢ä¼šæ¢ç®—æˆ 2rem ï¼ˆ150px/75=2remï¼‰ rootValue(&#123; file &#125;) &#123; //æ ¹æ®ä¸åŒæ–‡ä»¶è®¾ç½®ä¸åŒè½¬æ¢å¤§å° return file.indexOf(&#x27;vant&#x27;) !== -1 ? 37.5 : 75 &#125;, propList: [&#x27;*&#x27;], // å±æ€§çš„é€‰æ‹©å™¨ï¼Œ*è¡¨ç¤ºé€šç”¨ minPixelValue: 12, // pxå°äº12çš„ä¸ä¼šè¢«è½¬æ¢ unitPrecision: 2, // ä¿ç•™remå°æ•°ç‚¹å¤šå°‘ä½ selectorBlackList: [&#x27;van&#x27;] // å¿½ç•¥çš„é€‰æ‹©å™¨ .ig- è¡¨ç¤º .ig- å¼€å¤´çš„éƒ½ä¸ä¼šè½¬æ¢ // selectorBlackList: [&#x27;.radius&#x27;], //åˆ™æ˜¯ä¸€ä¸ªå¯¹cssé€‰æ‹©å™¨è¿›è¡Œè¿‡æ»¤çš„æ•°ç»„ï¼Œæ¯”å¦‚ä½ è®¾ç½®ä¸º[&#x27;fs&#x27;]ï¼Œé‚£ä¾‹å¦‚fs-xlç±»åï¼Œé‡Œé¢æœ‰å…³pxçš„æ ·å¼å°†ä¸è¢«è½¬æ¢ï¼Œè¿™é‡Œä¹Ÿæ”¯æŒæ­£åˆ™å†™æ³•ã€‚ &#125; &#125;&#125; 6.3ã€vhã€vwæ–¹æ¡ˆï¼ˆæ¨èï¼‰ vw&#x2F;vhè¿™ç§æ–¹æ¡ˆæ˜¯å°†è§†è§‰è§†å£çš„å®½åº¦&#x2F;é«˜åº¦åˆ†ä¸º100ä»½ï¼Œå…¶å®ä¸Šé¢çš„flexibleæ–¹æ¡ˆå°±æ˜¯æ¨¡ä»¿è¿™ç§æ–¹æ³•ï¼Œå› ä¸ºå½“æ—¶vmçš„å…¼å®¹æ€§ä¸å¥½ï¼Œflexibleå°±å˜æˆäº†ä¸€ç§è¿‡æ¸¡æ–¹æ¡ˆã€‚ vw(Viewport&#39;s width)ï¼š1vwç­‰äºè§†è§‰è§†å£çš„1% vh(Viewport&#39;s height) :1vh ä¸ºè§†è§‰è§†å£é«˜åº¦çš„1% vmin : vw å’Œ vh ä¸­çš„è¾ƒå°å€¼ vmax : é€‰å– vw å’Œ vh ä¸­çš„æœ€å¤§å€¼ ä»æˆ‘ä»¬çš„å®é™…å¼€å‘å·¥ä½œå‡ºå‘ï¼Œæˆ‘ä»¬ç°åœ¨éƒ½æ˜¯ç»Ÿä¸€ä½¿ç”¨çš„iPhone6çš„è§†è§‰è®¾è®¡ç¨¿ï¼ˆå³å®½åº¦ä¸º**750pxï¼‰ï¼Œé‚£ä¹ˆ100vw=750pxï¼Œå³1vw = 7.5pxã€‚é‚£ä¹ˆå¦‚æœè®¾è®¡ç¨¿ä¸ŠæŸä¸€å…ƒç´ çš„å®½åº¦ä¸ºvalueåƒç´ ï¼Œé‚£ä¹ˆå…¶å¯¹åº”çš„vwå€¼åˆ™å¯ä»¥é€šè¿‡vw = value / 7.5**æ¥è®¡ç®—å¾—åˆ°ã€‚ è¿™é‡Œçš„æ¯”ä¾‹å…³ç³»æˆ‘ä»¬ä¹Ÿä¸ç”¨è‡ªå·±æ¢ç®—ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨PostCSSçš„ postcss-px-to-viewport æ’ä»¶å¸®æˆ‘ä»¬å®Œæˆè¿™ä¸ªè¿‡ç¨‹ã€‚å†™ä»£ç æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦æ ¹æ®UIç»™çš„è®¾è®¡å›¾å†™pxå•ä½å³å¯ã€‚ ç¼ºç‚¹ï¼š ä¸éœ€è¦ js åšé€‚é… æ–¹æ¡ˆçµæ´»æŠ€èƒ½å®ç°æ•´ä½“ç¼©æ”¾åˆèƒ½å®ç°å±€éƒ¨ä¸ç¼©æ”¾ ç¼ºç‚¹ï¼š pxè½¬æ¢æˆvwä¸ä¸€å®šèƒ½æ•´é™¤ï¼Œå› æ­¤ä¼šæœ‰ä¸€å®šçš„åƒç´ å·® æ¯”å¦‚å½“å®¹å™¨ä½¿ç”¨vwï¼Œmarginé‡‡ç”¨pxæ—¶ï¼Œå¾ˆå®¹æ˜“é€ æˆæ•´ä½“å®½åº¦è¶…è¿‡100vwï¼Œä»è€Œå½±å“å¸ƒå±€æ•ˆæœã€‚å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°†marginæ¢æˆpaddingï¼Œå¹¶ä¸”é…åˆbox-sizingè§£å†³ã€‚éšç€å°†æ¥æµè§ˆå™¨æˆ–è€…åº”ç”¨è‡ªèº«çš„WebViewå¯¹calc()å‡½æ•°çš„æ”¯æŒä¹‹åï¼Œç¢°åˆ°vwå’Œpxæ··åˆä½¿ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥ç»“åˆcalc()å‡½æ•°ä½¿ç”¨ã€‚ è¿˜æ˜¯æœ‰1pxå’Œå›¾ç‰‡æ¨¡ç³Šçš„é—®é¢˜ 1ï¼‰pxè½¬vw&#x2F;vhpostcss-px-to-viewport 1npm i postcss-px-to-viewport -D 123456789101112131415161718192021// postcss.config.jsmodule.exports = (&#123; webpack &#125;) =&gt; &#123;const viewWidth = webpack.resourcePath.includes(path.join(&#x27;node_modules&#x27;, &#x27;vant&#x27;)) ? 375 : 750 return &#123; plugins: &#123; &#x27;postcss-px-to-viewport&#x27;: &#123; unitToConvert: &#x27;px&#x27;, // è¦è½¬åŒ–çš„å•ä½ viewportWidth: viewWidth, // UIè®¾è®¡ç¨¿çš„å®½åº¦ unitPrecision: 6, // è½¬æ¢åçš„ç²¾åº¦ï¼Œå³å°æ•°ç‚¹ä½æ•° propList: [&#x27;*&#x27;], // æŒ‡å®šè½¬æ¢çš„csså±æ€§çš„å•ä½ï¼Œ*ä»£è¡¨å…¨éƒ¨csså±æ€§çš„å•ä½éƒ½è¿›è¡Œè½¬æ¢ viewportUnit: &#x27;vw&#x27;, // æŒ‡å®šéœ€è¦è½¬æ¢æˆçš„è§†çª—å•ä½ï¼Œé»˜è®¤vw fontViewportUnit: &#x27;vw&#x27;, // æŒ‡å®šå­—ä½“éœ€è¦è½¬æ¢æˆçš„è§†çª—å•ä½ï¼Œé»˜è®¤vw selectorBlackList: [&#x27;wrap&#x27;], // æŒ‡å®šä¸è½¬æ¢ä¸ºè§†çª—å•ä½çš„ç±»åï¼Œ minPixelValue: 1, // é»˜è®¤å€¼1ï¼Œå°äºæˆ–ç­‰äº1pxåˆ™ä¸è¿›è¡Œè½¬æ¢ mediaQuery: true, // æ˜¯å¦åœ¨åª’ä½“æŸ¥è¯¢çš„cssä»£ç ä¸­ä¹Ÿè¿›è¡Œè½¬æ¢ï¼Œé»˜è®¤false replace: true, // æ˜¯å¦è½¬æ¢åç›´æ¥æ›´æ¢å±æ€§å€¼ exclude: [/node_modules/] // è®¾ç½®å¿½ç•¥æ–‡ä»¶ï¼Œç”¨æ­£åˆ™åšç›®å½•ååŒ¹é… &#125; &#125; &#125;&#125; 2ï¼‰é™çº§å¤„ç†ä¸å…¼å®¹åœ¨æˆ‘ä»¬å·²çŸ¥çš„å¤§éƒ¨åˆ†ä¸»æµæµè§ˆå™¨ä¸­ï¼Œéƒ½æ˜¯å¤©ç„¶æ”¯æŒvwå•ä½çš„ï¼Œä½†ä¸æ’é™¤æœ‰æŸäº›æµè§ˆå™¨çš„æŸäº›ç‰ˆæœ¬å­˜åœ¨ä¸å…¼å®¹çš„æƒ…å†µï¼Œå¦‚æœä¸šåŠ¡éœ€è¦ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹ä¸¤ç§jsåº“åšé™çº§å¤„ç†ï¼š CSS Houdiniï¼šé€šè¿‡CSS Houdinié’ˆå¯¹vwåšå¤„ç†ï¼Œè°ƒç”¨CSS Typed DOM Level1æä¾›çš„CSSUnitValue APIï¼› CSS Polifillï¼šé€šè¿‡ç›¸åº”çš„Polyfillåšå“åº”çš„å¤„ç†ï¼Œç›®å‰é’ˆå¯¹vwå•ä½çš„Polyfillä¸»è¦æœ‰ï¼švminpolyã€Viewport Units Buggyfillã€vunits.jså’ŒModernizrã€‚å¤§æ¼ è€å¸ˆæ¯”è¾ƒæ¨èçš„æ˜¯ Viewport Units Buggyfill Viewport Units Buggyfill1ã€å¼•å…¥ JavaScript æ–‡ä»¶ viewport-units-buggyfill ä¸»è¦æœ‰ä¸¤ä¸ª JavaScript æ–‡ä»¶ï¼šviewport-units-buggyfill.js å’Œ viewport-units-buggyfill.hacks.jsã€‚åªéœ€è¦åœ¨ HTML æ–‡ä»¶ä¸­å¼•å…¥è¿™ä¸¤ä¸ªæ–‡ä»¶ã€‚æ¯”å¦‚åœ¨ Vue é¡¹ç›®ä¸­çš„ index.html å¼•å…¥å®ƒä»¬ï¼š 1&lt;script src=&quot;//g.alicdn.com/fdilab/lib3rd/viewport-units-buggyfill/0.6.2/??viewport-units-buggyfill.hacks.min.js,viewport-units-buggyfill.min.js&quot;&gt;&lt;/script&gt; å¤‡ç”¨åœ°å€ï¼šviewport-units-buggyfill.js 2ã€åœ¨ HTML æ–‡ä»¶ä¸­è°ƒç”¨ viewport-units-buggyfill 1234567&lt;script&gt; window.onload = function () &#123; window.viewportUnitsBuggyfill.init(&#123; hacks: window.viewportUnitsBuggyfillHacks &#125;); &#125;&lt;/script&gt; 3ã€æ·»åŠ contentï¼šå±æ€§ åœ¨ä½ çš„CSSä¸­ï¼Œåªè¦ä½¿ç”¨åˆ°äº†viewportçš„å•ä½åœ°æ–¹ï¼Œéœ€è¦åœ¨æ ·å¼ä¸­æ·»åŠ contentï¼š 12345678.my-viewport-units-using-thingie &#123; width: 50vmin; height: 50vmax; top: calc(50vh - 100px); left: calc(50vw - 100px); /* hack to engage viewport-units-buggyfill */ content: &#x27;viewport-units-buggyfill; width: 50vmin; height: 50vmax; top: calc(50vh - 100px); left: calc(50vw - 100px);&#x27;;&#125; è¿™å¯èƒ½ä¼šä»¤ä½ æ„Ÿåˆ°æ¶å¿ƒï¼Œè€Œä¸”æˆ‘ä»¬ä¸å¯èƒ½æ¯æ¬¡å†™vwéƒ½å»äººè‚‰çš„è®¡ç®—ã€‚ç‰¹åˆ«æ˜¯åœ¨æˆ‘ä»¬çš„è¿™ä¸ªåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†**postcss-px-to-viewportè¿™ä¸ªæ’ä»¶æ¥è½¬æ¢vw**ï¼Œæ›´æ— æ³•è®©æˆ‘ä»¬äººè‚‰çš„å»æ·»åŠ contentå†…å®¹ã€‚ è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç»“åˆ**postcss-viewport-unitsæ’ä»¶ï¼Œè®©æ’ä»¶è‡ªåŠ¨å»æ·»åŠ å¤„ç†content:**å±æ€§ postcss-viewport-unitsåœ¨postcss.config.jsæ–‡ä»¶ä¸­é…ç½®å¦‚ä¸‹ä»£ç ä¹‹åï¼Œä¹‹ååˆ™ä¼šè‡ªåŠ¨å»æ·»åŠ å¤„ç†**content:**å±æ€§ 123plugins: &#123; &#x27;postcss-viewport-units&#x27;: &#123;&#125;&#125; ç¼ºé™·ä½¿ç”¨äº† Viewport Units Buggyfill åï¼Œå®ƒä¼šåœ¨å ç”¨ content å±æ€§ï¼Œå› æ­¤ä¼šæˆ–å¤šæˆ–å°‘çš„é€ æˆä¸€äº›å‰¯ä½œç”¨ã€‚å¦‚ imgå…ƒç´ å’Œä¼ªå…ƒç´ çš„ä½¿ç”¨**::before** æˆ–**::after**ã€‚ **1ï¼‰**å¯¹äº imgï¼Œåœ¨éƒ¨åˆ†æµè§ˆå™¨ä¸­ï¼Œcontent çš„å†™å…¥ä¼šé€ æˆå›¾ç‰‡æ— æ³•æ­£å¸¸å±•ç¤ºï¼Œè¿™æ—¶å€™éœ€è¦å…¨å±€æ·»åŠ æ ·å¼è¦†ç›–ï¼š 123img &#123; content: normal !important;&#125; **2ï¼‰å¯¹äº::before ç­‰ä¼ªå…ƒç´ ï¼Œå°±ç®—æ˜¯åœ¨é‡Œé¢ä½¿ç”¨äº† vw å•ä½ï¼ŒViewport Units Buggyfill å¯¹å…¶å¹¶ä¸ä¼šèµ·ä½œç”¨ï¼ˆæ·»åŠ content:**å±æ€§ï¼‰ï¼Œå¦‚ï¼š 12345678910111213141516// ç¼–è¯‘å‰.after &#123; content: &#x27;after content&#x27;; display: block; width: 100px; height: 20px; background: green;&#125;// ç¼–è¯‘å.after[data-v-469af010] &#123; content: &quot;after content&quot;; display: block; width: 13.333vw; height: 2.667vw; background: green;&#125; ä¸ƒã€é€‚é…iPhoneXåœ¨iPhoneXå‘å¸ƒåï¼Œè®¸å¤šå‚å•†ç›¸ç»§æ¨å‡ºäº†å…·æœ‰è¾¹ç¼˜å±å¹•çš„æ‰‹æœºã€‚ è¿™äº›æ‰‹æœºå’Œæ™®é€šæ‰‹æœºåœ¨å¤–è§‚ä¸Šæ— å¤–ä¹åšäº†ä¸‰ä¸ªæ”¹åŠ¨ï¼šåœ†è§’ï¼ˆcornersï¼‰ã€åˆ˜æµ·ï¼ˆsensor housingï¼‰å’Œå°é»‘æ¡ï¼ˆHome Indicatorï¼‰ï¼Œä¸ºäº†é€‚é…è¿™äº›æ‰‹æœºï¼Œäº§ç”Ÿäº†å®‰å…¨åŒºåŸŸçš„æ¦‚å¿µã€‚ å®‰å…¨åŒºåŸŸï¼šæŒ‡çš„å°±æ˜¯ä¸å—å‰é¢è¿™å‡ ç§æƒ…å†µçš„å½±å“ï¼ŒæŠŠé¡µé¢é™åˆ¶åœ¨å®‰å…¨åŒºåŸŸå†…ï¼Œä½¿é¡µé¢æ˜¾ç¤ºæ­£å¸¸ã€‚ 7.1ã€viewport-fitä» iOS11 å¼€å§‹ ï¼Œä¸ºäº†é€‚é…åˆ˜æµ·å±ï¼ŒApple å…¬å¸å¯¹ HTML çš„ viewport meta æ ‡ç­¾åšäº†æ‰©å±•ï¼Œè®©é¡µé¢å……æ»¡å…¨å± 1&lt;meta name=&quot;viewport&quot; content=&quot;viewport-fit=cover&quot;&gt; viewport-fit å±æ€§ é»˜è®¤æƒ…å†µä¸‹æˆ–è€…è®¾ç½®ä¸ºautoå’Œcontainæ•ˆæœç›¸åŒ å€¼ å«ä¹‰ contain å¯è§†çª—å£å®Œå…¨æ˜¾ç¤ºç½‘é¡µå†…å®¹ (å·¦å›¾) cover ç½‘é¡µå†…å®¹å®Œå…¨è¦†ç›–å¯è§†çª—å£ (å³å›¾) auto é»˜è®¤å€¼ï¼Œè·Ÿ contain è¡¨ç°ä¸€è‡´ 7.2ã€envã€constantæˆ‘ä»¬éœ€è¦å°†é¡¶éƒ¨å’Œåº•éƒ¨åˆç†çš„æ‘†æ”¾åœ¨å®‰å…¨åŒºåŸŸå†…ï¼ŒiOS11æ–°å¢äº†ä¸¤ä¸ªCSSå‡½æ•°envã€constantï¼Œç”¨äºè®¾å®šå®‰å…¨åŒºåŸŸä¸è¾¹ç•Œçš„è·ç¦»ã€‚ **æ³¨æ„ï¼š**constantåœ¨iOS &lt; 11.2çš„ç‰ˆæœ¬ä¸­ç”Ÿæ•ˆï¼Œenvåœ¨iOS &gt;&#x3D; 11.2çš„ç‰ˆæœ¬ä¸­ç”Ÿæ•ˆ å‡½æ•°çš„å†…éƒ¨å¯ä»¥æ˜¯å››ä¸ªå¸¸é‡ï¼š safe-area-inset-leftï¼šå®‰å…¨åŒºåŸŸè·ç¦»å·¦è¾¹è¾¹ç•Œè·ç¦» safe-area-inset-rightï¼šå®‰å…¨åŒºåŸŸè·ç¦»å³è¾¹è¾¹ç•Œè·ç¦» safe-area-inset-topï¼šå®‰å…¨åŒºåŸŸè·ç¦»é¡¶éƒ¨è¾¹ç•Œè·ç¦» safe-area-inset-bottomï¼šå®‰å…¨åŒºåŸŸè·ç¦»åº•éƒ¨è¾¹ç•Œè·ç¦» ä½¿ç”¨æ–¹æ³• è¿™ä¸ªå‡½æ•°å¿…é¡»æ˜¯æŒ‡å®šviewport-fitä¹‹åæ‰å¯ä»¥ä½¿ç”¨ 1&lt;meta name=&quot;viewport&quot; content=&quot;viewport-fit=cover&quot;&gt; constantåœ¨iOS &lt; 11.2çš„ç‰ˆæœ¬ä¸­ç”Ÿæ•ˆï¼Œenvåœ¨iOS &gt;= 11.2çš„ç‰ˆæœ¬ä¸­ç”Ÿæ•ˆï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¾€å¾€è¦åŒæ—¶è®¾ç½®ä»–ä»¬ï¼Œå°†é¡µé¢é™åˆ¶åœ¨å®‰å…¨åŒºåŸŸå†…ï¼š 12345678910111213141516// ä½¿ç”¨ @supports æŸ¥è¯¢æœºå‹æ˜¯å¦æ”¯æŒ constant() / env() å®ç°å…¼å®¹ä»£ç éš”ç¦»ï¼Œä¸ªåˆ«å®‰å“ä¹Ÿä¼šæˆåŠŸè¿›å…¥è¿™ä¸ªåˆ¤æ–­ï¼Œå› æ­¤åŠ ä¸Š-webkit-overflow-scrolling: touchçš„åˆ¤æ–­å¯ä»¥æœ‰æ•ˆè§„é¿å®‰å“æœºã€‚@supports((height:constant(safe-area-inset-top)) or (height:env(safe-area-inset-top))) and (-webkit-overflow-scrolling:touch)&#123; body &#123; padding: constant(safe-area-inset-top) constant(safe-area-inset-right) constant(safe-area-inset-bottom) constant(safe-area-inset-left); /* å…¼å®¹ iOS &lt; 11.2 */ padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left); /* å…¼å®¹ iOS &gt;= 11.2 */ &#125;&#125; @supports() {} æ‰©å±• CSSä¸­çš„ @supports ç”¨äºæ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒ CSS çš„æŸä¸ªå±æ€§ã€‚å…¶å®å°±æ˜¯æ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœæ”¯æŒæŸä¸ªå±æ€§å¯ä»¥å†™ä¸€å¥—æ ·å¼ï¼Œå¦‚æœä¸æ”¯æŒæŸä¸ªå±æ€§ï¼Œå¯ä»¥æä¾›å¦å¤–ä¸€å¥—æ ·å¼ä½œä¸ºæ›¿è¡¥ã€‚ è¯­æ³• @supports è§„åˆ™ç”±ä¸€ç»„æ ·å¼å£°æ˜å’Œä¸€æ¡æ”¯æŒæ¡ä»¶æ„æˆã€‚æ”¯æŒæ¡ä»¶ç”±ä¸€æ¡æˆ–å¤šæ¡ä½¿ç”¨ é€»è¾‘ä¸ï¼ˆandï¼‰ã€é€»è¾‘æˆ–ï¼ˆorï¼‰ã€é€»è¾‘éï¼ˆnotï¼‰ç»“åˆçš„åç§° - å€¼å¯¹ï¼ˆname-value pairï¼‰ç»„æˆã€‚å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·è°ƒæ•´æ“ä½œç¬¦çš„ä¼˜å…ˆçº§ã€‚ 1234567891011121314151617181920212223242526@supports(prop:value) &#123; /* more styles */&#125;ä¾‹å­ï¼šæ£€æŸ¥æ˜¯å¦æ”¯æŒ dispaly: flex@supports (display: flex) &#123; div &#123; display: flex; &#125;&#125;noæ“ä½œç¬¦/* å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒdisplay:flexå±æ€§çš„è¯ï¼Œé‚£ä¹ˆdivçš„æ ·å¼å°±æ˜¯ float: right */@supports not (display: flex) &#123; div &#123; float: right; &#125;&#125;and æ“ä½œç¬¦/* å¦‚æœæµè§ˆå™¨æ”¯æŒ display:flex å’Œ box-shadow çš„å±æ€§ï¼Œå°±æ‰§è¡Œé‡Œé¢è‡ªå·±çš„æ ·å¼ */@supports (display: flex) and ( box-shadow: 2px 2px 2px black ) &#123; &#125;or æ“ä½œç¬¦/* å¦‚æœæµè§ˆå™¨æ”¯æŒå…¶ä¸­ä¸€ä¸ª,å°±å¯æ‰§è¡Œé‡Œé¢è‡ªå·±çš„æ ·å¼ */@supports (display: -webkit-flex) or (display: -moz-flex) or(display: flex) &#123;&#125; å…«ã€æ‰©å±•8.1ã€æ¨ªå±é€‚é…å¾ˆå¤šè§†å£æˆ‘ä»¬è¦å¯¹æ¨ªå±å’Œç«–å±æ˜¾ç¤ºä¸åŒçš„å¸ƒå±€ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ£€æµ‹åœ¨ä¸åŒçš„åœºæ™¯ä¸‹ç»™å®šä¸åŒçš„æ ·å¼ï¼š 1ï¼‰JavaScriptæ£€æµ‹æ¨ªå±window.orientation:è·å–å±å¹•æ—‹è½¬æ–¹å‘ 12345678910window.addEventListener(&quot;resize&quot;, ()=&gt;&#123; if (window.orientation === 180 || window.orientation === 0) &#123; // æ­£å¸¸æ–¹å‘æˆ–å±å¹•æ—‹è½¬180åº¦ console.log(&#x27;ç«–å±&#x27;); &#125;; if (window.orientation === 90 || window.orientation === -90 )&#123; // å±å¹•é¡ºæ—¶é’Ÿæ—‹è½¬90åº¦æˆ–å±å¹•é€†æ—¶é’ˆæ—‹è½¬90åº¦ console.log(&#x27;æ¨ªå±&#x27;); &#125; &#125;); 2ï¼‰CSSæ£€æµ‹æ¨ªå±123456@media screen and (orientation: portrait) &#123; /*ç«–å±...*/&#125; @media screen and (orientation: landscape) &#123; /*æ¨ªå±...*/&#125; 8.2ã€linkå’Œ@importå¼•å…¥çš„åŒºåˆ« **æœ¬è´¨ï¼š**linkå±äº XHTML æ ‡ç­¾ï¼Œè€Œ @import å®Œå…¨æ˜¯ CSS æä¾›çš„ä¸€ç§æ–¹å¼ã€‚ åŠ è½½é¡ºåºï¼š linkåœ¨é¡µé¢åŠ è½½è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨ä¼šåŒæ—¶åŠ è½½é¡µé¢å†…å®¹å’Œå¤–éƒ¨æ ·å¼è¡¨ï¼Œä»è€Œæé«˜é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œéé˜»å¡ï¼Œè€Œ @import ä¼šåœ¨é¡µé¢å†…å®¹åŠ è½½å®Œæˆåå†åŠ è½½å¤–éƒ¨æ ·å¼è¡¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´é¡µé¢åŠ è½½é€Ÿåº¦å˜æ…¢ï¼Œé˜»å¡ã€‚ å…¼å®¹æ€§: @import æ˜¯ CSS2.1 æå‡ºçš„ï¼Œæ‰€ä»¥è€çš„æµè§ˆå™¨ä¸æ”¯æŒï¼Œ@import åªæœ‰åœ¨ IE5 ä»¥ä¸Šçš„æ‰èƒ½è¯†åˆ«ï¼Œè€Œ link æ ‡ç­¾æ— æ­¤é—®é¢˜ã€‚ ä½¿ç”¨domæ§åˆ¶æ ·å¼ï¼šå½“ä½¿ç”¨ javascript æ§åˆ¶ dom å»æ”¹å˜æ ·å¼çš„æ—¶å€™ï¼Œåªèƒ½ä½¿ç”¨ link æ ‡ç­¾ï¼Œå› ä¸º@import ä¸æ˜¯ dom å¯ä»¥æ§åˆ¶çš„ã€‚","categories":[{"name":"æ€§èƒ½ä¸ä½“éªŒ","slug":"æ€§èƒ½ä¸ä½“éªŒ","permalink":"http://example.com/categories/%E6%80%A7%E8%83%BD%E4%B8%8E%E4%BD%93%E9%AA%8C/"}],"tags":[{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"http://example.com/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"},{"name":"viewport","slug":"viewport","permalink":"http://example.com/tags/viewport/"}]},{"title":"ç§»åŠ¨ç«¯viewportså‰–æ","slug":"29-ç§»åŠ¨ç«¯viewportså‰–æ","date":"2025-06-22T15:51:08.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/2d0d8782.html","permalink":"http://example.com/posts/2d0d8782.html","excerpt":"","text":"ä¸€ã€ç§»åŠ¨è®¾å¤‡æµè§ˆå™¨çš„é—®é¢˜è®¾å¤‡çš„å®½åº¦æ˜¯ç§»åŠ¨è®¾å¤‡æµè§ˆå™¨å’Œæ¡Œé¢æµè§ˆå™¨çš„æœ€å¤§åŒºåˆ«ã€‚ç§»åŠ¨è®¾å¤‡çš„æ˜¾ç¤ºé€šå¸¸æ¯”æ¡Œé¢æµè§ˆå™¨æ˜¾ç¤ºåŒä¸€ç½‘ç«™çš„å†…å®¹è¦å°‘ã€‚æˆ–è€…ç¼©æ”¾æµè§ˆå™¨å˜å°å¯¼è‡´æ–‡å­—æ— æ³•é˜…è¯»ï¼Œæˆ–è€…åªæ˜¾ç¤ºç½‘ç«™é€‚åˆè®¾å¤‡å¤§å°çš„éƒ¨åˆ†å†…å®¹ã€‚ ç§»åŠ¨è®¾å¤‡çš„å±å¹•å®½åº¦æ¯”æ¡Œé¢æµè§ˆå™¨å°ï¼Œç»å¸¸æœ€å¤§å°±400pxå®½ï¼Œè€Œä¸”é€šå¸¸ä¼šæ›´å°ã€‚ï¼ˆæœ‰äº›æ‰‹æœºå·ç§°å¤§å®½åº¦ï¼Œä½†ä»–ä»¬ç¡®æ˜¯åœ¨è¯´è° â€“ æˆ–èµ·å˜›ç»™äº†æˆ‘ä»¬ä¸€äº›æ— ç”¨çš„ä¿¡æ¯ï¼‰ ä¸€äº›ä¸­é—´å®½åº¦çš„padè®¾å¤‡(table device)å¦‚iPadæˆ–ä¼ è¯´ä¸­HPçš„webOSè®¾å¤‡å¡«è¡¥äº†æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡çš„ç¼ºå£ï¼Œä½†å´æ²¡æœ‰è§£å†³æ ¹æœ¬çš„é—®é¢˜ã€‚ç½‘ç«™è¿˜æ˜¯å¿…é¡»åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå·¥ä½œï¼Œæˆ‘ä»¬ä¸å¾—ä¸è®©å¥¹ä»¬åœ¨å°å±å¹•ä¸Šæ˜¾ç¤ºå¾—è¡¨ç°è‰¯å¥½ã€‚ é—®é¢˜çš„é£æš´ä¸­å¿ƒåœ¨äºCSSï¼Œç‰¹åˆ«æ˜¯viewportçš„å°ºå¯¸ã€‚å¦‚æœæˆ‘ä»¬åªæ˜¯æ‹·è´æ¡Œé¢çš„æ ·å¼åˆ°ç§»åŠ¨è®¾å¤‡ï¼Œæˆ‘ä»¬çš„CSSä¼šä¸‘å¾—å´©æºƒï¼ˆå‡è®¾ç§»åŠ¨è®¾å¤‡çš„å®½åº¦400pxï¼‰æˆ‘ä»¬å›åˆ°width: 10%çš„ä¾§è¾¹æ ã€‚å¦‚æœåœ¨ç§»åŠ¨è®¾å¤‡ä¸ŠåŒç†å¤„ç†ï¼Œä¼šæ˜¾ç¤ºå‡º40pxå®½ï¼Œå®åœ¨å¤ªçª„äº†ã€‚ä½ çš„å¯å˜å¸ƒå±€çœ‹èµ·æ¥è¢«å¯æ€•çš„å‹æ‰äº†ã€‚ å…¶ä¸­ä¸€ä¸ªè§£å†³æ–¹å¼æ˜¯ä¸ºç§»åŠ¨è®¾å¤‡é‡æ–°å»ºè®¾ä¸€ä¸ªç‰¹æ®Šçš„ç½‘ç«™ã€‚å³ä½¿è·³å¼€è¿™äº›åŸºæœ¬çš„é—®é¢˜ï¼šä½ åˆ°åº•è¯¥æ€ä¹ˆå¤„ç†ï¼Œç°å®çš„é—®é¢˜æ˜¯åªæœ‰å¾ˆå°‘çš„ç«™é•¿å‡†å¤‡å¥½äº†åŠ å…¥è¿åˆç§»åŠ¨è®¾å¤‡è€Œåšçš„æ”¹å˜ã€‚ ç§»åŠ¨è®¾å¤‡æµè§ˆå™¨ä¾›åº”å•†æœŸæœ›ä»–ä»¬çš„å®¢æˆ·ç«¯æä¾›æœ€å¥½çš„å¯èƒ½æ€§ä½“éªŒï¼Œå³ç°åœ¨æ„å‘³ç€â€œå°½å¯èƒ½çš„åƒæ¡Œé¢æµè§ˆå™¨â€ã€‚å› æ­¤è®¸å¤šå¤„ç†æ‰‹æ®µæ˜¯å¿…é¡»çš„ã€‚ äºŒã€ä¸¤ç§viewportè™šæ‹Ÿçš„viewportå³ç†æƒ³çš„viewportå› æ­¤viewportå¤ªçª„ï¼Œä¸èƒ½å¾ˆå¥½ä¸ºä½ çš„åŸºæœ¬CSSå¸ƒå±€æœåŠ¡äº†ã€‚æœ€æ˜¾ç„¶çš„è§£å†³æ–¹å¼æ˜¯è®©viewportæ›´å®½ã€‚å› æ­¤è¿™ä¸ªéœ€æ±‚åˆ†ä¸ºäº†2ä¸ªæ–¹é¢ï¼šè™šæ‹Ÿçš„viewport visual-viewportå’Œå¸ƒå±€çš„viewport layout-viewportã€‚ George Cumminsåœ¨Stack Overflowä¸Šè§£é‡Šäº†è¿™ä¸ªåŸºæœ¬æ¦‚å¿µ æƒ³è±¡ä¸‹layout viewportæ˜¯ä¸€å¼ å¤§çš„ä¸èƒ½æ”¹å˜å¤§å°å’Œè§’åº¦çš„å›¾ç‰‡ã€‚ç°åœ¨ä½ æœ‰ä¸ªæ›´å°çš„æ¡†æ¥è§‚çœ‹è¿™å¼ å¤§å›¾ç‰‡ï¼Œè¿™ä¸ªæ¡†è¢«ä¸é€æ˜çš„ææ–™åŒ…å›´ï¼Œå› è€Œä½ åªèƒ½çœ‹åˆ°å¤§å›¾ç‰‡çš„ä¸€éƒ¨åˆ†ã€‚ä½ é€šè¿‡è¿™ä¸ªæ¡†å­çœ‹åˆ°çš„å¤§å›¾ç‰‡çš„éƒ¨åˆ†è¢«ç§°ä¸ºè™šæ‹Ÿviewport(visual viewport)ã€‚ä½ èƒ½æ‹¿ç€è¿™ä¸ªæ¡†ç«™å¾—ç¦»å¤§å›¾ç‰‡è¿œç‚¹ï¼ˆç”¨æˆ·çš„ç¼©å°é¡µé¢åŠŸèƒ½ï¼‰ï¼Œä»¥ä¸€æ¬¡æ€§çœ‹åˆ°è¿™ä¸ªå¤§å›¾ç‰‡ã€‚æˆ–è€…ä½ èƒ½ç«™å¾—è¿‘ç‚¹ï¼ˆç”¨æˆ·çš„æ”¾å¤§é¡µé¢åŠŸèƒ½ï¼‰ä»¥çœ‹åˆ°ä¸€éƒ¨åˆ†ã€‚ä½ èƒ½æ”¹å˜è¿™ä¸ªæ¡†å­çš„æ–¹å‘ï¼Œä½†è¿™å¼ å¤§å›¾ç‰‡çš„å¤§å°å’Œå½¢çŠ¶éƒ½ä¸ä¼šæ”¹å˜ã€‚ visual viewportæ˜¯å½“å‰æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„éƒ¨åˆ†é¡µé¢ã€‚ç”¨æˆ·ä¼šæ»šåŠ¨é¡µé¢æ¥æ”¹å˜å¯è§éƒ¨åˆ†ï¼Œæˆ–è€…ç¼©æ”¾æµè§ˆå™¨æ¥æ”¹å˜visual viewportçš„å°ºå¯¸ã€‚è§å›¾ ä½†æ˜¯CSS å¸ƒå±€ï¼Œç‰¹åˆ«æ˜¯ç™¾åˆ†æ¯”çš„å®½åº¦ï¼ˆpercentual widthsï¼‰é€šå¸¸æ˜¯æŒ‰ç…§layout viewportæ¥å®šä¹‰ï¼Œè€Œæ¯”visual viewportå®½å¾ˆå¤šã€‚ ç„¶è€Œ&lt;html&gt;å…ƒç´ çš„å®½åº¦ç»§æ‰¿äºlayout viewportï¼Œä½ çš„CSSåº”é¢„å…ˆå‡†å¤‡ç€éœ€è¦å¤„ç†çš„å±å¹•(layout viewport)æ˜¯ä¸æ˜¯è¿œè¿œè¶…è¿‡æ‰‹æœºå±å¹•å®½åº¦ã€‚è¿™ç”¨ä»¥ä¿è¯ä½ çš„ç½‘ç«™å¤–è§‚ç‰¹æ€§è€Œæ°å¦‚åœ¨æ¡Œé¢æµè§ˆå™¨ä¸Šä¸€æ ·ã€‚ layout viewportåˆ°åº•æœ‰å¤šå®½ï¼Ÿæ¯ä¸ªæµè§ˆå™¨éƒ½ä¸åŒã€‚iPhoneä¸Šçš„Safariä½¿ç”¨980pxã€Opera 850pxï¼Œå®‰å“çš„Webkitæ ¸å¿ƒ800pxï¼ŒIE974pxã€‚ï¼ˆç°åœ¨å¤§éƒ¨åˆ†æ˜¯980pxï¼‰ ä¸€äº›æµè§ˆå™¨æœ‰ç‰¹åˆ«çš„ç‰¹æ€§ï¼š å¡ç­webkitè¯•ç€ä¿å­˜layout viewportå’Œvisual viewportåŒæ ·å®½åº¦ã€‚å› æ­¤ï¼Œå®šä¹‰ç™¾åˆ†æ¯”å®½åº¦çš„å…ƒç´ ä¼šå˜å¾—å·¨éš¾çœ‹ã€‚å½“ç„¶ï¼Œå¦‚æœé¡µé¢æœ‰ç‰¹å®šçš„å®½åº¦è€Œä¸æ˜¯é€‚åˆvisual viewportçš„å®½åº¦ï¼Œé‚£ä¹ˆè¯¥å®½åº¦çš„æœ€å¤§å€¼ä¼šè¢«è®¾ç½®ä¸º850px ä¸‰æ˜Ÿçš„WebKit(badaä¸Š)ä¼šè®¾ç½®layout viewportå’Œæœ€å®½çš„å…ƒç´ ä¸€æ ·å®½ é»‘è“ä¸Šlayout viewportå’Œvisual viewportåœ¨100%ç¼©æ”¾æ—¶ä¸€æ ·å®½ã€‚ ä¸‰ã€ç¼©æ”¾ ä¸¤ç§viewportséƒ½ä»¥CSSçš„ pixelsæ¥åº¦é‡ã€‚å½“ä½ é€šè¿‡ç¼©æ”¾æ”¹å˜visual viewportæ—¶ï¼Œlayout viewportä¿å­˜ä¸å˜ã€‚ å››ã€ç†è§£layout-viewportä¸ºäº†ç†è§£layout viewportçš„å°ºå¯¸ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹é¡µé¢å®Œå…¨ç¼©å°æ—¶å‘ç”Ÿäº†ä»€ä¹ˆã€‚è®¸å¤šç§»åŠ¨è®¾å¤‡æµè§ˆå™¨åœ¨åˆå§‹é»˜è®¤æ‰“å¼€ä»¥æœ€å°ç¼©æ”¾æ¨¡å¼æ‰“å¼€ç½‘ç«™ã€‚ï¼ˆå³åœ¨æ‰‹æœºå±å¹•ä¸Šå±•ç¤ºå®Œæ•´å®½åº¦çš„é¡µé¢ï¼‰ã€‚å¦‚å›¾ é‡ç‚¹ï¼šæµè§ˆå™¨å·²ç»é€‰æ‹©å¥½ä»–ä»¬çš„layout viewportçš„å°ºå¯¸ï¼Œå®ƒå®Œæ•´çš„è¦†ç›–äº†æœ€å°ç¼©æ”¾æ¨¡å¼ä¸‹çš„ç§»åŠ¨æµè§ˆå™¨çš„å±å¹•ã€‚ è¿™æ—¶å€™layout viewportçš„å®½åº¦é«˜åº¦å’Œæœ€å°ç¼©æ”¾æ¨¡å¼ä¸‹èƒ½åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºçš„å†…å®¹çš„å®½åº¦é«˜åº¦ä¸€è‡´ã€‚å³ä¾¿ç”¨æˆ·ç¼©æ”¾ï¼Œå®ƒä¾ç„¶ä¿å­˜ä¸å˜ã€‚å¦‚å›¾ layout viewportå®½åº¦é€šå¸¸ä¿å­˜ä¸å˜ã€‚å¦‚æœä½ æ—‹è½¬ä½ çš„æ‰‹æœºï¼Œvisual viewportæ”¹å˜ï¼Œä½†æµè§ˆå™¨ä¼šç¼©æ”¾é¡µé¢ä»¥è‡ªé€‚åº”ï¼Œä»¥è¾¾åˆ°layout viewportå†æ¬¡å’Œvisual viewportåŒæ ·å®½ã€‚å¦‚å›¾ è¿™å½±å“åˆ°äº†layout viewportçš„é«˜åº¦ï¼Œå®ƒçªç„¶å˜å¾—æ¯”ç«–ç€æ¨¡å¼æ›´å°ï¼ˆportrait modelè‚–åƒæ¨¡å¼ï¼‰ï¼Œä½†webå¼€å‘è€…å¹¶ä¸å…³å¿ƒé«˜åº¦ï¼Œåªåœ¨ä¹å®½åº¦ã€‚å¦‚å›¾ äº”ã€åº¦é‡layout-viewport1document.documentElement.clientWidth/Height å«ä¹‰ï¼šlayoutviewportå°ºå¯¸ åº¦é‡ï¼šCSSçš„pixels å®Œæ•´æ”¯æŒï¼šOpera, iPhone, Android, Symbian, Bolt, MicroB, Skyfire, Obigo é—®é¢˜ï¼šåœ¨Irisä¸Šå®ƒæ ‡ç¤ºvisualvieport ä¸‰æ˜Ÿçš„Webkitæ ¸å¿ƒæµè§ˆå™¨ï¼Œä»…å½“åœ¨é¡µé¢ä¸Šå†™å…¥&lt;meta viewport&gt;æ ‡ç­¾ï¼Œæ‰æ­£ç¡®è¡¨ç¤ºã€‚å¦åˆ™å°±ä»£è¡¨ç€ FireFoxä»¥è®¾å¤‡çš„pixelsæ¥åº¦é‡ IEè¿”å›1024 x 768 pxï¼Œè€Œå‡†ç¡®çš„å°ºå¯¸ä¿å­˜åœ¨document.body.clientWidth&#x2F;Height NetFrontä»…å½“100%ç¼©æ”¾æ—¶å€™æ‰æ­£ç¡® å¡ç­çš„Webkit1(åœ¨S60v3è®¾å¤‡)ä¸æ”¯æŒè¿™äº›å±æ€§ ä¸æ”¯æŒï¼šé»‘è“ å¾ˆå¹¸è¿æµè§ˆå™¨ç”±äºæµè§ˆå™¨å¤§æˆ˜è€Œé—ç•™ç»™æˆ‘ä»¬2ä¸ªç‰¹æ€§å¯¹æ¥åº¦é‡è¿™ä¸¤ç§viewportã€‚ document.documentElement.clientWidth&#x2F;Heightä¼ é€’layoutviewportçš„å°ºå¯¸ï¼Œå¦‚å›¾ æ—‹è½¬åªå…³ç³»åˆ°é«˜åº¦ï¼Œè€Œä¸æ˜¯å®½åº¦ã€‚å¦‚å›¾ å…­ã€åº¦é‡visual-viewport1window.innerWidth/Height å«ä¹‰ï¼švisualviewportå°ºå¯¸ åº¦é‡ï¼šCSSçš„pixels å®Œæ•´æ”¯æŒï¼šiPhone, Symbian, BlackBerry é—®é¢˜ï¼š FireFoxå’ŒOperaä»¥è®¾å¤‡çš„pixelsè¿”å›è¯¥æ•°å€¼ Android, Bolt, MicroB, å’Œ NetFront ä»¥CSSçš„pixelsè¿”å›è¯¥æ•°å€¼ï¼Œä¸”ä¸ºlayoutviewportçš„å€¼ ä¸æ”¯æŒï¼š IEï¼Œå®ƒä½¿ç”¨document. documentElement. offsetWidh&#x2F;Heightæ¥è¡¨ç¤º ä¸‰æ˜Ÿçš„Webkitæ ¸å¿ƒæµè§ˆå™¨ï¼Œä»…å½“åœ¨é¡µé¢ä¸Šå†™å…¥&lt;meta viewport&gt;æ ‡ç­¾ï¼Œæ‰æ­£ç¡®è¡¨ç¤ºã€‚å¦åˆ™å°±ä»£è¡¨ç€&lt;html&gt;çš„å°ºå¯¸ æ··ä¹±ï¼šIris, Skyfire, Obigoè¿”å›çš„å€¼ä¸çŸ¥æ‰€äº‘ æˆ‘ä»¬ä½¿ç”¨window.innerWidth&#x2F;Heightæ¥åº¦é‡visualviewportã€‚æ˜¾ç„¶ï¼Œéšç€ç”¨æˆ·ç¼©æ”¾æµè§ˆå™¨ï¼Œè¿™å€¼ä¼šæ”¹å˜ï¼Œæ›´å¤šã€æ›´å°‘çš„CSS pixelsæ”¾è¿›äº†å±å¹•ã€‚å¦‚å›¾ å¾ˆä¸å¹¸è¿™æ˜¯ä¸€ä¸ªå¾…å®Œå–„çš„éƒ¨åˆ†ï¼Œè®¸å¤šæµè§ˆå™¨ä¾ç„¶æ²¡æœ‰æ”¯æŒå¯¹visualviewportçš„åº¦é‡ã€‚åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæ²¡æœ‰æµè§ˆå™¨å°†è¯¥åº¦é‡å­˜å‚¨åœ¨å…¶ä»–åœ°æ–¹ï¼Œæˆ‘çŒœæµ‹window.innerWidth&#x2F;Heightä¼šæˆä¸ºæ ‡å‡†ï¼Œalbeitæ˜¯æœ€å¼ºåŠ›çš„æ”¯æŒè€…ã€‚ ä¸ƒã€å±å¹• Screen1screen.width and screen.height å«ä¹‰ï¼šå±å¹•å°ºå¯¸ åº¦é‡ï¼šè®¾å¤‡çš„pixels å®Œæ•´æ”¯æŒï¼šOpera Mini, Android, Symbian, Iris, Firefox, MicroB, IE, BlackBerry é—®é¢˜ï¼š Operaåœ¨Windows Mobileä¸‹åªç»™å‡ºæ¨ªå‘å°ºå¯¸(landscape size)ã€‚åœ¨S60ä¸Šå·¥ä½œæ­£ç¡®ã€‚ ä¸‰æ˜Ÿçš„Webkitæ ¸å¿ƒæµè§ˆå™¨ï¼Œä»…å½“åœ¨é¡µé¢ä¸Šå†™å…¥&lt;meta viewport&gt;æ ‡ç­¾ï¼Œæ‰æ­£ç¡®è¡¨ç¤ºã€‚å¦åˆ™å°±ä»£è¡¨ç€&lt;html&gt;çš„å°ºå¯¸ iPhoneå’ŒObigoä»…ç»™å‡ºç«–ç›´å°ºå¯¸(portrait sizes) Android, Bolt, MicroB, å’Œ NetFront ä»¥CSSçš„pixelsè¿”å›è¯¥æ•°å€¼ï¼Œä¸”ä¸ºlayoutviewportçš„å€¼ ä¸æ”¯æŒï¼š IEï¼Œå®ƒä½¿ç”¨document. documentElement. offsetWidh&#x2F;Heightæ¥è¡¨ç¤º - ä¸‰æ˜Ÿçš„Webkitæ ¸å¿ƒæµè§ˆå™¨ï¼Œä»…å½“åœ¨é¡µé¢ä¸Šå†™å…¥&lt;meta viewport&gt;æ ‡ç­¾ï¼Œæ‰æ­£ç¡®è¡¨ç¤ºã€‚å¦åˆ™å°±ä»£è¡¨ç€&lt;html&gt;çš„å°ºå¯¸ æ··ä¹±ï¼šIris, Skyfire, Obigoè¿”å›çš„å€¼ä¸çŸ¥æ‰€äº‘ å’Œpcæµè§ˆå™¨ä¸€æ ·ï¼Œscreen.width&#x2F;heightæ ‡ç¤ºäº†è®¾å¤‡å±å¹•çš„å°ºå¯¸ï¼Œä»¥è®¾å¤‡çš„pixelsåº¦é‡ã€‚å’Œpcæµè§ˆå™¨ä¸€æ ·ï¼Œä½œä¸ºwebå¼€å‘äººå‘˜ä½ æ°¸è¿œä¸éœ€è¦è¿™äº›ä¿¡æ¯ã€‚ä½ ä¸å…³å¿ƒå±å¹•çš„ç‰©ç†å®½åº¦ï¼Œè€Œå…³å¿ƒå½“å‰æœ‰å¤šå°‘CSSçš„pixelsèƒ½ä¾›ä½ ä½¿ç”¨ã€‚ å…«ã€ç¼©æ”¾ç­‰çº§ Zoom levelæ— æ³•ç›´æ¥è·å–ç¼©æ”¾ç­‰çº§ï¼Œä½†å¯ä»¥ä½¿ç”¨screen.widthé™¤ä»¥window.innerWidthæ¥è®¡ç®—ã€‚å½“ç„¶ï¼Œåªæœ‰è¿™ä¸¤ä¸ªç‰¹æ€§è¢«å®Œç¾æ”¯æŒæ—¶æ‰èƒ½ä½¿ç”¨ã€‚ å¹¸è¿çš„æ˜¯ï¼Œç¼©æ”¾ç­‰çº§å¹¶ä¸é‡è¦ã€‚ä½ åªéœ€è¦çŸ¥é“å½“å‰æœ‰å¤šå°‘CSSçš„pixelsèƒ½ä¾›ä½ ä½¿ç”¨ã€‚ä½ å¯ä»¥ä»window.innerWidthè·å–è¿™äº›ä¿¡æ¯ â€“ å¦‚æœå½“å‰æµè§ˆå™¨æ”¯æŒã€‚ ä¹ã€æ»šåŠ¨ä½ç§» 1window.pageX/YOffset å«ä¹‰ï¼šè§æè¿° åº¦é‡ï¼šCSSçš„pixels å®Œæ•´æ”¯æŒï¼šiPhone, Android, Symbian, Iris, MicroB, Skyfire, Obigo é—®é¢˜ï¼š Opera, Bolt, Firefox, and NetFront æ€»æ˜¯è¿”å› 0. ä¸‰æ˜Ÿçš„Webkitæ ¸å¿ƒæµè§ˆå™¨ï¼Œä»…å½“åœ¨é¡µé¢ä¸Šå†™å…¥æ ‡ç­¾ï¼Œæ‰æ­£ç¡®è¡¨ç¤ºã€‚ ä¸æ”¯æŒï¼š IEï¼Œå®ƒä½¿ç”¨document. scrollLeft&#x2F;Topæ¥è¡¨ç¤º ä½ åŒæ„éœ€è¦çŸ¥é“å½“å‰visual viewportç›¸å¯¹äºlayout viewportçš„è·ç¦»ã€‚è¿™å°±æ˜¯æ»šåŠ¨ä½ç§»ï¼Œå¦‚åŒåœ¨æ¡Œé¢æµè§ˆå™¨ä¸€æ ·ï¼Œä½¿ç”¨window.pageX&#x2F;YOffsetå­˜å‚¨ã€‚å¦‚å›¾ åã€&lt;html&gt;å…ƒç´ 1document.documentElement.offsetWidth / Height å«ä¹‰ï¼šhtmlå…ƒç´ çš„æ•´ä½“å°ºå¯¸ åº¦é‡ï¼šCSSçš„pixels å®Œæ•´æ”¯æŒï¼šOpera, iPhone, Android, Symbian, Samsung, Iris, Bolt, Firefox, MicroB, Skyfire, BlackBerry, Obigo é—®é¢˜ï¼š NetFrontåªåœ¨100%ç¼©æ”¾æ—¶è¿”å›æ­£ç¡®çš„å€¼. IEï¼Œä½¿ç”¨è¿™ä¸ªç‰¹æ€§å¯¹æ¥è¡¨ç¤ºvisualviewportçš„å°ºå¯¸ã€‚å®ƒä½¿ç”¨document. body. clientWidth&#x2F;Heightæ¥è¡¨ç¤º å’Œåœ¨æ¡Œé¢ç³»ç»Ÿä¸€æ ·,document.documentElement.offsetWidth&#x2F;Heightç»™å‡ºäº† å…ƒç´ ä»¥CSSçš„pixelsåº¦é‡çš„å°ºå¯¸ã€‚å¦‚å›¾ åä¸€ã€viewportçš„metaæ ‡ç­¾ meta viewport å«ä¹‰ï¼šè®¾ç½®layout viewportçš„å®½åº¦ åº¦é‡ï¼šCSSçš„pixels å®Œæ•´æ”¯æŒï¼šOpera Mobile, iPhone, Android, Iris, IE, BlackBerry, Obigo ä¸æ”¯æŒï¼šOpera Mini, Symbian, Bolt, Firefox, MicroB, NetFront é—®é¢˜ï¼š Skyfire ä¸èƒ½å¤„ç†æˆ‘çš„æµ‹è¯•é¡µé¢ã€‚ åœ¨ä¸‰æ˜Ÿçš„wibkitæµè§ˆå™¨ä¸‹ï¼Œå‡ºç°ä¼šæ”¹å˜ä¸€äº›ç‰¹æ€§å¯¹çš„å€¼ã€‚ Opera Mobile, iPhone, Samsung, and BlackBerry ä¸å…è®¸ç”¨æˆ·åœ¨è®¾ç½®viewportåå†è¿›è¡Œç¼©å°æ“ä½œï¼ˆdo not allow the user to zoom out.ï¼‰ æœ€åæˆ‘ä»¬è®¨è®º&lt;meta name=&quot;viewport&quot; content=&quot;width=320&quot;&gt;ï¼›æœ€åˆè¿™æ˜¯Appleçš„ä¸€ä¸ªhtmlæ‰©å±•æ ‡ç­¾ï¼Œä½†è¢«è®¸å¤šæµè§ˆå™¨å¤ç”¨ï¼Œæ„ä¹‰æ˜¯è®¾ç½®layout viewportçš„å®½åº¦ã€‚ä¸ºäº†ç†è§£å®ƒçš„å«ä¹‰ï¼Œæˆ‘ä»¬é€€ä¸€æ­¥çœ‹çœ‹åŸºç¡€ã€‚ å‡è®¾ä½ åˆ›å»ºä¸€ä¸ªé¡µé¢ï¼Œå¹¶ä¸ä¸ºå®ƒèµ‹å€¼widthã€‚é‚£ä¹ˆå®ƒä¼šä¼¸å±•å¼€æ¥å æ®100%çš„layout-viewportçš„å®½åº¦ã€‚ç»å¤§å¤šæ•°æµè§ˆå™¨ç¼©å°è¿™ä¸ªé¡µé¢ä»¥åœ¨ä¸€å±çš„å®½åº¦ä¸Šæ˜¾ç¤ºè¿™ä¸ªlayout viewportã€‚æˆ‘ä»¬è·å¾—å¦‚ä¸‹æ•ˆæœ ç”¨æˆ·ä¼šç«‹é©¬æ”¾å¤§é¡µé¢ï¼Œè™½ç„¶ä¼šèµ·åˆ°æ•ˆæœï¼Œä½†ç»å¤§å¤šæ•°æµè§ˆå™¨ä¼šä¿å­˜å…ƒç´ å®Œæ•´çš„å®½åº¦ï¼ˆä¿æŒå…ƒç´ å®šä½çš„ä¸å˜ï¼‰ï¼Œè€Œå¯¼è‡´é˜…è¯»å›°éš¾ï¼ˆæ–‡å­—è¶…è¿‡å±å¹•ï¼‰ï¼Œå¦‚å›¾ (å”¯ä¸€ä¸åŒçš„æ˜¯Androidä¸‹çš„Webkitæ ¸å¿ƒæµè§ˆå™¨ï¼Œä»–ä¼šå‰ªçŸ­é•¿ä¸²æ–‡å­—çš„htmlå…ƒç´ ï¼Œä»¥è®©ä»–ä»¬é€‚åº”å±å¹•ã€‚è¿™ç®€ç›´å¤ªæœ‰æ‰äº†ï¼Œæˆ‘è§‰å¾—å…¶ä½™æ‰€æœ‰æµè§ˆå™¨éƒ½åº”è¯¥å¤ç”¨è¿™ä¸ªç‰¹æ€§ã€‚æˆ‘ä¼šåœ¨å†ä»¥åå…¨é¢çš„å†™è¿™æ–¹é¢å†…å®¹) ç°åœ¨ä½ å¯ä»¥å°è¯•ç€è®¾ç½®htm&#123;width: 320px&#125;ã€‚ç°åœ¨&lt;html&gt;å…ƒç´ æ”¶ç¼©ï¼Œéšä¹‹æ‰€æœ‰çš„ä¼šè®¡å…ƒç´ éƒ½å æœ‰100%çš„&lt;html&gt;å®½åº¦ï¼š320pxã€‚å½“ç”¨æˆ·æ”¾å¤§æµè§ˆå™¨æ˜¾ç¤ºæ—¶è¿™æ ·åšå·¥ä½œå¾—æŒºå¥½ï¼Œä½†åœ¨æœ€åˆåŠ è½½æ—¶çš„ç¼©å°æ˜¾ç¤ºä¸‹ï¼Œç”¨æˆ·æ„Ÿè§‰å¾ˆç³Ÿç³•ï¼Œå› ä¸ºé¡µé¢å‡ ä¹æ²¡å†…å®¹ã€‚å¦‚å›¾ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒAppleå¼•å…¥äº†metaviewportã€‚å½“ä½ è®¾ç½®&lt;meta name=&quot;viewport&quot; content=&quot;width=320&quot;&gt;,ä½ ç½‘ç«™çš„layout-viewportå˜æˆäº†320pxã€‚é¡µé¢çš„åˆå§‹çŠ¶æ€å°±å¾ˆæ­£ç¡®äº†ã€‚å¦‚å›¾ ä½ èƒ½ä»»æ„è®¾ç½®layout-widthçš„å®½åº¦ï¼Œç”šè‡³åŒ…æ‹¬device-widthã€‚device-widthç”±ä»¥è®¾å¤‡çš„pixelsåº¦é‡screen.widthæ¥è®¾ç½®ã€‚ åœ¨è¿™é‡Œæœ‰ä¸ªé’©å­ï¼ˆThereâ€™s a catch hereï¼‰ã€‚æœ‰æ—¶ä¸¥æ ¼çš„screen.widthä¸€ç‚¹æ„ä¹‰éƒ½æ²¡æœ‰ï¼Œå› ä¸ºpixelsçš„å€¼å¤ªå¤§äº†ã€‚ä¾‹å¦‚ï¼ŒNexus Oneä¸Šçš„ä¸¥æ ¼å®½åº¦æ˜¯480pxï¼Œä½†Googleçš„å·¥ç¨‹å¸ˆè§‰å¾—åœ¨ç”¨æˆ·è®¾ç½®device-widthæ—¶ï¼Œå°†layoutviewportè®¾ç½®ä¸º480å¤ªå¤§äº†ã€‚ä»–ä»¬ç æˆäº†2&#x2F;3ï¼Œæä¾›320pxï¼Œå’ŒiPhoneä¸Šä¸€è‡´ã€‚ åŠ å…¥ï¼Œåƒä¼ è¨€ä¸­ï¼Œæ–°çš„iPhoneå°†æä¾›ä¸€ä¸ªå·¨å¤§çš„pixelå€¼ï¼ˆå¹¶ä¸ç­‰äºä¸€ä¸ªå·¨å¤§çš„å±å¹•ï¼Œåªæ˜¯åˆ†è¾¨ç‡ï¼‰ï¼Œå¦‚æœä»–ä»¬æ²¿ç”¨è¿™ä¸ªç‰¹æ€§ï¼šdevice-widthä¸º320ï¼Œæˆ‘ä¸€ç‚¹éƒ½ä¸ä¼šæƒŠè®¶ã€‚æˆ–è®¸æœ€ç»ˆdevice-widthä¼šç›´æ¥æ„å‘³ç€320pxã€‚ 1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; è½¬è½½äºï¼šhttps://www.w3cplus.com/css/viewports.html","categories":[{"name":"æ€§èƒ½ä¸ä½“éªŒ","slug":"æ€§èƒ½ä¸ä½“éªŒ","permalink":"http://example.com/categories/%E6%80%A7%E8%83%BD%E4%B8%8E%E4%BD%93%E9%AA%8C/"}],"tags":[{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"http://example.com/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"},{"name":"viewport","slug":"viewport","permalink":"http://example.com/tags/viewport/"}]},{"title":"åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨fetchåŠ è½½jså¹¶è°ƒç”¨æ–¹æ³•","slug":"28-åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨fetchåŠ è½½jså¹¶è°ƒç”¨æ–¹æ³•","date":"2025-03-22T15:51:08.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/ca31d25b.html","permalink":"http://example.com/posts/ca31d25b.html","excerpt":"","text":"12345678910// ä½¿ç”¨dayjsä¸­çš„æ–¹æ³•fetch(&#x27;https://cdn.bootcdn.net/ajax/libs/dayjs/1.11.9/dayjs.min.js&#x27;) .then(response =&gt; response.text()) .then(text =&gt; &#123; eval(text); const now = dayjs(); console.log(now.format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;)); &#125;).catch(err =&gt; &#123; console.log(err); &#125;); åœ¨JavaScriptä¸­ï¼Œfetch APIè¿”å›çš„Responseå¯¹è±¡è¿˜æä¾›äº†å…¶ä»–ä¸€äº›å±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æ¥è·å–æ•°æ®æˆ–è€…æ‰§è¡Œå…¶ä»–æ“ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„Responseå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼š 1ã€json()è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªPromiseï¼Œè§£æä¸ºJSONæ ¼å¼çš„å“åº”ä½“ 1234fetch(&#x27;https://api.example.com/data&#x27;) .then(response =&gt; response.json()) .then(data =&gt; console.log(data)) .catch(error =&gt; console.error(&#x27;Error fetching data:&#x27;, error)) 2ã€blob()è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªPromiseï¼Œå°†å“åº”ä½“è§£æä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼ˆBlobå¯¹è±¡ï¼‰ 123456fetch(&#x27;https://example.com/image.png&#x27;) .then(response =&gt; response.blob()) .then(blob =&gt; &#123; // å¤„ç†äºŒè¿›åˆ¶æ•°æ® &#125;) .catch(error =&gt; console.error(&#x27;Error fetching image:&#x27;, error)); 3ã€arrayBuffer()è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªPromiseï¼Œå°†å“åº”ä½“è§£æä¸ºArrayBuffer 123456fetch(&#x27;https://example.com/file&#x27;) .then(response =&gt; response.arrayBuffer()) .then(arrayBuffer =&gt; &#123; // å¤„ç†ArrayBuffer &#125;) .catch(error =&gt; console.error(&#x27;Error fetching file:&#x27;, error)); 4ã€text()å®ƒè¿”å›ä¸€ä¸ªPromiseï¼Œå°†å“åº”ä½“è§£æä¸ºæ–‡æœ¬ 1234fetch(&#x27;https://example.com/text&#x27;) .then(response =&gt; response.text()) .then(text =&gt; console.log(text)) .catch(error =&gt; console.error(&#x27;Error fetching text:&#x27;, error)); evalå‡½æ•°evalå‡½æ•°æ˜¯JavaScriptä¸­çš„ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œç”¨äºå°†ä¼ å…¥çš„å­—ç¬¦ä¸²ä½œä¸ºä»£ç æ¥æ‰§è¡Œã€‚å½“ä½¿ç”¨evalå‡½æ•°æ—¶ï¼Œä¼ å…¥çš„å­—ç¬¦ä¸²ä¼šè¢«å½“ä½œJavaScriptä»£ç æ¥æ‰§è¡Œï¼Œè¿™å¯ä»¥ç”¨æ¥åŠ¨æ€æ‰§è¡Œä»£ç æˆ–è€…åŠ¨æ€ç”Ÿæˆä»£ç ã€‚ç„¶è€Œï¼Œç”±äºevalå‡½æ•°çš„æ‰§è¡Œä¼šå½±å“æ€§èƒ½å’Œå®‰å…¨æ€§ï¼Œé€šå¸¸ä¸æ¨èåœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨evalå‡½æ•°ï¼Œé™¤éç¡®å®æœ‰å¿…è¦ä½¿ç”¨å®ƒã€‚å› ä¸ºevalå‡½æ•°çš„æ‰§è¡Œä¼šå¢åŠ ä»£ç çš„å¤æ‚æ€§ï¼Œå¹¶ä¸”å¯èƒ½å­˜åœ¨å®‰å…¨é£é™©ï¼Œå› æ­¤åº”è¯¥å°½é‡é¿å…ä½¿ç”¨å®ƒã€‚","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"}]},{"title":"å¦‚ä½•ä¼˜åŒ–JavaScriptä¸­çš„ifelseå¤æ‚åˆ¤æ–­ï¼Ÿ","slug":"27-å¦‚ä½•ä¼˜åŒ–JavaScriptä¸­çš„ifelseå¤æ‚åˆ¤æ–­ï¼Ÿ","date":"2025-03-21T15:51:08.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/dc9c7d28.html","permalink":"http://example.com/posts/dc9c7d28.html","excerpt":"","text":"æˆ‘ä»¬åœ¨å†™ JavaScript ä»£ç çš„æ—¶å€™ï¼Œç»å¸¸ä¼šé‡åˆ°é€»è¾‘åˆ¤æ–­æ¯”è¾ƒå¤æ‚çš„æƒ…å†µï¼Œé€šå¸¸æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ if&#x2F;else æˆ– switch æ¥å®ç°å¤šä¸ªæ¡ä»¶åˆ¤æ–­ã€‚ ä½†æ˜¯è¿™æ ·å°±å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œéšç€é€»è¾‘å¤æ‚åº¦çš„å¢åŠ ï¼Œä»£ç ä¸­çš„ if/else/switch ä¼šè¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œè¶Šæ¥è¶Šéš¾ç†è§£ã€‚é‚£ä¹ˆå¦‚ä½•æ‰èƒ½æŠŠåˆ¤æ–­é€»è¾‘å†™å¾—æ›´ä¼˜é›…å‘¢ï¼Ÿ ä»Šå¤©å’±ä»¬å°±æ¥çœ‹çœ‹è¿™ä¸ªé—®é¢˜ï¼ ä¸€å…ƒæ¡ä»¶åˆ¤æ–­123456789101112131415const onButtonClick = (status)=&gt;&#123; if(status == 1)&#123; jumpTo(&#x27;è¿›å…¥ç´¢å¼•é¡µ&#x27;) &#125;else if(status == 2)&#123; jumpTo(&#x27;è¿›å…¥å¤±è´¥é¡µ&#x27;) &#125;else if(status == 3)&#123; jumpTo(&#x27;è¿›å…¥å¤±è´¥é¡µ&#x27;) &#125;else if(status == 4)&#123; jumpTo(&#x27;è¿›å…¥æˆåŠŸé¡µ&#x27;) &#125;else if(status == 5)&#123; jumpTo(&#x27;è¿›å…¥å–æ¶ˆé¡µ&#x27;) &#125;else &#123; jumpTo(&#x27;å…¶ä»–æ“ä½œ&#x27;) &#125;&#125; ä»ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸ªæŒ‰é’®çš„ç‚¹å‡»é€»è¾‘ï¼šæ ¹æ®ä¸åŒçš„æ´»åŠ¨çŠ¶æ€ï¼Œè¿›å…¥ä¸åŒçš„é¡µé¢ã€‚ å½“ç„¶ï¼Œä»¥ä¸Šä»£ç ä¹Ÿå¯ä»¥é€šè¿‡ switch è¿›è¡Œé‡å†™ï¼š 1234567891011121314151617181920const onButtonClick = (status)=&gt;&#123; switch (status)&#123; case 1: console.log(&#x27;è¿›å…¥ç´¢å¼•é¡µ&#x27;) break case 2: case 3: jumpTo(&#x27;è¿›å…¥å¤±è´¥é¡µ&#x27;) break case 4: jumpTo(&#x27;è¿›å…¥æˆåŠŸé¡µ&#x27;) break case 5: jumpTo(&#x27;è¿›å…¥å–æ¶ˆé¡µ&#x27;) break default: jumpTo(&#x27;å…¶ä»–æ“ä½œ&#x27;) break &#125;&#125; è¿™æ ·çœ‹èµ·æ¥æ¯”ç”¨ if&#x2F;else è¦æ¸…æ™°å¤šäº†ã€‚åŒæ—¶ï¼šå½“ case 2 å’Œ case 3 çš„é€»è¾‘ç›¸åŒæ—¶ï¼Œå¯ä»¥çœç•¥æ‰§è¡Œè¯­å¥å’Œ breakï¼Œè¿™æ · case 2 å°±ä¼šè‡ªåŠ¨æ‰§è¡Œ case 3 çš„é€»è¾‘ã€‚ ä½†æ˜¯ï¼Œä»¥ä¸Šçš„ä»£ç è¿˜ä¸å¤Ÿâ€œå®Œç¾â€ï¼Œæˆ‘å¯ä»¥å¯¹å®ƒè¿›è¡ŒæŒç»­ä¼˜åŒ–ï¼š 12345678910111213const actions = &#123; &#x27;1&#x27;: [&#x27;è¿›å…¥ç´¢å¼•é¡µ&#x27;], &#x27;2&#x27;: [&#x27;è¿›å…¥å¤±è´¥é¡µ&#x27;], &#x27;3&#x27;: [&#x27;è¿›å…¥å¤±è´¥é¡µ&#x27;], &#x27;4&#x27;: [&#x27;è¿›å…¥æˆåŠŸé¡µ&#x27;], &#x27;5&#x27;: [&#x27;è¿›å…¥å–æ¶ˆé¡µ&#x27;], &#x27;default&#x27;: [&#x27;å…¶ä»–æ“ä½œ&#x27;],&#125;const onButtonClick = (status)=&gt;&#123; let action = actions[status] || actions[&#x27;default&#x27;], jumpTo(action[0])&#125; è¿™æ ·ä¼˜åŒ–ä¹‹åä»£ç å°±ä¼šæ¸…æ™°å¾ˆå¤šï¼Œè¿™ä¸ªæ–¹æ³•çš„å·§å¦™ä¹‹å¤„åœ¨äºï¼šæŠŠåˆ¤å®šæ¡ä»¶ä½œä¸ºå¯¹è±¡çš„å±æ€§åï¼ŒæŠŠå¤„ç†é€»è¾‘ä½œä¸ºå¯¹è±¡çš„å±æ€§å€¼ï¼Œç‚¹å‡»æŒ‰é’®æ—¶é€šè¿‡æŸ¥æ‰¾å¯¹è±¡å±æ€§è¿›è¡Œé€»è¾‘åˆ¤æ–­ï¼Œè¿™ç§å†™æ³•ç‰¹åˆ«é€‚åˆ ä¸€å…ƒæ¡ä»¶ åˆ¤æ–­ã€‚ å¤šå…ƒæ¡ä»¶åˆ¤æ–­ä½†æ˜¯ï¼Œå¦‚æœåˆ¤æ–­æ¡ä»¶å˜å¾—æ›´åŠ å¤æ‚æ—¶ï¼Œä»¥ä¸Šçš„æ“ä½œå°±ä¸é€‚ç”¨äº†ï¼Œä¾‹å¦‚ï¼š 12345678910111213141516171819202122232425262728293031const onButtonClick = ( status,identity )=&gt;&#123; if (identity == &#x27;guest&#x27; )&#123; if (status == 1 )&#123; // ... &#125; else if (status == 2 )&#123; // ... &#125; else if ( status == 3 )&#123; // ... &#125; else if (status == 4 )&#123; // ... &#125; else if (status == 5 )&#123; // ... &#125; else &#123; // ... &#125; &#125; else if (identity == &#x27;master&#x27; ) &#123; if (status == 1 )&#123; // ... &#125; else if (status == 2 )&#123; // ... &#125; else if (status == 3 )&#123; // ... &#125; else if (status == 4 )&#123; // ... &#125; else if (status == 5 )&#123; // ... &#125; else &#123; // ... &#125; &#125;&#125; é‚£ä¹ˆä¸€æ—¦é‡åˆ°è¿™ç§å¤æ‚çš„æƒ…å†µï¼Œæœ€åˆçš„ä»£ç å°±ä¸é€‚ç”¨äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æœ€åˆçš„é€»è¾‘è¿›è¡Œä¼˜åŒ–å¯ä»¥è¿™ä¹ˆåšï¼š 123456789101112131415161718const actions = new Map([ [&#x27;guest_1&#x27;, ()=&gt;&#123;/* ... */&#125;], [&#x27;guest_2&#x27;, ()=&gt;&#123;/* ... */&#125;], [&#x27;guest_3&#x27;, ()=&gt;&#123;/* ... */&#125;], [&#x27;guest_4&#x27;, ()=&gt;&#123;/* ... */&#125;], [&#x27;guest_5&#x27;, ()=&gt;&#123;/* ... */&#125;], [&#x27;master_1&#x27;, ()=&gt;&#123;/* ... */&#125;], [&#x27;master_2&#x27;, ()=&gt;&#123;/* ... */&#125;], [&#x27;master_3&#x27;, ()=&gt;&#123;/* ... */&#125;], [&#x27;master_4&#x27;, ()=&gt;&#123;/* ... */&#125;], [&#x27;master_5&#x27;, ()=&gt;&#123;/* ... */&#125;], [&#x27;default&#x27;, ()=&gt;&#123;/* ... */&#125;],])const onButtonClick = (identity,status)=&gt;&#123; let action = actions.get(`$&#123;identity&#125;_$&#123;status&#125;`) || actions.get(&#x27;default&#x27;) action.call(this)&#125; ä¸Šè¿°ä»£ç çš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šå°†ä¸¤ä¸ªæ¡ä»¶æ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»¥æ‹¼æ¥åçš„æ¡ä»¶å­—ç¬¦ä¸²ä¸ºé”®ï¼Œä»¥å¤„ç†å‡½æ•°ä¸ºå€¼ï¼Œé€šè¿‡ Map å¯¹è±¡è¿›è¡ŒæŸ¥æ‰¾å¹¶æ‰§è¡Œã€‚è¿™ç§æ–¹å¼åœ¨å¤šæ¡ä»¶åˆ¤æ–­çš„æ—¶å€™ç‰¹åˆ«æœ‰ç”¨ã€‚","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"}]},{"title":"match()å‡½æ•°å’Œexec()å‡½æ•°çš„åŒºåˆ«","slug":"26-matchå‡½æ•°å’Œexecå‡½æ•°çš„åŒºåˆ«","date":"2025-03-20T15:51:08.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/7d1bb77e.html","permalink":"http://example.com/posts/7d1bb77e.html","excerpt":"","text":"ä¸€ã€match() æ–¹æ³•1.1ã€ç”¨é€”match() æ˜¯ å­—ç¬¦ä¸²(String) å¯¹è±¡çš„æ–¹æ³•ï¼Œç”¨æ¥æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å­—ç¬¦ä¸²ã€‚å®ƒä¼šè¿”å›ä¸€ä¸ª æ•°ç»„ æˆ– nullï¼Œå–å†³äºæ˜¯å¦åŒ¹é…åˆ°ã€‚ 1.2ã€è¯­æ³•1string.match(regexp) regexpï¼šå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼æˆ–è€…å­—ç¬¦ä¸²ï¼ˆè‡ªåŠ¨è½¬æˆæ­£åˆ™ï¼‰ã€‚ 1.3ã€è¿”å›å€¼è§„åˆ™ å¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸å¸¦å…¨å±€æ ‡å¿— gï¼Œè¿”å›çš„æ•°ç»„ç¬¬ **0 **é¡¹æ˜¯åŒ¹é…åˆ°çš„å†…å®¹ï¼Œç¬¬ 1 é¡¹å¼€å§‹æ˜¯æ•è·ç»„ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œå¹¶æœ‰é¢å¤–çš„å±æ€§ index å’Œ inputã€‚ å¦‚æœå¸¦ gï¼Œmatch() è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²çš„æ•°ç»„ï¼ˆæ²¡æœ‰æ•è·ç»„ä¿¡æ¯ï¼‰ã€‚ å¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œè¿”å› nullã€‚ 1.4ã€å¸¸è§ç¤ºä¾‹1234567891011// ä¸å¸¦ g çš„æƒ…å†µvar str = &#x27;api/getProduct/2&#x27;var match = str.match(/api\\/getProduct\\/(\\d+)/) // ()æ‹¬å·ç”¨äºåˆ›å»ºä¸€ä¸ªæ•è·ç»„console.log(match) // æ‰“å°å¦‚ä¸‹å›¾console.log(match[0]) // api/getProduct/2console.log(match[1]) // 2// å¸¦ g çš„æƒ…å†µlet str2 = &#x27;Today is sunny. Sunny days are nice.&#x27;let result2 = str2.match(/Sunny/gi)console.log(result2) // [&quot;sunny&quot;, &quot;Sunny&quot;]ï¼ˆå¤§å°å†™ä¸æ•æ„Ÿ g+iï¼‰ 2. exec() æ–¹æ³•2.1ã€ç”¨é€”exec() æ˜¯ æ­£åˆ™è¡¨è¾¾å¼(RegExp) å¯¹è±¡çš„æ–¹æ³•ï¼Œæ‰§è¡ŒåŒ¹é…å¹¶è¿”å›åŒ¹é…ç»“æœæ•°ç»„æˆ– nullã€‚ 2.2ã€è¯­æ³•1regexp.exec(string) 2.3ã€è¿”å›å€¼è§„åˆ™ è¿”å›çš„æ•°ç»„ç¬¬ 0 é¡¹æ˜¯åŒ¹é…åˆ°çš„æ•´ä½“ï¼Œç¬¬ 1 é¡¹å¼€å§‹æ˜¯æ•è·ç»„å†…å®¹ã€‚ æ€»æ˜¯è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…ï¼›å¦‚æœæ­£åˆ™è¡¨è¾¾å¼æœ‰ g æ ‡å¿—ï¼Œexec() ä¼šåœ¨å¤šæ¬¡è°ƒç”¨ä¹‹é—´ä¿å­˜ä¸Šä¸€æ¬¡çš„åŒ¹é…ä½ç½®ï¼ˆä¾é  lastIndex å±æ€§ï¼‰ã€‚ 2.4ã€å¸¸è§ç¤ºä¾‹12345678910111213141516171819202122232425262728293031jslet regex = /(\\d&#123;4&#125;)-(\\d&#123;2&#125;)-(\\d&#123;2&#125;)/;let dateStr = &quot;Today is 2024-06-15&quot;;let match = regex.exec(dateStr);console.log(match);/* è¾“å‡º:[ &quot;2024-06-15&quot;, // å®Œæ•´åŒ¹é… &quot;2024&quot;, // æ•è·ç»„1 &quot;06&quot;, // æ•è·ç»„2 &quot;15&quot;, // æ•è·ç»„3 index: 9, // åŒ¹é…å¼€å§‹ä½ç½® input: &quot;Today is 2024-06-15&quot;, groups: undefined]*/// g æ ‡å¿—çš„å¾ªç¯ä½¿ç”¨let regex2 = /\\d+/g;let str3 = &quot;123 and 456&quot;;let result;while ((result = regex2.exec(str3)) !== null) &#123; console.log(`Found $&#123;result[0]&#125; at index $&#123;result.index&#125;`);&#125;/*è¾“å‡º:Found 123 at index 0Found 456 at index 8*/ 3. æ€»ç»“å¯¹æ¯” ç‰¹æ€§ match() (String æ–¹æ³•) exec() (RegExp æ–¹æ³•) è°ƒç”¨è€… å­—ç¬¦ä¸² æ­£åˆ™è¡¨è¾¾å¼ è¿”å›å€¼ æ•°ç»„æˆ– null æ•°ç»„æˆ– null å¤„ç†å…¨å±€åŒ¹é… å¸¦ g è¿”å›æ‰€æœ‰åŒ¹é…å€¼æ•°ç»„ï¼Œæ²¡æœ‰æ•è·ç»„ä¿¡æ¯ å¸¦ g éœ€å¾ªç¯å¤šæ¬¡è°ƒç”¨å¾—åˆ°æ‰€æœ‰ç»“æœ æ•è·ç»„ä¿¡æ¯ ä¸å¸¦ g å¯ä»¥å¾—åˆ°æ•è·ç»„ä¿¡æ¯ å¯ä»¥å¾—åˆ°æ•è·ç»„ä¿¡æ¯ å¸¸ç”¨åœºæ™¯ ç›´æ¥è·å–æ‰€æœ‰åŒ¹é…çš„å­—ç¬¦ä¸² é€æ­¥åˆ†æåŒ¹é…å¹¶è·å–æ•è·ç»„ âœ… å»ºè®®ä½¿ç”¨ åªæ˜¯è¦æ‰€æœ‰åŒ¹é…çš„ç»“æœ â†’ match() + g éœ€è¦æ•è·ç»„ï¼ˆå¹¶å¯èƒ½éå†æ‰€æœ‰åŒ¹é…é¡¹ï¼‰ â†’ exec() ç»“åˆå¾ªç¯","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"}]},{"title":"javascriptä¸­throw-errorä¸throw-new-Error-errorçš„ç”¨æ³•åŠåŒºåˆ«","slug":"25-javascriptä¸­throw-errorä¸throw-new-Error-errorçš„ç”¨æ³•åŠåŒºåˆ«","date":"2025-03-18T15:51:08.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/e8619cd8.html","permalink":"http://example.com/posts/e8619cd8.html","excerpt":"","text":"æŠ›å‡ºé”™è¯¯ä¸€èˆ¬éƒ½æ˜¯ä¸try catch åŒæ—¶å‡ºç°çš„å…ˆçœ‹å®šä¹‰ï¼š throw new Error(error)ï¼š è¿™ä¸ªæ˜¯åˆ›å»ºé”™è¯¯ï¼Œåˆ›é€ ä¸€ä¸ªé”™è¯¯ç±»å‹æŠ›å‡º**throw errorï¼š**è¿™ä¸ªæ˜¯æŠ›å‡ºé”™è¯¯ã€‚ 1ã€throw new Error(error)12345678910var a = 5;try&#123; if(a==5)&#123; // æŠ›å‡ºé”™è¯¯ throw new Error(&quot;loopTerminates&quot;); //Errorè¦å¤§å†™ &#125;&#125;catch(e)&#123; console.log(e); //æ‰“å°å‡ºErrorå¯¹è±¡ï¼šError: loopTerminates console.log(e.message); //æ‰“å°ï¼šloopTerminates&#125; æ‰“å°ç»“æœï¼š 2ã€throw error12345678910var a = 5;try&#123; if(a==5)&#123; // æŠ›å‡ºé”™è¯¯ throw &quot;loopTerminates&quot;; &#125;&#125;catch(e)&#123; console.log(e); //æ‰“å°: loopTerminates console.log(e.message); //æ‰“å°ï¼šundefined&#125; æ‰“å°ç»“æœï¼š","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"}]},{"title":"Jsä½¿ç”¨newå…³é”®å­—è°ƒç”¨å‡½æ•°å’Œç›´æ¥è°ƒç”¨å‡½æ•°çš„åŒºåˆ«","slug":"24-Jsä½¿ç”¨newå…³é”®å­—è°ƒç”¨å‡½æ•°å’Œç›´æ¥è°ƒç”¨å‡½æ•°çš„åŒºåˆ«","date":"2025-03-10T15:51:08.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/be3789b9.html","permalink":"http://example.com/posts/be3789b9.html","excerpt":"","text":"è°ƒç”¨ç»å…¸çš„æ„é€ å‡½æ•°éœ€è¦åŠ new 123456789101112function Person(name, age, job)&#123; var o = new Object(); o.name = name; o.age = age; o.job = job; o.sayName = function () &#123; alert(this.name); &#125;; return o;&#125;console.log(new Person(&#x27;Nicholas&#x27;, 29, &#x27;Software&#x27;));// &#123;name: &#x27;Nicholas&#x27;, age: 29, job: &#x27;Software&#x27;, sayName: Æ’&#125; Personå‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä»¥ç›¸åº”çš„å±æ€§å’Œæ–¹æ³•åˆå§‹åŒ–è¯¥å¯¹è±¡ï¼Œç„¶ååˆè¿”å›äº†è¿™ä¸ªå¯¹è±¡ï¼Œé™¤äº†ä½¿ç”¨newæ“ä½œç¬¦ä¸”æŠŠä½¿ç”¨çš„åŒ…è£…å‡½æ•°å«åšæ„é€ å‡½æ•° çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘å°±å°†ä¸Šé¢çš„ä¾‹å­çš„newå…³é”®å­—å»æ‰ï¼Œå‘ç°å’ŒåŸæ¥ç»“æœä¸€æ ·ã€‚ 123456789101112function Person(name, age, job)&#123; var o = new Object(); o.name = name; o.age = age; o.job = job; o.sayName = function () &#123; alert(this.name); &#125;; return o;&#125;console.log(Person(&#x27;Nicholas&#x27;, 29, &#x27;Software&#x27;)); // &#123;name: &#x27;Nicholas&#x27;, age: 29, job: &#x27;Software&#x27;, sayName: Æ’&#125; è€Œåï¼Œå†™äº†å‡ ä¸ªä¾‹å­ï¼Œè¿›è¡Œæ¯”è¾ƒï¼š 12345678910111213function Person(name, age) &#123; this.name = name; this.age = age; this.sayName = function () &#123; alert(this.name); &#125;&#125;var person=new Person(&quot;å¼ ä¸‰&quot;,20); //æ­¤å¤„ä¸º æ„é€ å¯¹è±¡ï¼Œæ„é€ å¯¹è±¡çš„è¯ï¼Œè¿”å›çš„æ–°å¯¹è±¡æ˜¯ç”±è§£æå™¨è‡ªå·±ç”Ÿæˆçš„ã€‚console.log(person); // æœ‰new å‡½æ•°å†…éƒ¨çš„thisæŒ‡å‘å®ä¾‹æœ¬èº« // Person &#123;name: &quot;å¼ ä¸‰&quot;, age: 20, sayName: Æ’&#125; var person = Person(&quot;å¼ ä¸‰&quot;, 20); //æ²¡æœ‰new å‡½æ•°å†…éƒ¨çš„thisæŒ‡å‘windowconsole.log(person); //æŠ¥é”™ person undefined æ­¤å¤„ä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼Œåˆæ²¡æœ‰ç»™è¿”å›å€¼ï¼Œå‡ºé”™ã€‚ æ³¨æ„ï¼šæ„é€ å‡½æ•°åœ¨ä¸è¿”å›å€¼çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤è¿”å›æ–°å¯¹è±¡å®ä¾‹ã€‚","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"}]},{"title":"javaScriptä¸­å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","slug":"23-javaScriptä¸­å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","date":"2025-03-09T15:51:08.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/89a78f73.html","permalink":"http://example.com/posts/89a78f73.html","excerpt":"","text":"å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡çš†ä¸ºå¼‚æ­¥ä»»åŠ¡ï¼Œå®ƒä»¬éƒ½å±äºä¸€ä¸ªé˜Ÿåˆ—ï¼Œä¸»è¦åŒºåˆ«åœ¨äºä»–ä»¬çš„æ‰§è¡Œé¡ºåºï¼ŒEvent Loopçš„èµ°å‘å’Œå–å€¼ã€‚ Event Loopå³äº‹ä»¶å¾ªç¯ï¼Œæ˜¯æŒ‡æµè§ˆå™¨æˆ–Nodeçš„ä¸€ç§è§£å†³javaScriptå•çº¿ç¨‹è¿è¡Œæ—¶ä¸ä¼šé˜»å¡çš„ä¸€ç§æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨å¼‚æ­¥çš„åŸç†ã€‚ 1ã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡çš„åŒºåˆ«1234567891011å®ä»»åŠ¡ æµè§ˆå™¨ NodeI/O âœ… âœ…setTimeout âœ… âœ…setInterval âœ… âœ…setImmediate âŒ âœ…requestAnimationFrame âœ… âœ… å¾®ä»»åŠ¡process.nextTick âŒ âœ…MutationObserver âœ… âŒPromise.then catch finally âœ… âœ… å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡ä¹‹é—´çš„æ‰§è¡Œé¡ºåº(åŒæ­¥ä»»åŠ¡-&gt;å¾®ä»»åŠ¡-&gt;å®ä»»åŠ¡) 123456789101112setTimeout (() =&gt; &#123; console.log(4)&#125;) // å®ä»»åŠ¡new Promise (resolve =&gt; &#123; resolve() console.log(1) // åŒæ­¥ä»»åŠ¡1&#125;).then (() =&gt; &#123; console.log(3) // å¾®ä»»åŠ¡&#125;) console.log(2) // åŒæ­¥ä»»åŠ¡2// 1 2 3 4 ä¸‹é¢è¯´è¯´æ‰§è¡Œåˆ°å®ä»»åŠ¡åæ˜¯æ€ä¹ˆç»§ç»­è¿è¡Œçš„(è¿™é‡Œå£°æ˜ä¸‹ï¼Œæ•´æ®µjsä»£ç å°±æ˜¯ç¬¬ä¸€ä¸ªå¤§çš„å®ä»»åŠ¡ï¼Œäº‹ä»¶å¾ªç¯æ˜¯ç”±è¿™ç¬¬ä¸€ä¸ªå®ä»»åŠ¡å¼€å§‹çš„ï¼Œç„¶ååˆ†å‡ºå¾®ä»»åŠ¡ï¼Œè¿™é‡Œæ˜¯ä¸ºäº†ç†è§£å¾®ä»»åŠ¡å®ä»»åŠ¡çš„æ‰§è¡ŒåŒºåˆ«å°±å…ˆè·³è¿‡è¿™ç¬¬ä¸€å±‚) 2ã€åœºæ™¯å»é“¶è¡ŒåŠå­˜é’±ä¸šåŠ¡ï¼Œå…ˆå–å·å†æ’é˜Ÿã€‚ â€œæ‚¨çš„å·ç ä¸ºXXï¼Œå‰è¾¹è¿˜æœ‰XXäººã€‚â€ é“¶è¡ŒæŸœå°å‰æ’ç€ä¸€æ¡é˜Ÿä¼ï¼Œéƒ½æ˜¯å­˜é’±çš„äººï¼Œå­˜é’±å±äºå®ä»»åŠ¡ï¼Œè¿™æ¡é˜Ÿä¼å°±æ˜¯å®ä»»åŠ¡é˜Ÿåˆ—ã€‚ å½“ä¸€ä¸ªâ€œå¤§çˆ·â€è¢«å«åˆ°äº†è‡ªå·±çš„å·ç ï¼Œå°±ä¸Šå‰å»â€“è¢«å¤„ç†ï¼Œå¤„ç†å­˜é’±ä¸šåŠ¡æ—¶ï¼Œâ€˜å®å¤§çˆ·â€™çªç„¶æƒ³ç»™è‡ªå·±çš„å­˜æ¬¾åŠä¸ªå¾®ç†è´¢(å¾®ä»»åŠ¡)ï¼Œé‚£ä¹ˆé“¶è¡ŒèŒå‘˜å°±å°†ä»–çš„éœ€æ±‚æ·»åŠ åˆ°è‡ªå·±çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¤§çˆ·å°±ä¸ç”¨å†æ’é˜Ÿäº†ï¼Œç›´æ¥åœ¨å­˜é’±å®ä»»åŠ¡è¿›è¡Œå®Œåå°±å¤„ç†è¡ç”Ÿå‡ºæ¥çš„å¾®ä»»åŠ¡ç†è´¢ï¼ŒåŠç†è´¢æ—¶å¤§çˆ·åˆè¯´åŠä¸ªä¿¡ç”¨å¡ï¼Œé‚£å°±åˆæ’åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œã€‚å½“å¤§çˆ·çš„å¾®ä»»åŠ¡(åŠç†ç†è´¢å’ŒåŠä¿¡ç”¨å¡)æ²¡æœ‰åŠç†å®Œï¼Œæ˜¯ä¸ä¼šè®©è®©ä¸‹ä¸€ä¸ªäººåŠç†ä¸šåŠ¡çš„**(å³å¾®ä»»åŠ¡æ²¡æ‰§è¡Œå®Œæ˜¯ä¸ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡çš„)**ã€‚ ä½†è¦æ˜¯åœ¨æ­¤æ¬¡å­˜é’±æ—¶â€˜å®å¤§çˆ·â€™è¯´ä»–è¿˜è¦å­˜é’±ï¼Œä¸”æ˜¯ä»–è€ä¼´è¦å­˜é’±ï¼Œä¹Ÿæ˜¯å®ä»»åŠ¡ï¼Œä½†ä¸å¥½æ„æ€ï¼Œéœ€è¦å–å·åˆ°å®ä»»åŠ¡é˜Ÿåˆ—çš„åé¢æ’é˜Ÿï¼ˆè¿™é‡Œå°±æ˜¯åœ¨å®ä»»åŠ¡è¿›è¡Œæ—¶äº§ç”Ÿå¾®ä»»åŠ¡å’Œå®ä»»åŠ¡çš„å¤„ç†æ–¹å¼ï¼‰ã€‚ 3ã€æ¡ˆä¾‹ç»“åˆä¸‹é¢çš„é¢˜ç›®ç†è§£ç†è§£ï¼ˆè¿™é‡Œå…ˆä¸ä»‹ç»nodeç¯å¢ƒçš„äº‹ä»¶å¾ªç¯çš„ç‰¹æ®Šåœ°æ–¹ï¼Œä¸»è¦ä»¥æµè§ˆå™¨ç¯å¢ƒï¼‰ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;script&gt; setTimeout(function () &#123; //å®ä»»åŠ¡1 console.log(&#x27;1&#x27;); &#125;); new Promise(function (resolve) &#123; console.log(&#x27;2&#x27;); //åŒæ­¥ä»»åŠ¡1 resolve(); &#125;).then(function () &#123; //å¾®ä»»åŠ¡1 console.log(&#x27;3&#x27;); &#125;); console.log(&#x27;4&#x27;); //åŒæ­¥ä»»åŠ¡2 setTimeout(function () &#123; //å®ä»»åŠ¡2 console.log(&#x27;5&#x27;); //å®ä»»åŠ¡2ä¸­çš„åŒæ­¥ä»»åŠ¡ new Promise(function (resolve) &#123; console.log(&#x27;6&#x27;); //å®ä»»åŠ¡2ä¸­çš„åŒæ­¥ä»»åŠ¡ new Promise(function (resolve) &#123; //å®ä»»åŠ¡2ä¸­çš„å¾®ä»»åŠ¡ console.log(&#x27;x1&#x27;); resolve(); &#125;).then(function () &#123; console.log(&#x27;X2&#x27;); &#125;); setTimeout(function () &#123; //å®ä»»åŠ¡2ä¸­çš„å®ä»»åŠ¡ console.log(&#x27;X3&#x27;); new Promise(function (resolve) &#123; //å®ä»»åŠ¡2ä¸­çš„å®ä»»åŠ¡ä¸­çš„åŒæ­¥ä»»åŠ¡ console.log(&#x27;X4&#x27;); resolve(); &#125;).then(function () &#123; //å®ä»»åŠ¡2ä¸­çš„å®ä»»åŠ¡ä¸­çš„å¾®ä»»åŠ¡ console.log(&#x27;X5&#x27;); &#125;); &#125;) resolve(); &#125;).then(function () &#123; //å®ä»»åŠ¡2ä¸­çš„å¾®ä»»åŠ¡ console.log(&#x27;7&#x27;); &#125;); &#125;) setTimeout(function () &#123; //å®ä»»åŠ¡3 console.log(&#x27;8&#x27;); &#125;); //ï¼ˆå¯¹äºè¿™æ®µä»£ç nodeç¯å¢ƒå’Œæµè§ˆå™¨ç¯å¢ƒè¾“å‡ºä¸€è‡´ï¼‰ //è¾“å‡ºç­”æ¡ˆï¼š2,4,3,1,5,6,x1,x2,7,8,x3,x4,x5&lt;/script&gt;","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"},{"name":"Event Loop","slug":"Event-Loop","permalink":"http://example.com/tags/Event-Loop/"}]},{"title":"javascriptæ·±æ‹·è´ä¸æµ…æ‹·è´çš„åŒºåˆ«ï¼Œå®ç°æ·±æ‹·è´çš„å‡ ç§æ–¹æ³•","slug":"22-javascriptæ·±æ‹·è´ä¸æµ…æ‹·è´çš„åŒºåˆ«ï¼Œå®ç°æ·±æ‹·è´çš„å‡ ç§æ–¹æ³•","date":"2025-03-08T15:51:08.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/3889ed3f.html","permalink":"http://example.com/posts/3889ed3f.html","excerpt":"","text":"1ã€å¼•è¨€å¦‚ä½•åŒºåˆ†æ·±æ‹·è´ä¸æµ…æ‹·è´ï¼Œç®€å•ç‚¹æ¥è¯´ï¼Œå°±æ˜¯å‡è®¾Bå¤åˆ¶äº†Aï¼Œå½“ä¿®æ”¹Aæ—¶ï¼Œçœ‹Bæ˜¯å¦ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœBä¹Ÿè·Ÿç€å˜äº†ï¼Œè¯´æ˜è¿™æ˜¯æµ…æ‹·è´ï¼Œæ‹¿äººæ‰‹çŸ­ï¼Œå¦‚æœBæ²¡å˜ï¼Œé‚£å°±æ˜¯æ·±æ‹·è´ï¼Œè‡ªé£Ÿå…¶åŠ›ã€‚ æ­¤ç¯‡æ–‡ç« ä¸­ä¹Ÿä¼šç®€å•é˜è¿°åˆ°æ ˆå †ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ä¸å¼•ç”¨æ•°æ®ç±»å‹ï¼Œå› ä¸ºè¿™äº›æ¦‚å¿µèƒ½æ›´å¥½çš„è®©ä½ ç†è§£æ·±æ‹·è´ä¸æµ…æ‹·è´ã€‚ æˆ‘ä»¬æ¥ä¸¾ä¸ªæµ…æ‹·è´ä¾‹å­ï¼š 12345let a=[0,1,2,3,4], b=a;console.log(a===b);a[0]=1;console.log(a,b); å—¯ï¼Ÿæ˜æ˜bå¤åˆ¶äº†aï¼Œä¸ºå•¥ä¿®æ”¹æ•°ç»„aï¼Œæ•°ç»„bä¹Ÿè·Ÿç€å˜äº†ï¼Œè¿™é‡Œæˆ‘ä¸ç¦é™·å…¥äº†æ²‰æ€ã€‚ é‚£ä¹ˆè¿™é‡Œï¼Œå°±å¾—å¼•å…¥åŸºæœ¬æ•°æ®ç±»å‹ä¸å¼•ç”¨æ•°æ®ç±»å‹çš„æ¦‚å¿µäº†ã€‚ 2ã€åŸºæœ¬æ•°æ®ä¸å¤æ‚(å¼•ç”¨)æ•°æ®é¢è¯•å¸¸é—®ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Œnumberï¼Œstringï¼Œbooleanï¼Œnullï¼Œundefinedï¼Œsymbolä»¥åŠæœªæ¥ES10æ–°å¢çš„BigInt(ä»»æ„ç²¾åº¦æ•´æ•°)ä¸ƒç±»ã€‚ å¼•ç”¨æ•°æ®ç±»å‹(Objectç±»)æœ‰å¸¸è§„åå€¼å¯¹çš„æ— åºå¯¹è±¡{a:1}ï¼Œæ•°ç»„[1,2,3]ï¼Œä»¥åŠå‡½æ•°ç­‰ã€‚ è€Œè¿™ä¸¤ç±»æ•°æ®å­˜å‚¨åˆ†åˆ«æ˜¯è¿™æ ·çš„ï¼š 2.1ã€åŸºæœ¬ç±»å‹åå€¼å­˜å‚¨åœ¨æ ˆå†…å­˜ä¸­ï¼Œä¾‹å¦‚let a&#x3D;1; å½“ä½ b&#x3D;aå¤åˆ¶æ—¶ï¼Œæ ˆå†…å­˜ä¼šæ–°å¼€è¾Ÿä¸€ä¸ªå†…å­˜ï¼Œä¾‹å¦‚è¿™æ ·ï¼š æ‰€ä»¥å½“ä½ æ­¤æ—¶ä¿®æ”¹a&#x3D;2ï¼Œå¯¹bå¹¶ä¸ä¼šé€ æˆå½±å“ï¼Œå› ä¸ºæ­¤æ—¶çš„bå·²è‡ªé£Ÿå…¶åŠ›ï¼Œç¿…è†€ç¡¬äº†ï¼Œä¸å—açš„å½±å“äº†ã€‚å½“ç„¶ï¼Œlet a&#x3D;1,b&#x3D;a;è™½ç„¶bä¸å—aå½±å“ï¼Œä½†è¿™ä¹Ÿç®—ä¸ä¸Šæ·±æ‹·è´ï¼Œå› ä¸ºæ·±æ‹·è´æœ¬èº«åªé’ˆå¯¹è¾ƒä¸ºå¤æ‚çš„objectç±»å‹æ•°æ®ã€‚ 2.2ã€å¼•ç”¨æ•°æ®ç±»å‹åå­˜åœ¨æ ˆå†…å­˜ä¸­ï¼Œå€¼å­˜åœ¨äºå †å†…å­˜ä¸­ï¼Œä½†æ˜¯æ ˆå†…å­˜ä¼šæä¾›ä¸€ä¸ªå¼•ç”¨çš„åœ°å€æŒ‡å‘å †å†…å­˜ä¸­çš„å€¼ï¼Œæˆ‘ä»¬ä»¥ä¸Šé¢æµ…æ‹·è´çš„ä¾‹å­ç”»ä¸ªå›¾ï¼š å½“b&#x3D;aè¿›è¡Œæ‹·è´æ—¶ï¼Œå…¶å®å¤åˆ¶çš„æ˜¯açš„å¼•ç”¨åœ°å€ï¼Œè€Œå¹¶éå †é‡Œé¢çš„å€¼ã€‚ è€Œå½“æˆ‘ä»¬a[0]&#x3D;1æ—¶è¿›è¡Œæ•°ç»„ä¿®æ”¹æ—¶ï¼Œç”±äºaä¸bæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œæ‰€ä»¥è‡ªç„¶bä¹Ÿå—äº†å½±å“ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„æµ…æ‹·è´äº†ã€‚ é‚£ï¼Œè¦æ˜¯åœ¨å †å†…å­˜ä¸­ä¹Ÿå¼€è¾Ÿä¸€ä¸ªæ–°çš„å†…å­˜ä¸“é—¨ä¸ºbå­˜æ”¾å€¼ï¼Œå°±åƒåŸºæœ¬ç±»å‹é‚£æ ·ï¼Œå²‚ä¸å°±è¾¾åˆ°æ·±æ‹·è´çš„æ•ˆæœäº† 3ã€å®ç°ç®€å•çš„æ·±æ‹·è´3.1ã€é€’å½’è¿™ä¹ˆæˆ‘ä»¬å°è£…ä¸€ä¸ªæ·±æ‹·è´çš„å‡½æ•°(PSï¼šåªæ˜¯ä¸€ä¸ªåŸºæœ¬å®ç°çš„å±•ç¤ºï¼Œå¹¶éæœ€ä½³å®è·µ) 123456789101112131415161718192021function deepClone(obj)&#123; let objClone = Array.isArray(obj)?[]:&#123;&#125;; if(obj &amp;&amp; typeof obj===&quot;object&quot;)&#123; for(key in obj)&#123; if(obj.hasOwnProperty(key))&#123; //åˆ¤æ–­ojbå­å…ƒç´ æ˜¯å¦ä¸ºå¯¹è±¡ï¼Œå¦‚æœæ˜¯ï¼Œé€’å½’å¤åˆ¶ if(obj[key]&amp;&amp;typeof obj[key] ===&quot;object&quot;)&#123; objClone[key] = deepClone(obj[key]); &#125;else&#123; //å¦‚æœä¸æ˜¯ï¼Œç®€å•å¤åˆ¶ objClone[key] = obj[key]; &#125; &#125; &#125; &#125; return objClone;&#125; let a=[1,2,3,4], b=deepClone(a);a[0]=2;console.log(a,b); å¯ä»¥çœ‹åˆ° è·Ÿä¹‹å‰æƒ³è±¡çš„ä¸€æ ·ï¼Œç°åœ¨bè„±ç¦»äº†açš„æ§åˆ¶ï¼Œä¸å†å—aå½±å“äº†ã€‚ è¿™é‡Œå†æ¬¡å¼ºè°ƒï¼Œæ·±æ‹·è´ï¼Œæ˜¯æ‹·è´å¯¹è±¡å„ä¸ªå±‚çº§çš„å±æ€§ï¼Œå¯ä»¥çœ‹ä¸ªä¾‹å­ã€‚JQé‡Œæœ‰ä¸€ä¸ªextendæ–¹æ³•ä¹Ÿå¯ä»¥æ‹·è´å¯¹è±¡ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ 1234let a=[1,2,3,4], b=a.slice();a[0]=2;console.log(a,b); é‚£æ˜¯ä¸æ˜¯è¯´sliceæ–¹æ³•ä¹Ÿæ˜¯æ·±æ‹·è´äº†ï¼Œæ¯•ç«Ÿbä¹Ÿæ²¡å—açš„å½±å“ï¼Œä¸Šé¢è¯´äº†ï¼Œæ·±æ‹·è´æ˜¯ä¼šæ‹·è´æ‰€æœ‰å±‚çº§çš„å±æ€§ï¼Œè¿˜æ˜¯è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æŠŠaæ”¹æ”¹ 12345let a=[0,1,[2,3],4], b=a.slice();a[0]=1;a[2][0]=1;console.log(a,b); æ‹·è´çš„ä¸å½»åº•å•Šï¼Œbå¯¹è±¡çš„ä¸€çº§å±æ€§ç¡®å®ä¸å—å½±å“äº†ï¼Œä½†æ˜¯äºŒçº§å±æ€§è¿˜æ˜¯æ²¡èƒ½æ‹·è´æˆåŠŸï¼Œä»ç„¶è„±ç¦»ä¸äº†açš„æ§åˆ¶ï¼Œè¯´æ˜sliceæ ¹æœ¬ä¸æ˜¯çœŸæ­£çš„æ·±æ‹·è´ã€‚ è¿™é‡Œå¼•ç”¨çŸ¥ä¹é—®ç­”é‡Œé¢çš„ä¸€å¼ å›¾ ç¬¬ä¸€å±‚çš„å±æ€§ç¡®å®æ·±æ‹·è´ï¼Œæ‹¥æœ‰äº†ç‹¬ç«‹çš„å†…å­˜ï¼Œä½†æ›´æ·±çš„å±æ€§å´ä»ç„¶å…¬ç”¨äº†åœ°å€ï¼Œæ‰€ä»¥æ‰ä¼šé€ æˆä¸Šé¢çš„é—®é¢˜ã€‚ åŒç†ï¼Œconcatæ–¹æ³•ä¸sliceä¹Ÿå­˜åœ¨è¿™æ ·çš„æƒ…å†µï¼Œä»–ä»¬éƒ½ä¸æ˜¯çœŸæ­£çš„æ·±æ‹·è´ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ã€‚ 3.2ã€JSONå¯¹è±¡çš„parseå’Œstringify12345678910function deepClone(obj)&#123; let _obj = JSON.stringify(obj), objClone = JSON.parse(_obj); return objClone&#125; let a=[0,1,[2,3],4], b=deepClone(a);a[0]=1;a[2][0]=1;console.log(a,b); å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸‹bæ˜¯å®Œå…¨ä¸å—açš„å½±å“äº†ã€‚ é™„å¸¦è¯´ä¸‹ï¼ŒJSON.stringifyä¸JSON.parseé™¤äº†å®ç°æ·±æ‹·è´ï¼Œè¿˜èƒ½ç»“åˆlocalStorageå®ç°å¯¹è±¡æ•°ç»„å­˜å‚¨ã€‚æœ‰å…´è¶£å¯ä»¥é˜…è¯»åšä¸»è¿™ç¯‡æ–‡ç« ã€‚ localStorageå­˜å‚¨æ•°ç»„ï¼Œå¯¹è±¡ï¼ŒlocalStorage,sessionStorageå­˜å‚¨æ•°ç»„å¯¹è±¡ 3.3ã€JQçš„extend***$*.extend( [deep ], target, object1 [, objectN ] )** deepè¡¨ç¤ºæ˜¯å¦æ·±æ‹·è´ï¼Œä¸ºtrueä¸ºæ·±æ‹·è´ï¼Œä¸ºfalseï¼Œåˆ™ä¸ºæµ…æ‹·è´ target** Objectç±»å‹ ç›®æ ‡å¯¹è±¡ï¼Œå…¶ä»–å¯¹è±¡çš„æˆå‘˜å±æ€§å°†è¢«é™„åŠ åˆ°è¯¥å¯¹è±¡ä¸Šã€‚ object1 objectNå¯é€‰ã€‚ Objectç±»å‹ ç¬¬ä¸€ä¸ªä»¥åŠç¬¬Nä¸ªè¢«åˆå¹¶çš„å¯¹è±¡ã€‚ 12345let a=[0,1,[2,3],4], b=$.extend(true,[],a);a[0]=1;a[2][0]=1;console.log(a,b); å¯ä»¥çœ‹åˆ°ï¼Œæ•ˆæœä¸ä¸Šé¢æ–¹æ³•ä¸€æ ·ï¼Œåªæ˜¯éœ€è¦ä¾èµ–JQåº“ã€‚ é‚£ä¹ˆåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çŸ¥é“äº†æ·±æ‹·è´ä¸æµ…æ‹·è´çš„åŒºåˆ«ï¼ŒåŒæ—¶ä»æ•°æ®å­˜å‚¨è§„åˆ™æ¥è§£é‡Šï¼Œä¹Ÿæ˜ç™½äº†ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ·±æ‹·è´ï¼›å…¶æ¬¡ï¼Œæˆ‘ä»¬çŸ¥é“äº†å‡ ç§ç®€å•ç²—æš´çš„æ·±æ‹·è´åŠæ³•ï¼Œä¹Ÿæ˜ç™½åœ¨ä½•ç§æƒ…å†µä¸‹æˆ‘ä»¬åº”è¯¥ä½¿ç”¨æ·±æ‹·è´ã€‚ å¯¹äºæ–‡ç« ä¸­ç®€å•æåŠçš„æ ˆå †æ¦‚å¿µï¼Œæˆ‘ä¸“é—¨æ•´ç†äº†ä¸€ç¯‡å…³äºJSå†…å­˜ç©ºé—´çš„æ–‡ç« ï¼Œè‹¥æœ‰å…´è¶£æ¬¢è¿é˜…è¯» JS ä»å†…å­˜ç©ºé—´è°ˆåˆ°åƒåœ¾å›æ”¶æœºåˆ¶ è¿™ç¯‡æ–‡ç« ã€‚ å…¶å®stringifyä¸parseåœ¨æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨ç‰¹åˆ«é¢‘ç¹ï¼Œå¦‚æœå¤§å®¶å¯¹äºå®ƒä¸¤è¿˜æœ‰ä¸è§£ï¼Œå¯ä»¥é˜…è¯»åšä¸» json.stringify()çš„å¦™ç”¨ï¼Œjson.stringify()ä¸json.parse()çš„åŒºåˆ« è¿™ç¯‡æ–‡ç« ã€‚ è½¬è½½äºï¼šhttps://www.cnblogs.com/echolun/p/7889848.html","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"}]},{"title":"javascripté—­åŒ…","slug":"21-Javascripté—­åŒ…","date":"2025-03-07T15:51:08.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/5ba26f4d.html","permalink":"http://example.com/posts/5ba26f4d.html","excerpt":"","text":"1ã€å˜é‡çš„ä½œç”¨åŸŸå˜é‡çš„ä½œç”¨åŸŸæ— éå°±æ˜¯ä¸¤ç§ï¼šå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚Javascriptè¯­è¨€çš„ç‰¹æ®Šä¹‹å¤„ï¼Œå°±åœ¨äºå‡½æ•°å†…éƒ¨å¯ä»¥ç›´æ¥è¯»å–å…¨å±€å˜é‡ã€‚ 12345var n=999;function f1()&#123; alert(n);&#125;f1(); // 999 å¦ä¸€æ–¹é¢ï¼Œåœ¨å‡½æ•°å¤–éƒ¨è‡ªç„¶æ— æ³•è¯»å–å‡½æ•°å†…çš„å±€éƒ¨å˜é‡ã€‚ 1234function f1()&#123; var n=999;&#125;alert(n); // error 2ã€å¦‚ä½•ä»å¤–éƒ¨è¯»å–å±€éƒ¨å˜é‡ï¼Ÿå‡ºäºç§ç§åŸå› ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦å¾—åˆ°å‡½æ•°å†…çš„å±€éƒ¨å˜é‡ã€‚ä½†æ˜¯ï¼Œå‰é¢å·²ç»è¯´è¿‡äº†ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿™æ˜¯åŠä¸åˆ°çš„ï¼Œåªæœ‰é€šè¿‡å˜é€šæ–¹æ³•æ‰èƒ½å®ç°ã€‚ é‚£å°±æ˜¯åœ¨å‡½æ•°çš„å†…éƒ¨ï¼Œå†å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚ 123456function f1()&#123; var n=999; function f2()&#123; alert(n); // 999 &#125;&#125; åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå‡½æ•°f2å°±è¢«åŒ…æ‹¬åœ¨å‡½æ•°f1å†…éƒ¨ï¼Œè¿™æ—¶f1å†…éƒ¨çš„æ‰€æœ‰å±€éƒ¨å˜é‡ï¼Œå¯¹f2éƒ½æ˜¯å¯è§çš„ã€‚ä½†æ˜¯åè¿‡æ¥å°±ä¸è¡Œï¼Œf2å†…éƒ¨çš„å±€éƒ¨å˜é‡ï¼Œå¯¹f1å°±æ˜¯ä¸å¯è§çš„ã€‚è¿™å°±æ˜¯Javascriptè¯­è¨€ç‰¹æœ‰çš„â€é“¾å¼ä½œç”¨åŸŸâ€ç»“æ„ï¼ˆchain scopeï¼‰ï¼Œå­å¯¹è±¡ä¼šä¸€çº§ä¸€çº§åœ°å‘ä¸Šå¯»æ‰¾æ‰€æœ‰çˆ¶å¯¹è±¡çš„å˜é‡ã€‚æ‰€ä»¥ï¼Œçˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡ï¼Œå¯¹å­å¯¹è±¡éƒ½æ˜¯å¯è§çš„ï¼Œåä¹‹åˆ™ä¸æˆç«‹ã€‚ æ—¢ç„¶f2å¯ä»¥è¯»å–f1ä¸­çš„å±€éƒ¨å˜é‡ï¼Œé‚£ä¹ˆåªè¦æŠŠf2ä½œä¸ºè¿”å›å€¼ï¼Œæˆ‘ä»¬ä¸å°±å¯ä»¥åœ¨f1å¤–éƒ¨è¯»å–å®ƒçš„å†…éƒ¨å˜é‡äº†å—ï¼ 12345678910function f1()&#123; var n=999; function f2()&#123; alert(n); &#125; //return ä¸èƒ½ç›´æ¥returnä¸€ä¸ªå‡½æ•° return f2;&#125;var result=f1();result(); // 999 3ã€é—­åŒ…çš„æ¦‚å¿µä¸Šä¸€èŠ‚ä»£ç ä¸­çš„f2å‡½æ•°ï¼Œå°±æ˜¯é—­åŒ…ã€‚ é—­åŒ…å°±æ˜¯èƒ½å¤Ÿè¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚ ç”±äºåœ¨Javascriptè¯­è¨€ä¸­ï¼Œåªæœ‰å‡½æ•°å†…éƒ¨çš„å­å‡½æ•°æ‰èƒ½è¯»å–å±€éƒ¨å˜é‡ï¼Œå› æ­¤å¯ä»¥æŠŠé—­åŒ…ç®€å•ç†è§£æˆâ€å®šä¹‰åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å‡½æ•°â€ã€‚ æ‰€ä»¥ï¼Œåœ¨æœ¬è´¨ä¸Šï¼Œé—­åŒ…å°±æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå‡½æ•°å¤–éƒ¨è¿æ¥èµ·æ¥çš„ä¸€åº§æ¡¥æ¢ã€‚ 4ã€é—­åŒ…çš„ç”¨é€”é—­åŒ…å¯ä»¥ç”¨åœ¨è®¸å¤šåœ°æ–¹ã€‚å®ƒçš„æœ€å¤§ç”¨å¤„æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯å‰é¢æåˆ°çš„å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œå¦ä¸€ä¸ªå°±æ˜¯è®©è¿™äº›å˜é‡çš„å€¼å§‹ç»ˆä¿æŒåœ¨å†…å­˜ä¸­ã€‚ æ€ä¹ˆæ¥ç†è§£è¿™å¥è¯å‘¢ï¼Ÿè¯·çœ‹ä¸‹é¢çš„ä»£ç ã€‚ 12345678910111213function f1()&#123; var n=999; nAdd=function()&#123;n+=1&#125; function f2()&#123; alert(n); &#125; return f2; &#125; var result=f1(); result(); // 999 nAdd(); result(); // 1000 åœ¨è¿™æ®µä»£ç ä¸­ï¼Œresultå®é™…ä¸Šå°±æ˜¯é—­åŒ…f2å‡½æ•°ã€‚å®ƒä¸€å…±è¿è¡Œäº†ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡çš„å€¼æ˜¯999ï¼Œç¬¬äºŒæ¬¡çš„å€¼æ˜¯1000ã€‚è¿™è¯æ˜äº†ï¼Œå‡½æ•°f1ä¸­çš„å±€éƒ¨å˜é‡nä¸€ç›´ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå¹¶æ²¡æœ‰åœ¨f1è°ƒç”¨åè¢«è‡ªåŠ¨æ¸…é™¤ã€‚ ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼ŸåŸå› å°±åœ¨äºf1æ˜¯f2çš„çˆ¶å‡½æ•°ï¼Œè€Œf2è¢«èµ‹ç»™äº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè¿™å¯¼è‡´f2å§‹ç»ˆåœ¨å†…å­˜ä¸­ï¼Œè€Œf2çš„å­˜åœ¨ä¾èµ–äºf1ï¼Œå› æ­¤f1ä¹Ÿå§‹ç»ˆåœ¨å†…å­˜ä¸­ï¼Œä¸ä¼šåœ¨è°ƒç”¨ç»“æŸåï¼Œè¢«åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆgarbage collectionï¼‰å›æ”¶ã€‚ è¿™æ®µä»£ç ä¸­å¦ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„åœ°æ–¹ï¼Œå°±æ˜¯â€nAdd&#x3D;function(){n+&#x3D;1}â€è¿™ä¸€è¡Œï¼Œé¦–å…ˆåœ¨nAddå‰é¢æ²¡æœ‰ä½¿ç”¨varå…³é”®å­—ï¼Œå› æ­¤nAddæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè€Œä¸æ˜¯å±€éƒ¨å˜é‡ã€‚å…¶æ¬¡ï¼ŒnAddçš„å€¼æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼ˆanonymous functionï¼‰ï¼Œè€Œè¿™ä¸ªåŒ¿åå‡½æ•°æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œæ‰€ä»¥nAddç›¸å½“äºæ˜¯ä¸€ä¸ªsetterï¼Œå¯ä»¥åœ¨å‡½æ•°å¤–éƒ¨å¯¹å‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡è¿›è¡Œæ“ä½œã€‚ 5ã€ä½¿ç”¨é—­åŒ…çš„æ³¨æ„ç‚¹1ï¼‰ç”±äºé—­åŒ…ä¼šä½¿å¾—å‡½æ•°ä¸­çš„å˜é‡éƒ½è¢«ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå†…å­˜æ¶ˆè€—å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸èƒ½æ»¥ç”¨é—­åŒ…ï¼Œå¦åˆ™ä¼šé€ æˆç½‘é¡µçš„æ€§èƒ½é—®é¢˜ï¼Œåœ¨IEä¸­å¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²ã€‚è§£å†³æ–¹æ³•æ˜¯ï¼Œåœ¨é€€å‡ºå‡½æ•°ä¹‹å‰ï¼Œå°†ä¸ä½¿ç”¨çš„å±€éƒ¨å˜é‡å…¨éƒ¨åˆ é™¤ã€‚ 2ï¼‰é—­åŒ…ä¼šåœ¨çˆ¶å‡½æ•°å¤–éƒ¨ï¼Œæ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æŠŠçˆ¶å‡½æ•°å½“ä½œå¯¹è±¡ï¼ˆobjectï¼‰ä½¿ç”¨ï¼ŒæŠŠé—­åŒ…å½“ä½œå®ƒçš„å…¬ç”¨æ–¹æ³•ï¼ˆPublic Methodï¼‰ï¼ŒæŠŠå†…éƒ¨å˜é‡å½“ä½œå®ƒçš„ç§æœ‰å±æ€§ï¼ˆprivate valueï¼‰ï¼Œè¿™æ—¶ä¸€å®šè¦å°å¿ƒï¼Œä¸è¦éšä¾¿æ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚ ä»£ç 1ï¼š 1234567891011121314 var name = &quot;The Window&quot;; var object = &#123; name : &quot;My Object&quot;, getNameFunc : function()&#123; return function()&#123; //æ™®é€šå‡½æ•°çš„thisåªæƒ³ä¸€èˆ¬éƒ½æŒ‡å‘window æ‰€ä»¥retuenå‡ºå»çš„thisä¹Ÿæ˜¯æŒ‡å‘window return this.name; &#125;; &#125; &#125;; var result = object.getNameFunc() //æ‰“å°çš„æ˜¯function()&#123;return this.name&#125;è¿™ä¸ªå‡½æ•° è¿™é‡ŒthisæŒ‡å‘window ä¹Ÿå°±æ˜¯å…¨å±€ æ‰€ä»¥è¿™é‡Œthis.nameä¸ºThe Windowconsole.log(result); console.log(result()); //The Window ä»£ç 2ï¼š 12345678910111213 var name = &quot;The Window&quot;; var object = &#123; name : &quot;My Object&quot;, getNameFunc : function()&#123; //è¿™é‡Œçš„thisæŒ‡å‘çš„æ˜¯object var that = this; return function()&#123; //æ‰€ä»¥è¿™é‡Œreturnå‡ºå»çš„that.nameå°±æ˜¯My Object return that.name; &#125;; &#125; &#125;; alert(object.getNameFunc()()); //My Object","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"}]},{"title":"ES6-Mapå’ŒSetä¸iterableç±»å‹","slug":"20-ES6-Mapå’ŒSetä¸iterableç±»å‹","date":"2025-03-05T15:51:08.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/7bf3d856.html","permalink":"http://example.com/posts/7bf3d856.html","excerpt":"","text":"ä¸€ã€Mapï¼ˆæ˜ å°„ï¼‰åœ¨ES6ä¹‹å‰ï¼ŒJavaScripté‡Œé€šå¸¸ç”¨ æ™®é€šå¯¹è±¡ï¼ˆObjectï¼‰ æ¥å­˜å‚¨é”®å€¼å¯¹ã€‚ è¿™æ ·ä¼šå¯¼è‡´å¾ˆå¤šé—®é¢˜ï¼š é”®åªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼ˆæˆ–Symbolï¼‰ï¼Œå®é™…ä¸ŠNumberæˆ–è€…å…¶ä»–æ•°æ®ç±»å‹ä½œä¸ºé”®ä¹Ÿæ˜¯éå¸¸åˆç†çš„ï¼› æ— æ³•ä¿è¯æ’å…¥é¡ºåºï¼ˆæ—§ç‰ˆJSå¯¹è±¡ä¸ä¿è¯å±æ€§é¡ºåºï¼‰ äºæ˜¯ï¼ŒES6 å¼•å…¥äº† Map â€”â€” ä¸€ä¸ªçœŸæ­£çš„é”®å€¼å¯¹é›†åˆï¼Œæ”¯æŒä»»æ„ç±»å‹çš„é”®ï¼Œå¹¶ä¸”ä¿æŒæ’å…¥é¡ºåºã€‚ Map æ˜¯ä¸€ç§æœ‰åºçš„é”®å€¼å¯¹é›†åˆï¼Œå…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦ï¼Œå…è®¸ä»»ä½•ç±»å‹çš„é”®ï¼ŒåŒ…æ‹¬åŸå§‹ç±»å‹å’Œå¯¹è±¡ã€‚å®ƒæ¯”æ™®é€šå¯¹è±¡æä¾›äº†æ›´ä¸°å¯Œçš„åŠŸèƒ½ï¼Œå°¤å…¶æ˜¯åœ¨é”®å€¼å¯¹ç®¡ç†æ–¹é¢ã€‚ 1.1ã€ç‰¹ç‚¹ åˆå§‹åŒ–Mapéœ€è¦ä¸€ä¸ªäºŒç»´æ•°ç»„æˆ–è€…ç›´æ¥åˆå§‹åŒ–ä¸€ä¸ªç©ºMapã€‚ é”®å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼ˆå¯¹è±¡ã€å‡½æ•°ã€åŸå§‹ç±»å‹ç­‰ï¼‰ã€‚ æŒ‰æ’å…¥é¡ºåºå­˜å‚¨é”®å€¼å¯¹ã€‚ æ”¯æŒ size å±æ€§æ¥è·å– Map çš„å¤§å°ã€‚ æ”¯æŒ set(), get(), has(), delete(), clear() ç­‰æ–¹æ³•ã€‚ 1.2ã€åˆ›å»º Map12345678910// ç©º Mapconst map = new Map();// ä»äºŒç»´æ•°ç»„åˆå§‹åŒ–const userMap = new Map([ [&#x27;name&#x27;, &#x27;Alice&#x27;], [1, &#x27;å¹´é¾„&#x27;], [true, &#x27;æ˜¯å¦VIP&#x27;]]);console.log(userMap); // Map(3) &#123;&#x27;name&#x27; =&gt; &#x27;Alice&#x27;, 1 =&gt; &#x27;å¹´é¾„&#x27;, true =&gt; &#x27;æ˜¯å¦VIP&#x27;&#125; 1.3ã€Mapå±æ€§Map.prototype.size: Map ç»“æ„çš„æˆå‘˜æ€»æ•° 12345const map = new Map();map.set(&#x27;name&#x27;, &#x27;Bob&#x27;); // å­—ç¬¦ä¸²é”®map.set(1, &#x27;æ•°å­—é”®&#x27;); // æ•°å­—é”®map.set(&#123; id: 1 &#125;, &#x27;å¯¹è±¡é”®&#x27;); // å¯¹è±¡é”®console.log(map.size); // 3 1.4ã€Mapæ–¹æ³•Map çš„æ–¹æ³•éƒ½æ˜¯ç»§æ‰¿äºåŸå‹ï¼ŒMap.prototype.set(key, value) set(key, value) ï¼šè®¾ç½®é”®å€¼åï¼Œè¿”å›æ•´ä¸ª Map ç»“æ„ get(key): è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°keyï¼Œè¿”å›undefined has(key): è¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­ delete(key): æˆåŠŸåˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›trueï¼Œå¦åˆ™è¿”å› false clear(): æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ 1ï¼‰æ·»åŠ &#x2F;ä¿®æ”¹é”®å€¼ï¼ˆsetï¼‰12345const map = new Map();map.set(&#x27;name&#x27;, &#x27;Bob&#x27;); // å­—ç¬¦ä¸²é”®map.set(1, &#x27;æ•°å­—é”®&#x27;); // æ•°å­—é”®map.set(&#123; id: 1 &#125;, &#x27;å¯¹è±¡é”®&#x27;); // å¯¹è±¡é”®console.log(map) // Map(3) &#123;&#x27;name&#x27; =&gt; &#x27;Bob&#x27;, 1 =&gt; &#x27;æ•°å­—é”®&#x27;, &#123;â€¦&#125; =&gt; &#x27;å¯¹è±¡é”®&#x27;&#125; 2ï¼‰è·å–å€¼ï¼ˆgetï¼‰123console.log(map.get(&#x27;name&#x27;)); // &#x27;Bob&#x27;console.log(map.get(1)); // &#x27;æ•°å­—é”®&#x27;console.log(map.get(&#123; id: 1 &#125;)); // undefined âŒï¼ˆä¸åŒå¯¹è±¡å¼•ç”¨ï¼‰ 1234const obj = &#123; id: 1 &#125;const map = new Map();map.set(obj, &#x27;å¯¹è±¡é”®&#x27;);console.log(map.get(obj); // å¯¹è±¡é”® 3ï¼‰åˆ é™¤é”®å€¼ï¼ˆdeleteï¼‰12console.log(map.delete(&#x27;name&#x27;)) // åˆ é™¤æˆåŠŸè¿”å› trueconsole.log(map.delete(&#x27;ä¸å­˜åœ¨çš„é”®&#x27;)) // è¿”å› false 4ï¼‰æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ï¼ˆhasï¼‰12console.log(map.has(1)); // trueconsole.log(map.has(&#x27;age&#x27;)); // false 5ï¼‰æ¸…ç©º Mapï¼ˆclearï¼‰12map.clear();console.log(map); // Map &#123;&#125; 1.5ã€Mapéå†12345678910111213141516const userMap = new Map([ [&#x27;name&#x27;, &#x27;Alice&#x27;], [&#x27;age&#x27;, 25], [&#x27;isVIP&#x27;, true]])// forEachuserMap.forEach((value, key) =&gt; &#123; console.log(`$&#123;key&#125;: $&#123;value&#125;`)&#125;)// for...ofï¼ˆè¿”å› [key, value] æ•°ç»„ï¼‰for (const [key, value] of userMap) &#123; console.log(key, value)&#125; 1.6ã€å°† Map ç»“æ„è½¬æ¢ä¸ºæ•°ç»„ç»“æ„123456789101112131415161718const map = new Map([ [1, &#x27;one&#x27;], [2, &#x27;two&#x27;], [3, &#x27;three&#x27;],]);[...map.keys()]// [1, 2, 3][...map.values()]// [&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;][...map.entries()]// [[1,&#x27;one&#x27;], [2, &#x27;two&#x27;], [3, &#x27;three&#x27;]][...map]// [[1,&#x27;one&#x27;], [2, &#x27;two&#x27;], [3, &#x27;three&#x27;]] é™¤äº†è½¬æ¢ä¸ºæ•°ç»„ï¼Œä¹Ÿå¯ä»¥è·Ÿå…¶ä»–æ•°æ®ç»“æ„äº’ç›¸è½¬æ¢ï¼Œå¦‚ Map è½¬ä¸ºå¯¹è±¡ï¼Œå¯¹è±¡è½¬ Map Map è½¬ä¸º JSONï¼Œ JSON è½¬ Map 1.7ã€å®æˆ˜åœºæ™¯1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071// ğŸ””åœºæ™¯ 1ï¼šç¼“å­˜æ•°æ®ï¼ˆå¦‚ API è¯·æ±‚ç»“æœï¼‰const cache = new Map();function fetchData(url) &#123; if (cache.has(url)) &#123; console.log(&#x27;ä»ç¼“å­˜è¯»å–:&#x27;, url); return Promise.resolve(cache.get(url)); &#125; return fetch(url) .then(res =&gt; res.json()) .then(data =&gt; &#123; cache.set(url, data); return data; &#125;);&#125;// ä½¿ç”¨fetchData(&#x27;/api/user&#x27;).then(console.log);fetchData(&#x27;/api/user&#x27;).then(console.log); // ç¬¬äºŒæ¬¡ç›´æ¥ä»ç¼“å­˜// ä¼˜ç‚¹ï¼šMap çš„é”®å¯ä»¥ç›´æ¥ç”¨ URL å¯¹è±¡æˆ–å­—ç¬¦ä¸²ï¼Œä¸ä¼šå‘ç”Ÿé”®åå†²çªã€‚// ğŸ””åœºæ™¯ 2ï¼šç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°const items = [&#x27;apple&#x27;, &#x27;banana&#x27;, &#x27;apple&#x27;, &#x27;orange&#x27;, &#x27;banana&#x27;, &#x27;apple&#x27;];const counter = new Map();for (const item of items) &#123; counter.set(item, (counter.get(item) || 0) + 1);&#125;console.log(counter);// Map(3) &#123; &#x27;apple&#x27; =&gt; 3, &#x27;banana&#x27; =&gt; 2, &#x27;orange&#x27; =&gt; 1 &#125;// ä¼˜ç‚¹ï¼šç›´æ¥ç”¨ Map å­˜å‚¨è®¡æ•°ï¼Œé”®æ˜¯ä»»æ„ç±»å‹ï¼Œç»Ÿè®¡æ–¹ä¾¿ã€‚// ğŸ””åœºæ™¯ 3ï¼šå­˜å‚¨å¯¹è±¡ä¸å…ƒæ•°æ®çš„æ˜ å°„const user1 = &#123; name: &#x27;Alice&#x27; &#125;;const user2 = &#123; name: &#x27;Bob&#x27; &#125;;const lastLogin = new Map();lastLogin.set(user1, &#x27;2024-06-01&#x27;);lastLogin.set(user2, &#x27;2024-06-02&#x27;);console.log(lastLogin.get(user1)); // 2024-06-01// ä¼˜ç‚¹ï¼šéå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåºï¼Œé€‚åˆéœ€è¦é¡ºåºå¤„ç†çš„ä¸šåŠ¡ã€‚// ğŸ””åœºæ™¯ 4ï¼šæŒ‰æ’å…¥é¡ºåºéå†const orders = new Map();orders.set(101, &#x27;å·²æ”¯ä»˜&#x27;);orders.set(102, &#x27;å¾…æ”¯ä»˜&#x27;);orders.set(103, &#x27;å·²å–æ¶ˆ&#x27;);for (const [id, status] of orders) &#123; console.log(`è®¢å• $&#123;id&#125; çŠ¶æ€: $&#123;status&#125;`);&#125;// ä¼˜ç‚¹ï¼šéå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåºï¼Œé€‚åˆéœ€è¦é¡ºåºå¤„ç†çš„ä¸šåŠ¡ã€‚// ğŸ””åœºæ™¯ 5ï¼šæ›¿ä»£ switch-caseconst actionMap = new Map([ [&#x27;create&#x27;, () =&gt; console.log(&#x27;åˆ›å»º&#x27;)], [&#x27;update&#x27;, () =&gt; console.log(&#x27;æ›´æ–°&#x27;)], [&#x27;delete&#x27;, () =&gt; console.log(&#x27;åˆ é™¤&#x27;)],]);function handleAction(type) &#123; const action = actionMap.get(type); if (action) action(); else console.log(&#x27;æœªçŸ¥æ“ä½œ&#x27;);&#125;handleAction(&#x27;update&#x27;); // æ›´æ–°// ä¼˜ç‚¹ï¼šæ›´çµæ´»ã€æ›´æ˜“ç»´æŠ¤ï¼Œé¿å…é•¿é•¿çš„ switch æˆ– if elseã€‚ äºŒã€Set ï¼ˆé›†åˆï¼‰Set ç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚ 2.2ã€åˆ›å»º Set123456// ç©º Mapconst set = new Set();// ä»æ•°ç»„åˆå§‹åŒ–ï¼ˆè‡ªåŠ¨å»é‡ï¼‰const fruits = new Set([&#x27;ğŸ&#x27;, &#x27;ğŸŒ&#x27;, &#x27;ğŸ&#x27;, &#x27;ğŸŠ&#x27;]);console.log(fruits); // Set &#123; &#x27;ğŸ&#x27;, &#x27;ğŸŒ&#x27;, &#x27;ğŸŠ&#x27; &#125; 1.3ã€Setå±æ€§ Set.prototype.constructorï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Setå‡½æ•°ã€‚ Set.prototype.sizeï¼šè¿”å›Setå®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚ 12const colors = new Set([&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;]);console.log(colors.size); // 3 1.4ã€Setæ–¹æ³•Set çš„æ–¹æ³•éƒ½æ˜¯ç»§æ‰¿äºåŸå‹ï¼ŒSet.prototype.add(value)ã€‚ set(key, value) ï¼šè®¾ç½®é”®å€¼åï¼Œè¿”å›æ•´ä¸ª Map ç»“æ„ get(key): è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°keyï¼Œè¿”å›undefined has(key): è¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­ delete(key): æˆåŠŸåˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›trueï¼Œå¦åˆ™è¿”å› false clear(): æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ 1ï¼‰æ·»åŠ å€¼ï¼ˆaddï¼‰12345const numbers = new Set();numbers.add(1);numbers.add(2);numbers.add(2); // é‡å¤å€¼ä¼šè¢«å¿½ç•¥console.log(numbers); // Set &#123; 1, 2 &#125; 2ï¼‰åˆ é™¤å€¼ï¼ˆdeleteï¼‰12console.log(numbers.delete(1)) // åˆ é™¤æˆåŠŸè¿”å› trueconsole.log(numbers.delete(99)) // è¿”å› false 3ï¼‰æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ï¼ˆhasï¼‰12console.log(numbers.has(2)); // trueconsole.log(numbers.has(5)); // false 4ï¼‰æ¸…ç©º Mapï¼ˆclearï¼‰12numbers.clear();console.log(numbers); // Set &#123;&#125; 1.5ã€Setéå†1234567891011const letters = new Set([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);// forEachletters.forEach((value) =&gt; &#123; console.log(value); // a, b, c&#125;);// for...offor (const letter of letters) &#123; console.log(letter); // a, b, c&#125; 1.6ã€å°† Setç»“æ„è½¬æ¢ä¸ºæ•°ç»„ç»“æ„123456const letters = new Set([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;])console.log([...letters.keys()]) // [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]console.log([...letters.values()]) // [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]console.log([...letters.entries()]) // [[a,a], [b,b], [c,c]]console.log([...letters]) // [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]console.log(Array.from(letters)) // [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;] 1.7ã€å®æˆ˜åœºæ™¯123// ğŸ””åœºæ™¯ 1ï¼šå»é‡let arr = [3, 5, 2, 2, 5, 5];let unique = [...new Set(arr)]; // [3, 5, 2] ä¸‰ã€iterableç±»å‹éå†Arrayå¯ä»¥é‡‡ç”¨ä¸‹æ ‡å¾ªç¯ï¼Œéå†Mapå’ŒSetå°±æ— æ³•ä½¿ç”¨ä¸‹æ ‡ã€‚ä¸ºäº†ç»Ÿä¸€é›†åˆç±»å‹ï¼ŒES6æ ‡å‡†å¼•å…¥äº†æ–°çš„iterableç±»å‹ï¼ŒArrayã€Mapå’ŒSetéƒ½å±äºiterableç±»å‹ã€‚ å…·æœ‰iterableç±»å‹çš„é›†åˆå¯ä»¥é€šè¿‡æ–°çš„for â€¦ ofå¾ªç¯æ¥éå†ã€‚ ç”¨for â€¦ ofå¾ªç¯éå†é›†åˆï¼Œç”¨æ³•å¦‚ä¸‹ï¼š 123456789101112var a = [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;]var s = new Set([&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;])var m = new Map([[1, &#x27;x&#x27;], [2, &#x27;y&#x27;], [3, &#x27;z&#x27;]])for (var x of a) &#123; // éå†Array console.log(x) // A B C&#125;for (var v of s) &#123; // éå†Set console.log(v) // A B C&#125;for (var r of m) &#123; // éå†Map console.log(r[0] + &#x27;=&#x27; + r[1]) // 1=x 2=y 3=z&#125; ä½ å¯èƒ½ä¼šæœ‰ç–‘é—®ï¼Œfor â€¦ ofå¾ªç¯å’Œfor â€¦ inå¾ªç¯æœ‰ä½•åŒºåˆ«ï¼Ÿ for â€¦ inå¾ªç¯ç”±äºå†å²é—ç•™é—®é¢˜ï¼Œå®ƒéå†çš„å®é™…ä¸Šæ˜¯å¯¹è±¡çš„å±æ€§åç§°ã€‚ä¸€ä¸ªArrayæ•°ç»„å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•è¢«è§†ä¸ºä¸€ä¸ªå±æ€§ã€‚ å½“æˆ‘ä»¬æ‰‹åŠ¨ç»™Arrayå¯¹è±¡æ·»åŠ äº†é¢å¤–çš„å±æ€§åï¼Œfor â€¦ inå¾ªç¯å°†å¸¦æ¥æ„æƒ³ä¸åˆ°çš„æ„å¤–æ•ˆæœï¼š 12345var a = [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;];a.name = &#x27;Hello&#x27;;for (var x in a) &#123; console.log(x); // &#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;, &#x27;name&#x27;&#125; for â€¦ inå¾ªç¯å°†æŠŠnameåŒ…æ‹¬åœ¨å†…ï¼Œä½†Arrayçš„lengthå±æ€§å´ä¸åŒ…æ‹¬åœ¨å†…ã€‚ for â€¦ ofå¾ªç¯åˆ™å®Œå…¨ä¿®å¤äº†è¿™äº›é—®é¢˜ï¼Œå®ƒåªå¾ªç¯é›†åˆæœ¬èº«çš„å…ƒç´ ï¼š 12345var a = [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;];a.name = &#x27;Hello&#x27;;for (var x of a) &#123; console.log(x); // &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;&#125; è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦å¼•å…¥æ–°çš„for â€¦ ofå¾ªç¯ã€‚ ç„¶è€Œï¼Œæ›´å¥½çš„æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨iterableå†…ç½®çš„forEachæ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œæ¯æ¬¡è¿­ä»£å°±è‡ªåŠ¨å›è°ƒè¯¥å‡½æ•°ã€‚ä»¥Arrayä¸ºä¾‹ï¼š 12345678910var a = [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;];a.forEach(function (element, index, array) &#123; // element: æŒ‡å‘å½“å‰å…ƒç´ çš„å€¼ // index: æŒ‡å‘å½“å‰ç´¢å¼• // array: æŒ‡å‘Arrayå¯¹è±¡æœ¬èº« console.log(element + &#x27;, index = &#x27; + index);&#125;);//A, index = 0//B, index = 1//C, index = 2 æ³¨æ„ï¼ŒforEach()æ–¹æ³•æ˜¯ES5.1æ ‡å‡†å¼•å…¥çš„ï¼Œä½ éœ€è¦æµ‹è¯•æµè§ˆå™¨æ˜¯å¦æ”¯æŒã€‚ Setä¸Arrayç±»ä¼¼ï¼Œä½†Setæ²¡æœ‰ç´¢å¼•ï¼Œå› æ­¤å›è°ƒå‡½æ•°çš„å‰ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å…ƒç´ æœ¬èº«ï¼š 12345var s = new Set([&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;])s.forEach((element, sameElement, set) =&gt; &#123; console.log(element) // A B C console.log(sameElement) // A B C&#125;) Mapçš„å›è°ƒå‡½æ•°å‚æ•°ä¾æ¬¡ä¸ºvalueã€keyå’Œmapæœ¬èº«ï¼š 12345var m = new Map([[1, &#x27;x&#x27;], [2, &#x27;y&#x27;], [3, &#x27;z&#x27;]])m.forEach((value, key, map) =&gt; &#123; console.log(value) // x y z console.log(key) // 1 2 3&#125;)","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"}]},{"title":"vueXä¸­çš„stateã€mapStateã€...mapStateç†è§£","slug":"19-vueXä¸­çš„state-mapState-mapStateå¯¹è±¡å±•å¼€ç¬¦è¯¦è§£.md","date":"2025-03-04T23:59:41.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/1ef04b2.html","permalink":"http://example.com/posts/1ef04b2.html","excerpt":"","text":"1ã€statestateæ˜¯ä»€ä¹ˆ?å®šä¹‰ï¼šstate(vuex) â‰ˆ data (vue) vuexçš„stateå’Œvueçš„dataæœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œéƒ½æ˜¯ç”¨äºå­˜å‚¨ä¸€äº›æ•°æ®ï¼Œæˆ–è€…è¯´çŠ¶æ€å€¼ã€‚è¿™äº›å€¼éƒ½å°†è¢«æŒ‚è½½æ•°æ®å’Œdomçš„åŒå‘ç»‘å®šäº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯å½“ä½ æ”¹å˜å€¼çš„æ—¶å€™å¯ä»¥è§¦å‘domçš„æ›´æ–°ã€‚ è™½ç„¶stateå’Œdataæœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œä½†stateåœ¨ä½¿ç”¨çš„æ—¶å€™ä¸€èˆ¬è¢«æŒ‚è½½åˆ°å­ç»„ä»¶çš„computedè®¡ç®—å±æ€§ä¸Šï¼Œè¿™æ ·æœ‰åˆ©äºstateçš„å€¼å‘ç”Ÿæ”¹å˜çš„æ—¶å€™åŠæ—¶å“åº”ç»™å­ç»„ä»¶ã€‚å¦‚æœä½ ç”¨dataå»æ¥æ”¶store.stateï¼Œå½“ç„¶å¯ä»¥æ¥æ”¶åˆ°å€¼ï¼Œä½†ç”±äºè¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„èµ‹å€¼æ“ä½œï¼Œå› æ­¤stateä¸­çš„çŠ¶æ€æ”¹å˜çš„æ—¶å€™ä¸èƒ½è¢«vueä¸­çš„dataç›‘å¬åˆ°ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡watch $storeå»è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä½ å¯ä»¥ã€‚çœŸæ˜¯ä¸€ä¸ªæ ç²¾~ ç»¼ä¸Šæ‰€è¿°ï¼Œè¯·ç”¨computedå»æ¥æ”¶stateï¼Œå¦‚ä¸‹ 1234567// vuexä¸­çš„state.jslet state = &#123; count: 1, name: &#x27;Jack&#x27;, from: &#x27;china&#x27;&#125;export default state 12345678910// mutations.jsconst mutations = &#123; INCREMENT(state) &#123; state.count += 1 &#125;, DECREMENT(state) &#123; state.count -= 1 &#125;&#125;export default mutations 12345678910111213141516171819202122232425262728293031// xxx.vue&lt;template&gt; &lt;div id=&quot;example&quot;&gt; &lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt; &#123;&#123; count &#125;&#125; &#123;&#123; dataCount &#125;&#125; &lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; data () &#123; return &#123; dataCount: this.$store.state.count // ç”¨dataæ¥æ”¶ &#125; &#125;, computed: &#123; count () &#123; return this.$store.state.count // ç”¨computedæ¥æ”¶ &#125; &#125;, methods: &#123; increment () &#123; this.$store.commit(&#x27;INCREMENT&#x27;) &#125;, decrement () &#123; this.$store.commit(&#x27;DECREMENT&#x27;) &#125; &#125;&#125;&lt;/script&gt; åˆå§‹åŒ–çš„æ—¶å€™éƒ½èƒ½è·å–åˆ°countçš„å€¼ï¼Œå½“å¯¹countè¿›è¡ŒåŠ å‡æ“ä½œçš„æ—¶å€™å°±ä¼šå‘ç°ï¼Œdataæ¥æ”¶çš„å€¼ä¸èƒ½åŠæ—¶å“åº”æ›´æ–°ï¼Œcomputedæ¥æ”¶çš„å°±å¯ä»¥ã€‚ 2ã€mapState è¾…åŠ©å‡½æ•°mapStateæ˜¯ä»€ä¹ˆ?è¡¨é¢æ„æ€ï¼šmapStateæ˜¯stateçš„è¾…åŠ©å‡½æ•°ï¼Œè¿™ä¹ˆè¯´å¯èƒ½å¾ˆéš¾ç†è§£ æŠ½è±¡å½¢å®¹ï¼šmapStateæ˜¯stateçš„è¯­æ³•ç³–ï¼Œè¿™ä¹ˆè¯´å¯èƒ½ä½ è¿˜æƒ³éª‚æˆ‘ï¼Œå› ä¸ºä½ æ ¹æœ¬ä¸äº†è§£ä»€ä¹ˆå«åšè¯­æ³•ç³–ï¼Œäº‹å®ä¸Šæˆ‘è¯´çš„è¯­æ³•ç³–æœ‰è‡ªå·±çš„å®šä¹‰ã€‚ ä»€ä¹ˆæ˜¯è¯­æ³•ç³–ï¼Ÿ æˆ‘å¯¹è¯­æ³•ç³–çš„ç†è§£å°±æ˜¯ï¼Œç”¨ä¹‹å‰è§‰å¾—ï¼Œæˆ‘æ˜æ˜å·²ç»å¯¹ä¸€ç§æ“ä½œå¾ˆç†Ÿç»ƒäº†ï¼Œå¹¶ä¸”è¿™ç§æ“ä½œä¹Ÿä¸å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¦ç”¨æ‰€è°“çš„â€æ›´å¥½çš„æ“ä½œâ€ï¼Œç”¨äº†ä¸€æ®µæ—¶é—´åï¼ŒçœŸé¦™! å®é™…ä½œç”¨ï¼šå½“ä¸€ä¸ªç»„ä»¶éœ€è¦è·å–å¤šä¸ªçŠ¶æ€æ—¶å€™ï¼Œå°†è¿™äº›çŠ¶æ€éƒ½å£°æ˜ä¸ºè®¡ç®—å±æ€§ä¼šæœ‰äº›é‡å¤å’Œå†—ä½™ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ mapState è¾…åŠ©å‡½æ•°å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆè®¡ç®—å±æ€§ï¼Œè®©ä½ å°‘æŒ‰å‡ æ¬¡é”®åœ¨ä½¿ç”¨mapStateä¹‹å‰ï¼Œè¦å¯¼å…¥è¿™ä¸ªè¾…åŠ©å‡½æ•°ã€‚ 1import &#123; mapState &#125; from &#x27;vuex&#x27; 123456789101112131415161718192021222324252627282930313233343536373839404142&lt;template&gt; &lt;div id=&quot;example&quot;&gt; &lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt; &lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt; &lt;p&gt;dataCountï¼š&#123;&#123; dataCount &#125;&#125;&lt;/p&gt; &lt;p&gt;countï¼š&#123;&#123; count &#125;&#125;&lt;/p&gt; &lt;p&gt;å§“åï¼š&#123;&#123; name &#125;&#125;&lt;/p&gt; &lt;p&gt;&#123;&#123; from &#125;&#125;&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123; mapState &#125; from &#x27;vuex&#x27;export default &#123; data () &#123; return &#123; str: &#x27;å›½ç±&#x27;, dataCount: this.$store.state.count // ç”¨dataæ¥æ”¶ &#125; &#125;, created () &#123; // å†™ä¸ªå®šæ—¶å™¨ï¼Œå‘ç°computedä¾æ—§ä¿æŒäº†åªè¦å†…éƒ¨æœ‰ç›¸å…³å±æ€§å‘ç”Ÿæ”¹å˜ï¼Œä¸ç®¡æ˜¯å½“å‰å®ä¾‹dataä¸­çš„æ”¹å˜ï¼Œè¿˜æ˜¯vuexä¸­çš„å€¼æ”¹å˜éƒ½ä¼šè§¦å‘domå’Œå€¼æ›´æ–° setTimeout(() =&gt; &#123; this.str = &#x27;å›½å®¶&#x27; &#125;, 1000) &#125;, computed: mapState(&#123; count: &#x27;count&#x27;, // ç¬¬ä¸€ç§å†™æ³• name: (state) =&gt; state.name, // ç¬¬äºŒç§å†™æ³• from (state) &#123; // ç¬¬ä¸‰ç§å†™æ³• return this.str + &#x27;:&#x27; + state.from &#125; &#125;), methods: &#123; increment () &#123; this.$store.commit(&#x27;INCREMENT&#x27;) &#125;, decrement () &#123; this.$store.commit(&#x27;DECREMENT&#x27;) &#125; &#125;&#125;&lt;/script&gt; ä½¿ç”¨åˆå¹¶çš„æ–¹å¼æ·»åŠ évuexä¸­çš„è®¡ç®—å±æ€§ 12345678computed: Object.assign(&#123;&#125;, mapState(&#123; count: &#x27;count&#x27;, name: state =&gt; state.name&#125;), &#123; doubleCount() &#123; return this.count * 2 &#125;&#125;) 3ã€â€¦mapStateäº‹å®ä¸Šâ€¦mapStateå¹¶ä¸æ˜¯mapStateçš„æ‰©å±•ï¼Œè€Œæ˜¯â€¦å¯¹è±¡å±•å¼€ç¬¦çš„æ‰©å±•ã€‚å½“ç„¶å¦‚æœä½ æŠŠä»–ç”¨åœ¨è¿™é‡Œä¼šå‘ç°ä»–èƒ½ä½¿å¾—ä»£ç çœ‹èµ·æ¥å˜å¾—ï¼Œæ›´åŠ ç¬¦åˆå¸¸è§„é€»è¾‘äº†ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´,ä½ ç­‰ä¸‹å°±ä¼šçŸ¥é“äº†ã€‚ 12let arr = [1,2,3]console.log(...arr) //1,2,3 ç„¶åæ¥çœ‹ä¸€ä¸ªä¾‹å­ 123456789let MapState = mapState(&#123; count: &#x27;count&#x27;, sex: (state) =&gt; state.sex &#125;)let json = &#123; &#x27;a&#x27;: &#x27;æˆ‘æ˜¯jsonè‡ªå¸¦çš„&#x27;, ...MapState&#125;console.log(json) è¿™é‡Œçš„jsonå¯ä»¥æˆåŠŸå°†mapStateçš„jsonå¯¹è±¡å’Œjsonè‡ªå¸¦çš„aå±æ€§æˆåŠŸèåˆæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚ä½ å¯ä»¥å°†è¿™ä¸ªç§°ä¸ºå¯¹è±¡æ··åˆ è¿™æ ·ï¼Œä½ å°±å¯ä»¥è‡ªç”±çš„ä½¿ç”¨mapStateäº†. 1234567//ä¹‹å‰çš„computedcomputed:&#123; fn1()&#123; return ...&#125;, fn2()&#123; return ...&#125;, fn3()&#123; return ...&#125; ........&#125; å¼•å…¥mapStateè¾…åŠ©å‡½æ•°ä¹‹å 1234567891011computed:&#123; //åŸæ¥çš„ç»§ç»­ä¿ç•™ fn1()&#123; return ...&#125;, fn2()&#123; return ...&#125;, fn3()&#123; return ...&#125; ...... //å†ç»´æŠ¤vuex ...mapState(&#123; //è¿™é‡Œçš„...ä¸æ˜¯çœç•¥å·äº†,æ˜¯å¯¹è±¡æ‰©å±•ç¬¦ count:&#x27;count&#x27; &#125;)&#125;","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"vue2","slug":"vue2","permalink":"http://example.com/tags/vue2/"},{"name":"vueX","slug":"vueX","permalink":"http://example.com/tags/vueX/"}]},{"title":"vueè¯¦ç»†å¼€å‘æ’ä»¶å¹¶ä¸”å‘å¸ƒåˆ°npmä¸Š","slug":"18-vueè¯¦ç»†å¼€å‘æ’ä»¶å¹¶ä¸”å‘å¸ƒåˆ°npmä¸Š","date":"2025-03-04T23:56:41.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/22447.html","permalink":"http://example.com/posts/22447.html","excerpt":"","text":"è¿™ä¸€ç¯‡å¼€å‘çš„æ’ä»¶ ç±»ä¼¼elementUIä¸­çš„ Message æ¶ˆæ¯æç¤ºï¼Œç”¨this.$message()æ¥è°ƒç”¨ å¹¶ä¸”å¯ä»¥ä¼ å‚æ•° ä¸€. å‰æœŸå‡†å¤‡1.1ã€é¡¹ç›®æ­å»ºç”¨ vue init webpack-simple myPlugin æŒ‡ä»¤å»æ­å»ºé¡¹ç›® 1$ vue init webpack-simple myPlugin 1.2ã€é¡¹ç›®ç»“æ„ äºŒ. ç¼–å†™æ’ä»¶2.1ã€åˆ›å»ºæ’ä»¶æ–‡ä»¶ 1ï¼‰åœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªpluginæ–‡ä»¶å¤¹(è¿™æ˜¯å†™æ’ä»¶çš„æ–‡ä»¶)ï¼Œåœ¨pluginé‡Œé¢æ–°å»ºä¸€ä¸ªplugin.jså’Œplugin.vueæ–‡ä»¶ 2ï¼‰è°ƒç”¨æ’ä»¶ï¼ˆå¯ä»¥ç”¨å…ˆè°ƒç”¨æ’ä»¶, è¦ä¸ç„¶åœ¨æ’ä»¶æ–‡ä»¶é‡Œé¢å†™çš„ä»£ç åœ¨è¿è¡Œé¡¹ç›®ä¹‹åçœ‹ä¸åˆ°æ’ä»¶å†™çš„æ•ˆæœï¼‰è°ƒç”¨æ’ä»¶å’ŒelmentUIæ˜¯ä¸€æ ·çš„ 2.2ã€plugin.js æ’ä»¶çš„å…¥å£æ–‡ä»¶è¿™é‡Œä¸»è¦ç”¨åˆ°Vue.exten()æ„é€ å™¨ (ä¸æ‡‚è‡ªè¡Œçœ‹vueå®˜ç½‘) 123456789101112131415161718192021import plugin from &#x27;./plugin.vue&#x27;const MyPlugin = &#123; install (Vue, option = null) &#123; // å¼€å‘æ’ä»¶æ–¹å¼1: ç”¨Vue.extend() ç„¶ånewå‡ºæ¥ æœ€åæŒ‚è½½ å¼€å‘çš„æ’ä»¶ç±»ä¼¼elementä¸­çš„å¼¹å‡ºæ¡† åœ¨ç»„ä»¶ä¸­ç›´æ¥ç”¨this.$message()å°±èƒ½è°ƒç”¨ // Vue.extend(plugin)ç”Ÿæˆçš„æ„é€ å™¨éœ€è¦newå‡ºæ¥(è¿™æ—¶å€™èƒ½è®¿é—®pluginç»„ä»¶é‡Œçš„å±æ€§) æœ€åæŒ‚è½½å°±å¯ä»¥äº† // æ„é€ vueå­ç±»æ„é€ å™¨ const Constructor = Vue.extend(plugin) // é€šè¿‡ä¸Šé¢çš„æ„é€ å™¨ç”Ÿæˆ MyHeaderConstructor é€šè¿‡newå‡ºæ¥çš„å®ä¾‹å¯¹è±¡æ˜¯å¯ä»¥ç›´æ¥è®¿é—®ç»„ä»¶pluginä¸­çš„å±æ€§ const Profile = new Constructor() console.log(Profile) // å½“åœ¨ç»„ä»¶ä¸­è°ƒç”¨vueåŸå‹ä¸Šçš„this.$message()è¿™ä¸ªæ–¹æ³• ä¹Ÿå°±è§¦å‘äº†æ’ä»¶pluginç»„ä»¶ä¸­çš„message()æ–¹æ³• Vue.prototype.$message = function (message) &#123; Profile.changeStatus(message) &#125; const ele = document.createElement(&#x27;div&#x27;) document.body.appendChild(ele) Profile.$mount(ele) &#125;&#125;export default MyPlugin 2.4ã€plugin.vueæ’ä»¶çš„é€»è¾‘ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125&lt;template&gt; &lt;div class=&quot;content&quot;&gt; &lt;transition name=&quot;fade&quot;&gt; &lt;div class=&quot;box&quot; v-show=&quot;isShow&quot;&gt; &lt;div class=&quot;inside&quot;&gt; &lt;div class=&quot;top&quot;&gt; &lt;div class=&quot;circle&quot; :class=&quot;defaulTransmit.pluginData.type === &#x27;success&#x27; ? &#x27;success&#x27; : &#x27;warning&#x27;&quot;&gt; &lt;i class=&quot;iconfont font&quot; :class=&quot;defaulTransmit.pluginData.type === &#x27;success&#x27; ? &#x27;iconduigou&#x27; : &#x27;icongantanhao&#x27;&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;/div&gt; &lt;p class=&quot;botton&quot; :class=&quot;defaulTransmit.pluginData.type === &#x27;success&#x27; ? &#x27;blue&#x27; : &#x27;orange&#x27;&quot;&gt; &#123;&#123; defaulTransmit.pluginData.message &#125;&#125; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/transition&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; data() &#123; return &#123; defaulTransmit: &#123; pluginData: &#123;&#125; &#125;, isShow: false &#125; &#125;, methods: &#123; changeStatus(message) &#123; const params = &#123; message: message.message, type: message.type &#125; this.$set(this.defaulTransmit, &#x27;pluginData&#x27;, params) this.isShow = true setTimeout(() =&gt; &#123; this.isShow = false &#125;, message.time) &#125; &#125;&#125;&lt;/script&gt;&lt;style lang=&#x27;less&#x27; scoped&gt;p &#123; margin: 0;&#125;.success &#123; background-color: #14cab4;&#125;.warning &#123; background-color: #ffb800;&#125;// è¿‡æ¸¡çš„æ ·å¼.fade-enter-active,.fade-leave-active &#123; transition: all 0.3s; // transition: opacity 0.5s;&#125;// æ˜¾ç¤ºæ—¶çš„æ ·å¼.fade-enter &#123; opacity: 0;&#125;// éšè—æ—¶çš„æ ·å¼.fade-leave-to &#123; opacity: 0;&#125;.blue &#123; color: #14cab4;&#125;.orange &#123; color: #ffb800;&#125;.box &#123; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 15px 15px; box-sizing: border-box; width: 517px; border: 1px solid rgb(230, 230, 230); .top &#123; position: relative; margin: 20px 0; height: 196px; background: url(&#x27;../assets/tip.png&#x27;) no-repeat center; .circle &#123; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -40%); width: 123px; height: 123px; line-height: 123px; border-radius: 123px/2; text-align: center; .font &#123; color: #ffffff; font-size: 75px; &#125; &#125; &#125; .botton &#123; text-align: center; height: 83px; line-height: 83px; font-family: AdobeHeitiStd-Regular; font-size: 30px; letter-spacing: 2px; &#125;&#125;&lt;/style&gt; ä¸‰. ä½¿ç”¨æ’ä»¶ 1234567891011121314151617181920212223// app.vue&lt;template&gt; &lt;div id=&#x27;app&#x27;&gt; &lt;button @click=&quot;handle()&quot;&gt;ç‚¹å‡»æµ‹è¯•&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default name: &#x27;app&#x27;, methods: &#123; handle () &#123; // è°ƒç”¨æ’ä»¶ this.$message(&#123; message: &#x27;è­¦å‘Šå“¦ï¼Œè¿™æ˜¯ä¸€æ¡è­¦å‘Šæ¶ˆæ¯&#x27;, // æ¶ˆæ¯æ¡†çš„æ–‡æœ¬å†…å®¹ type: &#x27;warning&#x27;, // æ¶ˆæ¯æ¡†çš„ç±»å‹ ç›®å‰å°±è®¾ç½®äº†(warningå’Œsuccess) time: 2000 // æ¶ˆæ¯åå¤šå°‘sä¹‹åæ¶ˆå¤± &#125;) &#125; &#125;&#125;&lt;/script&gt;&lt;style lang=&#x27;less&#x27; scoped&gt;&lt;/style&gt; å››. æ•ˆæœ äº”. å‘å¸ƒå‘åˆ°npm5.1ã€ä¿®æ”¹webpack.config.jsæ–‡ä»¶ 5.2ã€æ‰“åŒ…1npm run build 5.3.ã€ä¿®æ”¹å¼•å…¥æ–‡ä»¶æ”¹å˜æ ¹ç›®å½•ä¸‹index.htmlä¸­å¼•å…¥çš„jsæ–‡ä»¶ï¼ˆä¿®æ”¹æˆåˆšæ‰æ‰“åŒ…æˆçš„distæ–‡ä»¶å¤¹ä¸­çš„jsæ–‡ä»¶ï¼‰ 5.4ã€ é…ç½®package.jsonç‰ˆæœ¬å·1.0.0é»˜è®¤çš„éƒ½éœ€è¦æ›´æ”¹ 5.5ã€ ä¿®æ”¹gitignore æ–‡ä»¶åœ¨æ ¹ç›®å½•ä¸‹çš„gitignore æ–‡ä»¶ï¼Œå»æ‰ dist&#x2F;ï¼Œå¦‚ä¸‹ï¼š 5.6ã€ å‘å¸ƒåˆ°npm1ï¼‰è¿è¡Œå‘½ä»¤ 1$ npm login æ ¹æ®æç¤ºå¡«å†™npm è´¦å· å¯†ç  é‚®ç®± 2ï¼‰è¿è¡Œå‘½ä»¤ 1$ npm publish 5.7ã€ å‘å¸ƒä¸­å¯èƒ½é‡åˆ°çš„é—®é¢˜1ï¼‰no_perms Private mode enable, only admin can publish this module åŸå› ï¼šå› ä¸ºé•œåƒè®¾ç½®æˆæ·˜å®é•œåƒäº†ï¼Œè®¾ç½®å›æ¥å³å¯ æ–¹æ¡ˆï¼šnpm config set registry http://registry.npmjs.org 2ï¼‰npm publish failed put 500 unexpected status code 401 åŸå› ï¼šä¸€èˆ¬æ˜¯æ²¡æœ‰ç™»å½• æ–¹æ¡ˆï¼šé‡æ–°ç™»é™†ä¸€æ¬¡ 3ï¼‰npm ERR! you do not have permission to publish â€œyour module nameâ€. Are you logged in as the correct user? åŸå› ï¼šåŒ…åè¢«å ç”¨ æ–¹æ¡ˆï¼šä¿®æ”¹åŒ…åå³å¯ nrm ls æŸ¥çœ‹é•œåƒ åˆ‡æ¢æˆæ·˜å®é•œåƒ nrm use taobao","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"vue2","slug":"vue2","permalink":"http://example.com/tags/vue2/"},{"name":"npm","slug":"npm","permalink":"http://example.com/tags/npm/"}]},{"title":"vue.extend()","slug":"17-vue-extend","date":"2025-03-04T23:55:41.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/36687.html","permalink":"http://example.com/posts/36687.html","excerpt":"","text":"1ã€å®˜æ–¹ä¾‹å­ 2ã€æ³¨æ„ç‚¹:1ã€Vue.extend()å¿…é¡»è¦newå‡ºæ¥(å®ä¾‹) 12let Constructor = Vue.extend()let Profile = new Constructor 2ã€å°†åˆ›å»ºçš„Profileå®ä¾‹, æŒ‚è½½åˆ°ä¸€ä¸ªå…ƒç´ ä¸Šå» 1Profile.$mount(&#x27;div&#x27;) 3ã€ä¾‹å­æ‰€ç”¨åˆ°çš„æ–‡ä»¶plugin.js å’Œ MyHeader.vue 12345678910111213141516// plugin.jsimport MyHeader from &#x27;./MyHeader.vue&#x27;const myUI = &#123; install (Vue, option) &#123; // æ„é€ vueå­ç±»æ„é€ å™¨ const MyHeaderConstructor = Vue.extend(MyHeader) // é€šè¿‡ä¸Šé¢çš„æ„é€ å™¨ç”Ÿæˆ MyHeaderConstructor é€šè¿‡newå‡ºæ¥çš„å®ä¾‹å¯¹è±¡æ˜¯å¯ä»¥ç›´æ¥è®¿é—®ç»„ä»¶ä¸­çš„å±æ€§çš„ const myHeaderInstall = new MyHeaderConstructor() // æŒ‚è½½å®ä¾‹ const ele = document.createElement(&#x27;div&#x27;) document.body.appendChild(ele) myHeaderInstall.$mount(ele) &#125;&#125;export default myUI","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"vue2","slug":"vue2","permalink":"http://example.com/tags/vue2/"}]},{"title":"vueé¡¹ç›®ä¸­å¿«é€Ÿä½¿ç”¨é˜¿é‡Œå­—ä½“å›¾æ ‡","slug":"16-vueé¡¹ç›®ä¸­å¿«é€Ÿä½¿ç”¨é˜¿é‡Œå­—ä½“å›¾æ ‡","date":"2025-03-03T23:55:41.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/3e5e4cab.html","permalink":"http://example.com/posts/3e5e4cab.html","excerpt":"","text":"ä¸€ã€ä¸‹è½½å›¾æ ‡å›¾ äºŒã€å¼•å…¥é¡¹ç›®ä¸­å°†ä¸‹è½½çš„å›¾æ ‡åº“é‡å‘½åï¼Œå¹¶æ”¾è‡³assetsæ–‡ä»¶å¤¹ ä¸‰ã€å¼•å…¥æ–¹å¼3.1ã€Unicodeæ–¹å¼unicodeæ˜¯å­—ä½“åœ¨ç½‘é¡µç«¯æœ€åŸå§‹çš„åº”ç”¨æ–¹å¼ å…¼å®¹æ€§æœ€å¥½ï¼Œæ”¯æŒie6+ï¼ŒåŠæ‰€æœ‰ç°ä»£æµè§ˆå™¨ æ”¯æŒæŒ‰å­—ä½“çš„æ–¹å¼å»åŠ¨æ€è°ƒæ•´å›¾æ ‡å¤§å°ï¼Œé¢œè‰²ç­‰ç­‰ ä½†æ˜¯å› ä¸ºæ˜¯å­—ä½“ï¼Œæ‰€ä»¥ä¸æ”¯æŒå¤šè‰²ã€‚åªèƒ½ä½¿ç”¨å¹³å°é‡Œå•è‰²çš„å›¾æ ‡ï¼Œå°±ç®—é¡¹ç›®é‡Œæœ‰å¤šè‰²å›¾æ ‡ä¹Ÿä¼šè‡ªåŠ¨å»è‰² 1ï¼‰åœ¨main.jsä¸­å¼•å…¥ 1import &#x27;@/assets/iconfont/iconfont.css&#x27; 2ï¼‰åœ¨é¡µé¢ä¸­ä½¿ç”¨ 1ã€æ ‡ç­¾å½¢å¼ä½¿ç”¨ 1&lt;i class=&quot;iconfont&quot;&gt;&amp;#xedb8;&lt;/i&gt; å¿…é¡»æ·»åŠ ä¸Šiconfontç±»åï¼Œå°†åœ¨é˜¿é‡Œå›¾æ ‡å¤åˆ¶ä»£ç ç²˜è´´åˆ°æ ‡ç­¾å†…å³å¯ 2ã€ä¼ªå…ƒç´ å½¢å¼ä½¿ç”¨ 12345678910111213141516&lt;template&gt; &lt;div class=&quot;index&quot;&gt; &lt;i class=&quot;icon&quot;&gt;&lt;/i&gt; &lt;/div&gt;&lt;/template&gt;&lt;style scoped lang=&quot;scss&quot;&gt;.icon &#123; &amp;::after &#123; content: &#x27;\\edb8&#x27;; font-family: &#x27;iconfont&#x27;!important; font-size: 16px; font-style: normal; &#125;&#125;&lt;/style&gt; å¿…é¡»è®¾ç½®font-family: &#39;iconfont&#39;;ï¼Œcontentä¸­çš„å†…å®¹å°±æ˜¯ï¼š\\ + &amp;#xåé¢çš„edb8ï¼Œå³&#39;\\edb8 3.2ã€Font classæ–¹å¼font-classæ˜¯unicodeä½¿ç”¨æ–¹å¼çš„ä¸€ç§å˜ç§ï¼Œä¸»è¦æ˜¯è§£å†³unicodeä¹¦å†™ä¸ç›´è§‚ï¼Œè¯­æ„ä¸æ˜ç¡®çš„é—®é¢˜ å…¼å®¹æ€§è‰¯å¥½ï¼Œæ”¯æŒie8+ï¼ŒåŠæ‰€æœ‰ç°ä»£æµè§ˆå™¨ å› ä¸ºä½¿ç”¨classæ¥å®šä¹‰å›¾æ ‡ï¼Œæ‰€ä»¥å½“è¦æ›¿æ¢å›¾æ ‡æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹classé‡Œé¢çš„unicodeå¼•ç”¨ ç›¸æ¯”äºunicodeè¯­æ„æ˜ç¡®ï¼Œä¹¦å†™æ›´ç›´è§‚ã€‚å¯ä»¥å¾ˆå®¹æ˜“åˆ†è¾¨è¿™ä¸ªiconæ˜¯ä»€ä¹ˆ ä¸è¿‡å› ä¸ºæœ¬è´¨ä¸Šè¿˜æ˜¯ä½¿ç”¨çš„å­—ä½“ï¼Œæ‰€ä»¥å¤šè‰²å›¾æ ‡è¿˜æ˜¯ä¸æ”¯æŒçš„ 1ï¼‰åœ¨main.jsä¸­å¼•å…¥ 1import &#x27;@/assets/iconfont/iconfont.css&#x27; 2ï¼‰åœ¨é¡µé¢ä¸­ä½¿ç”¨ å¿…é¡»æ·»åŠ ä¸Šiconfontç±»åï¼Œå°†åœ¨é˜¿é‡Œå›¾æ ‡å¤åˆ¶ä»£ç ç²˜è´´åˆ°classä¸­ 1&lt;i class=&quot;iconfont icon-a-02pinglun2&quot;&gt;&lt;/i&gt; 3.3ã€Symbolæ–¹å¼å¹³å°ç›®å‰æ¨èçš„ç”¨æ³•ï¼Œåšäº†ä¸€ä¸ªsvgçš„é›†åˆ æ”¯æŒå¤šè‰²å›¾æ ‡äº†ï¼Œä¸å†å—å•è‰²é™åˆ¶ é€šè¿‡ä¸€äº›æŠ€å·§ï¼Œæ”¯æŒåƒå­—ä½“é‚£æ ·ï¼Œé€šè¿‡font-size,coloræ¥è°ƒæ•´æ ·å¼ å…¼å®¹æ€§è¾ƒå·®ï¼Œæ”¯æŒ ie9+,åŠç°ä»£æµè§ˆå™¨ æµè§ˆå™¨æ¸²æŸ“svgçš„æ€§èƒ½ä¸€èˆ¬ï¼Œä¸å¦‚png 1ï¼‰åœ¨main.jsä¸­å¼•å…¥ 1import &#x27;@/assets/iconfont/iconfont.js&#x27; 2ï¼‰åœ¨é¡µé¢ä¸­ä½¿ç”¨ å¿…é¡»æ·»åŠ ä¸Šiconfontç±»åï¼Œå°†åœ¨é˜¿é‡Œå›¾æ ‡å¤åˆ¶ä»£ç ç²˜è´´åˆ°xlink:hrefä¸­ 123&lt;svg class=&quot;icon&quot; aria-hidden=&quot;true&quot;&gt; &lt;use xlink:href=&quot;#icon-a-24wode1&quot;&gt;&lt;/use&gt;&lt;/svg&gt;","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"vue2","slug":"vue2","permalink":"http://example.com/tags/vue2/"},{"name":"é˜¿é‡Œå­—ä½“å›¾æ ‡","slug":"é˜¿é‡Œå­—ä½“å›¾æ ‡","permalink":"http://example.com/tags/%E9%98%BF%E9%87%8C%E5%AD%97%E4%BD%93%E5%9B%BE%E6%A0%87/"}]},{"title":"vueä¸­filterè¿‡æ»¤å™¨çš„ä½¿ç”¨","slug":"15-vueä¸­filterè¿‡æ»¤å™¨çš„ä½¿ç”¨","date":"2025-03-02T23:55:41.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/51760.html","permalink":"http://example.com/posts/51760.html","excerpt":"","text":"ä¸€ã€å…¨å±€filterè¿‡æ»¤å™¨çš„é…ç½®åŠä½¿ç”¨1ã€åœ¨srcä¸‹é¢æ–°å»ºfilters&#x2F;index.js 12345678const currency = (price) =&gt; &#123; if (!price) return &#x27;0.00&#x27; return `äººæ°‘å¸$&#123;price.toFixed(2)&#125;`&#125;export default &#123; currency&#125; è¿™é‡Œçš„å‡½æ•°å°±ç›¸å½“äºæŠŠçº¢è‰²æ–¹æ¡†é‡Œçš„å‡½æ•°æŠ½ç¦»å‡ºæ¥,å•ç‹¬æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ 2ã€åœ¨main.jsä¸­å¼•å…¥å’Œæ³¨å†Œå…¨å±€è¿‡æ»¤å™¨ 12345678import filters from &#x27;./filter/index&#x27;Object.keys(filters).forEach(filterName =&gt; &#123; Vue.filter(filterName, filters[filterName])&#125;)// Object.keys(filters)å¾—åˆ°çš„å°±æ˜¯filters/index.jsé‡Œé¢çš„å‡½æ•°åç»„æˆçš„æ•°ç»„ [&#x27;currency &#x27;] å› ä¸ºè¿™é‡Œindex.jsé‡Œé¢å°±ä¸€ä¸ªå‡½æ•°æ‰€ä»¥æ•°ç»„é‡Œå°±åªæœ‰ä¸€ä¸ªå€¼//filterName å°±æ˜¯é€šè¿‡éå†[&#x27;currency &#x27;] å¾—åˆ°çš„å°±æ˜¯index.jsä¸­çš„æ¯ä¸€ä¸ªå‡½æ•°å(è¿‡æ»¤å™¨åå­—)//filters[filterName])å‡ºå‘./filter/indexä¸­çš„æŸä¸ªå‡½æ•° 3ã€åœ¨ä¸åŒçš„vueæ–‡ä»¶ä¸­ä½¿ç”¨å®šä¹‰çš„å…¨å±€è¿‡æ»¤å™¨äº† 12 &lt;div class=&quot;proPrice&quot;&gt;&#123;&#123;66 | currency&#125;&#125;å…ƒ&lt;/div&gt;// currencyå°±æ˜¯è¿‡æ»¤å™¨å æœ€ç»ˆæ‰“å°çš„æ˜¯ 66.00 äºŒã€å±€éƒ¨filterè¿‡æ»¤å™¨çš„ä½¿ç”¨123456789101112131415161718192021222324252627282930&lt;template&gt; &lt;div&gt; &lt;p class=&quot;displayOrderStatus&quot;&gt; &#123;&#123; resultList.orderStatus | statusText &#125;&#125; &lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; data() &#123; this.statusMap = &#123; S2: &#x27;åŠç†æˆåŠŸ&#x27;, R2: &#x27;å·²è§£çº¦&#x27;, R3: &#x27;å·²é€€è´§&#x27;, F1: &#x27;å®¡æ‰¹å¤±è´¥&#x27;, S1P: &#x27;åŠç†ä¸­&#x27;, S1F: &#x27;åŠç†å¤±è´¥&#x27;, ...[&#x27;F2&#x27;, &#x27;F3&#x27;, &#x27;F4&#x27;].reduce((acc, key) =&gt; &#123; acc[key] = &#x27;å·²å¤±æ•ˆ&#x27; return acc &#125;, &#123;&#125;) &#125; return &#123;&#125; &#125;, filters: &#123; statusText: value =&gt; this.statusMap[value] || &#x27;&#x27; &#125;&#125;&lt;/script&gt;","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"vue2","slug":"vue2","permalink":"http://example.com/tags/vue2/"}]},{"title":"vueä¸­çš„v-model","slug":"14-vueä¸­çš„v-model","date":"2025-03-01T23:55:39.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/c9a5b6609.html","permalink":"http://example.com/posts/c9a5b6609.html","excerpt":"","text":"v-model å®é™…ä¸Šå°±æ˜¯ $emit(â€˜inputâ€™) ä»¥åŠ props:value çš„ç»„åˆè¯­æ³•ç³–ï¼Œåœ¨èƒŒååšäº†ä¸¤ä»¶äº‹ï¼š v-bindç»‘å®švalueå±æ€§çš„å€¼ï¼› v-onç»‘å®šinputäº‹ä»¶ç›‘å¬åˆ°å‡½æ•°ä¸­ï¼Œå‡½æ•°ä¼šè·å–æœ€æ–°çš„å€¼èµ‹å€¼åˆ°ç»‘å®šçš„å±æ€§ä¸­ï¼› ä¸€ã€v-modelç”¨åœ¨htmlæ ‡ç­¾ä¸Š123&lt;input v-model=&quot;foo&quot; /&gt; ç›¸å½“äºâ¬‡ï¸&lt;input :value=&quot;foo&quot; @input=&quot;foo = $event.target.value&quot; /&gt; checkbox å’Œ radio ä½¿ç”¨ props:checked å±æ€§å’Œ $emit(â€˜changeâ€™) äº‹ä»¶ã€‚ select ä½¿ç”¨ props:value å±æ€§å’Œ $emit(â€˜changeâ€™) äº‹ä»¶ã€‚ ä½†æ˜¯ï¼Œé™¤äº†ä¸Šé¢åˆ—ä¸¾çš„è¿™äº›ï¼Œåˆ«çš„éƒ½æ˜¯ $emit(â€˜inputâ€™) ä»¥åŠ props:value äºŒã€v-modelç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Š2.1ã€ç»„ä»¶ä¸­év-modelå®ç°åŒå‘æ•°æ®ç»‘å®š1234567891011121314151617181920212223242526// çˆ¶ç»„ä»¶&lt;template&gt; &lt;div class=&#x27;&#x27;&gt; &lt;UserInfo :value=&quot;userName&quot; @input=&quot;onInput&quot;&gt;&lt;/UserInfo&gt; &lt;p&gt;å§“åï¼š&#123;&#123;userName&#125;&#125;&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import UserInfo from &#x27;./components/UserInfo.vue&#x27;export default &#123; data() &#123; return &#123; userName: &#x27;&#x27; &#125; &#125;, components: &#123; UserInfo &#125;, methods: &#123; onInput(val) &#123; this.userName = val &#125; &#125;&#125;&lt;/script&gt; 12345678910111213141516171819202122// å­ç»„ä»¶&lt;template&gt; &lt;div&gt; &lt;input type=&quot;text&quot; :value=&quot;value&quot; @input=&quot;handlerInput&quot;&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; props: &#123; value: &#123; type: String, default: &#x27;&#x27; &#125; &#125;, methods: &#123; handlerInput(e) &#123; this.$emit(&#x27;input&#x27;, e.target.value) &#125; &#125;&#125;&lt;/script&gt; 2.2ã€ç»„ä»¶ä¸­v-modelå®ç°åŒå‘æ•°æ®ç»‘å®š123456789101112131415161718192021// çˆ¶ç»„ä»¶&lt;template&gt; &lt;div class=&#x27;&#x27;&gt; &lt;UserInfo v-model=&quot;userName&quot;&gt;&lt;/UserInfo&gt; &lt;p&gt;å§“åï¼š&#123;&#123;userName&#125;&#125;&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import UserInfo from &#x27;./components/UserInfo.vue&#x27;export default &#123; data() &#123; return &#123; userName: &#x27;&#x27; &#125; &#125;, components: &#123; UserInfo &#125;&#125;&lt;/script&gt; 12345678910111213141516171819202122// å­ç»„ä»¶&lt;template&gt; &lt;div&gt; &lt;input type=&quot;text&quot; :value=&quot;value&quot; @input=&quot;handlerInput&quot;&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; props: &#123; value: &#123; // é€šè¿‡propsæ¥å—çˆ¶ç»„ä»¶valueçš„å€¼ï¼ˆv-modelé»˜è®¤ä¼ çš„æ˜¯valueï¼‰ type: String, default: &#x27;&#x27; &#125; &#125;, methods: &#123; handlerInput(e) &#123; // é€šè¿‡$emitè§¦å‘inputæ–¹æ³•ä¿®æ”¹å€¼ this.$emit(&#x27;input&#x27;, e.target.value) &#125; &#125;&#125;&lt;/script&gt; 1ï¼‰ä¿®æ”¹ä¼ é€’å‚æ•°çš„é»˜è®¤å€¼ é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç»„ä»¶ä¸Šçš„ v-model ä¼šæŠŠ value ç”¨ä½œ prop ä¸”æŠŠ input ç”¨ä½œ eventï¼Œä¸ºäº†é¿å…æœ‰æ—¶å€™çš„å†²çªï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰äº‹ä»¶ï¼›ä»¥ä¸‹æ˜¯åœ¨å­ç»„ä»¶ä¸­å£°æ˜ï¼š 1234model: &#123; prop: &#x27;myValue&#x27;, // é»˜è®¤æ˜¯value event: &#x27;myInput&#x27;, // é»˜è®¤æ˜¯input&#125; 123456789101112131415161718192021// çˆ¶ç»„ä»¶&lt;template&gt; &lt;div class=&#x27;&#x27;&gt; &lt;UserInfo v-model=&quot;userName&quot;&gt;&lt;/UserInfo&gt; &lt;p&gt;å§“åï¼š&#123;&#123;userName&#125;&#125;&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import UserInfo from &#x27;./components/UserInfo.vue&#x27;export default &#123; data() &#123; return &#123; userName: &#x27;&#x27; &#125; &#125;, components: &#123; UserInfo &#125;&#125;&lt;/script&gt; 123456789101112131415161718192021222324252627// å­ç»„ä»¶&lt;template&gt; &lt;div&gt; &lt;input type=&quot;text&quot; :value=&quot;myValue&quot; @input=&quot;handlerInput&quot;&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; model: &#123; prop: &#x27;myValue&#x27;, // é»˜è®¤æ˜¯value event: &#x27;myInput&#x27; // é»˜è®¤æ˜¯input &#125;, props: &#123; myValue: &#123; type: String, default: &#x27;&#x27; &#125; &#125;, methods: &#123; handlerInput(e) &#123; this.$emit(&#x27;myInput&#x27;, e.target.value) &#125; &#125;&#125;&lt;/script&gt; 2ï¼‰å®è·µæ¡ˆä¾‹12345678910111213141516171819202122232425262728293031// çˆ¶ç»„ä»¶&lt;template&gt; &lt;div class=&#x27;&#x27;&gt; &lt;Dialog v-model=&quot;dialogFlag&quot; @confirm=&quot;confirm&quot;&gt;&lt;/Dialog&gt; &lt;p&gt;&#123;&#123;params&#125;&#125;&lt;/p&gt; &lt;md-button type=&quot;primary&quot; @click=&quot;open&quot;&gt;æ‰“å¼€å¼¹çª—&lt;/md-button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import Dialog from &#x27;./components/Dialog.vue&#x27;export default &#123; data() &#123; return &#123; dialogFlag: false, params: &#x27;&#x27; &#125; &#125;, components: &#123; Dialog &#125;, methods: &#123; open() &#123; this.dialogFlag = true &#125;, confirm(val) &#123; this.params = val &#125; &#125;&#125;&lt;/script&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960// å­ç»„ä»¶&lt;template&gt; &lt;div&gt; &lt;md-dialog title=&quot;çª—å£æ ‡é¢˜&quot; :closable=&quot;true&quot; v-model=&quot;basicDialogFlag&quot; :btns=&quot;basicDialog.btns&quot; &gt; äººç”Ÿçš„åˆºï¼Œå°±åœ¨è¿™é‡Œï¼Œç•™æ‹ç€ä¸è‚¯å¿«èµ°çš„ï¼Œåæ˜¯ä½ æ‰€ä¸ç•™æ‹çš„ä¸œè¥¿ã€‚ &lt;/md-dialog&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; props: &#123; value: &#123; type: Boolean, default: false &#125; &#125;, data() &#123; return &#123; basicDialog: &#123; btns: [ &#123; text: &#x27;ç¡®è®¤æ“ä½œ&#x27;, handler: () =&gt; &#123; this.onBasicConfirm() &#125; &#125; ] &#125; &#125; &#125;, computed: &#123; basicDialogFlag: &#123; get() &#123; return this.value &#125;, set(value) &#123; this.$emit(&#x27;input&#x27;, value) &#125; &#125; &#125;, mounted() &#123; // é»˜è®¤æ‰“å¼€å¼¹çª—ã€‚ä¸è¦ç›´æ¥ä¿®æ”¹ propï¼ˆthis.valueï¼‰ï¼Œé€šè¿‡è®¡ç®—å±æ€§çš„ setter å‘å‡º input // this.basicDialogFlag = true &#125;, methods: &#123; onBasicConfirm() &#123; // å…³é—­å¯¹è¯æ¡†å¹¶é€šçŸ¥çˆ¶ç»„ä»¶ï¼ˆé€šè¿‡ v-model çš„ inputï¼‰ this.basicDialogFlag = false // å¯é€‰ï¼šé€šçŸ¥çˆ¶çº§ç¡®è®¤æ“ä½œ this.$emit(&#x27;confirm&#x27;, &#x27;å­ç»„ä»¶ç¡®è®¤æ“ä½œå·²é€šçŸ¥çˆ¶ç»„ä»¶&#x27;) &#125; &#125;&#125;&lt;/script&gt; 3ï¼‰æ‰©å±•Vue 2 ä¸­ .sync ä¿®é¥°ç¬¦çš„ç”¨æ³•ï¼Œçˆ¶å­ç»„ä»¶å¦‚ä½•é€šè¿‡ :prop.sync å’Œ $emit(&#39;update:prop&#39;) è¿›è¡ŒåŒå‘ç»‘å®šã€‚ åœ¨ Vue 2 ä¸­ï¼Œå½“çˆ¶ç»„ä»¶å†™ï¼š 1vue&lt;Child :name.sync=&quot;username&quot;&gt;&lt;/Child&gt; å®ƒç­‰ä»·äºï¼š 1vue&lt;Child :name=&quot;username&quot; @update:name=&quot;val =&gt; username = val&quot;&gt;&lt;/Child&gt; ä¹Ÿå°±æ˜¯è¯´ï¼š çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶ name å±æ€§ å­ç»„ä»¶é€šè¿‡ $emit(&#39;update:name&#39;, newVal) èƒ½ç›´æ¥æ›´æ–°çˆ¶ç»„ä»¶çš„ username 1234567891011121314151617181920212223// çˆ¶ç»„ä»¶&lt;template&gt; &lt;div&gt; &lt;h2&gt;çˆ¶ç»„ä»¶&lt;/h2&gt; &lt;p&gt;çˆ¶ç»„ä»¶çš„ç”¨æˆ·å: &#123;&#123; username &#125;&#125;&lt;/p&gt; &lt;!-- ä½¿ç”¨ .sync ä¿®é¥°ç¬¦ --&gt; &lt;Child :name.sync=&quot;username&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import Child from &#x27;./Child.vue&#x27;export default &#123; components: &#123; Child &#125;, data() &#123; return &#123; username: &#x27;å¼ ä¸‰&#x27; &#125; &#125;&#125;&lt;/script&gt; 12345678910111213141516171819202122232425262728// å­ç»„ä»¶&lt;template&gt; &lt;div&gt; &lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt; &lt;p&gt;æ¥æ”¶åˆ°çš„ç”¨æˆ·å: &#123;&#123; name &#125;&#125;&lt;/p&gt; &lt;!-- ç‚¹å‡»æŒ‰é’®ä¿®æ”¹ç”¨æˆ·å --&gt; &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹ç”¨æˆ·å&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; props: &#123; name: &#123; type: String, required: true &#125; &#125;, methods: &#123; changeName() &#123; const newName = this.name + &#x27;ï¼ˆå­ç»„ä»¶æ”¹è¿‡ï¼‰&#x27; // ç”¨ $emit è§¦å‘ update:name this.$emit(&#x27;update:name&#x27;, newName) &#125; &#125;&#125;&lt;/script&gt;","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"vue2","slug":"vue2","permalink":"http://example.com/tags/vue2/"}]},{"title":"vueXä¸­çš„Mutationä¸èƒ½ä½¿ç”¨å¼‚æ­¥å‡½æ•°","slug":"13-vueXä¸­çš„Mutationä¸èƒ½ä½¿ç”¨å¼‚æ­¥å‡½æ•°","date":"2025-02-28T23:55:40.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/1515505e.html","permalink":"http://example.com/posts/1515505e.html","excerpt":"","text":"ä¸€ã€ä¸ºä»€ä¹ˆå¿…é¡»æ˜¯åŒæ­¥æ›´æ–°ï¼Ÿå› ä¸ºåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šè¿½è¸ªçŠ¶æ€çš„å˜åŒ–ã€‚å¸¸ç”¨çš„æ‰‹æ®µå°±æ˜¯åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­è°ƒè¯•ã€‚è€Œåœ¨ mutation ä¸­ä½¿ç”¨å¼‚æ­¥æ›´æ–°çŠ¶æ€ï¼Œè™½ç„¶ä¹Ÿä¼šä½¿çŠ¶æ€æ­£å¸¸æ›´æ–°ï¼Œä½†æ˜¯ä¼šå¯¼è‡´å¼€å‘è€…å·¥å…·æœ‰æ—¶æ— æ³•è¿½è¸ªåˆ°çŠ¶æ€çš„å˜åŒ–ï¼Œè°ƒè¯•èµ·æ¥å°±ä¼šå¾ˆå›°éš¾ã€‚ 123456789101112131415161718index.jsimport Vue from &#x27;vue&#x27;import Vuex from &#x27;vuex&#x27;Vue.use(Vuex)const state = &#123; count: 0&#125;const mutations = &#123; synchronization (state, params) &#123; state.count += params.num &#125;, asynchronous (state, params) &#123; setTimeout(() =&gt; &#123; state.count += params.num &#125;, 3000) &#125;&#125;export default new Vuex.Store(&#123;state,mutations&#125;) 12345678910111213141516171819202122232425&lt;template&gt; &lt;div class=&quot;content&quot;&gt; &lt;h3&gt;æµ‹è¯•åœ¨mutationsä½¿ç”¨åŒæ­¥å’Œå¼‚æ­¥&lt;/h3&gt; &lt;button @click=&quot;sync&quot;&gt;åŒæ­¥&lt;/button&gt; &lt;button @click=&quot;async&quot;&gt;å¼‚æ­¥&lt;/button&gt; &lt;p style=&quot;font-size: 30px;&quot;&gt;è¿™æ˜¯vuexä¸­çš„ &lt;span style=&quot;color:red&quot;&gt;&#123;&#123; $store.state.count &#125;&#125;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;export default &#123; methods: &#123; sync () &#123; this.$store.commit(&#123; type: &#x27;synchronization&#x27;, num: 20 &#125;) &#125;, async () &#123; this.$store.commit(&#123; type: &#x27;asynchronous&#x27;, num: 20 &#125;) &#125; &#125;&#125; æˆ‘ä»¬æ¥çœ‹Devtoolsçš„VuexçŠ¶æ€å›¾ äºŒã€ç‚¹å‡»åŒæ­¥ (åœ¨mutationsé‡Œé¢åšåŒæ­¥æ“ä½œ)ç‚¹å‡»5æ¬¡ï¼Œç‚¹å‡»æ—¶é—´çº¿å¯ä»¥çœ‹åˆ°5æ¬¡çš„ç‚¹å‡»æ¯æ¬¡éƒ½æ˜¯å¢åŠ 20ï¼Œé¡µé¢ä¸­çš„countä¼šéšç€ç‚¹å‡»å˜åŒ–è€Œå˜åŒ–20&gt;40&gt;60&gt;80&gt;100 ç¬¬1æ¬¡ï¼š ç¬¬2æ¬¡ï¼š â€¦ â€¦ ç¬¬5æ¬¡ï¼š äºŒã€ç‚¹å‡»å¼‚æ­¥ (åœ¨mutationsé‡Œé¢åšå¼‚æ­¥æ“ä½œ)1ã€åœ¨3så†…ç‚¹å‡»å¼‚æ­¥æŒ‰é’®5æ¬¡ï¼Œå› ä¸ºå¼‚æ­¥æ“ä½œæœªå®Œæˆï¼Œæ‰€ä»¥åœ¨æ—¶é—´çº¿é‡Œé¢å¯ä»¥çœ‹åˆ°ç‚¹å‡»çš„è¿™5æ¬¡countéƒ½æ˜¯0ã€‚é¡µé¢ä¸­çš„countä¸ä¼šéšç€ç‚¹å‡»å˜åŒ–è€Œå˜åŒ–ï¼Œè€Œæ˜¯åœ¨3såè®¡ç®—æ€»å’Œ100 2ã€åœ¨3såç‚¹å‡»å¼‚æ­¥æŒ‰é’®1æ¬¡(ç¬¬å…­æ¬¡ç‚¹å‡»)ï¼Œæ—¶é—´çº¿ä¸Šçš„countä¸ºå‰äº”æ¬¡çš„æ€»å’Œ100ï¼Œè€Œé¡µé¢ä¸”ä¸º6æ¬¡ç‚¹å‡»çš„æ€»å’Œ120 æ€»ç»“å¯ä»¥çœ‹åˆ°åœ¨Mutationä¸­ä½¿ç”¨å¼‚æ­¥å’ŒåŒæ­¥æœ€ç»ˆé¡µé¢çš„æ€»å’Œéƒ½æ˜¯æ­£ç¡®çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨Mutationä¸­ä½¿ç”¨å¼‚æ­¥ä¸ä¼šå¯¹æ•°æ®é€ æˆä¸¢å¤±å’Œå…¶ä»–å½±å“ã€‚ç„¶è€Œæˆ‘ä»¬æ³¨æ„Vue Devtoolsæ˜¾ç¤ºç»“æœï¼Œå½“æˆ‘ä»¬å»æŸ¥çœ‹å¤šæ¬¡MutationçŠ¶æ€æ—¶ï¼Œå‘ç°åŒæ­¥çš„æ˜¾ç¤ºOkï¼Œå¼‚æ­¥çš„Countæ˜¾ç¤ºä¸º0 å’Œæˆ‘ä»¬é¢„æœŸç»“æœä¸ä¸€è‡´ï¼Œæ‰€ä»¥ä¼šé€ æˆçŠ¶æ€æ”¹å˜çš„ä¸å¯è¿½è¸ªï¼Œæ‰€ä»¥å®˜æ–¹è¯´æˆ‘ä»¬Mutationæ˜¯åŒæ­¥çš„ï¼ é‡ç‚¹äº‹æƒ…é€ æˆçŠ¶æ€æ”¹å˜çš„ä¸å¯è¿½è¸ªé€ æˆçŠ¶æ€æ”¹å˜çš„ä¸å¯è¿½è¸ªé€ æˆçŠ¶æ€æ”¹å˜çš„ä¸å¯è¿½è¸ª åœ¨actionsä¸­å°±ä¸ä¼šå‡ºç°è¿™ç§çŠ¶æ€æ”¹å˜ä¸å¯è¿½è¸ªçš„æƒ…å†µ","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"vue2","slug":"vue2","permalink":"http://example.com/tags/vue2/"},{"name":"vueX","slug":"vueX","permalink":"http://example.com/tags/vueX/"}]},{"title":"vueç›‘å¬è·¯ç”±å˜åŒ–çš„å‡ ç§æ–¹å¼","slug":"12-vueç›‘å¬è·¯ç”±å˜åŒ–çš„å‡ ç§æ–¹å¼","date":"2025-02-27T23:55:37.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/60784.html","permalink":"http://example.com/posts/60784.html","excerpt":"","text":"ä¸€ã€Vueç›‘å¬è·¯ç”±å˜åŒ–çš„å‡ ç§æ–¹å¼Vueé¡µé¢å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æ ¹æ®è·¯ç”±çš„å˜åŒ–å»å®ç°ä¸€äº›æ“ä½œï¼Œé‚£ä¹ˆå¦‚ä½•ç›‘å¬è·¯ç”±çš„å˜åŒ–å‘¢ï¼Ÿå½“ç„¶æ˜¯åˆ©ç”¨VUEä¸­çš„watchï¼Œè¯·çœ‹ä»£ç ã€‚ 1.1ã€ç›‘å¬è·¯ç”±ä»å“ªå„¿æ¥åˆ°å“ªå„¿å» 123456watch:&#123; $route(to,from)&#123; console.log(from.path);//ä»å“ªæ¥ console.log(to.path);//åˆ°å“ªå» &#125;&#125; 1.2ã€ç›‘å¬è·¯ç”±å˜åŒ–è·å–æ–°è€è·¯ç”±ä¿¡æ¯ 12345678910watch:&#123; $route:&#123; handler(val,oldval)&#123; console.log(val);//æ–°è·¯ç”±ä¿¡æ¯ console.log(oldval);//è€è·¯ç”±ä¿¡æ¯ &#125;, // æ·±åº¦è§‚å¯Ÿç›‘å¬ deep: true &#125; &#125; 1.3ã€ç›‘å¬è·¯ç”±å˜åŒ–è§¦å‘æ–¹æ³• 12345678methods:&#123; getPath()&#123; console.log(1111) &#125;&#125;,watch:&#123; &#x27;$route&#x27;:&#x27;getPath&#x27; // è·¯ç”±å˜åŒ–è§¦å‘getPath()æ–¹æ³•&#125; 1.4ã€å…¨å±€ç›‘å¬è·¯ç”± åœ¨app.vueçš„createç§åŠ å…¥ä¸‹é¢ä»£ç ï¼Œç„¶åè¿›è¡Œåˆ¤æ–­ 1234this.$router.beforeEach((to, from, next) =&gt; &#123; console.log(to); next();&#125;); äºŒã€è·¯ç”±ç›‘å¬å¤±æ•ˆé—®é¢˜userç»„ä»¶ 123456watch:&#123; &#x27;$route&#x27; (to, from) &#123; // å¯¹è·¯ç”±å˜åŒ–ä½œå‡ºå“åº”... console.log(to) &#125;&#125; è·¯ç”±é…ç½® 123456&#123; path:&#x27;/user/:id&#x27;, name:&#x27;User&#x27;, component:() =&gt; import (&#x27;../views/User&#x27;), children:[] &#125; user ç»„ä»¶æˆ‘è®©å…¶æˆä¸ºå¼‚æ­¥ç»„ä»¶ï¼Œæ˜¯æƒ³å®ç°ç‚¹å‡»ç”¨æˆ·å¤´åƒå†è·³è½¬è·¯ç”±è¿›å…¥ &#x2F;userï¼Œä»è·¯ç”±å‚æ•°ä¸­è·å–user idå‘èµ·ajaxè¯·æ±‚è·å–ç”¨æˆ·ä¿¡æ¯ **å¯æœ€ç»ˆå¾—åˆ°çš„ç»“æœæ˜¯ï¼š**åœ¨userç»„ä»¶ä¸­ä½¿ç”¨watch ç›‘å¬è·¯ç”±çš„å˜åŒ–æ— æ•ˆï¼ˆæˆ‘æƒ³åœ¨ç›‘å¬ä¸­å–å‡ºå‚æ•°ï¼‰ **æ³¨æ„ï¼š**ä¸ç®¡ä½ çš„ç»„ä»¶æ˜¯ä¸æ˜¯å¼‚æ­¥ç»„ä»¶ï¼Œä¹Ÿä¼šæœ‰æ­¤é—®é¢˜ åŸå› ï¼š è·¯ç”±ç»„ä»¶çš„æ¸²æŸ“åŒºåŸŸä¸º router-viewï¼Œä½œä¸ºé¡¶å±‚å‡ºå£ï¼ˆå®˜æ–¹æ˜¯è¿™ä¹ˆå«çš„ï¼‰å®ƒå°†åŒ¹é…åˆ°çš„è·¯ç”±ç»„ä»¶æ¸²æŸ“åœ¨è¯¥åŒºåŸŸä¸­ï¼Œè·¯ç”±ç»„ä»¶æ¸²æŸ“é»˜è®¤çš„æ–¹å¼æ˜¯é”€æ¯ - åˆ›å»ºï¼Œåœ¨ç»„ä»¶ä¸­åŠ å…¥ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¯ä»¥è¯æ˜ï¼š 123created()&#123; console.log(&quot;user ç»„ä»¶è¢«åˆ›å»º&quot;)&#125; ä½ å¯ä»¥ä½¿ç”¨æµè§ˆå™¨çš„å‰è¿›åé€€æ¥è·³è½¬é¡µé¢ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç‚¹å‡»ä½ è®¾ç½®çš„é¡µé¢å…ƒç´ æ¥è¿›è¡Œè·¯ç”±è·³è½¬ è§£å†³æ–¹æ¡ˆï¼šæ­£æ˜¯å› ä¸ºç»„ä»¶è¢«è·¯ç”±æ¸²æŸ“å‡ºæ¥çš„æ–¹å¼æ˜¯é”€æ¯ - åˆ›å»º,é‚£ä¹ˆç»„ä»¶å®ä¾‹ä¸­å®šä¹‰çš„ä¸€ç³»åˆ—æ–¹æ³•æ¯åˆ›å»ºä¸€æ¬¡ç»„ä»¶new Vue()ï¼Œæ–¹æ³•éƒ½æ˜¯æ–°æ·»åŠ ä¸Šå»çš„ï¼Œè‡ªç„¶ $watchè¿™ä¸ªæ“ä½œå°±ç›‘å¬ä¸åˆ°è·¯ç”±çš„å˜åŒ–ï¼Œæ›´ä¸ç”¨è¯´å®šä¹‰åœ¨ç»„ä»¶ä¸­çš„beforeRouteUpdateè¿™ç§æ–¹æ³•ï¼Œæ‰€ä»¥,è¦æƒ³å®ç°è¿™ä¸ªåŠŸèƒ½å¾—è®©ç»„ä»¶æˆä¸º å¤ç”¨ç»„ä»¶ï¼Œåªéœ€åŠ keep-aliveå³å¯ 123&lt;keep-alive&gt; &lt;router-view&gt;&lt;/router-view&gt;&lt;/keep-alive&gt; æ­¤åï¼Œä½ çš„ watch â€˜$routeâ€™ å°†åœ¨è·¯ç”±æ”¹å˜çš„æ—¶å€™èµ·ä½œç”¨ï¼ï¼ï¼åŠ ä¸Šäº†keep-aliveåä½ å¯ä»¥æµ‹è¯•åˆ°åœ¨ç¬¬ä¸€æ¬¡è·³è½¬è·¯ç”±åä½ å®šä¹‰çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•° created()å°†ä¸ä¼šå†è¢«è°ƒç”¨ã€‚","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"vue2","slug":"vue2","permalink":"http://example.com/tags/vue2/"},{"name":"vue-router","slug":"vue-router","permalink":"http://example.com/tags/vue-router/"}]},{"title":"vueå®ç°æ»šåŠ¨åˆ°å…·ä½“æŸå…ƒç´ ä½ç½®","slug":"11-vueå®ç°æ»šåŠ¨åˆ°å…·ä½“æŸå…ƒç´ ä½ç½®","date":"2025-02-27T23:55:34.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/6324.html","permalink":"http://example.com/posts/6324.html","excerpt":"","text":"ä¸€ã€scrollIntoView()æ–¹æ³•1scrollIntoView(&#123; behavior:&quot;smooth&quot;, block: &quot;start&quot;, inline: &quot;start&quot;&#125;) behavior è¡¨ç¤ºæ»šåŠ¨æ–¹å¼ã€‚auto è¡¨ç¤ºä½¿ç”¨å½“å‰å…ƒç´ çš„ scroll-behavior æ ·å¼ã€‚instant å’Œ smoothè¡¨ç¤º ç›´æ¥æ»šåˆ°åº• å’Œ ä½¿ç”¨å¹³æ»‘æ»šåŠ¨ã€‚ block è¡¨ç¤ºå—çº§å…ƒç´ æ’åˆ—æ–¹å‘è¦æ»šåŠ¨åˆ°çš„ä½ç½®ã€‚å¯¹äºé»˜è®¤çš„ writing-mode: horizontal-tbæ¥è¯´ï¼Œå°±æ˜¯ç«–ç›´æ–¹å‘ã€‚start è¡¨ç¤ºå°†è§†å£çš„é¡¶éƒ¨å’Œå…ƒç´ é¡¶éƒ¨å¯¹é½ï¼›centerè¡¨ç¤ºå°†è§†å£çš„ä¸­é—´å’Œå…ƒç´ çš„ä¸­é—´å¯¹é½ï¼›endè¡¨ç¤ºå°†è§†å£çš„åº•éƒ¨å’Œå…ƒç´ åº•éƒ¨å¯¹é½ï¼›nearest è¡¨ç¤ºå°±è¿‘å¯¹é½ã€‚ inline è¡¨ç¤ºè¡Œå†…å…ƒç´ æ’åˆ—æ–¹å‘è¦æ»šåŠ¨åˆ°çš„ä½ç½®ã€‚å¯¹äºé»˜è®¤çš„ writing-mode: horizontal-tbæ¥è¯´ï¼Œå°±æ˜¯æ°´å¹³æ–¹å‘ã€‚å…¶å€¼ä¸ block ç±»ä¼¼ã€‚ 1234567&#123; behavior: &quot;auto&quot; | &quot;instant&quot; | &quot;smooth&quot;, // é»˜è®¤ auto block: &quot;start&quot; | &quot;center&quot; | &quot;end&quot; | &quot;nearest&quot;, // é»˜è®¤ center inline: &quot;start&quot; | &quot;center&quot; | &quot;end&quot; | &quot;nearest&quot;, // é»˜è®¤ nearest&#125; äºŒã€æ¡ˆä¾‹vue å•æ–‡ä»¶è¿è¡Œ vue serve + æ–‡ä»¶å 12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;template&gt; &lt;div class=&quot;content&quot; ref=&quot;scrollDiv&quot;&gt; &lt;div class=&quot;go&quot; @click=&quot;go&quot;&gt;ç‚¹å‡»ä¸‹æ»‘&lt;/div&gt; &lt;h1 class=&quot;show&quot; id=&quot;show&quot; ref=&quot;view&quot;&gt;å±•ç¤º&lt;/h1&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; data () &#123; return &#123; &#125; &#125;, methods: &#123; go () &#123; // æ–¹æ³•1ï¼š // document.getElementById(&#x27;show&#x27;).scrollIntoView(&#123; behavior: &#x27;smooth&#x27; &#125;) // æ–¹æ³•2 this.$refs.view.scrollIntoView(&#123; behavior: &#x27;smooth&#x27; &#125;) &#125; &#125;&#125;&lt;/script&gt;&lt;style lang=&#x27;less&#x27; scoped&gt;.go &#123; border: 1px solid #f40; width: 120px; text-align: center;&#125;.content &#123; padding: 10px 50px;&#125;.show &#123; margin-top: 3000px; background: #f40; color: #fff;&#125;&lt;/style&gt;","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"vue2","slug":"vue2","permalink":"http://example.com/tags/vue2/"}]},{"title":"é€šè¿‡picGoå°†å›¾ç‰‡ä¸Šä¼ è‡³å¯¹è±¡å­˜å‚¨","slug":"10-é€šè¿‡picGoå°†å›¾ç‰‡ä¸Šä¼ è‡³å¯¹è±¡å­˜å‚¨","date":"2025-02-27T23:47:38.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/13764.html","permalink":"http://example.com/posts/13764.html","excerpt":"","text":"ä¸€ã€é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨æˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„æ˜¯é˜¿é‡Œå¯¹è±¡å­˜å‚¨ï¼Œä½¿ç”¨å…¶ä»–çš„ä¾‹å¦‚è…¾è®¯ï¼Œåä¸ºçš„å¯¹è±¡å­˜å‚¨éƒ½å¤§åŒå°å¼‚ã€‚è´­ä¹°å¥½äº†å¯¹è±¡å­˜å‚¨å°±å¼€å§‹åˆ›å»ºBucketã€‚ 1.1ã€åˆ›å»ºBucket 1.2ã€åˆ›å»ºBucketä¸‹çš„æ–‡ä»¶è·¯å¾„ åˆ›å»ºå¥½çš„è¿™ä¸ªAccessKeyIDå’ŒkeySecretè¦ä¿å­˜å¥½ äºŒã€PicGoé…ç½® ä¸‰ã€Typoraæ­é…PicGoä½¿ç”¨ è¿™æ ·åœ¨ Typora æ’å…¥å›¾ç‰‡æ—¶å³å¯è‡ªåŠ¨ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Š","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://example.com/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"picGo","slug":"picGo","permalink":"http://example.com/tags/picGo/"},{"name":"Typora","slug":"Typora","permalink":"http://example.com/tags/Typora/"},{"name":"å¯¹è±¡å­˜å‚¨","slug":"å¯¹è±¡å­˜å‚¨","permalink":"http://example.com/tags/%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8/"}]},{"title":"axiosè¯·æ±‚å¤´content-typeç†è§£","slug":"09-axiosè¯·æ±‚å¤´content-typeç†è§£","date":"2025-02-26T23:55:31.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/6090aba3.html","permalink":"http://example.com/posts/6090aba3.html","excerpt":"","text":"ä¸€ã€httpè¯·æ±‚çš„Content-Typeæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­è°ƒç”¨æ¥å£ï¼Œé€šå¸¸æ˜¯ä»¥å¯¹è±¡çš„æ•°æ®æ ¼å¼ä¼ ç»™è‡ªå·±å°è£…çš„httpè¯·æ±‚å‡½æ•°çš„ã€‚ 1ã€application&#x2F;json &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; â€œ{â€œtitleâ€:â€testâ€,â€subâ€:[1,2,3]} ç°åœ¨çš„å‰åç«¯åˆ†ç¦»é¡¹ç›®åŸºæœ¬ä¸Šéƒ½æ˜¯ä½¿ç”¨çš„è¿™ä¸ªè¿›è¡Œæ•°æ®ä¼ é€’ã€‚ axiosé»˜è®¤Content-typeæ˜¯é‡‡ç”¨application&#x2F;json;charset&#x3D;UTF-8ï¼Œæ— éœ€è®¾ç½®ç›´æ¥æŠŠ å¯¹è±¡ ä¼ è¿›å»å³å¯ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨è¯·æ±‚æ‹¦æˆªå™¨ä¸­ä½¿JSON.stringify(config.data)å°†ä¼ å‚è½¬åŒ–æˆjsonåå†å‘è¯·æ±‚ï¼ˆä½†æ˜¯ä¸èƒ½ç”¨qs.stringifyï¼‰ï¼š 2ã€application&#x2F;x-www-form-urlencoded &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; â€œkey1&#x3D;val1&amp;key2&#x3D;val2â€ç”¨äºè¡¨å•çš„æäº¤ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ajaxä¸­ï¼ˆä¸æ˜¯axioså“ˆï¼‰contentTypeéƒ½æ˜¯é»˜è®¤çš„å€¼ï¼šapplication&#x2F;x-www-form-urlencodedã€‚ ç‰¹ç‚¹æ˜¯æäº¤çš„å‚æ•°æŒ‰ç…§ â€˜key1&#x3D;val1&amp;key2&#x3D;val2â€™ çš„æ–¹å¼è¿›è¡Œç¼–ç ï¼Œkeyå’Œvalä¼šè¿›è¡Œäº†URLç¼–ç ã€‚è€Œè¦å®ç°è¿™ç§å‚æ•°çš„åºåˆ—åŒ–ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯å¼•å…¥qsï¼Œqs.stringify(data, { indices: true }) ä¼ é€’çš„å‚æ•°ä¸­æœ‰æ•°ç»„åˆ™éœ€è®¾ç½®indices: true 3ã€multipart&#x2F;form-data ä¸€èˆ¬ç”¨æ¥ä¸Šä¼ æ–‡ä»¶è¿™ä¸ªå’Œapplication&#x2F;x-www-form-urlencodedçš„åŒºåˆ«åœ¨äºä¸€ä¸ªé€‚åˆä¼ å­—æ®µé”®å€¼ï¼Œä¸€ä¸ªé€‚åˆä¼ æ–‡ä»¶,ä¼ å‚æ˜¯ä¸€ä¸ªnew FormData()æ ¼å¼ä¸éœ€è¦ç”¨qsè½¬æ¢ äºŒã€qs.sringifyå’ŒJSON.stringifyçš„åŒºåˆ«1const aa = &#123;name:&#x27;hehe&#x27;,age:10&#125;; 1ã€qs.stringifyåºåˆ—åŒ–ç»“æœï¼šâ€™name&#x3D;hehe&amp;age&#x3D;10â€™ 2ã€JSON.stringifyåºåˆ—åŒ–ç»“æœï¼šâ€{â€œaâ€:â€heheâ€,â€ageâ€:10}â€","categories":[{"name":"å‰ç«¯ä¸åç«¯é€šä¿¡","slug":"å‰ç«¯ä¸åç«¯é€šä¿¡","permalink":"http://example.com/categories/%E5%89%8D%E7%AB%AF%E4%B8%8E%E5%90%8E%E7%AB%AF%E9%80%9A%E4%BF%A1/"}],"tags":[{"name":"axios","slug":"axios","permalink":"http://example.com/tags/axios/"}]},{"title":"csså®ç°å¸¸ç”¨å¸ƒå±€æ–¹å¼","slug":"08-csså®ç°å¸¸ç”¨å¸ƒå±€æ–¹å¼","date":"2025-02-25T23:52:45.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/33dd3469.html","permalink":"http://example.com/posts/33dd3469.html","excerpt":"","text":"01. è¶…çº§å±…ä¸­place-items: center å¯¹äºç¬¬ä¸€ä¸ªâ€œå•è¡Œâ€å¸ƒå±€ï¼Œè®©æˆ‘ä»¬è§£å†³æ‰€æœ‰ CSS é¢†åŸŸä¸­æœ€å¤§çš„è°œå›¢ï¼šå±…ä¸­ã€‚æˆ‘æƒ³è®©æ‚¨çŸ¥é“ï¼Œä½¿ç”¨ place-items: center ä¼šè®©æ­¤æ“ä½œæ¯”æ‚¨æƒ³è±¡çš„å®¹æ˜“ã€‚ é¦–å…ˆæŒ‡å®š grid ä½œä¸º display æ–¹æ³•ï¼Œç„¶ååœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šå†™å…¥ place-items: centerã€‚place-items æ˜¯åŒæ—¶è®¾ç½® align-items å’Œ justify-items çš„å¿«é€Ÿæ–¹æ³•ã€‚é€šè¿‡å°†å…¶è®¾ç½®ä¸º center ï¼Œ align-items å’Œ justify-items éƒ½å°†è®¾ç½®ä¸º centerã€‚ 123456789101112.demo &#123; display: grid; place-items: center; width: 500px; height: 500px; background-color: #f40;&#125;.text &#123; width: 50px; height: 50px; background-color: rgb(255, 196, 0); &#125; 12345&lt;div class=&quot;demo&quot;&gt; &lt;div class=&quot;text&quot;&gt;&lt;/div&gt; &lt;div class=&quot;text&quot;&gt;&lt;/div&gt; &lt;div class=&quot;text&quot;&gt;&lt;/div&gt;&lt;/div&gt; 02. è§£æ„ç…é¥¼å¼å¸ƒå±€flex: &lt;grow&gt; &lt;shrink&gt; &lt;baseWidth&gt; æ¥ä¸‹æ¥æˆ‘ä»¬æœ‰è§£æ„çš„ç…é¥¼ï¼è¿™æ˜¯è¥é”€ç½‘ç«™çš„å¸¸è§å¸ƒå±€ï¼Œä¾‹å¦‚ï¼Œå¯èƒ½æœ‰ä¸€è¡Œ 3 ä¸ªé¡¹ç›®ï¼Œé€šå¸¸å¸¦æœ‰å›¾åƒã€æ ‡é¢˜ï¼Œç„¶åæ˜¯ä¸€äº›æè¿°äº§å“æŸäº›åŠŸèƒ½çš„æ–‡æœ¬ã€‚åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒä»¬èƒ½å¤Ÿå¾ˆå¥½åœ°å †å ï¼Œå¹¶éšç€æˆ‘ä»¬å¢åŠ å±å¹•å°ºå¯¸è€Œæ‰©å±•ã€‚ 1234567&lt;div class=&quot;demo&quot;&gt; &lt;ul&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; 1234567891011121314151617ul &#123; width: 150; margin: 0; padding: 0; display: flex; justify-content: center; flex-wrap: wrap;&#125;li &#123; list-style: none; padding: 0; margin: 5px; height: 250px; background-color: #f40; flex: 0 1 150px; /* flex: 1 1 150px; */ // å¦‚æœæ‚¨ç¡®å®å¸Œæœ›æ¡†åœ¨æ¢åˆ°ä¸‹ä¸€è¡Œæ—¶æ‹‰ä¼¸å¹¶å¡«å……ç©ºé—´ &#125; 03.ä¾§è¾¹æ å¸ƒå±€grid-template-columns: minmax(&lt;min&gt;, &lt;max&gt;) â€¦)æ­¤æ¼”ç¤ºå¯¹ç½‘æ ¼å¸ƒå±€åˆ©ç”¨äº† minmax å‡½æ•°ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œåšçš„æ˜¯å°†æœ€å°ä¾§è¾¹æ å¤§å°è®¾ç½®ä¸º 150px ï¼Œä½†åœ¨æ›´å¤§çš„å±å¹•ä¸Šï¼Œè®©å®ƒä¼¸å±•å‡º 25% ã€‚ä¾§è¾¹æ å°†å§‹ç»ˆå æ®å…¶çˆ¶çº§æ°´å¹³ç©ºé—´çš„ 25%ï¼Œç›´åˆ° 25% å˜å¾—å°äº 150px ã€‚ å°†ä»¥ä¸‹å€¼æ·»åŠ ä¸º grid-template-columns çš„å€¼ï¼šminmax(150px, 25%) 1fr ã€‚åœ¨ç¬¬ä¸€åˆ—ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¾§è¾¹æ ï¼‰çš„é¡¹ç›®å…¶ minmax ä¸º 150pxï¼ˆåœ¨25% ï¼‰ï¼Œç¬¬äºŒåˆ—é¡¹ç›®ï¼ˆè¿™é‡ŒæŒ‡ main éƒ¨åˆ†ï¼‰å æ®å…¶ä½™çš„ç©ºé—´ä½œä¸ºå•ä¸€çš„ 1fr è½¨é“ã€‚ 1234.parent &#123; display: grid; grid-template-columns: minmax(150px, 25%) 1fr;&#125; 04.ç…é¥¼å †æ ˆå¸ƒå±€grid-template-rows: auto 1fr auto ä¸ Deconstructed Pancake ä¸åŒï¼Œå½“å±å¹•å°ºå¯¸æ”¹å˜æ—¶ï¼Œæœ¬ä¾‹ä¸ä¼šåŒ…å«å®ƒçš„å­å…ƒç´ ã€‚é€šå¸¸ç§°ä¸ºç²˜æ€§é¡µè„šï¼Œè¿™ç§å¸ƒå±€é€šå¸¸ç”¨äºç½‘ç«™å’Œåº”ç”¨ç¨‹åºï¼Œè·¨å¤šä¸ªç§»åŠ¨åº”ç”¨ç¨‹åºï¼ˆé¡µè„šé€šå¸¸æ˜¯å·¥å…·æ ï¼‰å’Œç½‘ç«™ï¼ˆå•é¡µåº”ç”¨ç¨‹åºé€šå¸¸ä½¿ç”¨è¿™ç§å…¨å±€å¸ƒå±€ï¼‰ã€‚ å‘ç»„ä»¶æ·»åŠ  display: grid å°†ä¸ºæ‚¨æä¾›ä¸€ä¸ªå•åˆ—ç½‘æ ¼ï¼Œä½†æ˜¯ä¸»åŒºåŸŸçš„é«˜åº¦å°†ä»…ä¸é¡µè„šä¸‹æ–¹çš„å†…å®¹ä¸€æ ·é«˜ã€‚ è¦ä½¿é¡µè„šç²˜åœ¨åº•éƒ¨ï¼Œè¯·æ·»åŠ ï¼š 1234.parent &#123; display: grid; grid-template-rows: auto 1fr auto;&#125; 1fré¡µçœ‰å’Œé¡µè„šå†…å®¹è®¾ç½®ä¸ºè‡ªåŠ¨é‡‡ç”¨å…¶å­é¡¹çš„å¤§å°ï¼Œå¹¶å°†å‰©ä½™ç©ºé—´ ( 1fr ) åº”ç”¨äºä¸»åŒºåŸŸï¼Œè€Œautoè°ƒæ•´å¤§å°çš„è¡Œå°†é‡‡ç”¨å…¶å­é¡¹çš„æœ€å°å†…å®¹çš„å¤§å°ï¼Œä»¥ä¾¿è¯¥å†…å®¹å¤§å°å¢åŠ ï¼Œè¡Œæœ¬èº«å°†å¢é•¿ä»¥è¿›è¡Œè°ƒæ•´ã€‚ 05.ç»å…¸åœ£æ¯å¸ƒå±€grid-template: auto 1fr auto &#x2F; auto 1fr auto å¯¹äºç»å…¸çš„åœ£æ¯å¸ƒå±€ï¼Œæœ‰é¡µçœ‰ã€é¡µè„šã€å·¦ä¾§è¾¹æ ã€å³ä¾§è¾¹æ å’Œä¸»è¦å†…å®¹ã€‚ç±»ä¼¼äºä»¥å‰çš„å¸ƒå±€ï¼Œä½†ç°åœ¨æœ‰ä¾§è¾¹æ ï¼ è¦ä½¿ç”¨ä¸€è¡Œä»£ç ç¼–å†™æ•´ä¸ªç½‘æ ¼ï¼Œè¯·ä½¿ç”¨ grid-template å±æ€§ã€‚è¿™ä½¿æ‚¨å¯ä»¥åŒæ—¶è®¾ç½®è¡Œå’Œåˆ—ã€‚ å±æ€§å’Œå€¼å¯¹ä¸ºï¼šgrid-template: auto 1fr auto &#x2F; auto 1fr auto ã€‚ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªä»¥ç©ºæ ¼åˆ†éš”çš„åˆ—è¡¨ä¹‹é—´çš„æ–œçº¿æ˜¯è¡Œå’Œåˆ—ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚ 1234.parent &#123; display: grid; grid-template: auto 1fr auto / auto 1fr auto;&#125; ä¸ä¸Šä¸€ä¸ªç¤ºä¾‹ä¸€æ ·ï¼Œé¡µçœ‰å’Œé¡µè„šå…·æœ‰è‡ªåŠ¨è°ƒæ•´å¤§å°çš„å†…å®¹ï¼Œè¿™é‡Œçš„å·¦ä¾§å’Œå³ä¾§è¾¹æ ä¼šæ ¹æ®å…¶å­é¡¹çš„å›ºæœ‰å¤§å°è‡ªåŠ¨è°ƒæ•´å¤§å°ã€‚ä½†æ˜¯ï¼Œè¿™æ¬¡æ˜¯æ°´å¹³å°ºå¯¸ï¼ˆå®½åº¦ï¼‰è€Œä¸æ˜¯å‚ç›´å°ºå¯¸ï¼ˆé«˜åº¦ï¼‰ã€‚ 06.è·¨ç½‘æ ¼grid-template-columns: repeat(12, 1fr) æ¥ä¸‹æ¥æˆ‘ä»¬æœ‰å¦ä¸€ä¸ªç»å…¸å¸ƒå±€ï¼š12 è·¨ç½‘æ ¼ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ repeat() å‡½æ•°åœ¨ CSS ä¸­å¿«é€Ÿç¼–å†™ç½‘æ ¼ã€‚å¯¹ç½‘æ ¼æ¨¡æ¿åˆ—ä½¿ç”¨ repeat(12, 1fr); å°†ä¸ºæ¯ä¸ª 1fr æä¾› 12 åˆ—ã€‚ 12345678.parent &#123; display: grid; grid-template-columns: repeat(12, 1fr);&#125;.child-span-12 &#123; grid-column: 1 / 13;&#125; ç°åœ¨æ‚¨æœ‰ä¸€ä¸ª 12 åˆ—çš„è½¨é“ç½‘æ ¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†å­é¡¹æ”¾åœ¨ç½‘æ ¼ä¸Šã€‚ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ç½‘æ ¼çº¿æ”¾ç½®å®ƒä»¬ã€‚ä¾‹å¦‚ï¼Œ grid-column: 1 &#x2F; 13 å°†è·¨è¶Šä»ç¬¬ä¸€åˆ°æœ€åä¸€è¡Œï¼ˆç¬¬ 13 è¡Œï¼‰å¹¶è·¨è¶Š 12 åˆ—ã€‚grid-column: 1 &#x2F; 5; å°†è·¨è¶Šå‰å››ä¸ªåˆ—ã€‚ å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ span å…³é”®å­—ã€‚ä½¿ç”¨ span ï¼Œæ‚¨å¯ä»¥è®¾ç½®èµ·å§‹çº¿ï¼Œç„¶åè®¾ç½®ä»è¯¥èµ·ç‚¹è·¨è¶Šçš„åˆ—æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œgrid-column: 1 &#x2F; span 12 å°†ç­‰æ•ˆäº grid-column: 1 &#x2F; 13 ï¼Œè€Œ grid-column: 2 &#x2F; span 6 å°†ç­‰æ•ˆäº grid-column: 2 &#x2F; 8 ã€‚ 123.child-span-12 &#123; grid-column: 1 / span 12;&#125; 07.RAM (Repeat, Auto, MinMax):grid-template-columns(auto-fit, minmax(&lt;base&gt;, 1fr)) å¯¹äºè¿™ç¬¬ä¸ƒä¸ªç¤ºä¾‹ï¼Œç»“åˆæ‚¨å·²ç»äº†è§£çš„ä¸€äº›æ¦‚å¿µæ¥åˆ›å»ºå…·æœ‰è‡ªåŠ¨æ”¾ç½®ä¸”çµæ´»çš„å­é¡¹çš„å“åº”å¼å¸ƒå±€ã€‚æ¼‚äº®æ•´é½ã€‚è¿™é‡Œè¦è®°ä½çš„å…³é”®ç‚¹æ˜¯ repeat ã€ auto-(fit|fill) å’Œ minmax()â€™ ï¼Œå¯ä»¥è®°ä½å®ƒä»¬çš„é¦–å­—æ¯ç¼©å†™è¯ RAMã€‚ æ€»ä¹‹ï¼Œåº”æ˜¯è¿™æ ·ï¼š 1234.parent &#123; display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));&#125; æ‚¨å†æ¬¡ä½¿ç”¨ repeat ï¼Œä½†è¿™æ¬¡ä½¿ç”¨ auto-fit å…³é”®å­—è€Œä¸æ˜¯æ˜¾å¼æ•°å€¼ã€‚è¿™å¯ä»¥è‡ªåŠ¨æ”¾ç½®è¿™äº›å­å…ƒç´ ã€‚è¿™äº›å­å…ƒç´ çš„åŸºæœ¬æœ€å°å€¼ä¸º 150px ï¼Œæœ€å¤§å€¼ä¸º 1fr ï¼Œè¿™æ„å‘³ç€åœ¨è¾ƒå°çš„å±å¹•ä¸Šï¼Œå®ƒä»¬å°†å æ®æ•´ä¸ª 1fr å®½åº¦ï¼Œå½“å®ƒä»¬è¾¾åˆ° 150px å®½åº¦æ—¶ï¼Œå®ƒä»¬å°†å¼€å§‹æµåˆ°åŒä¸€æ¡çº¿ä¸Šã€‚ ä½¿ç”¨ auto-fit ï¼Œå½“å®ƒä»¬çš„æ°´å¹³å°ºå¯¸è¶…è¿‡ 150px æ—¶ï¼Œæ¡†å°†æ‹‰ä¼¸ä»¥å¡«å……æ•´ä¸ªå‰©ä½™ç©ºé—´ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨å°†å…¶æ›´æ”¹ä¸º auto-fill ï¼Œåˆ™å½“è¶…å‡º minmax å‡½æ•°ä¸­çš„åŸºæœ¬å¤§å°æ—¶ï¼Œå®ƒä»¬å°†ä¸ä¼šæ‹‰ä¼¸ï¼š 1234.parent &#123; display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));&#125; 08.æ’åˆ—å¸ƒå±€justify-content: space-between å¯¹äºä¸‹ä¸€ä¸ªå¸ƒå±€ï¼Œè¿™é‡Œè¦ä¸»è¦è¯´æ˜çš„æ˜¯ justify-content: space-between ï¼Œå®ƒå°†ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå­å…ƒç´ æ”¾ç½®åœ¨å…¶è¾¹ç•Œæ¡†çš„è¾¹ç¼˜ï¼Œå…¶ä½™ç©ºé—´å‡åŒ€åˆ†å¸ƒåœ¨å…ƒç´ ä¹‹é—´ã€‚å¯¹äºè¿™äº›å¡ç‰‡ï¼Œå®ƒä»¬è¢«æ”¾ç½®åœ¨ Flexbox æ˜¾ç¤ºæ¨¡å¼ä¸­ï¼Œä½¿ç”¨ flex-direction: column å°†æ–¹å‘è®¾ç½®ä¸º columnã€‚ è¿™ä¼šå°†æ ‡é¢˜ã€æè¿°å’Œå›¾åƒå—æ”¾åœ¨çˆ¶å¡ç‰‡å†…çš„å‚ç›´åˆ—ä¸­ã€‚ç„¶åï¼Œåº”ç”¨ justify-content: space-between å°†ç¬¬ä¸€ä¸ªï¼ˆæ ‡é¢˜ï¼‰å’Œæœ€åä¸€ä¸ªï¼ˆå›¾åƒå—ï¼‰å…ƒç´ é”šå®šåˆ° flexbox çš„è¾¹ç¼˜ï¼Œå¹¶ä¸”å®ƒä»¬ä¹‹é—´çš„æè¿°æ€§æ–‡æœ¬ä»¥ç›¸ç­‰çš„é—´è·æ”¾ç½®åˆ°æ¯ä¸ªç«¯ç‚¹ã€‚ 12345.parent &#123; display: flex; flex-direction: column; justify-content: space-between;&#125; 09. ä¿æŒæˆ‘çš„é£æ ¼clamp(&lt;min&gt;, &lt;actual&gt;, &lt;max&gt;) è¿™é‡Œï¼Œæˆ‘ä»¬ä»‹ç»ä¸€äº›åªæœ‰å°‘æ•°æµè§ˆå™¨æ”¯æŒçš„æŠ€æœ¯ï¼Œä½†è¿™äº›æŠ€æœ¯å¯¹å¸ƒå±€å’Œå“åº”å¼ UI è®¾è®¡æœ‰éå¸¸ä»¤äººå…´å¥‹çš„å½±å“ã€‚åœ¨æœ¬æ¼”ç¤ºä¸­ï¼Œæ‚¨å°†ä½¿ç”¨å›ºå®šå·¥å…·è®¾ç½®å®½åº¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šwidth: clamp(&lt;min&gt;, &lt;actual&gt;, &lt;max&gt;) ã€‚ è¿™å°†è®¾ç½®ç»å¯¹æœ€å°å’Œæœ€å¤§å°ºå¯¸ä»¥åŠå®é™…å°ºå¯¸ã€‚æœ‰äº†å€¼ï¼Œåº”è¯¥è¿™æ ·ï¼š 123.parent &#123; width: clamp(23ch, 60%, 46ch);&#125; è¿™é‡Œçš„æœ€å°å°ºå¯¸æ˜¯ 23ch æˆ– 23 ä¸ªå­—ç¬¦å•å…ƒï¼Œæœ€å¤§å°ºå¯¸æ˜¯ 46ch ï¼Œ46 ä¸ªå­—ç¬¦ã€‚å­—ç¬¦å®½åº¦å•ä½åŸºäºå…ƒç´ çš„å­—ä½“å¤§å°ï¼ˆç‰¹åˆ«æ˜¯ 0 å­—å½¢çš„å®½åº¦ï¼‰ã€‚â€œå®é™…â€å°ºå¯¸ä¸º 50%ï¼Œä»£è¡¨æ­¤å…ƒç´ çˆ¶å®½åº¦çš„ 50%ã€‚ åœ¨è¿™é‡Œï¼Œ clamp() å‡½æ•°æ‰€åšçš„æ˜¯ä½¿è¯¥å…ƒç´ ä¿æŒ 50% çš„å®½åº¦ï¼Œç›´åˆ° 50% å¤§äº 46ch ï¼ˆåœ¨è¾ƒå®½çš„è§†å£ä¸Šï¼‰æˆ–å°äº 23ch ï¼ˆåœ¨è¾ƒå°çš„è§†å£ä¸Šï¼‰ã€‚æ‚¨å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘æ‹‰ä¼¸å’Œæ”¶ç¼©çˆ¶å°ºå¯¸æ—¶ï¼Œè¿™å¼ å¡ç‰‡çš„å®½åº¦ä¼šå¢åŠ åˆ°å…¶æœ€å¤§é™åˆ¶ç‚¹å¹¶å‡å°åˆ°å…¶é™åˆ¶æœ€å°ç‚¹ã€‚ç„¶åå®ƒä¿æŒåœ¨çˆ¶çº§çš„ä¸­å¿ƒï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»åº”ç”¨äº†å…¶ä»–çš„å±æ€§æ¥å°†å®ƒå±…ä¸­ã€‚è¿™å¯ä»¥å®ç°æ›´æ¸…æ™°çš„å¸ƒå±€ï¼Œå› ä¸ºæ–‡æœ¬ä¸ä¼šå¤ªå®½ï¼ˆè¶…è¿‡ 46ch ï¼‰æˆ–å¤ªçª„ï¼ˆå°äº 23ch ï¼‰ã€‚ è¿™ä¹Ÿæ˜¯å®ç°å“åº”å¼æ’ç‰ˆçš„å¥½æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ç¼–å†™ï¼šfont-size: clamp(1.5rem, 20vw, 3rem) ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ ‡é¢˜çš„å­—ä½“å¤§å°å°†å§‹ç»ˆä¿æŒåœ¨ 1.5rem å’Œ 3rem ä¹‹é—´ï¼Œä½†ä¼šæ ¹æ® 20vw å®é™…å€¼å¢å¤§å’Œç¼©å°ä»¥é€‚åº”è§†å£çš„å®½åº¦ã€‚ è¿™æ˜¯ä¸€ç§å¾ˆå¥½çš„æŠ€æœ¯ï¼Œå¯ä»¥é€šè¿‡æœ€å°å’Œæœ€å¤§å°ºå¯¸å€¼ç¡®ä¿æ˜“è¯»æ€§ï¼Œä½†è¯·è®°ä½ï¼Œå¹¶éæ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒå®ƒï¼Œå› æ­¤è¯·ç¡®ä¿æ‚¨æœ‰å›é€€æªæ–½å¹¶è¿›è¡Œæµ‹è¯•ã€‚ 10.ä¿æŒå®½é«˜æ¯”aspect-ratio: &lt;width&gt; &#x2F; &lt;height&gt; æœ€åè¦ä»‹ç»çš„è¿™ä¸€å¸ƒå±€å·¥å…·æ˜¯æœ€å…·å®éªŒæ€§çš„å·¥å…·ã€‚å®ƒæœ€è¿‘åœ¨ Chromium 84 ä¸­è¢«å¼•å…¥ Chrome Canaryï¼ŒFirefox æ­£åœ¨ç§¯æåŠªåŠ›å®ç°è¿™ä¸€ç‚¹ï¼Œä½†ç›®å‰è¿˜æ²¡æœ‰ä»»ä½•ç¨³å®šçš„æµè§ˆå™¨ç‰ˆæœ¬ã€‚ ä¸è¿‡ï¼Œæˆ‘ç¡®å®æƒ³æåŠè¿™ä¸€ç‚¹ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªç»å¸¸é‡åˆ°çš„é—®é¢˜ã€‚è¿™åªæ˜¯ç®€å•åœ°ä¿æŒå›¾åƒçš„å®½é«˜æ¯”ã€‚ ä½¿ç”¨ aspect-ratio å±æ€§ï¼Œå½“æˆ‘è°ƒæ•´å¡ç‰‡å¤§å°æ—¶ï¼Œç»¿è‰²è§†è§‰å—ä¿æŒ 16 x 9 çš„å®½é«˜æ¯”ã€‚æˆ‘ä»¬é€šè¿‡ aspect-ratio: 16 &#x2F; 9 ä¿æŒæ­¤å®½é«˜æ¯”ã€‚ 123.video &#123; aspect-ratio: 16 / 9;&#125; è¦åœ¨æ²¡æœ‰æ­¤å±æ€§çš„æƒ…å†µä¸‹ä¿æŒ 16 x 9 çš„å®½é«˜æ¯”ï¼Œéœ€è¦ä½¿ç”¨ padding-top hack å¹¶ä¸ºå…¶æä¾› 56.25% çš„ padding ä»¥è®¾ç½®é¡¶å®½æ¯”ã€‚æˆ‘ä»¬å¾ˆå¿«å°±ä¼šæœ‰ä¸€ä¸ªå±æ€§æ¥é¿å…é»‘å®¢æ”»å‡»å’Œè®¡ç®—ç™¾åˆ†æ¯”çš„éœ€è¦ã€‚å¯ä»¥ä½¿ç”¨ 1 &#x2F; 1 çš„æ¯”ä¾‹åˆ¶ä½œæ­£æ–¹å½¢ï¼Œä½¿ç”¨ 2 &#x2F; 1 åˆ¶ä½œ 2:1 æ¯”ä¾‹ã€‚å¯ä»¥è®¾ç½®ä»»ä½•å›¾åƒç¼©æ”¾æ¯”ä¾‹ã€‚ 123.square &#123; aspect-ratio: 1 / 1;&#125; è™½ç„¶æ­¤åŠŸèƒ½ä»åœ¨ä¸æ–­å®Œå–„ä¸­ï¼Œä½†å®ƒå€¼å¾—äº†è§£ï¼Œå› ä¸ºå®ƒè§£å†³äº†è®¸å¤šå¼€å‘äººå‘˜é¢ä¸´çš„å†²çªï¼Œæˆ‘è‡ªå·±ä¹Ÿå¤šæ¬¡é¢ä¸´ï¼Œå°¤å…¶æ˜¯åœ¨è§†é¢‘å’Œ iframe æ–¹é¢ã€‚","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"css","slug":"css","permalink":"http://example.com/tags/css/"}]},{"title":"åœ¨æœ¬åœ°åˆ›å»ºæœåŠ¡ç”¨ipåœ°å€è®¿é—®","slug":"07-åœ¨æœ¬åœ°åˆ›å»ºæœåŠ¡ç”¨ipåœ°å€è®¿é—®","date":"2025-02-24T23:27:18.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/82057933.html","permalink":"http://example.com/posts/82057933.html","excerpt":"","text":"åœ¨å†™å‰ç«¯é¡µé¢ä¸­ï¼Œç»å¸¸ä¼šåœ¨æµè§ˆå™¨è¿è¡ŒHTMLé¡µé¢ï¼Œä»æœ¬åœ°æ–‡ä»¶å¤¹ä¸­ç›´æ¥æ‰“å¼€çš„ä¸€èˆ¬éƒ½æ˜¯fileåè®®ï¼Œå½“ä»£ç ä¸­å­˜åœ¨httpæˆ–httpsçš„é“¾æ¥æ—¶ï¼ŒHTMLé¡µé¢å°±æ— æ³•æ­£å¸¸æ‰“å¼€ï¼Œä¸ºäº†è§£å†³è¿™ç§æƒ…å†µï¼Œéœ€è¦åœ¨åœ¨æœ¬åœ°å¼€å¯ä¸€ä¸ªæœ¬åœ°çš„æœåŠ¡å™¨ã€‚æœ¬æ–‡æ˜¯åˆ©ç”¨node.jsä¸­çš„http-serverï¼Œå¼€å¯æœ¬åœ°æœåŠ¡ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š 1ã€ä¸‹è½½node.js12å®˜ç½‘åœ°å€ï¼š https://nodejs.orgä¸‹è½½å®Œæˆååœ¨å‘½ä»¤è¡Œè¾“å…¥å‘½ä»¤$ node -vä»¥åŠ$ npm -væ£€æŸ¥ç‰ˆæœ¬ï¼Œç¡®è®¤æ˜¯å¦å®‰è£…æˆåŠŸã€‚ 2ã€ä¸‹è½½http-server12åœ¨ç»ˆç«¯è¾“å…¥ï¼šnpm install http-server -g 3ã€å¼€å¯ http-serveræœåŠ¡ç»ˆç«¯è¿›å…¥ç›®æ ‡æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨ç»ˆç«¯è¾“å…¥ï¼š 1http-server -c-1 è¿™æ—¶å€™æ‰“å¼€é¡µé¢æ— æ³•æ­£å¸¸æ˜¾ç¤º,ç»ˆç«¯ç»™å‡ºæç¤º 12[Wed Aug 21 2019 07:27:19 GMT+0800 (GMT+08:00)]&quot;GET /&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/7575.0.3770.100 Safari/537.36&quot; .0.3770.100 Safari/537.36&quot; .0.3770.100 Safari/537.36&quot;[Wed Aug 21 2019 07:29:43 GMT+0800 (GMT+08:00)]&quot;GET /&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36&quot;.0.3770.100 Safari/537.36&quot; 4ã€è§£å†³åŠæ³•4.1 è£…anywhereï¼ç„¶ååœ¨è¦è®¾ç½®çš„ç›®å½•ä¸‹ è¿è¡Œanywhere!å°±å¯ä»¥è§£å†³äº†ï¼ anywhereå¯ä»¥æ‰“å¼€é™æ€é¡µé¢ 4.2 anywhereå®‰è£…å‘½ä»¤ï¼šnpm install -g anywhere 4.3 ä½¿ç”¨ï¼šåœ¨è¦å¯åŠ¨é™æ€æœåŠ¡çš„ç›®å½•ä¸‹æ‰§è¡Œ 1anywhere -p 8080 æœ€åä¸€æ­¥ï¼Œåœ¨ç«¯å£å·åé¢æ·»åŠ è¦æ‰“å¼€çš„æ–‡ä»¶ï¼ŒåŒä¸€ç½‘ç»œæ‰‹æœºç«¯è¾“å…¥åœ°å€ä¹Ÿå¯ä»¥è®¿é—®è¿™ä¸ªé¡µé¢äº† 1http://10.9.3.215:8081/mapTest2.html","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"http://example.com/categories/%E5%85%B6%E4%BB%96/"}],"tags":[{"name":"http-server","slug":"http-server","permalink":"http://example.com/tags/http-server/"},{"name":"anywhere","slug":"anywhere","permalink":"http://example.com/tags/anywhere/"}]},{"title":"é€šè¿‡picGoå°†å›¾ç‰‡ä¸Šä¼ è‡³æœåŠ¡å™¨","slug":"06-é€šè¿‡picGoå°†å›¾ç‰‡ä¸Šä¼ è‡³æœåŠ¡å™¨","date":"2025-02-23T23:36:56.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/bf2c8021.html","permalink":"http://example.com/posts/bf2c8021.html","excerpt":"","text":"ä¸€ã€å‰è¨€ä¹‹å‰ç”¨çš„éƒ½æ˜¯ç”¨çš„Giteeä½œä¸ºè‡ªå·±åˆ›å›¾ï¼Œåœ¨è‡ªå·±çš„ç½‘ç«™ä¸Šä¹Ÿèƒ½è®¿é—®ï¼Œè€Œä¸”ä¹Ÿæ–¹ä¾¿ã€‚ä½†æœ€è¿‘æœ€è¿‘å‘ç°Giteeä»“åº“å­˜çš„å›¾ç‰‡éƒ½æŒ‚äº†ï¼Œè€Œä¸”ä¸ªäººç”¨æˆ·çš„ä»“åº“å¤§å°ä¹Ÿæœ‰é™åˆ¶ã€‚ å…è´¹å›¾åºŠæ€»å½’æ˜¯ä¸é è°±çš„ï¼Œæ‰€ä»¥é€‰æ‹©ä¸€ä¸ªä»˜è´¹çš„å¥½ä¸€ç‚¹ï¼Œå¸‚é¢ä¸Šå¸¸ç”¨çš„æœ‰é˜¿é‡Œäº‘ OSSã€è…¾è®¯äº‘ COSï¼Œä½¿ç”¨è¿‡é˜¿é‡Œäº‘ OSSä¸€æ®µæ—¶é—´åä¸ªäººæ€»æ„Ÿè§‰æœ‰ä¸€å®šçš„æ¡ä»¶é™åˆ¶ï¼Œåç»­çš„å­˜å‚¨å®¹é‡ã€æµé‡ã€è¯·æ±‚æ•°éƒ½è¦è®¡è´¹ï¼Œå› æ­¤æƒ³åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šæ­ä¸€ä¸ªå›¾åºŠï¼Œæ–¹ä¾¿ç®¡ç†å’Œè½¬ç§»ï¼ŒåŒæ—¶ä¹Ÿæ²¡æœ‰å…¶ä»–çš„é™åˆ¶ã€‚ äºŒ. æœåŠ¡å™¨æ­å»ºå›¾åºŠ2.1ã€å›¾æ–¹ä¾¿ï¼Œç›´æ¥ç”¨å®å¡”åœ¨æœåŠ¡å™¨ä¸Šæ­å»ºçš„ä¸€ä¸ªå­˜å‚¨å›¾ç‰‡çš„ç«™ç‚¹è®¿é—®åœ°å€ï¼šhttps://picgo.shixna.imgs/xxxx.jpgè¿™é‡Œæˆ‘å·²ç»è§£æäº†æˆ‘çš„åŸŸåï¼Œå¹¶ä¸”å·²ç»ç”³è¯·äº†SSLè¯ä¹¦ï¼Œå¿…é¡»ç”³è¯·è¯ä¹¦ï¼Œå› ä¸ºå‡å¦‚ä¸åŠ ä¸Š HTTPSï¼Œåœ¨ä½¿ç”¨ HTTPS çš„ç½‘ç«™ï¼ˆç»å¤§éƒ¨åˆ†éƒ½æ˜¯ï¼‰ä¸ŠæŸ¥çœ‹å›¾ç‰‡æ—¶ï¼Œä¼šæ— æ³•åŠ è½½ã€‚é€šè¿‡ F12 æŸ¥çœ‹è¯·æ±‚å¯ä»¥å‘ç°é»˜è®¤ä½¿ç”¨çš„æ˜¯ HTTPS å»è¯·æ±‚å›¾ç‰‡çš„ã€‚ç”±äºæµè§ˆå™¨å®‰å…¨ç­–ç•¥çš„å…³ç³»ï¼Œè®¿é—®ä¸å®‰å…¨ï¼ˆé HTTPSï¼‰çš„ç½‘ç«™éœ€è¦æ‰‹åŠ¨æˆæƒå…è®¸æ‰èƒ½è®¿é—®ã€‚ 2.2ã€åœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå­˜æ”¾å›¾ç‰‡çš„è·¯å¾„img&#x2F; è·¯å¾„åœ°å€ï¼š&#x2F;www&#x2F;wwwroot&#x2F;picgo.shixna.cn&#x2F;imgs&#x2F; ä¸‰. é…ç½®picGo3.1ã€åœ¨picGoä¸‹è½½æ’ä»¶ picgo-plugin-sftp-uploader 3.2ã€SFTP é…ç½® SFTP é…ç½®æ–‡ä»¶è¯´æ˜ï¼Œåœ¨ä¸Šé¢çš„è·¯å¾„ä¸‹åˆ›å»ºå¯¹åº”æ–‡ä»¶ 123456789101112131415161718&#123; // ç½‘ç«™æ ‡è¯† &quot;ZHB&quot;: &#123; // å›¾ç‰‡ç½‘ç«™çš„åŸŸå &quot;url&quot;: &quot;https://picgo.shixna.cn/&quot;, // å›¾ç‰‡è®¿é—®åœ°å€ï¼Œå³ç½‘ç«™æ ¹ç›®å½•ä¸‹çš„imgsè·¯å¾„é‡Œé¢ &quot;path&quot;: &quot;imgs/&#123;fullName&#125;&quot;, // å›¾ç‰‡åœ¨æœåŠ¡å™¨çš„çœŸæ˜¯è·¯å¾„ &quot;uploadPath&quot;: &quot;/www/wwwroot/picgo.shixna.cn/imgs/&#123;fullName&#125;&quot;, // æœåŠ¡å™¨å¯¹åº”çš„ipåœ°å€ &quot;host&quot;: &quot;124.xxx.xxx.xxx&quot;, &quot;port&quot;: 22, // æœåŠ¡å™¨sshçš„è´¦å· &quot;username&quot;: &quot;username&quot;, // æœåŠ¡å™¨sshçš„å¯†ç  &quot;password&quot;: &quot;password!&quot; &#125;&#125; æ’ä»¶æ–‡æ¡£åœ°å€ï¼šhttps://github.com/imba97/picgo-plugin-sftp-uploader ç‚¹å‡»ä¸Šä¼ å³å¯ä¸Šä¼ åˆ°è‡ªå·±çš„æœåŠ¡å™¨äº†ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ å››. Typoraæ­é…picGoä¸Šä¼  è¿™æ ·åœ¨ Typora æ’å…¥å›¾ç‰‡æ—¶å³å¯è‡ªåŠ¨ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Š","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://example.com/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"picGo","slug":"picGo","permalink":"http://example.com/tags/picGo/"},{"name":"Typora","slug":"Typora","permalink":"http://example.com/tags/Typora/"},{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"http://example.com/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"}]},{"title":"windowsæœ¬åœ°å®‰è£…éƒ¨ç½²-Easy-Mock","slug":"05-windowsæœ¬åœ°å®‰è£…éƒ¨ç½²-Easy-Mock","date":"2025-02-22T23:31:42.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/c5a66ce8.html","permalink":"http://example.com/posts/c5a66ce8.html","excerpt":"","text":"é›†ä¸‡å®¶ä¹‹ç²¾åæœ€è¯¦ç»†çš„æœ¬åœ°éƒ¨ç½² Easy-Mock æ²¡æœ‰ä¹‹ä¸€äº† ä¸€ã€èƒŒæ™¯åœ¨å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ–¹å¼ä¸‹ï¼Œåç«¯å¦‚æœæš‚æ—¶æ²¡æ•°æ®ï¼Œå‰ç«¯ä¸ºäº†å¼€å‘æ–¹ä¾¿å¯ä»¥ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®æ¥å¯¹ä»˜ä¸€ä¸‹ï¼Œç›®å‰æä¾›æ¨¡æ‹Ÿæ•°æ®çš„å¹³å°å·²ç»æœ‰ä¸å°‘ï¼Œå¤§å¤šæ•°éƒ½æ˜¯è‡ªå¸¦Apiç®¡ç†çš„ï¼Œæ¯”å¦‚Yapiã€sosoApiã€eoLinkerã€Easy-Mock Easy-Mockæ¯”è¾ƒå°æ¸…æ–°ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿæ–¹ä¾¿ç‚¹ï¼Œç¼ºç‚¹å°±æ˜¯æ²¡æœ‰Apiçš„åˆ†ç»„åŠŸèƒ½ï¼Œä½†å¹³æ—¶åº”ä»˜åº”ä»˜ä¸å¤ªå¤§çš„åº”ç”¨ã€ä¸ªäººåº”ç”¨ç­‰åœºæ™¯è¶³å¤Ÿäº†ï¼›å¦‚æœè¦è¿›è¡Œåˆ†ç»„æƒé™ç®¡ç†ä¹‹ç±»çš„å¤æ‚åŠŸèƒ½ï¼Œåˆ™æ¨ä»‹ä½¿ç”¨ç›®å‰æ­£åœ¨å¿«é€Ÿæ›´æ–°çš„Yapi~ ä¸ºä»€ä¹ˆè¦éƒ¨ç½²æœ¬åœ°çš„easy-mock? 1ã€å®˜ç½‘çš„è¢«ä¸å°‘äººç›´æ¥æ‹¿åˆ°å¼€å‘ç¯å¢ƒç”¨ï¼Œå› æ­¤ç»å¸¸è¢«æŒ¤çˆ†ï¼Œç¨³å®šæ€§è¾ƒå·®ï¼›2ã€æœ‰äº›å…¬å¸&#x2F;ç ”ç©¶æ‰€é™åˆ¶å¤–ç½‘ï¼› äºŒã€å‡†å¤‡è¿™é‡Œæä¾›æ‰€æœ‰éœ€è¦çš„å®‰è£…åŒ…ï¼š ç™¾åº¦ç½‘ç›˜ ä¸‰ã€å®‰è£…3.1ã€å®‰è£…node.jså»ºè®®å®‰è£…é»˜è®¤è·¯å¾„(å®‰è£…è·¯å¾„ä¸èƒ½æœ‰ä¸­æ–‡)ç½‘ä¸Šæœ‰çš„è¯´nodeç‰ˆæœ¬ä¸èƒ½æ˜¯10ä»¥ä¸Šï¼Œä½†æ˜¯æˆ‘ç”¨çš„æ˜¯14çš„ç‰ˆæœ¬ä¹Ÿæ²¡å‡ºä»€ä¹ˆé—®é¢˜ 3.2ã€å®‰è£…MongoDBaã€æ‰“å¼€å®‰è£…ç¨‹åºï¼Œç‚¹å‡»next bã€å‹¾é€‰åè®®ï¼Œç‚¹å‡»next cã€é€‰æ‹©â€œcustomâ€è‡ªå®šä¹‰å®‰è£…è·¯å¾„(C:\\MongoDB\\Server\\4.2)æœ€ç»ˆå®‰è£…åœ¨4.2ä¸‹é¢ dã€ç‚¹å‡»å®‰è£… å°±è¿™ä¹ˆç®€å•ï¼Ÿä¸å­˜åœ¨çš„ å››ã€é…ç½®4.1ã€æ–°å»ºmongo.conf æ–‡ä»¶C:\\MongoDB\\Server\\4.2ä¸‹é¢æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶mongo.conf å†™å…¥å¦‚ä¸‹ä»£ç ï¼ˆæ³¨æ„è‡ªå·±çš„è·¯å¾„) 123456dbpath=C:\\MongoDB\\Server\\4.2\\data\\dblogpath=C:\\MongoDB\\Server\\4.2\\log\\mongo.loglogappend=truejournal=truequiet=trueport=27017 C:\\MongoDB\\Server\\4.2\\dataä¸‹é¢æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹db C:\\MongoDB\\Server\\4.2ä¸‹é¢æ–°å»ºä¸€ä¸ªlogæ–‡ä»¶å¤¹ï¼Œå†åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹é¢æ–°å»ºmongo.logæ–‡ä»¶ 4.2ã€åˆ›å»ºæœåŠ¡é…ç½®ç¯å¢ƒå˜é‡ 12MONGO_HOME = C:\\Program Files\\MongoDB\\Server\\3.4\\binPath = %MONGO_HOME% ç®¡ç†å‘˜æƒé™çš„cmdä¸­æ³¨å†ŒæœåŠ¡ï¼š mongod â€“config â€œC:\\MongoDB\\Server\\4.2\\mongo.confâ€ â€“install â€“serviceName â€œMongoDBâ€ cmdä¸­å¼€å¯æœåŠ¡ï¼šnet start mongodb è¿™æ—¶å€™æµè§ˆå™¨ä¸­è®¿é—®127.0.0.1:27017åº”è¯¥å°±å·²ç»æœ‰å†…å®¹äº† 4.3ã€Rediså®‰è£…Redisç±»ä¼¼ï¼Œåœ¨Github-releaseä¸‹è½½ä¸€ä¸ªmsiç‰ˆæœ¬å®‰è£…ï¼Œä¸€ç›´ä¸‹ä¸€æ­¥ï¼› å®‰è£…å®Œæ¯•ï¼Œåœ¨ç³»ç»Ÿå˜é‡ä¸­é…ç½® è¿™æ—¶ï¼Œä½ çš„rediså·²ç»æ˜¯é»˜è®¤æœåŠ¡äº†ã€‚å¦‚å›¾ï¼š è¯•ä¸‹ï¼Œæ‰“å¼€cmdã€‚è¿›å…¥åˆ°å®‰è£…ç›®å½•åè¾“å…¥ redis-cli.exe -h 127.0.0.1 -p 6379 ï¼ˆæ³¨ï¼šè¿™ä¸ªæ˜¯redisé»˜è®¤çš„ipåŠç«¯å£ï¼Œå¯è‡ªè¡Œæœç´¢åº¦å¨˜ä¿®æ”¹ï¼‰ç„¶ååœ¨è¾“å…¥ set key value ï¼ˆkeyå’Œvalueè‡ªå·±éšä¾¿å†™ï¼‰ï¼Œå›è½¦åå†è¾“å…¥get key (ä½ åˆšæ‰è¾“å…¥çš„key)ï¼Œçœ‹æ˜¯å¦æ˜¾ç¤ºä½ åˆšæ‰è¾“å…¥çš„valueã€‚å¦‚å›¾ï¼š æ³¨æ„ï¼šç½‘ä¸Šå¾ˆå¤šè¦æ±‚å…ˆè¾“å…¥redis-server.exe redis.windows.confè¿™ç§æƒ…å†µä¸é€‚ç”¨äºå®‰è£…åŒ…æ¨¡å¼ï¼Œåªæœ‰å‹ç¼©åŒ…æ¨¡å¼çš„æ‰ä¼šè¿™æ ·ï¼ è¿™æ˜¯ä¸ªå¤§å‘ å¦‚æœä¸éœ€è¦ä½œä¸ºæœåŠ¡è‡ªåŠ¨å¯åŠ¨cmdä¸­æ‰§è¡Œï¼šredis-server â€“service-uninstall 4.4ã€å®‰è£…éƒ¨ç½²Easy-Mockaã€é¦–å…ˆè¦å…¨å±€å®‰è£…ä¸¤ä¸ªåº“ 1npm i -g cross-env pm2 bã€æ‹‰å–githubä¸Šçš„easy-mockçš„ä»£ç  1234git clone https://github.com/easy-mock/easy-mock.gitcd easy-mocknpm installnpm run build cã€é…ç½®åœ¨config&#x2F;default.jsonä¸­è‡ªè¡Œä¿®æ”¹ï¼Œæ³¨æ„å…¶ä¸­æœ‰å‡ ä¸ªåœ°æ–¹è¦æ”¹ä¸€ä¸‹ dbæ”¹ä¸ºmongodb:&#x2F;&#x2F;localhost:27017&#x2F;easymockdb redis-&gt;portåº”è¯¥è·Ÿä¹‹å‰å®‰è£…çš„redisé…ç½®çš„portä¸€è‡´ï¼Œé»˜è®¤6379 dã€åœ¨easy-mocké¡¹ç›®ç›®å½•ä¸‹ä½¿ç”¨pm2å®ˆæŠ¤è¿è¡Œï¼š 1cross-env NODE_ENV=production pm2 start app.js è¿™æ—¶å€™è®¿é—®æœ¬åœ°çš„http://localhost:7300/ å°±å¯ä»¥æ‰“å¼€Easy-Mocké¡µé¢äº†ï¼Œè·ŸEasy-Mockå®˜ç½‘ä¸€æ ·çš„ ä¹‹åè¦æ‰“å¼€æœ¬åœ°Easy-Mockåªéœ€è¦åœ¨Easy-Mocké¡¹ç›®ä¸‹è¿è¡Œï¼šcross-env NODE_ENV&#x3D;production pm2 start app.js å³å¯æ‰“å¼€æœ¬åœ°çš„easy-mock","categories":[{"name":"åç«¯ä¸è¿ç»´","slug":"åç«¯ä¸è¿ç»´","permalink":"http://example.com/categories/%E5%90%8E%E7%AB%AF%E4%B8%8E%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"Easy-Mock","slug":"Easy-Mock","permalink":"http://example.com/tags/Easy-Mock/"}]},{"title":"è¿è¡Œå•vueæ–‡ä»¶","slug":"04-è¿è¡Œå•vueæ–‡ä»¶","date":"2025-02-21T23:55:33.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/c9a5b66011.html","permalink":"http://example.com/posts/c9a5b66011.html","excerpt":"","text":"1ã€å®‰è£…vueè„šæ‰‹æ¶è¿™é‡Œä¸€å®šè¦å®‰è£…4.xçš„è„šæ‰‹æ¶ï¼Œ5.xçš„è„šæ‰‹æ¶ä¼šæŠ¥é”™ 12npm install -g @vue/cli@4.xvue --version // æŸ¥çœ‹ç‰ˆæœ¬å· æ˜¯å¦å®‰è£…æˆåŠŸ 2ã€@vue&#x2F;cli-service-globalå…¨å±€å®‰è£…æ”¯æŒé›¶é…ç½®è¿è¡Œ .vueæ–‡ä»¶çš„æ‰©å±• 1npm install -g @vue/cli-service-global 3ã€æ–°å»ºä¸€ä¸ªtestæ–‡ä»¶å¤¹åœ¨testæ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªéœ€è¦è¿è¡Œçš„vueæ–‡ä»¶â€“app.vue 4ã€åˆå§‹åŒ–é¡¹ç›®1npm init 5ã€è¿è¡Œapp.vueæ–‡ä»¶1vue serve app.vue å®˜æ–¹æ–‡æ¡£æ–‡æ¡£çš„ä»‹ç»åˆ°æ­¤ä¸ºæ­¢ï¼Œä½†æ˜¯æˆ‘è¿è¡Œçš„æ—¶å€™ä¸€ç›´æŠ¥é”™ï¼Œè¯¦ç»†é”™è¯¯è§ 12345678910111213141516171819202122232425PS E:\\Desktop\\test&gt; vue serve text.vue INFO Starting development server...(node:30628) UnhandledPromiseRejectionWarning: Error: Cannot find module &#x27;vue-template-compiler&#x27;Require stack:- D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\compiler.js- D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\resolveScript.js- D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\select.js- D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js- D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\node_modules\\@vue\\cli-service\\lib\\config\\base.js- D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\node_modules\\@vue\\cli-service\\lib\\Service.js- D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\index.js- D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli\\lib\\util\\loadCommand.js- D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli\\bin\\vue.js at Function.Module._resolveFilename (internal/modules/cjs/loader.js:966:15) at Function.resolve (internal/modules/cjs/helpers.js:78:19) at loadFromContext (D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\compiler.js:30:26) at loadTemplateCompiler (D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\compiler.js:37:12) at exports.resolveCompiler (D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\compiler.js:25:23) at VueLoaderPlugin.apply (D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\plugin-webpack4.js:91:22) at VueLoaderPlugin.apply (D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\plugin.js:13:16) at webpack (D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\node_modules\\webpack\\lib\\webpack.js:51:13) at serve (D:\\nvm\\v12.18.1\\node_modules\\@vue\\cli-service-global\\node_modules\\@vue\\cli-service\\lib\\commands\\serve.js:163:22) at processTicksAndRejections (internal/process/task_queues.js:97:5)(node:30628) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)(node:30628) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. ä¸Šé¢çš„é”™è¯¯ä¸»è¦æ˜¯è¯´ æ‰¾ä¸åˆ° â€˜vue-template-compilerâ€™ è¿™ä¸ªæ¨¡å—ã€‚é‚£æˆ‘ä»¬å°±å®‰è£…è¿™ä¸ªä¾èµ–æ¨¡å— 1npm install vue-template-compiler --save-dev æœ€åæ‰§è¡Œå‘½ä»¤ï¼Œè¿è¡ŒæˆåŠŸ 1vue serve app.vue","categories":[{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"}],"tags":[{"name":"vue2","slug":"vue2","permalink":"http://example.com/tags/vue2/"}]},{"title":"nodeç‰ˆæœ¬ç®¡ç†å·¥å…·nvm","slug":"03-nodeç‰ˆæœ¬ç®¡ç†å·¥å…·nvm","date":"2025-02-20T23:34:50.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/5998a893.html","permalink":"http://example.com/posts/5998a893.html","excerpt":"","text":"1ã€nvmæ˜¯ä»€ä¹ˆnvmå…¨ånode.js version managementï¼Œé¡¾åæ€ä¹‰æ˜¯ä¸€ä¸ªnodejsçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ã€‚é€šè¿‡å®ƒå¯ä»¥å®‰è£…å’Œåˆ‡æ¢ä¸åŒç‰ˆæœ¬çš„nodejsã€‚ä¸‹é¢åˆ—å‡ºä¸‹è½½ã€å®‰è£…åŠä½¿ç”¨æ–¹æ³•ã€‚ 2ã€ä¸‹è½½å¯åœ¨ç‚¹æ­¤åœ¨githubä¸Šä¸‹è½½æœ€æ–°ç‰ˆæœ¬,æœ¬æ¬¡ä¸‹è½½å®‰è£…çš„æ˜¯windowsç‰ˆæœ¬ã€‚æ‰“å¼€ç½‘å€æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼š nvm-noinstall.zipï¼šç»¿è‰²å…å®‰è£…ç‰ˆï¼Œä½†ä½¿ç”¨æ—¶éœ€è¿›è¡Œé…ç½®ã€‚ nvm-setup.zipï¼šå®‰è£…ç‰ˆï¼Œæ¨èä½¿ç”¨ 3ã€å®‰è£…æœ¬æ¬¡æ¼”ç¤ºçš„æ˜¯å®‰è£…ç‰ˆã€‚ 1ï¼‰ã€åŒå‡»å®‰è£…æ–‡ä»¶ nvm-setup.exe 2ã€é€‰æ‹©nvmå®‰è£…è·¯å¾„ï¼ˆæ³¨æ„ï¼šè¿™é‡Œçš„å®‰è£…è·¯å¾„å‘½åä¸€å®šä¸èƒ½æœ‰ç©ºæ ¼ï¼‰ 3ã€é€‰æ‹©nodejsè·¯å¾„ï¼ˆè¿™é‡Œé»˜è®¤è·¯å¾„ï¼‰ 4ã€ç¡®è®¤å®‰è£…å³å¯ 5ã€å®‰è£…å®Œç¡®è®¤ ç”¨ç®¡ç†å‘˜æ‰“å¼€CMDï¼Œè¾“å…¥å‘½ä»¤ nvm ï¼Œå®‰è£…æˆåŠŸåˆ™å¦‚ä¸‹æ˜¾ç¤ºã€‚å¯ä»¥çœ‹åˆ°é‡Œé¢åˆ—å‡ºäº†å„ç§å‘½ä»¤ï¼Œæœ¬èŠ‚æœ€åä¼šåˆ—å‡ºè¿™äº›å‘½ä»¤çš„ä¸­æ–‡ç¤ºæ„ã€‚ 4ã€å®‰è£…&#x2F;ç®¡ç†nodejs1ã€æŸ¥çœ‹æœ¬åœ°å®‰è£…çš„æ‰€æœ‰ç‰ˆæœ¬ï¼› æœ‰å¯é€‰å‚æ•°availableï¼Œæ˜¾ç¤ºæ‰€æœ‰å¯ä¸‹è½½çš„ç‰ˆæœ¬ã€‚ 1$ nvm list 2ã€å®‰è£…ï¼Œå‘½ä»¤ä¸­çš„ç‰ˆæœ¬å·å¯è‡ªå®šä¹‰ï¼Œå…·ä½“å‚è€ƒå‘½ä»¤1æŸ¥è¯¢å‡ºæ¥çš„åˆ—è¡¨ æ³¨æ„ï¼š é»˜è®¤ä¸‹è½½çš„æ˜¯å›½å¤–èµ„æºnodeå’Œnpmä¸€èµ·ä¸‹è½½ï¼Œä¸‹è½½æ¯”è¾ƒæ…¢ 1$ nvm install 11.13.0 è§£å†³ä¸‹è½½æ…¢é—®é¢˜ 12$ nvm node_mirror https://npmmirror.com/mirrors/node/$ nvm npm_mirror https://npmmirror.com/mirrors/npm/ å¦‚æœå®‰è£…æŸä¸ªåˆ¶å®šç‰ˆæœ¬å¤±è´¥ node.jså®˜ç½‘ä¸‹è½½æŒ‡å®šç‰ˆæœ¬çš„zipåŒ…ï¼Œè§£å‹ç¼©åæ”¾åˆ°ä¸Šå›¾æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹ 3ã€ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬ 1$ nvm use 11.13.0 4ã€å¸è½½ 1$ nvm uninstall 11.13.0 5ã€åˆ‡æ¢æ·˜å®é•œåƒæºnpmä¸‹è½½ä¼šå¾ˆæ…¢ï¼Œå› ä¸ºnpmé»˜è®¤ä»å›½å¤–ä¸‹è½½èµ„æºï¼Œå»ºè®®ä¿®æ”¹npmé•œåƒæºåœ°å€ è¿è¡Œnpm i nrm -gå…¨å±€å®‰è£…nrmåŒ… ä½¿ç”¨nrm lsæŸ¥çœ‹å½“å‰æ‰€æœ‰å¯ç”¨çš„é•œåƒæºåœ°å€ä»¥åŠå½“å‰æ‰€ä½¿ç”¨çš„é•œåƒæºåœ°å€ï¼ˆå¸¦*çš„æ˜¯å½“å‰ä½¿ç”¨çš„æºï¼‰ ä½¿ç”¨nrm use taobaoåˆ‡æ¢é•œåƒæºåœ°å€ 6ã€å‘½ä»¤æç¤º1ï¼‰æ˜¾ç¤ºnodeæ˜¯è¿è¡Œåœ¨32ä½è¿˜æ˜¯64ä½ 1$ nvm arch 2ï¼‰æ˜¾ç¤ºå·²å®‰è£…çš„åˆ—è¡¨ 1$ nvm list 3ï¼‰æŸ¥çœ‹å¯ä¸‹è½½çš„ç‰ˆæœ¬ 1$ nvm list available 4ï¼‰è®¾ç½®nodeé•œåƒã€‚é»˜è®¤æ˜¯https://nodejs.org/dist/ 1$ nvm node_mirror [url] 5ï¼‰è®¾ç½®npmé•œåƒã€‚é»˜è®¤æ˜¯https://github.com/npm/cli/archive/ 1$ nvm npm_mirror [url] 6ï¼‰è®¾ç½®ä¸‹è½½ä»£ç†ã€‚ä¸åŠ å¯é€‰å‚æ•°urlï¼Œæ˜¾ç¤ºå½“å‰ä»£ç†ã€‚å°†urlè®¾ç½®ä¸ºnoneåˆ™ç§»é™¤ä»£ç† 1$ nvm proxy [url] 7ï¼‰å¸è½½æŒ‡å®šç‰ˆæœ¬node 1$ nvm uninstall &lt; version &gt; 8ï¼‰æ˜¾ç¤ºnvmç‰ˆæœ¬ 1$ nvm v 7ã€æ€»ç»“æœ¬èŠ‚åˆ—å‡ºnode.jsç‰ˆæœ¬ç®¡ç†å·¥å…·nvmçš„å®‰è£…åŠä½¿ç”¨ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å®‰è£…è·¯å¾„æœ€å¥½ä¸è¦å‡ºç°ä¸­æ–‡å’Œç©ºæ ¼ã€‚","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://example.com/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"node","slug":"node","permalink":"http://example.com/tags/node/"},{"name":"nvm","slug":"nvm","permalink":"http://example.com/tags/nvm/"}]},{"title":"cssæ ‡å‡†ç›’æ¨¡å‹å’Œæ€ªå¼‚ç›’æ¨¡å‹çš„åŒºåˆ«","slug":"02-cssæ ‡å‡†ç›’æ¨¡å‹å’Œæ€ªå¼‚ç›’æ¨¡å‹çš„åŒºåˆ«","date":"2025-02-19T23:50:08.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/5a7a4826.html","permalink":"http://example.com/posts/5a7a4826.html","excerpt":"","text":"cssç›’æ¨¡å‹æœ¬è´¨æ˜¯ä¸€ä¸ªç›’å­ï¼Œå®ƒç”±è¾¹è·ã€è¾¹æ¡†ã€å¡«å……å’Œå®é™…å†…å®¹ç»„æˆã€‚ç›’æ¨¡å‹èƒ½å¤Ÿè®©æˆ‘ä»¬åœ¨å…¶ä»–å…ƒç´ å’Œå‘¨è¾¹å…ƒç´ è¾¹æ¡†ä¹‹é—´çš„ç©ºé—´æ”¾ç½®å…ƒç´ ã€‚ æ ‡å‡†æ¨¡å¼ä¸‹å¦‚æœå®šä¹‰çš„DOCTYPEç¼ºå¤±ï¼Œåˆ™åœ¨ie6ã€ie7ã€ie8ä¸‹æ±‡è§¦å‘æ€ªå¼‚æ¨¡å¼ã€‚å½“è®¾ç½®ä¸ºbox-sizing:content-boxæ—¶ï¼Œå°†é‡‡ç”¨æ ‡å‡†æ¨¡å¼è§£æè®¡ç®—ï¼Œä¹Ÿæ˜¯é»˜è®¤æ¨¡å¼ï¼›å½“è®¾ç½®ä¸ºbox-sizing:border-boxæ—¶ï¼Œå°†é‡‡ç”¨æ€ªå¼‚æ¨¡å¼è§£æè®¡ç®—ï¼› æ ‡å‡†ç›’æ¨¡å‹æ ‡å‡†æ¨¡å¼ä¸‹æ€»å®½åº¦ &#x3D; width + marginï¼ˆå·¦å³ï¼‰+ padding(å·¦å³) + border(å·¦å³)ï¼› æ€ªå¼‚ç›’æ¨¡å‹(IE)æ€ªå¼‚æ¨¡å¼ä¸‹æ€»å®½åº¦ &#x3D; width + margin(å·¦å³) ï¼ˆå°±æ˜¯è¯´widthå·²ç»åŒ…å«äº†paddingå’Œborderå€¼ï¼‰ è½¬è½½ï¼šhttps://www.jianshu.com/p/7dadcc458410","categories":[{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"}],"tags":[{"name":"css","slug":"css","permalink":"http://example.com/tags/css/"}]},{"title":"AutoHotkey1.0å®ç°Typoraæ•ˆç‡ç¿»å€","slug":"01-AutoHotkey1.0å®ç°Typoraæ•ˆç‡ç¿»å€","date":"2025-02-18T23:03:54.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/b949808a.html","permalink":"http://example.com/posts/b949808a.html","excerpt":"","text":"ä¸€ã€AutoHotkeyä¸‹è½½AutoHotkeyå®˜ç½‘ AutoHotkeyä¸‹è½½åœ°å€ AutoHotkey é˜¿é‡Œç½‘ç›˜ä¸‹è½½åœ°å€ äºŒã€TyporaTyporaä¸­æ–‡ç«™ Typoraä¸‹è½½åœ°å€ ä¸‰ã€AutoHotkeyçš„å®‰è£…æ–¹æ³•1ã€å¯åŠ¨AutoHotkey_xxx_setup.exeï¼Œé€‰æ‹©è‡ªå®šä¹‰å®‰è£… 2ã€é€‰æ‹©AutoHotkeyä¸æ‚¨ç”µè„‘ç›¸é…çš„ç¨‹åº 3ã€æ›´æ”¹å®‰è£…è·¯å¾„ 4ã€ç‚¹å‡»ã€installã€‘è½¯ä»¶å°±ä¼šå®‰è£… 5ã€AutoHotkeyå®‰è£…å®Œæˆ å››ã€Typoraé¢œè‰²å¿«æ·é”®4.1ã€å¿«æ·é”®è„šæœ¬æ–°å»ºåç¼€ä¸ºahk æ–‡ä»¶ MyHotkeyScript.ahkï¼Œå°†ä»¥ä¸‹ä»£ç å¤åˆ¶è¿›å» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384#Requires AutoHotkey v1.1+#IfWinActive ahk_exe Typora.exe; Alt+1 çº¢!1::addOrReplaceFontColor(&quot;red&quot;); Alt+2 ç»¿è‰²!2::addOrReplaceFontColor(&quot;#10c300&quot;); Alt+3 æµ…è“!3::addOrReplaceFontColor(&quot;cornflowerblue&quot;); Alt+4 æ©™!4::addOrReplaceFontColor(&quot;orange&quot;) ; Alt+W å»é™¤é¢œè‰²!w::removeFontColor(); Alt+Q æ’å…¥æ¢è¡Œæ ‡ç­¾&lt;br&gt;!q:: SendInput &#123;Text&#125;&lt;br&gt;return#IfWinActive;--------------------------------------; æ·»åŠ æˆ–æ›¿æ¢é¢œè‰²æ ‡ç­¾;--------------------------------------addOrReplaceFontColor(color) &#123; clipboard := &quot;&quot; ; æ¸…ç©ºå‰ªè´´æ¿ ; é€‰ä¸­æ•´è¡Œ Send &#123;Home&#125; Send +&#123;End&#125; Send ^c ClipWait, 0.3 if (clipboard != &quot;&quot;) &#123; text := clipboard ; æ£€æŸ¥æ˜¯å¦å·²æœ‰ **&lt;font color=&#x27;...&#x27;&gt;...** if RegExMatch(text, &quot;^\\*\\*&lt;font\\s+color=[&#x27;&quot;&quot;]([^&#x27;&quot;&quot;]+)[&#x27;&quot;&quot;]&gt;(.*)&lt;/font&gt;\\*\\*$&quot;, m) &#123; innerText := m2 ; å»æ‰æ—§çš„ markdown ** å’Œ font æ ‡ç­¾ innerText := RegExReplace(innerText, &quot;\\*\\*&quot;, &quot;&quot;) ; ç›´æ¥æ›¿æ¢é¢œè‰²ï¼Œå¹¶ä¿æŒ markdown åŠ ç²— text := &quot;**&lt;font color=&#x27;&quot; . color . &quot;&#x27;&gt;&quot; . innerText . &quot;&lt;/font&gt;**&quot; &#125; else &#123; ; æ²¡æœ‰æ ‡ç­¾åˆ™æ·»åŠ  ** + font ; å»æ‰æ—§çš„ ** text := RegExReplace(text, &quot;\\*\\*&quot;, &quot;&quot;) ; å»æ‰æ—§çš„ font text := RegExReplace(text, &quot;&lt;font[^&gt;]*&gt;&quot;, &quot;&quot;) text := RegExReplace(text, &quot;&lt;/font&gt;&quot;, &quot;&quot;) text := &quot;**&lt;font color=&#x27;&quot; . color . &quot;&#x27;&gt;&quot; . text . &quot;&lt;/font&gt;**&quot; &#125; clipboard := text Send ^v Send &#123;End&#125; &#125; else &#123; ; ç©ºè¡Œæ—¶æ’å…¥æ ‡ç­¾ï¼ŒåŠ ç²—å ä½ newText := &quot;**&lt;font color=&#x27;&quot; . color . &quot;&#x27;&gt;&lt;/font&gt;**&quot; SendInput &#123;Text&#125;%newText% ; å…‰æ ‡å®šä½åˆ° font å†…éƒ¨ Send &#123;Left 4&#125; ; æŠŠå…‰æ ‡ç§»åˆ° &lt;/font&gt; å‰ &#125;&#125;removeFontColor() &#123; clipboard := &quot;&quot; ; é€‰ä¸­æ•´è¡Œ Send &#123;Home&#125; Send +&#123;End&#125; Send ^c ClipWait, 0.3 if (clipboard != &quot;&quot;) &#123; cleaned := clipboard ; å»æ‰ &lt;font&gt; æ ‡ç­¾ cleaned := RegExReplace(cleaned, &quot;&lt;font[^&gt;]*&gt;&quot;, &quot;&quot;) cleaned := RegExReplace(cleaned, &quot;&lt;/font&gt;&quot;, &quot;&quot;) ; å»æ‰ Markdown ç²—ä½“ ** cleaned := RegExReplace(cleaned, &quot;\\*\\*&quot;, &quot;&quot;) clipboard := cleaned Send ^v Send &#123;End&#125; &#125;&#125; 4.2ã€æ‰§è¡Œæ–¹å¼æ–¹å¼1ï¼š åŒå‡»è¿è¡Œ MyHotkeyScript.ahkæ–‡ä»¶ï¼Œç„¶åå»Typora å°è¯•ä¸€ä¸‹å¿«æ·é”® é€‰æ‹©è¦è®¾ç½®é¢œè‰²çš„æ–‡å­—ï¼ŒæŒ‰Alt+1æ·»åŠ çº¢è‰²ï¼ŒæŒ‰Ctrl+wå–æ¶ˆæ ·å¼ï¼ æ–¹å¼2ï¼š å³é”® MyHotkeyScript.ahk è„šæœ¬æ–‡ä»¶ï¼Œç‚¹å‡»Compile Scriptç¼–è¯‘è„šæœ¬æˆexeç¨‹åºï¼Œå°±å¯ä»¥ä¸ç”¨ä¸‹è½½Autohotkeyåœ¨å…¶ä»–ç”µè„‘ä¸Šè¿è¡Œäº†; äº”ã€è®¾ç½®å¼€æœºè‡ªå¯åŠ¨è„šæœ¬åœ¨ç³»ç»Ÿå¯åŠ¨æ–‡ä»¶å¤¹C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Startupå†…ç²˜è´´ ç”Ÿæˆçš„autohotkey.exeæ–‡ä»¶","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://example.com/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"typora","slug":"typora","permalink":"http://example.com/tags/typora/"},{"name":"autoHotkey","slug":"autoHotkey","permalink":"http://example.com/tags/autoHotkey/"}]},{"title":"ä½¿ç”¨nginxéƒ¨ç½²vueé¡¹ç›®","slug":"00-ä½¿ç”¨nginxéƒ¨ç½²vueé¡¹ç›®","date":"2025-02-17T23:03:54.000Z","updated":"2026-03-01T16:07:38.350Z","comments":true,"path":"posts/11a62a27.html","permalink":"http://example.com/posts/11a62a27.html","excerpt":"","text":"ä½¿ç”¨Vueåšå‰åç«¯åˆ†ç¦»é¡¹ç›®æ—¶ï¼Œé€šå¸¸å‰ç«¯æ˜¯å•ç‹¬éƒ¨ç½²ï¼Œç”¨æˆ·è®¿é—®çš„ä¹Ÿæ˜¯å‰ç«¯é¡¹ç›®åœ°å€ï¼Œå› æ­¤å‰ç«¯å¼€å‘äººå‘˜å¾ˆæœ‰å¿…è¦ç†Ÿæ‚‰ä¸€ä¸‹é¡¹ç›®éƒ¨ç½²çš„æµç¨‹ä¸å„ç±»é—®é¢˜çš„è§£å†³åŠæ³•äº†ã€‚ æœ¬æ–‡ä»‹ç»ä¸€ä¸‹ä½¿ç”¨nginxæœåŠ¡å™¨ä»£ç†å‰ç«¯é¡¹ç›®çš„æ–¹æ³•ä»¥åŠé¡¹ç›®éƒ¨ç½²çš„ç›¸å…³é—®é¢˜ ä¸€ã€å‡†å¤‡å·¥ä½œâ€”â€”æœåŠ¡å™¨å’Œnginxä½¿ç”¨1. å‡†å¤‡ä¸€å°æœåŠ¡å™¨**æœåŠ¡å™¨ï¼š**è…¾è®¯äº‘æœåŠ¡å™¨ **æ“ä½œç³»ç»Ÿï¼š**CentOS &#x2F; 7.6 2.å®å¡”å¯è§†åŒ–é¢æ¿é…ç½®æœåŠ¡ç›¸å¯¹äºåç«¯ï¼Œå‰ç«¯å¯¹äºlinuxæ“ä½œè¿˜æ˜¯æ¯”è¾ƒé™Œç”Ÿçš„ï¼Œä½¿ç”¨å®å¡”å¯è§†åŒ–é¢æ¿ä½¿æ“ä½œæ›´åŠ ç®€å•ã€‚(æ€ä¹ˆç®€å•æ€ä¹ˆæ¥) **å®å¡”ï¼š**https://www.bt.cn/ 1)ã€é€‰æ‹©å®å¡”linuxé¢æ¿ 2)ã€linuxé¢æ¿å‘ä¸‹æ»šåŠ¨è‡³åœ¨çº¿ä¸€é”®å¿«é€Ÿå®‰è£…å®å¡” 3)ã€å®‰è£…æˆåŠŸ 4)ã€æ·»åŠ ç«™ç‚¹ äºŒã€hashæ¨¡å¼éƒ¨ç½²å‘å¸ƒï¼ˆåŒåŸŸåéƒ¨ç½²å¤šç¯å¢ƒé¡¹ç›®ï¼‰1ã€ æ‰“åŒ…æ–‡ä»¶åŒæ­¥åˆ°æœåŠ¡å™¨1ï¼‰é…ç½®æˆ‘ä»¬ä½¿ç”¨nginxéƒ¨ç½²Vueé¡¹ç›®ï¼Œå®è´¨ä¸Šå°±æ˜¯å°†Vueé¡¹ç›®æ‰“åŒ…åçš„å†…å®¹åŒæ­¥åˆ°nginxæŒ‡å‘çš„æ–‡ä»¶å¤¹ã€‚ä¹‹å‰çš„æ­¥éª¤ä»‹ç»äº†æ·»åŠ ç«™ç‚¹nginxæŒ‡å‘æˆ‘ä»¬åˆ›å»ºçš„æ–‡ä»¶å¤¹ï¼Œå‰©ä¸‹çš„é—®é¢˜å°±æ˜¯æ€ä¹ˆæŠŠæ‰“åŒ…å¥½çš„æ–‡ä»¶åŒæ­¥åˆ°æœåŠ¡å™¨ä¸ŠæŒ‡å®šçš„æ–‡ä»¶å¤¹é‡Œï¼Œæ¯”å¦‚åŒæ­¥åˆ°ä¹‹å‰æ­¥éª¤ä¸­åˆ›å»ºçš„&#x2F;www&#x2F;wwwroot&#x2F;test.shixna.cnã€‚ åŒæ­¥æ–‡ä»¶å¯ä»¥åœ¨git-bashæˆ–è€…powershellä½¿ç”¨scpæŒ‡ä»¤ï¼Œå¦‚æœæ˜¯linuxç¯å¢ƒå¼€å‘ï¼Œè¿˜å¯ä»¥ä½¿ç”¨rsyncæŒ‡ä»¤: 1234wondowç¯å¢ƒï¼š scp -r dist/* root@124.222.74.47:/www/wwwroot/test.shixna.cnç†è§£ï¼šdist/*æå–distä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶åˆ° æœåŠ¡å™¨124.222.74.47:/www/wwwroot/test.shixna.cnæ–‡ä»¶ä¸­å¦‚æœæƒ³è¦å°†distæå–åˆ°æœåŠ¡å™¨ä¸­åˆ™ä¸è¦diståé¢çš„&#x27;/*&#x27; 1linuxç¯å¢ƒï¼š rsync -avr --delete-after dist/*root@124.222.74.47:/www/wwwroot/test.shixna.cn æ³¨æ„è¿™é‡Œä»¥åŠåç»­æ­¥éª¤æ˜¯rootä½¿ç”¨ç”¨æˆ·è¿œç¨‹åŒæ­¥ï¼Œåº”è¯¥æ ¹æ®ä½ çš„å…·ä½“æƒ…å†µæ›¿æ¢rootå’Œip(ipæ¢ä¸ºä½ è‡ªå·±çš„æœåŠ¡å™¨IP)ã€‚ ä¸ºäº†æ–¹ä¾¿ï¼Œå¯ä»¥åœ¨package.jsonè„šæœ¬ä¸­åŠ ä¸€ä¸ªpushå‘½ä»¤ï¼Œä»¥ä½¿ç”¨npmä¸ºä¾‹ 1234&quot;scripts&quot;: &#123; &quot;build&quot;: &quot;vue-cli-service build --mode pro&quot;, &quot;push&quot;: &quot;npm run build &amp;&amp; scp -r dist/*root@124.222.74.47:/www/wwwroot/test.shixna.cn&quot;,&#125;, è¿™æ ·å°±å¯ä»¥ç›´æ¥æ‰§è¡Œyarn push æˆ–è€…npm run pushç›´æ¥å‘å¸ƒäº†ã€‚ä¸è¿‡è¿˜æœ‰ä¸€ä¸ªå°é—®é¢˜ï¼Œå°±æ˜¯å‘½ä»¤æ‰§è¡Œçš„æ—¶å€™è¦æ±‚è¾“å…¥è¿œç¨‹æœåŠ¡å™¨çš„rootå¯†ç ï¼ˆè¿™é‡Œä½¿ç”¨rootæ¥è¿æ¥è¿œç¨‹çš„ï¼Œä½ å¯ä»¥ç”¨åˆ«çš„ç”¨æˆ·ï¼Œæ¯•ç«Ÿrootç”¨æˆ·æƒé™å¤ªé«˜äº†ï¼‰ã€‚ ä¸ºäº†é¿å…æ¯æ¬¡æ‰§è¡Œéƒ½è¦è¾“å…¥rootå¯†ç ï¼Œæˆ‘ä»¬å¯ä»¥å°†æœ¬æœºçš„sshåŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨çš„authorized_keysæ–‡ä»¶ä¸­ã€‚ 2ï¼‰åŒæ­¥ssh keyaã€ç”Ÿæˆssh keyï¼šä½¿ç”¨git bashæˆ–è€…powershellæ‰§è¡Œssh-keygenå¯ä»¥ç”Ÿæˆssh keyã€‚ä¼šè¯¢é—®ç”Ÿæˆçš„keyå­˜æ”¾åœ°å€ï¼Œç›´æ¥å›è½¦å°±è¡Œï¼Œå¦‚æœå·²ç»å­˜åœ¨ï¼Œåˆ™ä¼šè¯¢é—®æ˜¯å¦è¦†ç›–ï¼š 1ssh-keygen ç”Ÿæˆä¸€ä¸ªå¯†é’¥å¯¹ bã€åŒæ­¥ssh keyåˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œä½¿ç”¨ssh-copy-idæŒ‡ä»¤åŒæ­¥ 1ssh-copy-id -i ~/.ssh/id_rsa.pub root@124.221.188.118 è¾“å…¥å¯†ç åï¼Œä¹‹åå†æ¬¡åŒæ­¥å°±ä¸éœ€è¦è¾“å…¥å¯†ç äº†ã€‚å…¶å®ssh_keyæ˜¯åŒæ­¥åˆ°äº†æœåŠ¡å™¨ï¼ˆæ­¤å¤„æ˜¯rootç”¨æˆ·ç›®å½•)~&#x2F;.ssh&#x2F;authorized_keysæ–‡ä»¶é‡Œ æ³¨æ„ï¼šè¾“å…¥ä»¥ä¸Šå‘½ä»¤å¯èƒ½ä¼šæŠ¥é”™ è¿™é‡Œå¯ä»¥æ‰‹åŠ¨å¤åˆ¶æœ¬åœ°C:\\Users\\ZHB.sshï¼ˆæ³¨æ„æ˜¯pubç»“å°¾çš„å…¬é’¥ï¼‰æ–‡ä»¶å†…å®¹è¿½åŠ åˆ°æœåŠ¡å™¨root&#x2F;.ssh&#x2F;authorized_keysé‡Œé¢å»ï¼ˆä»å‘½åå¯ä»¥çœ‹å‡ºè¯¥æ–‡ä»¶å¯ä»¥å­˜å‚¨å¤šä¸ªssh keyï¼‰ æœ¬åœ°id_rsa.pub æœåŠ¡å™¨authorized_keys æ³¨æ„ï¼šè¿™é‡Œå…¨ç¨‹ä½¿ç”¨çš„æ˜¯rootç”¨æˆ·ï¼Œæ‰€ä»¥æ²¡æœ‰æ–‡ä»¶æ“ä½œæƒé™é—®é¢˜ã€‚å¦‚æœä½ çš„æ–‡ä»¶å¤¹åˆ›å»ºç”¨æˆ·ä¸æ˜¯è¿œç¨‹ç™»å½•ç”¨æˆ·ï¼Œæˆ–è®¸ä¼šå­˜åœ¨åŒæ­¥æ–‡ä»¶å¤±è´¥çš„é—®é¢˜ï¼Œæ­¤æ—¶éœ€è¦è¿œç¨‹æœåŠ¡å™¨ä¿®æ”¹æ–‡ä»¶å¤¹çš„è¯»å†™æƒé™ åˆ›å»ºäº†ä¸€ä¸ªæµ‹è¯•é¡¹ç›®è¯•ä¸€ä¸‹ï¼Œæ‰“åŒ…ã€æ–‡ä»¶ä¸Šä¼ ä¸€å¥æŒ‡ä»¤æå®šå•¦ï¼š è®¿é—®ä¸€ä¸‹ï¼Œæœç„¶çœ‹åˆ°äº†æˆ‘ä»¬ç†Ÿæ‚‰çš„ç•Œé¢ï¼š 2ã€éƒ¨ç½²å¤šç¯å¢ƒé¡¹ç›®ï¼ˆsitç¯å¢ƒå’Œprodç¯å¢ƒï¼‰åœ¨åŒä¸€åŸŸåä¸‹éƒ¨ç½²sitç¯å¢ƒå’Œprodç¯å¢ƒçš„ä»£ç ã€‚ åœ¨æ–°å»ºç«™ç‚¹ä¸‹è®¾ç½® 1ï¼‰æ ¹ç›®å½• åœ¨åŸŸåæ ¹ç›®å½•ä¸‹éƒ¨ç½²prodç¯å¢ƒçš„ä»£ç ï¼šhttp://mi.shixna.cn/#/index vueé¡¹ç›®ä¸­base:â€™&#x2F;â€˜ å’Œ publicPath:â€™&#x2F;â€˜ ä¿æŒé»˜è®¤å€¼ é…ç½®nginx 2ï¼‰å­ç›®å½•åœ¨åŸŸåäºŒçº§ç›®å½•ä¸‹éƒ¨ç½²sitç¯å¢ƒä»£ç ï¼šhttp://mi.shixna.cn/sit/#/index vueé¡¹ç›®ä¸­base:â€™&#x2F;sit&#x2F;â€˜ å’Œ publicPath:â€™&#x2F;sit&#x2F;â€˜ å°½å¯èƒ½ä¸¤è€…ä¿æŒä¸€è‡´ é…ç½®nginx è¿™é‡Œçš„alisaå’Œrootçš„åŒºåˆ«ä»¥åŠlocation ^~ è§å†…å®¹å›› ä¸‰ã€historyæ¨¡å¼éƒ¨ç½²å‘å¸ƒï¼ˆåŒåŸŸåéƒ¨ç½²å¤šç¯å¢ƒé¡¹ç›®ï¼‰é»˜è®¤æƒ…å†µä¸‹ï¼ŒVueé¡¹ç›®ä½¿ç”¨çš„æ˜¯hashè·¯ç”±æ¨¡å¼ï¼Œå°±æ˜¯URLä¸­ä¼šåŒ…å«ä¸€ä¸ª#å·çš„è¿™ç§å½¢å¼ã€‚#å·ä»¥åŠä¹‹åçš„å†…å®¹æ˜¯è·¯ç”±åœ°å€çš„hashéƒ¨åˆ†ã€‚ æ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“æµè§ˆå™¨åœ°å€æ åœ°å€æ”¹å˜ï¼Œæµè§ˆå™¨ä¼šé‡æ–°åŠ è½½é¡µé¢ï¼Œè€Œå¦‚æœæ˜¯hashéƒ¨åˆ†ä¿®æ”¹çš„è¯ï¼Œåˆ™ä¸ä¼šï¼Œè¿™å°±æ˜¯å‰ç«¯è·¯ç”±çš„åŸç†ï¼Œå…è®¸æ ¹æ®ä¸åŒçš„è·¯ç”±é¡µé¢å±€éƒ¨æ›´æ–°è€Œä¸åˆ·æ–°æ•´ä¸ªé¡µé¢ã€‚ H5æ–°å¢äº†historyçš„pushStateæ¥å£ï¼Œä¹Ÿå…è®¸å‰ç«¯æ“ä½œæ”¹å˜è·¯ç”±åœ°å€ä½†æ˜¯ä¸è§¦å‘é¡µé¢åˆ·æ–°ï¼Œhistoryæ¨¡å¼å³åˆ©ç”¨è¿™ä¸€æ¥å£æ¥å®ç°ã€‚å› æ­¤ä½¿ç”¨historyæ¨¡å¼å¯ä»¥å»æ‰è·¯ç”±ä¸­çš„#å·ã€‚ 1ã€é¡¹ç›®é…ç½®åœ¨vue-routerè·¯ç”±é€‰é¡¹ä¸­é…ç½®modeé€‰é¡¹å’Œbaseé€‰é¡¹ï¼Œmodeé…ç½®ä¸ºâ€™historyâ€™ï¼›å¦‚æœéƒ¨ç½²åˆ°éåŸŸåæ ¹ç›®å½•ï¼Œè¿˜éœ€è¦é…ç½®baseé€‰é¡¹ä¸ºå‰æ–‡é…ç½®çš„publicPathå€¼ï¼ˆæ³¨æ„ï¼šæ­¤æƒ…å†µä¸‹ï¼ŒpublicPathå¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„&#x2F;test&#x2F;çš„é…ç½®å½¢å¼ï¼Œè€Œä¸èƒ½ç”¨ç›¸å¯¹è·¯å¾„.&#x2F;ï¼‰ vueé¡¹ç›®ä¸­mode:historyï¼Œbase:â€™&#x2F;sit&#x2F;â€˜ å’Œ publicPath:â€™&#x2F;sit&#x2F;â€˜ å°½å¯èƒ½ä¸¤è€…ä¿æŒä¸€è‡´ 2ã€é…ç½®nginx 1try_files $uri $uri/ /sit/index.html; è¿™å¥é…ç½®çš„æ„æ€å°±æ˜¯ï¼Œæ‹¿åˆ°ä¸€ä¸ªåœ°å€ï¼Œå…ˆæ ¹æ®åœ°å€å°è¯•æ‰¾å¯¹åº”æ–‡ä»¶ï¼Œæ‰¾ä¸åˆ°å†è¯•æ¢åœ°å€å¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œå†æ‰¾ä¸åˆ°å°±è¿”å›&#x2F;sit&#x2F;index.htmlã€‚ å››ã€nginxçŸ¥è¯†1ã€nginxé…ç½®æ–‡ä»¶ä¸­rootå’Œalias123location /img/ &#123; alias /var/www/image/;&#125; è‹¥æŒ‰ç…§ä¸Šè¿°é…ç½®çš„è¯ï¼Œåˆ™è®¿é—®&#x2F;img&#x2F;ç›®å½•é‡Œé¢çš„æ–‡ä»¶æ—¶ï¼Œningxä¼šè‡ªåŠ¨å»&#x2F;var&#x2F;www&#x2F;image&#x2F;ç›®å½•æ‰¾æ–‡ä»¶ 123location /img/ &#123; root /var/www/image;&#125; è‹¥æŒ‰ç…§è¿™ç§é…ç½®çš„è¯ï¼Œåˆ™è®¿é—®&#x2F;img&#x2F;ç›®å½•ä¸‹çš„æ–‡ä»¶æ—¶ï¼Œnginxä¼šå»&#x2F;var&#x2F;www&#x2F;image&#x2F;img&#x2F;ç›®å½•ä¸‹æ‰¾æ–‡ä»¶ aliasæ˜¯ä¸€ä¸ªç›®å½•åˆ«åçš„å®šä¹‰ï¼Œrootåˆ™æ˜¯æœ€ä¸Šå±‚ç›®å½•çš„å®šä¹‰ã€‚ è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„åŒºåˆ«æ˜¯aliasåé¢å¿…é¡»è¦ç”¨â€œ&#x2F;â€ç»“æŸï¼Œå¦åˆ™ä¼šæ‰¾ä¸åˆ°æ–‡ä»¶çš„ã€‚ã€‚ã€‚è€Œrootåˆ™å¯æœ‰å¯æ— ~~ 2ã€nginx locationé…ç½®123456789101112131415Nginxçš„HTTPé…ç½®ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªåŒºå—ï¼Œç»“æ„å¦‚ä¸‹ï¼šhttp &#123; //è¿™ä¸ªæ˜¯åè®®çº§åˆ« include mime.types; default_type application/octet-stream; keepalive_timeout 65; gzip on; server &#123; //è¿™ä¸ªæ˜¯æœåŠ¡å™¨çº§åˆ« listen 80; server_name localhost; location / &#123; //è¿™ä¸ªæ˜¯è¯·æ±‚çº§åˆ« root html; index index.html index.htm; &#125; &#125;&#125; locatinåŒºæ®µé€šè¿‡æŒ‡å®šæ¨¡å¼æ¥ä¸å®¢æˆ·ç«¯è¯·æ±‚çš„URIç›¸åŒ¹é…ï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼šlocation [&#x3D;||*|^~|@] pattern{â€¦â€¦} 1ã€æ²¡æœ‰ä¿®é¥°ç¬¦ è¡¨ç¤ºï¼šå¿…é¡»ä»¥æŒ‡å®šæ¨¡å¼å¼€å§‹ï¼Œå¦‚ï¼š 123456789101112server &#123; server_name baidu.com; location /abc &#123; â€¦â€¦ &#125;&#125;é‚£ä¹ˆï¼Œå¦‚ä¸‹æ˜¯å¯¹çš„ï¼šhttp://baidu.com/abchttp://baidu.com/abc?p1http://baidu.com/abc/http://baidu.com/abcde 2ã€&#x3D;è¡¨ç¤ºï¼šå¿…é¡»ä¸æŒ‡å®šçš„æ¨¡å¼ç²¾ç¡®åŒ¹é… 123456789101112server &#123;server_name sish location = /abc &#123; â€¦â€¦ &#125;&#125;é‚£ä¹ˆï¼Œå¦‚ä¸‹æ˜¯å¯¹çš„ï¼šhttp://baidu.com/abchttp://baidu.com/abc?p1å¦‚ä¸‹æ˜¯é”™çš„ï¼šhttp://baidu.com/abc/http://baidu.com/abcde 3ã€~ è¡¨ç¤ºï¼šæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼è¦åŒºåˆ†å¤§å°å†™ 12345678910111213server &#123;server_name baidu.com; location ~ ^/abc$ &#123; â€¦â€¦ &#125;&#125;é‚£ä¹ˆï¼Œå¦‚ä¸‹æ˜¯å¯¹çš„ï¼šhttp://baidu.com/abchttp://baidu.com/abc?p1=11&amp;p2=22å¦‚ä¸‹æ˜¯é”™çš„ï¼šhttp://baidu.com/ABChttp://baidu.com/abc/http://baidu.com/abcde 4ã€~ è¡¨ç¤ºï¼šæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼ä¸åŒºåˆ†å¤§å°å†™* 12345678910111213server &#123;server_name baidu.com;location ~* ^/abc$ &#123; â€¦â€¦ &#125;&#125;é‚£ä¹ˆï¼Œå¦‚ä¸‹æ˜¯å¯¹çš„ï¼šhttp://baidu.com/abchttp://baidu..com/ABChttp://baidu..com/abc?p1=11&amp;p2=22å¦‚ä¸‹æ˜¯é”™çš„ï¼šhttp://baidu..com/abc/http://baidu..com/abcde 5ã€^~ ç±»ä¼¼äºæ— ä¿®é¥°ç¬¦çš„è¡Œä¸ºï¼Œä¹Ÿæ˜¯ä»¥æŒ‡å®šæ¨¡å¼å¼€å§‹ï¼Œä¸åŒçš„æ˜¯ï¼Œå¦‚æœæ¨¡å¼åŒ¹é…ï¼Œé‚£ä¹ˆå°±åœæ­¢æœç´¢å…¶ä»–æ¨¡å¼äº†ã€‚ 6ã€@ ï¼šå®šä¹‰å‘½ålocationåŒºæ®µï¼Œè¿™äº›åŒºæ®µå®¢æˆ·æ®µä¸èƒ½è®¿é—®ï¼Œåªå¯ä»¥ç”±å†…éƒ¨äº§ç”Ÿçš„è¯·æ±‚æ¥è®¿é—®ï¼Œå¦‚try_filesæˆ–error_pageç­‰ æŸ¥æ‰¾é¡ºåºå’Œä¼˜å…ˆçº§1ï¼šå¸¦æœ‰â€œ&#x3D;â€œçš„ç²¾ç¡®åŒ¹é…ä¼˜å…ˆ2ï¼šæ²¡æœ‰ä¿®é¥°ç¬¦çš„ç²¾ç¡®åŒ¹é…3ï¼šæ­£åˆ™è¡¨è¾¾å¼æŒ‰ç…§ä»–ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„é¡ºåº4ï¼šå¸¦æœ‰â€œ^â€ä¿®é¥°ç¬¦çš„ï¼Œå¼€å¤´åŒ¹é…5ï¼šå¸¦æœ‰â€œâ€ æˆ–â€œ~*â€ ä¿®é¥°ç¬¦çš„ï¼Œå¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸URIåŒ¹é…6ï¼šæ²¡æœ‰ä¿®é¥°ç¬¦çš„ï¼Œå¦‚æœæŒ‡å®šå­—ç¬¦ä¸²ä¸URIå¼€å¤´åŒ¹é… 12345678910111213141516171819202122LocationåŒºæ®µåŒ¹é…ç¤ºä¾‹location = / &#123; # åªåŒ¹é… / çš„æŸ¥è¯¢. [ configuration A ]&#125;location / &#123; # åŒ¹é…ä»»ä½•ä»¥ / å¼€å§‹çš„æŸ¥è¯¢ï¼Œä½†æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸ä¸€äº›è¾ƒé•¿çš„å­—ç¬¦ä¸²å°†è¢«é¦–å…ˆåŒ¹é…ã€‚ [ configuration B ]&#125;location ^~ /images/ &#123; # åŒ¹é…ä»»ä½•ä»¥ /images/ å¼€å§‹çš„æŸ¥è¯¢å¹¶ä¸”åœæ­¢æœç´¢ï¼Œä¸æ£€æŸ¥æ­£åˆ™è¡¨è¾¾å¼ã€‚ [ configuration C ]&#125;location ~* \\.(gif|jpg|jpeg)$ &#123; # åŒ¹é…ä»»ä½•ä»¥gif, jpg, or jpegç»“å°¾çš„æ–‡ä»¶ï¼Œä½†æ˜¯æ‰€æœ‰ /images/ ç›®å½•çš„è¯·æ±‚å°†åœ¨Configuration Cä¸­å¤„ ç†ã€‚ [ configuration D ]&#125; å„è¯·æ±‚çš„å¤„ç†å¦‚ä¸‹ä¾‹ï¼šâ– / â†’ configuration Aâ– /documents/document.html â†’ configuration Bâ– /images/1.gif â†’ configuration Câ– /documents/1.jpg â†’ configuration D","categories":[{"name":"åç«¯ä¸è¿ç»´","slug":"åç«¯ä¸è¿ç»´","permalink":"http://example.com/categories/%E5%90%8E%E7%AB%AF%E4%B8%8E%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"vu2","slug":"vu2","permalink":"http://example.com/tags/vu2/"},{"name":"éƒ¨ç½²","slug":"éƒ¨ç½²","permalink":"http://example.com/tags/%E9%83%A8%E7%BD%B2/"}]}],"categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"http://example.com/categories/%E5%85%B6%E4%BB%96/"},{"name":"å·¥ç¨‹åŒ–ä¸è´¨é‡","slug":"å·¥ç¨‹åŒ–ä¸è´¨é‡","permalink":"http://example.com/categories/%E5%B7%A5%E7%A8%8B%E5%8C%96%E4%B8%8E%E8%B4%A8%E9%87%8F/"},{"name":"æ¡†æ¶ä¸ç”Ÿæ€","slug":"æ¡†æ¶ä¸ç”Ÿæ€","permalink":"http://example.com/categories/%E6%A1%86%E6%9E%B6%E4%B8%8E%E7%94%9F%E6%80%81/"},{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"http://example.com/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"},{"name":"åç«¯ä¸è¿ç»´","slug":"åç«¯ä¸è¿ç»´","permalink":"http://example.com/categories/%E5%90%8E%E7%AB%AF%E4%B8%8E%E8%BF%90%E7%BB%B4/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://example.com/categories/%E5%B7%A5%E5%85%B7/"},{"name":"å‰ç«¯å¼€å‘","slug":"å‰ç«¯å¼€å‘","permalink":"http://example.com/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"},{"name":"HTML/CSS/JS","slug":"HTML-CSS-JS","permalink":"http://example.com/categories/HTML-CSS-JS/"},{"name":"æ€§èƒ½ä¸ä½“éªŒ","slug":"æ€§èƒ½ä¸ä½“éªŒ","permalink":"http://example.com/categories/%E6%80%A7%E8%83%BD%E4%B8%8E%E4%BD%93%E9%AA%8C/"},{"name":"å‰ç«¯ä¸åç«¯é€šä¿¡","slug":"å‰ç«¯ä¸åç«¯é€šä¿¡","permalink":"http://example.com/categories/%E5%89%8D%E7%AB%AF%E4%B8%8E%E5%90%8E%E7%AB%AF%E9%80%9A%E4%BF%A1/"}],"tags":[{"name":"css","slug":"css","permalink":"http://example.com/tags/css/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://example.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"javaScript","slug":"javaScript","permalink":"http://example.com/tags/javaScript/"},{"name":"vue","slug":"vue","permalink":"http://example.com/tags/vue/"},{"name":"vue3","slug":"vue3","permalink":"http://example.com/tags/vue3/"},{"name":"html","slug":"html","permalink":"http://example.com/tags/html/"},{"name":"Webpack","slug":"Webpack","permalink":"http://example.com/tags/Webpack/"},{"name":"Sentry","slug":"Sentry","permalink":"http://example.com/tags/Sentry/"},{"name":"SourceMap","slug":"SourceMap","permalink":"http://example.com/tags/SourceMap/"},{"name":"javascript","slug":"javascript","permalink":"http://example.com/tags/javascript/"},{"name":"babel7","slug":"babel7","permalink":"http://example.com/tags/babel7/"},{"name":"compiler","slug":"compiler","permalink":"http://example.com/tags/compiler/"},{"name":"webpack","slug":"webpack","permalink":"http://example.com/tags/webpack/"},{"name":"modules","slug":"modules","permalink":"http://example.com/tags/modules/"},{"name":"Windows","slug":"Windows","permalink":"http://example.com/tags/Windows/"},{"name":"WSL2","slug":"WSL2","permalink":"http://example.com/tags/WSL2/"},{"name":"Linux","slug":"Linux","permalink":"http://example.com/tags/Linux/"},{"name":"è™šæ‹Ÿæœº","slug":"è™šæ‹Ÿæœº","permalink":"http://example.com/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/"},{"name":"Hyper-V","slug":"Hyper-V","permalink":"http://example.com/tags/Hyper-V/"},{"name":"AI","slug":"AI","permalink":"http://example.com/tags/AI/"},{"name":"Claude","slug":"Claude","permalink":"http://example.com/tags/Claude/"},{"name":"Git","slug":"Git","permalink":"http://example.com/tags/Git/"},{"name":"SSH","slug":"SSH","permalink":"http://example.com/tags/SSH/"},{"name":"ç‰ˆæœ¬æ§åˆ¶","slug":"ç‰ˆæœ¬æ§åˆ¶","permalink":"http://example.com/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/"},{"name":"React","slug":"React","permalink":"http://example.com/tags/React/"},{"name":"MobX","slug":"MobX","permalink":"http://example.com/tags/MobX/"},{"name":"State Management","slug":"State-Management","permalink":"http://example.com/tags/State-Management/"},{"name":"Redux","slug":"Redux","permalink":"http://example.com/tags/Redux/"},{"name":"RTK","slug":"RTK","permalink":"http://example.com/tags/RTK/"},{"name":"React Router","slug":"React-Router","permalink":"http://example.com/tags/React-Router/"},{"name":"react18","slug":"react18","permalink":"http://example.com/tags/react18/"},{"name":"react19","slug":"react19","permalink":"http://example.com/tags/react19/"},{"name":"React18","slug":"React18","permalink":"http://example.com/tags/React18/"},{"name":"ç±»ç»„ä»¶","slug":"ç±»ç»„ä»¶","permalink":"http://example.com/tags/%E7%B1%BB%E7%BB%84%E4%BB%B6/"},{"name":"Cursor","slug":"Cursor","permalink":"http://example.com/tags/Cursor/"},{"name":"Uniapp","slug":"Uniapp","permalink":"http://example.com/tags/Uniapp/"},{"name":"å¤šç«¯å¼€å‘","slug":"å¤šç«¯å¼€å‘","permalink":"http://example.com/tags/%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91/"},{"name":"CentOS 8","slug":"CentOS-8","permalink":"http://example.com/tags/CentOS-8/"},{"name":"VMware17","slug":"VMware17","permalink":"http://example.com/tags/VMware17/"},{"name":"hexo","slug":"hexo","permalink":"http://example.com/tags/hexo/"},{"name":"unocss","slug":"unocss","permalink":"http://example.com/tags/unocss/"},{"name":"element-Plus","slug":"element-Plus","permalink":"http://example.com/tags/element-Plus/"},{"name":"typeScript","slug":"typeScript","permalink":"http://example.com/tags/typeScript/"},{"name":"nginx","slug":"nginx","permalink":"http://example.com/tags/nginx/"},{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"http://example.com/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"},{"name":"viewport","slug":"viewport","permalink":"http://example.com/tags/viewport/"},{"name":"Event Loop","slug":"Event-Loop","permalink":"http://example.com/tags/Event-Loop/"},{"name":"vue2","slug":"vue2","permalink":"http://example.com/tags/vue2/"},{"name":"vueX","slug":"vueX","permalink":"http://example.com/tags/vueX/"},{"name":"npm","slug":"npm","permalink":"http://example.com/tags/npm/"},{"name":"é˜¿é‡Œå­—ä½“å›¾æ ‡","slug":"é˜¿é‡Œå­—ä½“å›¾æ ‡","permalink":"http://example.com/tags/%E9%98%BF%E9%87%8C%E5%AD%97%E4%BD%93%E5%9B%BE%E6%A0%87/"},{"name":"vue-router","slug":"vue-router","permalink":"http://example.com/tags/vue-router/"},{"name":"picGo","slug":"picGo","permalink":"http://example.com/tags/picGo/"},{"name":"Typora","slug":"Typora","permalink":"http://example.com/tags/Typora/"},{"name":"å¯¹è±¡å­˜å‚¨","slug":"å¯¹è±¡å­˜å‚¨","permalink":"http://example.com/tags/%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8/"},{"name":"axios","slug":"axios","permalink":"http://example.com/tags/axios/"},{"name":"http-server","slug":"http-server","permalink":"http://example.com/tags/http-server/"},{"name":"anywhere","slug":"anywhere","permalink":"http://example.com/tags/anywhere/"},{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"http://example.com/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"name":"Easy-Mock","slug":"Easy-Mock","permalink":"http://example.com/tags/Easy-Mock/"},{"name":"node","slug":"node","permalink":"http://example.com/tags/node/"},{"name":"nvm","slug":"nvm","permalink":"http://example.com/tags/nvm/"},{"name":"typora","slug":"typora","permalink":"http://example.com/tags/typora/"},{"name":"autoHotkey","slug":"autoHotkey","permalink":"http://example.com/tags/autoHotkey/"},{"name":"vu2","slug":"vu2","permalink":"http://example.com/tags/vu2/"},{"name":"éƒ¨ç½²","slug":"éƒ¨ç½²","permalink":"http://example.com/tags/%E9%83%A8%E7%BD%B2/"}]}